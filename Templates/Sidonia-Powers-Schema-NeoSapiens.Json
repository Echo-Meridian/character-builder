{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "NeoSapien Powers",
  "description": "A schema for defining powers for the NeoSapien lineage in the Sidonia game.",
  "type": "object",
  "required": [
    "lineage",
    "powers"
  ],
  "properties": {
    "lineage": {
      "description": "The character lineage, which should be 'neosapien'.",
      "type": "string",
      "const": "neosapien"
    },
    "powers": {
      "description": "An array of all available powers for the lineage.",
      "type": "array",
      "items": {
        "type": "object",
        "required": [
          "type",
          "id",
          "name",
          "category",
          "grades"
        ],
        "properties": {
          "type": {
            "description": "The type of ability, e.g., 'augment'.",
            "type": "string"
          },
          "id": {
            "description": "A unique, URL-friendly identifier for the power.",
            "type": "string"
          },
          "name": {
            "description": "The display name of the power.",
            "type": "string"
          },
          "category": {
            "description": "The category the power belongs to (e.g., Physical Mods, Mental Mods).",
            "type": "string"
          },
          "grades": {
            "description": "An object containing the different tiers (grades) of the power.",
            "type": "object",
            "required": [
              "street",
              "corporate",
              "military"
            ],
            "properties": {
              "street": {
                "$ref": "#/definitions/powerGrade"
              },
              "corporate": {
                "$ref": "#/definitions/powerGrade"
              },
              "military": {
                "$ref": "#/definitions/powerGrade"
              }
            }
          }
        }
      }
    }
  },
  "definitions": {
    "powerGrade": {
      "type": "object",
      "required": [
        "id",
        "name",
        "tier",
        "slots",
        "permanentCorruption",
        "description"
      ],
      "properties": {
        "id": {
          "description": "A unique, URL-friendly identifier for the specific grade.",
          "type": "string"
        },
        "name": {
          "description": "The display name of the power's grade.",
          "type": "string"
        },
        "tier": {
          "description": "The tier of the power grade (1, 2, or 3).",
          "type": "integer",
          "enum": [
            1,
            2,
            3
          ]
        },
        "slots": {
          "description": "The number of slots the power grade occupies, corresponding to its tier.",
          "type": "integer",
          "enum": [
            1,
            2,
            3
          ]
        },
        "permanentCorruption": {
          "description": "The amount of permanent corruption incurred, corresponding to its tier.",
          "type": "integer",
          "enum": [
            1,
            2,
            3
          ]
        },
        "description": {
          "description": "An object containing descriptive text for the power grade.",
          "type": "object",
          "required": [
            "short",
            "player"
          ],
          "properties": {
            "short": {
              "description": "A brief summary of the power's mechanical effect.",
              "type": "string"
            },
            "player": {
              "description": "Flavor text and description from the player's perspective.",
              "type": "string"
            },
            "flaw": {
              "description": "The mechanical drawback or flaw of the power, most common in street grade.",
              "type": "string"
            },
            "gm": {
              "description": "Hidden information or context for the Game Master.",
              "type": "string"
            }
          }
        }
      }
    }
  }
}

