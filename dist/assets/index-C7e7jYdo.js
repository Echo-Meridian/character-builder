var lp=Object.defineProperty;var op=(e,t,n)=>t in e?lp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ki=(e,t,n)=>op(e,typeof t!="symbol"?t+"":t,n);function ap(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function xc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jc={exports:{}},ti={},wc={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gr=Symbol.for("react.element"),cp=Symbol.for("react.portal"),up=Symbol.for("react.fragment"),dp=Symbol.for("react.strict_mode"),pp=Symbol.for("react.profiler"),fp=Symbol.for("react.provider"),hp=Symbol.for("react.context"),mp=Symbol.for("react.forward_ref"),gp=Symbol.for("react.suspense"),vp=Symbol.for("react.memo"),yp=Symbol.for("react.lazy"),Yo=Symbol.iterator;function xp(e){return e===null||typeof e!="object"?null:(e=Yo&&e[Yo]||e["@@iterator"],typeof e=="function"?e:null)}var kc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sc=Object.assign,Nc={};function Xn(e,t,n){this.props=e,this.context=t,this.refs=Nc,this.updater=n||kc}Xn.prototype.isReactComponent={};Xn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Xn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cc(){}Cc.prototype=Xn.prototype;function Kl(e,t,n){this.props=e,this.context=t,this.refs=Nc,this.updater=n||kc}var Jl=Kl.prototype=new Cc;Jl.constructor=Kl;Sc(Jl,Xn.prototype);Jl.isPureReactComponent=!0;var Ko=Array.isArray,_c=Object.prototype.hasOwnProperty,Xl={current:null},Ec={key:!0,ref:!0,__self:!0,__source:!0};function Pc(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)_c.call(t,r)&&!Ec.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Gr,type:e,key:i,ref:o,props:s,_owner:Xl.current}}function jp(e,t){return{$$typeof:Gr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Gr}function wp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Jo=/\/+/g;function Si(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wp(""+e.key):t.toString(36)}function ms(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Gr:case cp:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Si(o,0):r,Ko(s)?(n="",e!=null&&(n=e.replace(Jo,"$&/")+"/"),ms(s,t,n,"",function(d){return d})):s!=null&&(Zl(s)&&(s=jp(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Jo,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ko(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+Si(i,a);o+=ms(i,t,n,c,s)}else if(c=xp(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+Si(i,a++),o+=ms(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Xr(e,t,n){if(e==null)return e;var r=[],s=0;return ms(e,r,"","",function(i){return t.call(n,i,s++)}),r}function kp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var De={current:null},gs={transition:null},Sp={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:gs,ReactCurrentOwner:Xl};function Rc(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Xr,forEach:function(e,t,n){Xr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xr(e,function(){t++}),t},toArray:function(e){return Xr(e,function(t){return t})||[]},only:function(e){if(!Zl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=Xn;ee.Fragment=up;ee.Profiler=pp;ee.PureComponent=Kl;ee.StrictMode=dp;ee.Suspense=gp;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sp;ee.act=Rc;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Sc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Xl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)_c.call(t,c)&&!Ec.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Gr,type:e.type,key:s,ref:i,props:r,_owner:o}};ee.createContext=function(e){return e={$$typeof:hp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:fp,_context:e},e.Consumer=e};ee.createElement=Pc;ee.createFactory=function(e){var t=Pc.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:mp,render:e}};ee.isValidElement=Zl;ee.lazy=function(e){return{$$typeof:yp,_payload:{_status:-1,_result:e},_init:kp}};ee.memo=function(e,t){return{$$typeof:vp,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=gs.transition;gs.transition={};try{e()}finally{gs.transition=t}};ee.unstable_act=Rc;ee.useCallback=function(e,t){return De.current.useCallback(e,t)};ee.useContext=function(e){return De.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return De.current.useDeferredValue(e)};ee.useEffect=function(e,t){return De.current.useEffect(e,t)};ee.useId=function(){return De.current.useId()};ee.useImperativeHandle=function(e,t,n){return De.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return De.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return De.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return De.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return De.current.useReducer(e,t,n)};ee.useRef=function(e){return De.current.useRef(e)};ee.useState=function(e){return De.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return De.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return De.current.useTransition()};ee.version="18.3.1";wc.exports=ee;var z=wc.exports;const eo=xc(z),Np=ap({__proto__:null,default:eo},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp=z,_p=Symbol.for("react.element"),Ep=Symbol.for("react.fragment"),Pp=Object.prototype.hasOwnProperty,Rp=Cp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,zp={key:!0,ref:!0,__self:!0,__source:!0};function zc(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Pp.call(t,r)&&!zp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:_p,type:e,key:i,ref:o,props:s,_owner:Rp.current}}ti.Fragment=Ep;ti.jsx=zc;ti.jsxs=zc;jc.exports=ti;var l=jc.exports,Zi={},Ac={exports:{}},Je={},Lc={exports:{}},Tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,$){var L=T.length;T.push($);e:for(;0<L;){var b=L-1>>>1,H=T[b];if(0<s(H,$))T[b]=$,T[L]=H,L=b;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var $=T[0],L=T.pop();if(L!==$){T[0]=L;e:for(var b=0,H=T.length,q=H>>>1;b<q;){var V=2*(b+1)-1,se=T[V],D=V+1,ie=T[D];if(0>s(se,L))D<H&&0>s(ie,se)?(T[b]=ie,T[D]=L,b=D):(T[b]=se,T[V]=L,b=V);else if(D<H&&0>s(ie,L))T[b]=ie,T[D]=L,b=D;else break e}}return $}function s(T,$){var L=T.sortIndex-$.sortIndex;return L!==0?L:T.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],d=[],p=1,g=null,h=3,v=!1,w=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(T){for(var $=n(d);$!==null;){if($.callback===null)r(d);else if($.startTime<=T)r(d),$.sortIndex=$.expirationTime,t(c,$);else break;$=n(d)}}function x(T){if(y=!1,f(T),!w)if(n(c)!==null)w=!0,F(j);else{var $=n(d);$!==null&&J(x,$.startTime-T)}}function j(T,$){w=!1,y&&(y=!1,m(E),E=-1),v=!0;var L=h;try{for(f($),g=n(c);g!==null&&(!(g.expirationTime>$)||T&&!M());){var b=g.callback;if(typeof b=="function"){g.callback=null,h=g.priorityLevel;var H=b(g.expirationTime<=$);$=e.unstable_now(),typeof H=="function"?g.callback=H:g===n(c)&&r(c),f($)}else r(c);g=n(c)}if(g!==null)var q=!0;else{var V=n(d);V!==null&&J(x,V.startTime-$),q=!1}return q}finally{g=null,h=L,v=!1}}var R=!1,N=null,E=-1,C=5,S=-1;function M(){return!(e.unstable_now()-S<C)}function B(){if(N!==null){var T=e.unstable_now();S=T;var $=!0;try{$=N(!0,T)}finally{$?W():(R=!1,N=null)}}else R=!1}var W;if(typeof u=="function")W=function(){u(B)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,K=Q.port2;Q.port1.onmessage=B,W=function(){K.postMessage(null)}}else W=function(){k(B,0)};function F(T){N=T,R||(R=!0,W())}function J(T,$){E=k(function(){T(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,F(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var $=3;break;default:$=h}var L=h;h=$;try{return T()}finally{h=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,$){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var L=h;h=T;try{return $()}finally{h=L}},e.unstable_scheduleCallback=function(T,$,L){var b=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?b+L:b):L=b,T){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=L+H,T={id:p++,callback:$,priorityLevel:T,startTime:L,expirationTime:H,sortIndex:-1},L>b?(T.sortIndex=L,t(d,T),n(c)===null&&T===n(d)&&(y?(m(E),E=-1):y=!0,J(x,L-b))):(T.sortIndex=H,t(c,T),w||v||(w=!0,F(j))),T},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(T){var $=h;return function(){var L=h;h=$;try{return T.apply(this,arguments)}finally{h=L}}}})(Tc);Lc.exports=Tc;var Ap=Lc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp=z,Ke=Ap;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bc=new Set,Cr={};function jn(e,t){Fn(e,t),Fn(e+"Capture",t)}function Fn(e,t){for(Cr[e]=t,e=0;e<t.length;e++)bc.add(t[e])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),el=Object.prototype.hasOwnProperty,Tp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xo={},Zo={};function bp(e){return el.call(Zo,e)?!0:el.call(Xo,e)?!1:Tp.test(e)?Zo[e]=!0:(Xo[e]=!0,!1)}function Mp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $p(e,t,n,r){if(t===null||typeof t>"u"||Mp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var ze={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ze[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ze[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ze[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ze[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ze[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ze[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ze[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ze[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ze[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var to=/[\-:]([a-z])/g;function no(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(to,no);ze[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(to,no);ze[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(to,no);ze[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ze[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});ze.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ze[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function ro(e,t,n,r){var s=ze.hasOwnProperty(t)?ze[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($p(t,n,s,r)&&(n=null),r||s===null?bp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lt=Lp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zr=Symbol.for("react.element"),Nn=Symbol.for("react.portal"),Cn=Symbol.for("react.fragment"),so=Symbol.for("react.strict_mode"),tl=Symbol.for("react.profiler"),Mc=Symbol.for("react.provider"),$c=Symbol.for("react.context"),io=Symbol.for("react.forward_ref"),nl=Symbol.for("react.suspense"),rl=Symbol.for("react.suspense_list"),lo=Symbol.for("react.memo"),It=Symbol.for("react.lazy"),Ic=Symbol.for("react.offscreen"),ea=Symbol.iterator;function sr(e){return e===null||typeof e!="object"?null:(e=ea&&e[ea]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Ni;function pr(e){if(Ni===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ni=t&&t[1]||""}return`
`+Ni+e}var Ci=!1;function _i(e,t){if(!e||Ci)return"";Ci=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{Ci=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?pr(e):""}function Ip(e){switch(e.tag){case 5:return pr(e.type);case 16:return pr("Lazy");case 13:return pr("Suspense");case 19:return pr("SuspenseList");case 0:case 2:case 15:return e=_i(e.type,!1),e;case 11:return e=_i(e.type.render,!1),e;case 1:return e=_i(e.type,!0),e;default:return""}}function sl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Cn:return"Fragment";case Nn:return"Portal";case tl:return"Profiler";case so:return"StrictMode";case nl:return"Suspense";case rl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case $c:return(e.displayName||"Context")+".Consumer";case Mc:return(e._context.displayName||"Context")+".Provider";case io:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lo:return t=e.displayName||null,t!==null?t:sl(e.type)||"Memo";case It:t=e._payload,e=e._init;try{return sl(e(t))}catch{}}return null}function Op(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sl(t);case 8:return t===so?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function en(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Dp(e){var t=Oc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function es(e){e._valueTracker||(e._valueTracker=Dp(e))}function Dc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Oc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function il(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ta(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=en(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bc(e,t){t=t.checked,t!=null&&ro(e,"checked",t,!1)}function ll(e,t){Bc(e,t);var n=en(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ol(e,t.type,n):t.hasOwnProperty("defaultValue")&&ol(e,t.type,en(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function na(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ol(e,t,n){(t!=="number"||Rs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fr=Array.isArray;function $n(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+en(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function al(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ra(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(fr(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:en(n)}}function Uc(e,t){var n=en(t.value),r=en(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ts,Wc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ts=ts||document.createElement("div"),ts.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ts.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function _r(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var gr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bp=["Webkit","ms","Moz","O"];Object.keys(gr).forEach(function(e){Bp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),gr[t]=gr[e]})});function Hc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||gr.hasOwnProperty(e)&&gr[e]?(""+t).trim():t+"px"}function Vc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Hc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Up=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(e,t){if(t){if(Up[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function dl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pl=null;function oo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fl=null,In=null,On=null;function ia(e){if(e=Yr(e)){if(typeof fl!="function")throw Error(A(280));var t=e.stateNode;t&&(t=li(t),fl(e.stateNode,e.type,t))}}function Gc(e){In?On?On.push(e):On=[e]:In=e}function Qc(){if(In){var e=In,t=On;if(On=In=null,ia(e),t)for(e=0;e<t.length;e++)ia(t[e])}}function qc(e,t){return e(t)}function Yc(){}var Ei=!1;function Kc(e,t,n){if(Ei)return e(t,n);Ei=!0;try{return qc(e,t,n)}finally{Ei=!1,(In!==null||On!==null)&&(Yc(),Qc())}}function Er(e,t){var n=e.stateNode;if(n===null)return null;var r=li(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var hl=!1;if(Pt)try{var ir={};Object.defineProperty(ir,"passive",{get:function(){hl=!0}}),window.addEventListener("test",ir,ir),window.removeEventListener("test",ir,ir)}catch{hl=!1}function Fp(e,t,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var vr=!1,zs=null,As=!1,ml=null,Wp={onError:function(e){vr=!0,zs=e}};function Hp(e,t,n,r,s,i,o,a,c){vr=!1,zs=null,Fp.apply(Wp,arguments)}function Vp(e,t,n,r,s,i,o,a,c){if(Hp.apply(this,arguments),vr){if(vr){var d=zs;vr=!1,zs=null}else throw Error(A(198));As||(As=!0,ml=d)}}function wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function la(e){if(wn(e)!==e)throw Error(A(188))}function Gp(e){var t=e.alternate;if(!t){if(t=wn(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return la(s),e;if(i===r)return la(s),t;i=i.sibling}throw Error(A(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function Xc(e){return e=Gp(e),e!==null?Zc(e):null}function Zc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zc(e);if(t!==null)return t;e=e.sibling}return null}var eu=Ke.unstable_scheduleCallback,oa=Ke.unstable_cancelCallback,Qp=Ke.unstable_shouldYield,qp=Ke.unstable_requestPaint,we=Ke.unstable_now,Yp=Ke.unstable_getCurrentPriorityLevel,ao=Ke.unstable_ImmediatePriority,tu=Ke.unstable_UserBlockingPriority,Ls=Ke.unstable_NormalPriority,Kp=Ke.unstable_LowPriority,nu=Ke.unstable_IdlePriority,ni=null,yt=null;function Jp(e){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(ni,e,void 0,(e.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:ef,Xp=Math.log,Zp=Math.LN2;function ef(e){return e>>>=0,e===0?32:31-(Xp(e)/Zp|0)|0}var ns=64,rs=4194304;function hr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ts(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=hr(a):(i&=o,i!==0&&(r=hr(i)))}else o=n&~s,o!==0?r=hr(o):i!==0&&(r=hr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ct(t),s=1<<n,r|=e[n],t&=~s;return r}function tf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ct(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=tf(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function gl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ru(){var e=ns;return ns<<=1,!(ns&4194240)&&(ns=64),e}function Pi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=n}function rf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ct(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function co(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ct(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var oe=0;function su(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var iu,uo,lu,ou,au,vl=!1,ss=[],Vt=null,Gt=null,Qt=null,Pr=new Map,Rr=new Map,Dt=[],sf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aa(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":Pr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(t.pointerId)}}function lr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Yr(t),t!==null&&uo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function lf(e,t,n,r,s){switch(t){case"focusin":return Vt=lr(Vt,e,t,n,r,s),!0;case"dragenter":return Gt=lr(Gt,e,t,n,r,s),!0;case"mouseover":return Qt=lr(Qt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pr.set(i,lr(Pr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Rr.set(i,lr(Rr.get(i)||null,e,t,n,r,s)),!0}return!1}function cu(e){var t=un(e.target);if(t!==null){var n=wn(t);if(n!==null){if(t=n.tag,t===13){if(t=Jc(n),t!==null){e.blockedOn=t,au(e.priority,function(){lu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pl=r,n.target.dispatchEvent(r),pl=null}else return t=Yr(n),t!==null&&uo(t),e.blockedOn=n,!1;t.shift()}return!0}function ca(e,t,n){vs(e)&&n.delete(t)}function of(){vl=!1,Vt!==null&&vs(Vt)&&(Vt=null),Gt!==null&&vs(Gt)&&(Gt=null),Qt!==null&&vs(Qt)&&(Qt=null),Pr.forEach(ca),Rr.forEach(ca)}function or(e,t){e.blockedOn===t&&(e.blockedOn=null,vl||(vl=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,of)))}function zr(e){function t(s){return or(s,e)}if(0<ss.length){or(ss[0],e);for(var n=1;n<ss.length;n++){var r=ss[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vt!==null&&or(Vt,e),Gt!==null&&or(Gt,e),Qt!==null&&or(Qt,e),Pr.forEach(t),Rr.forEach(t),n=0;n<Dt.length;n++)r=Dt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&(n=Dt[0],n.blockedOn===null);)cu(n),n.blockedOn===null&&Dt.shift()}var Dn=Lt.ReactCurrentBatchConfig,bs=!0;function af(e,t,n,r){var s=oe,i=Dn.transition;Dn.transition=null;try{oe=1,po(e,t,n,r)}finally{oe=s,Dn.transition=i}}function cf(e,t,n,r){var s=oe,i=Dn.transition;Dn.transition=null;try{oe=4,po(e,t,n,r)}finally{oe=s,Dn.transition=i}}function po(e,t,n,r){if(bs){var s=yl(e,t,n,r);if(s===null)Oi(e,t,r,Ms,n),aa(e,r);else if(lf(s,e,t,n,r))r.stopPropagation();else if(aa(e,r),t&4&&-1<sf.indexOf(e)){for(;s!==null;){var i=Yr(s);if(i!==null&&iu(i),i=yl(e,t,n,r),i===null&&Oi(e,t,r,Ms,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Oi(e,t,r,null,n)}}var Ms=null;function yl(e,t,n,r){if(Ms=null,e=oo(r),e=un(e),e!==null)if(t=wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ms=e,null}function uu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yp()){case ao:return 1;case tu:return 4;case Ls:case Kp:return 16;case nu:return 536870912;default:return 16}default:return 16}}var Ft=null,fo=null,ys=null;function du(){if(ys)return ys;var e,t=fo,n=t.length,r,s="value"in Ft?Ft.value:Ft.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ys=s.slice(e,1<r?1-r:void 0)}function xs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function is(){return!0}function ua(){return!1}function Xe(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?is:ua,this.isPropagationStopped=ua,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=is)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=is)},persist:function(){},isPersistent:is}),t}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=Xe(Zn),qr=ye({},Zn,{view:0,detail:0}),uf=Xe(qr),Ri,zi,ar,ri=ye({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ar&&(ar&&e.type==="mousemove"?(Ri=e.screenX-ar.screenX,zi=e.screenY-ar.screenY):zi=Ri=0,ar=e),Ri)},movementY:function(e){return"movementY"in e?e.movementY:zi}}),da=Xe(ri),df=ye({},ri,{dataTransfer:0}),pf=Xe(df),ff=ye({},qr,{relatedTarget:0}),Ai=Xe(ff),hf=ye({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),mf=Xe(hf),gf=ye({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vf=Xe(gf),yf=ye({},Zn,{data:0}),pa=Xe(yf),xf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wf[e])?!!t[e]:!1}function mo(){return kf}var Sf=ye({},qr,{key:function(e){if(e.key){var t=xf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?jf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(e){return e.type==="keypress"?xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nf=Xe(Sf),Cf=ye({},ri,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fa=Xe(Cf),_f=ye({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),Ef=Xe(_f),Pf=ye({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rf=Xe(Pf),zf=ye({},ri,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Af=Xe(zf),Lf=[9,13,27,32],go=Pt&&"CompositionEvent"in window,yr=null;Pt&&"documentMode"in document&&(yr=document.documentMode);var Tf=Pt&&"TextEvent"in window&&!yr,pu=Pt&&(!go||yr&&8<yr&&11>=yr),ha=" ",ma=!1;function fu(e,t){switch(e){case"keyup":return Lf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _n=!1;function bf(e,t){switch(e){case"compositionend":return hu(t);case"keypress":return t.which!==32?null:(ma=!0,ha);case"textInput":return e=t.data,e===ha&&ma?null:e;default:return null}}function Mf(e,t){if(_n)return e==="compositionend"||!go&&fu(e,t)?(e=du(),ys=fo=Ft=null,_n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pu&&t.locale!=="ko"?null:t.data;default:return null}}var $f={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ga(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$f[e.type]:t==="textarea"}function mu(e,t,n,r){Gc(r),t=$s(t,"onChange"),0<t.length&&(n=new ho("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xr=null,Ar=null;function If(e){_u(e,0)}function si(e){var t=Rn(e);if(Dc(t))return e}function Of(e,t){if(e==="change")return t}var gu=!1;if(Pt){var Li;if(Pt){var Ti="oninput"in document;if(!Ti){var va=document.createElement("div");va.setAttribute("oninput","return;"),Ti=typeof va.oninput=="function"}Li=Ti}else Li=!1;gu=Li&&(!document.documentMode||9<document.documentMode)}function ya(){xr&&(xr.detachEvent("onpropertychange",vu),Ar=xr=null)}function vu(e){if(e.propertyName==="value"&&si(Ar)){var t=[];mu(t,Ar,e,oo(e)),Kc(If,t)}}function Df(e,t,n){e==="focusin"?(ya(),xr=t,Ar=n,xr.attachEvent("onpropertychange",vu)):e==="focusout"&&ya()}function Bf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return si(Ar)}function Uf(e,t){if(e==="click")return si(t)}function Ff(e,t){if(e==="input"||e==="change")return si(t)}function Wf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dt=typeof Object.is=="function"?Object.is:Wf;function Lr(e,t){if(dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!el.call(t,s)||!dt(e[s],t[s]))return!1}return!0}function xa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ja(e,t){var n=xa(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xa(n)}}function yu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xu(){for(var e=window,t=Rs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Rs(e.document)}return t}function vo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hf(e){var t=xu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yu(n.ownerDocument.documentElement,n)){if(r!==null&&vo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ja(n,i);var o=ja(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Vf=Pt&&"documentMode"in document&&11>=document.documentMode,En=null,xl=null,jr=null,jl=!1;function wa(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jl||En==null||En!==Rs(r)||(r=En,"selectionStart"in r&&vo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jr&&Lr(jr,r)||(jr=r,r=$s(xl,"onSelect"),0<r.length&&(t=new ho("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=En)))}function ls(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pn={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionend:ls("Transition","TransitionEnd")},bi={},ju={};Pt&&(ju=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function ii(e){if(bi[e])return bi[e];if(!Pn[e])return e;var t=Pn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ju)return bi[e]=t[n];return e}var wu=ii("animationend"),ku=ii("animationiteration"),Su=ii("animationstart"),Nu=ii("transitionend"),Cu=new Map,ka="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(e,t){Cu.set(e,t),jn(t,[e])}for(var Mi=0;Mi<ka.length;Mi++){var $i=ka[Mi],Gf=$i.toLowerCase(),Qf=$i[0].toUpperCase()+$i.slice(1);nn(Gf,"on"+Qf)}nn(wu,"onAnimationEnd");nn(ku,"onAnimationIteration");nn(Su,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(Nu,"onTransitionEnd");Fn("onMouseEnter",["mouseout","mouseover"]);Fn("onMouseLeave",["mouseout","mouseover"]);Fn("onPointerEnter",["pointerout","pointerover"]);Fn("onPointerLeave",["pointerout","pointerover"]);jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qf=new Set("cancel close invalid load scroll toggle".split(" ").concat(mr));function Sa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Vp(r,t,void 0,e),e.currentTarget=null}function _u(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Sa(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Sa(s,a,d),i=c}}}if(As)throw e=ml,As=!1,ml=null,e}function ue(e,t){var n=t[Cl];n===void 0&&(n=t[Cl]=new Set);var r=e+"__bubble";n.has(r)||(Eu(t,e,2,!1),n.add(r))}function Ii(e,t,n){var r=0;t&&(r|=4),Eu(n,e,r,t)}var os="_reactListening"+Math.random().toString(36).slice(2);function Tr(e){if(!e[os]){e[os]=!0,bc.forEach(function(n){n!=="selectionchange"&&(qf.has(n)||Ii(n,!1,e),Ii(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[os]||(t[os]=!0,Ii("selectionchange",!1,t))}}function Eu(e,t,n,r){switch(uu(t)){case 1:var s=af;break;case 4:s=cf;break;default:s=po}n=s.bind(null,t,n,e),s=void 0,!hl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Oi(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=un(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Kc(function(){var d=i,p=oo(n),g=[];e:{var h=Cu.get(e);if(h!==void 0){var v=ho,w=e;switch(e){case"keypress":if(xs(n)===0)break e;case"keydown":case"keyup":v=Nf;break;case"focusin":w="focus",v=Ai;break;case"focusout":w="blur",v=Ai;break;case"beforeblur":case"afterblur":v=Ai;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=da;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=pf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Ef;break;case wu:case ku:case Su:v=mf;break;case Nu:v=Rf;break;case"scroll":v=uf;break;case"wheel":v=Af;break;case"copy":case"cut":case"paste":v=vf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=fa}var y=(t&4)!==0,k=!y&&e==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var u=d,f;u!==null;){f=u;var x=f.stateNode;if(f.tag===5&&x!==null&&(f=x,m!==null&&(x=Er(u,m),x!=null&&y.push(br(u,x,f)))),k)break;u=u.return}0<y.length&&(h=new v(h,w,null,n,p),g.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==pl&&(w=n.relatedTarget||n.fromElement)&&(un(w)||w[Rt]))break e;if((v||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=d,w=w?un(w):null,w!==null&&(k=wn(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=d),v!==w)){if(y=da,x="onMouseLeave",m="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(y=fa,x="onPointerLeave",m="onPointerEnter",u="pointer"),k=v==null?h:Rn(v),f=w==null?h:Rn(w),h=new y(x,u+"leave",v,n,p),h.target=k,h.relatedTarget=f,x=null,un(p)===d&&(y=new y(m,u+"enter",w,n,p),y.target=f,y.relatedTarget=k,x=y),k=x,v&&w)t:{for(y=v,m=w,u=0,f=y;f;f=kn(f))u++;for(f=0,x=m;x;x=kn(x))f++;for(;0<u-f;)y=kn(y),u--;for(;0<f-u;)m=kn(m),f--;for(;u--;){if(y===m||m!==null&&y===m.alternate)break t;y=kn(y),m=kn(m)}y=null}else y=null;v!==null&&Na(g,h,v,y,!1),w!==null&&k!==null&&Na(g,k,w,y,!0)}}e:{if(h=d?Rn(d):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var j=Of;else if(ga(h))if(gu)j=Ff;else{j=Bf;var R=Df}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=Uf);if(j&&(j=j(e,d))){mu(g,j,n,p);break e}R&&R(e,h,d),e==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&ol(h,"number",h.value)}switch(R=d?Rn(d):window,e){case"focusin":(ga(R)||R.contentEditable==="true")&&(En=R,xl=d,jr=null);break;case"focusout":jr=xl=En=null;break;case"mousedown":jl=!0;break;case"contextmenu":case"mouseup":case"dragend":jl=!1,wa(g,n,p);break;case"selectionchange":if(Vf)break;case"keydown":case"keyup":wa(g,n,p)}var N;if(go)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else _n?fu(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(pu&&n.locale!=="ko"&&(_n||E!=="onCompositionStart"?E==="onCompositionEnd"&&_n&&(N=du()):(Ft=p,fo="value"in Ft?Ft.value:Ft.textContent,_n=!0)),R=$s(d,E),0<R.length&&(E=new pa(E,e,null,n,p),g.push({event:E,listeners:R}),N?E.data=N:(N=hu(n),N!==null&&(E.data=N)))),(N=Tf?bf(e,n):Mf(e,n))&&(d=$s(d,"onBeforeInput"),0<d.length&&(p=new pa("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:d}),p.data=N))}_u(g,t)})}function br(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $s(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Er(e,n),i!=null&&r.unshift(br(e,i,s)),i=Er(e,t),i!=null&&r.push(br(e,i,s))),e=e.return}return r}function kn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Na(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=Er(n,i),c!=null&&o.unshift(br(n,c,a))):s||(c=Er(n,i),c!=null&&o.push(br(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Yf=/\r\n?/g,Kf=/\u0000|\uFFFD/g;function Ca(e){return(typeof e=="string"?e:""+e).replace(Yf,`
`).replace(Kf,"")}function as(e,t,n){if(t=Ca(t),Ca(e)!==t&&n)throw Error(A(425))}function Is(){}var wl=null,kl=null;function Sl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nl=typeof setTimeout=="function"?setTimeout:void 0,Jf=typeof clearTimeout=="function"?clearTimeout:void 0,_a=typeof Promise=="function"?Promise:void 0,Xf=typeof queueMicrotask=="function"?queueMicrotask:typeof _a<"u"?function(e){return _a.resolve(null).then(e).catch(Zf)}:Nl;function Zf(e){setTimeout(function(){throw e})}function Di(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),zr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zr(t)}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ea(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var er=Math.random().toString(36).slice(2),gt="__reactFiber$"+er,Mr="__reactProps$"+er,Rt="__reactContainer$"+er,Cl="__reactEvents$"+er,eh="__reactListeners$"+er,th="__reactHandles$"+er;function un(e){var t=e[gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rt]||n[gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ea(e);e!==null;){if(n=e[gt])return n;e=Ea(e)}return t}e=n,n=e.parentNode}return null}function Yr(e){return e=e[gt]||e[Rt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function li(e){return e[Mr]||null}var _l=[],zn=-1;function rn(e){return{current:e}}function pe(e){0>zn||(e.current=_l[zn],_l[zn]=null,zn--)}function ce(e,t){zn++,_l[zn]=e.current,e.current=t}var tn={},Me=rn(tn),He=rn(!1),mn=tn;function Wn(e,t){var n=e.type.contextTypes;if(!n)return tn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ve(e){return e=e.childContextTypes,e!=null}function Os(){pe(He),pe(Me)}function Pa(e,t,n){if(Me.current!==tn)throw Error(A(168));ce(Me,t),ce(He,n)}function Pu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(A(108,Op(e)||"Unknown",s));return ye({},n,r)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tn,mn=Me.current,ce(Me,e),ce(He,He.current),!0}function Ra(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=Pu(e,t,mn),r.__reactInternalMemoizedMergedChildContext=e,pe(He),pe(Me),ce(Me,e)):pe(He),ce(He,n)}var St=null,oi=!1,Bi=!1;function Ru(e){St===null?St=[e]:St.push(e)}function nh(e){oi=!0,Ru(e)}function sn(){if(!Bi&&St!==null){Bi=!0;var e=0,t=oe;try{var n=St;for(oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}St=null,oi=!1}catch(s){throw St!==null&&(St=St.slice(e+1)),eu(ao,sn),s}finally{oe=t,Bi=!1}}return null}var An=[],Ln=0,Bs=null,Us=0,Ze=[],et=0,gn=null,Ct=1,_t="";function on(e,t){An[Ln++]=Us,An[Ln++]=Bs,Bs=e,Us=t}function zu(e,t,n){Ze[et++]=Ct,Ze[et++]=_t,Ze[et++]=gn,gn=e;var r=Ct;e=_t;var s=32-ct(r)-1;r&=~(1<<s),n+=1;var i=32-ct(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ct=1<<32-ct(t)+s|n<<s|r,_t=i+e}else Ct=1<<i|n<<s|r,_t=e}function yo(e){e.return!==null&&(on(e,1),zu(e,1,0))}function xo(e){for(;e===Bs;)Bs=An[--Ln],An[Ln]=null,Us=An[--Ln],An[Ln]=null;for(;e===gn;)gn=Ze[--et],Ze[et]=null,_t=Ze[--et],Ze[et]=null,Ct=Ze[--et],Ze[et]=null}var Ye=null,qe=null,fe=!1,at=null;function Au(e,t){var n=tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function za(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ye=e,qe=qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ye=e,qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gn!==null?{id:Ct,overflow:_t}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ye=e,qe=null,!0):!1;default:return!1}}function El(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pl(e){if(fe){var t=qe;if(t){var n=t;if(!za(e,t)){if(El(e))throw Error(A(418));t=qt(n.nextSibling);var r=Ye;t&&za(e,t)?Au(r,n):(e.flags=e.flags&-4097|2,fe=!1,Ye=e)}}else{if(El(e))throw Error(A(418));e.flags=e.flags&-4097|2,fe=!1,Ye=e}}}function Aa(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ye=e}function cs(e){if(e!==Ye)return!1;if(!fe)return Aa(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sl(e.type,e.memoizedProps)),t&&(t=qe)){if(El(e))throw Lu(),Error(A(418));for(;t;)Au(e,t),t=qt(t.nextSibling)}if(Aa(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qe=qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qe=null}}else qe=Ye?qt(e.stateNode.nextSibling):null;return!0}function Lu(){for(var e=qe;e;)e=qt(e.nextSibling)}function Hn(){qe=Ye=null,fe=!1}function jo(e){at===null?at=[e]:at.push(e)}var rh=Lt.ReactCurrentBatchConfig;function cr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function us(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function La(e){var t=e._init;return t(e._payload)}function Tu(e){function t(m,u){if(e){var f=m.deletions;f===null?(m.deletions=[u],m.flags|=16):f.push(u)}}function n(m,u){if(!e)return null;for(;u!==null;)t(m,u),u=u.sibling;return null}function r(m,u){for(m=new Map;u!==null;)u.key!==null?m.set(u.key,u):m.set(u.index,u),u=u.sibling;return m}function s(m,u){return m=Xt(m,u),m.index=0,m.sibling=null,m}function i(m,u,f){return m.index=f,e?(f=m.alternate,f!==null?(f=f.index,f<u?(m.flags|=2,u):f):(m.flags|=2,u)):(m.flags|=1048576,u)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,u,f,x){return u===null||u.tag!==6?(u=Qi(f,m.mode,x),u.return=m,u):(u=s(u,f),u.return=m,u)}function c(m,u,f,x){var j=f.type;return j===Cn?p(m,u,f.props.children,x,f.key):u!==null&&(u.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===It&&La(j)===u.type)?(x=s(u,f.props),x.ref=cr(m,u,f),x.return=m,x):(x=_s(f.type,f.key,f.props,null,m.mode,x),x.ref=cr(m,u,f),x.return=m,x)}function d(m,u,f,x){return u===null||u.tag!==4||u.stateNode.containerInfo!==f.containerInfo||u.stateNode.implementation!==f.implementation?(u=qi(f,m.mode,x),u.return=m,u):(u=s(u,f.children||[]),u.return=m,u)}function p(m,u,f,x,j){return u===null||u.tag!==7?(u=hn(f,m.mode,x,j),u.return=m,u):(u=s(u,f),u.return=m,u)}function g(m,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Qi(""+u,m.mode,f),u.return=m,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Zr:return f=_s(u.type,u.key,u.props,null,m.mode,f),f.ref=cr(m,null,u),f.return=m,f;case Nn:return u=qi(u,m.mode,f),u.return=m,u;case It:var x=u._init;return g(m,x(u._payload),f)}if(fr(u)||sr(u))return u=hn(u,m.mode,f,null),u.return=m,u;us(m,u)}return null}function h(m,u,f,x){var j=u!==null?u.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return j!==null?null:a(m,u,""+f,x);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Zr:return f.key===j?c(m,u,f,x):null;case Nn:return f.key===j?d(m,u,f,x):null;case It:return j=f._init,h(m,u,j(f._payload),x)}if(fr(f)||sr(f))return j!==null?null:p(m,u,f,x,null);us(m,f)}return null}function v(m,u,f,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(f)||null,a(u,m,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zr:return m=m.get(x.key===null?f:x.key)||null,c(u,m,x,j);case Nn:return m=m.get(x.key===null?f:x.key)||null,d(u,m,x,j);case It:var R=x._init;return v(m,u,f,R(x._payload),j)}if(fr(x)||sr(x))return m=m.get(f)||null,p(u,m,x,j,null);us(u,x)}return null}function w(m,u,f,x){for(var j=null,R=null,N=u,E=u=0,C=null;N!==null&&E<f.length;E++){N.index>E?(C=N,N=null):C=N.sibling;var S=h(m,N,f[E],x);if(S===null){N===null&&(N=C);break}e&&N&&S.alternate===null&&t(m,N),u=i(S,u,E),R===null?j=S:R.sibling=S,R=S,N=C}if(E===f.length)return n(m,N),fe&&on(m,E),j;if(N===null){for(;E<f.length;E++)N=g(m,f[E],x),N!==null&&(u=i(N,u,E),R===null?j=N:R.sibling=N,R=N);return fe&&on(m,E),j}for(N=r(m,N);E<f.length;E++)C=v(N,m,E,f[E],x),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?E:C.key),u=i(C,u,E),R===null?j=C:R.sibling=C,R=C);return e&&N.forEach(function(M){return t(m,M)}),fe&&on(m,E),j}function y(m,u,f,x){var j=sr(f);if(typeof j!="function")throw Error(A(150));if(f=j.call(f),f==null)throw Error(A(151));for(var R=j=null,N=u,E=u=0,C=null,S=f.next();N!==null&&!S.done;E++,S=f.next()){N.index>E?(C=N,N=null):C=N.sibling;var M=h(m,N,S.value,x);if(M===null){N===null&&(N=C);break}e&&N&&M.alternate===null&&t(m,N),u=i(M,u,E),R===null?j=M:R.sibling=M,R=M,N=C}if(S.done)return n(m,N),fe&&on(m,E),j;if(N===null){for(;!S.done;E++,S=f.next())S=g(m,S.value,x),S!==null&&(u=i(S,u,E),R===null?j=S:R.sibling=S,R=S);return fe&&on(m,E),j}for(N=r(m,N);!S.done;E++,S=f.next())S=v(N,m,E,S.value,x),S!==null&&(e&&S.alternate!==null&&N.delete(S.key===null?E:S.key),u=i(S,u,E),R===null?j=S:R.sibling=S,R=S);return e&&N.forEach(function(B){return t(m,B)}),fe&&on(m,E),j}function k(m,u,f,x){if(typeof f=="object"&&f!==null&&f.type===Cn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Zr:e:{for(var j=f.key,R=u;R!==null;){if(R.key===j){if(j=f.type,j===Cn){if(R.tag===7){n(m,R.sibling),u=s(R,f.props.children),u.return=m,m=u;break e}}else if(R.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===It&&La(j)===R.type){n(m,R.sibling),u=s(R,f.props),u.ref=cr(m,R,f),u.return=m,m=u;break e}n(m,R);break}else t(m,R);R=R.sibling}f.type===Cn?(u=hn(f.props.children,m.mode,x,f.key),u.return=m,m=u):(x=_s(f.type,f.key,f.props,null,m.mode,x),x.ref=cr(m,u,f),x.return=m,m=x)}return o(m);case Nn:e:{for(R=f.key;u!==null;){if(u.key===R)if(u.tag===4&&u.stateNode.containerInfo===f.containerInfo&&u.stateNode.implementation===f.implementation){n(m,u.sibling),u=s(u,f.children||[]),u.return=m,m=u;break e}else{n(m,u);break}else t(m,u);u=u.sibling}u=qi(f,m.mode,x),u.return=m,m=u}return o(m);case It:return R=f._init,k(m,u,R(f._payload),x)}if(fr(f))return w(m,u,f,x);if(sr(f))return y(m,u,f,x);us(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,u!==null&&u.tag===6?(n(m,u.sibling),u=s(u,f),u.return=m,m=u):(n(m,u),u=Qi(f,m.mode,x),u.return=m,m=u),o(m)):n(m,u)}return k}var Vn=Tu(!0),bu=Tu(!1),Fs=rn(null),Ws=null,Tn=null,wo=null;function ko(){wo=Tn=Ws=null}function So(e){var t=Fs.current;pe(Fs),e._currentValue=t}function Rl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bn(e,t){Ws=e,wo=Tn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function rt(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},Tn===null){if(Ws===null)throw Error(A(308));Tn=e,Ws.dependencies={lanes:0,firstContext:e}}else Tn=Tn.next=e;return t}var dn=null;function No(e){dn===null?dn=[e]:dn.push(e)}function Mu(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,No(t)):(n.next=s.next,s.next=n),t.interleaved=n,zt(e,r)}function zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ot=!1;function Co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $u(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Et(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,zt(e,n)}return s=r.interleaved,s===null?(t.next=t,No(r)):(t.next=s.next,s.next=t),r.interleaved=t,zt(e,n)}function js(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,co(e,n)}}function Ta(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hs(e,t,n,r){var s=e.updateQueue;Ot=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=c))}if(i!==null){var g=s.baseState;o=0,p=d=c=null,a=i;do{var h=a.lane,v=a.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(h=t,v=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){g=w.call(v,g,h);break e}g=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,h=typeof w=="function"?w.call(v,g,h):w,h==null)break e;g=ye({},g,h);break e;case 2:Ot=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=v,c=g):p=p.next=v,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(p===null&&(c=g),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);yn|=o,e.lanes=o,e.memoizedState=g}}function ba(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(A(191,s));s.call(r)}}}var Kr={},xt=rn(Kr),$r=rn(Kr),Ir=rn(Kr);function pn(e){if(e===Kr)throw Error(A(174));return e}function _o(e,t){switch(ce(Ir,t),ce($r,e),ce(xt,Kr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cl(t,e)}pe(xt),ce(xt,t)}function Gn(){pe(xt),pe($r),pe(Ir)}function Iu(e){pn(Ir.current);var t=pn(xt.current),n=cl(t,e.type);t!==n&&(ce($r,e),ce(xt,n))}function Eo(e){$r.current===e&&(pe(xt),pe($r))}var me=rn(0);function Vs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ui=[];function Po(){for(var e=0;e<Ui.length;e++)Ui[e]._workInProgressVersionPrimary=null;Ui.length=0}var ws=Lt.ReactCurrentDispatcher,Fi=Lt.ReactCurrentBatchConfig,vn=0,ge=null,Se=null,Ce=null,Gs=!1,wr=!1,Or=0,sh=0;function Le(){throw Error(A(321))}function Ro(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!dt(e[n],t[n]))return!1;return!0}function zo(e,t,n,r,s,i){if(vn=i,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ws.current=e===null||e.memoizedState===null?ah:ch,e=n(r,s),wr){i=0;do{if(wr=!1,Or=0,25<=i)throw Error(A(301));i+=1,Ce=Se=null,t.updateQueue=null,ws.current=uh,e=n(r,s)}while(wr)}if(ws.current=Qs,t=Se!==null&&Se.next!==null,vn=0,Ce=Se=ge=null,Gs=!1,t)throw Error(A(300));return e}function Ao(){var e=Or!==0;return Or=0,e}function mt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?ge.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function st(){if(Se===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Se.next;var t=Ce===null?ge.memoizedState:Ce.next;if(t!==null)Ce=t,Se=e;else{if(e===null)throw Error(A(310));Se=e,e={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},Ce===null?ge.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Dr(e,t){return typeof t=="function"?t(e):t}function Wi(e){var t=st(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=Se,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var p=d.lane;if((vn&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var g={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=g,o=r):c=c.next=g,ge.lanes|=p,yn|=p}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,dt(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ge.lanes|=i,yn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hi(e){var t=st(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);dt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Ou(){}function Du(e,t){var n=ge,r=st(),s=t(),i=!dt(r.memoizedState,s);if(i&&(r.memoizedState=s,We=!0),r=r.queue,Lo(Fu.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,Br(9,Uu.bind(null,n,r,s,t),void 0,null),_e===null)throw Error(A(349));vn&30||Bu(n,t,s)}return s}function Bu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uu(e,t,n,r){t.value=n,t.getSnapshot=r,Wu(t)&&Hu(e)}function Fu(e,t,n){return n(function(){Wu(t)&&Hu(e)})}function Wu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!dt(e,n)}catch{return!0}}function Hu(e){var t=zt(e,1);t!==null&&ut(t,e,1,-1)}function Ma(e){var t=mt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dr,lastRenderedState:e},t.queue=e,e=e.dispatch=oh.bind(null,ge,e),[t.memoizedState,e]}function Br(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vu(){return st().memoizedState}function ks(e,t,n,r){var s=mt();ge.flags|=e,s.memoizedState=Br(1|t,n,void 0,r===void 0?null:r)}function ai(e,t,n,r){var s=st();r=r===void 0?null:r;var i=void 0;if(Se!==null){var o=Se.memoizedState;if(i=o.destroy,r!==null&&Ro(r,o.deps)){s.memoizedState=Br(t,n,i,r);return}}ge.flags|=e,s.memoizedState=Br(1|t,n,i,r)}function $a(e,t){return ks(8390656,8,e,t)}function Lo(e,t){return ai(2048,8,e,t)}function Gu(e,t){return ai(4,2,e,t)}function Qu(e,t){return ai(4,4,e,t)}function qu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yu(e,t,n){return n=n!=null?n.concat([e]):null,ai(4,4,qu.bind(null,t,e),n)}function To(){}function Ku(e,t){var n=st();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ro(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ju(e,t){var n=st();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ro(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xu(e,t,n){return vn&21?(dt(n,t)||(n=ru(),ge.lanes|=n,yn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function ih(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var r=Fi.transition;Fi.transition={};try{e(!1),t()}finally{oe=n,Fi.transition=r}}function Zu(){return st().memoizedState}function lh(e,t,n){var r=Jt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ed(e))td(t,n);else if(n=Mu(e,t,n,r),n!==null){var s=Oe();ut(n,e,r,s),nd(n,t,r)}}function oh(e,t,n){var r=Jt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ed(e))td(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,dt(a,o)){var c=t.interleaved;c===null?(s.next=s,No(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Mu(e,t,s,r),n!==null&&(s=Oe(),ut(n,e,r,s),nd(n,t,r))}}function ed(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function td(e,t){wr=Gs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,co(e,n)}}var Qs={readContext:rt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},ah={readContext:rt,useCallback:function(e,t){return mt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:$a,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ks(4194308,4,qu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ks(4194308,4,e,t)},useInsertionEffect:function(e,t){return ks(4,2,e,t)},useMemo:function(e,t){var n=mt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=mt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lh.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=mt();return e={current:e},t.memoizedState=e},useState:Ma,useDebugValue:To,useDeferredValue:function(e){return mt().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=ih.bind(null,e[1]),mt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,s=mt();if(fe){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),_e===null)throw Error(A(349));vn&30||Bu(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,$a(Fu.bind(null,r,i,e),[e]),r.flags|=2048,Br(9,Uu.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=mt(),t=_e.identifierPrefix;if(fe){var n=_t,r=Ct;n=(r&~(1<<32-ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Or++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ch={readContext:rt,useCallback:Ku,useContext:rt,useEffect:Lo,useImperativeHandle:Yu,useInsertionEffect:Gu,useLayoutEffect:Qu,useMemo:Ju,useReducer:Wi,useRef:Vu,useState:function(){return Wi(Dr)},useDebugValue:To,useDeferredValue:function(e){var t=st();return Xu(t,Se.memoizedState,e)},useTransition:function(){var e=Wi(Dr)[0],t=st().memoizedState;return[e,t]},useMutableSource:Ou,useSyncExternalStore:Du,useId:Zu,unstable_isNewReconciler:!1},uh={readContext:rt,useCallback:Ku,useContext:rt,useEffect:Lo,useImperativeHandle:Yu,useInsertionEffect:Gu,useLayoutEffect:Qu,useMemo:Ju,useReducer:Hi,useRef:Vu,useState:function(){return Hi(Dr)},useDebugValue:To,useDeferredValue:function(e){var t=st();return Se===null?t.memoizedState=e:Xu(t,Se.memoizedState,e)},useTransition:function(){var e=Hi(Dr)[0],t=st().memoizedState;return[e,t]},useMutableSource:Ou,useSyncExternalStore:Du,useId:Zu,unstable_isNewReconciler:!1};function lt(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ci={isMounted:function(e){return(e=e._reactInternals)?wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Oe(),s=Jt(e),i=Et(r,s);i.payload=t,n!=null&&(i.callback=n),t=Yt(e,i,s),t!==null&&(ut(t,e,s,r),js(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Oe(),s=Jt(e),i=Et(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Yt(e,i,s),t!==null&&(ut(t,e,s,r),js(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Oe(),r=Jt(e),s=Et(n,r);s.tag=2,t!=null&&(s.callback=t),t=Yt(e,s,r),t!==null&&(ut(t,e,r,n),js(t,e,r))}};function Ia(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Lr(n,r)||!Lr(s,i):!0}function rd(e,t,n){var r=!1,s=tn,i=t.contextType;return typeof i=="object"&&i!==null?i=rt(i):(s=Ve(t)?mn:Me.current,r=t.contextTypes,i=(r=r!=null)?Wn(e,s):tn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ci,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Oa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ci.enqueueReplaceState(t,t.state,null)}function Al(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Co(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=rt(i):(i=Ve(t)?mn:Me.current,s.context=Wn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(zl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ci.enqueueReplaceState(s,s.state,null),Hs(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Qn(e,t){try{var n="",r=t;do n+=Ip(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Vi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ll(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dh=typeof WeakMap=="function"?WeakMap:Map;function sd(e,t,n){n=Et(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Fl=r),Ll(e,t)},n}function id(e,t,n){n=Et(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ll(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ll(e,t),typeof r!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Da(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dh;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Ch.bind(null,e,t,n),t.then(e,e))}function Ba(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ua(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Et(-1,1),t.tag=2,Yt(n,t,1))),n.lanes|=1),e)}var ph=Lt.ReactCurrentOwner,We=!1;function Ie(e,t,n,r){t.child=e===null?bu(t,null,n,r):Vn(t,e.child,n,r)}function Fa(e,t,n,r,s){n=n.render;var i=t.ref;return Bn(t,s),r=zo(e,t,n,r,i,s),n=Ao(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(fe&&n&&yo(t),t.flags|=1,Ie(e,t,r,s),t.child)}function Wa(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Uo(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,ld(e,t,i,r,s)):(e=_s(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Lr,n(o,r)&&e.ref===t.ref)return At(e,t,s)}return t.flags|=1,e=Xt(i,r),e.ref=t.ref,e.return=t,t.child=e}function ld(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Lr(i,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,At(e,t,s)}return Tl(e,t,n,r,s)}function od(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Mn,Qe),Qe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ce(Mn,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ce(Mn,Qe),Qe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ce(Mn,Qe),Qe|=r;return Ie(e,t,s,n),t.child}function ad(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tl(e,t,n,r,s){var i=Ve(n)?mn:Me.current;return i=Wn(t,i),Bn(t,s),n=zo(e,t,n,r,i,s),r=Ao(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(fe&&r&&yo(t),t.flags|=1,Ie(e,t,n,s),t.child)}function Ha(e,t,n,r,s){if(Ve(n)){var i=!0;Ds(t)}else i=!1;if(Bn(t,s),t.stateNode===null)Ss(e,t),rd(t,n,r),Al(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=rt(d):(d=Ve(n)?mn:Me.current,d=Wn(t,d));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&Oa(t,o,r,d),Ot=!1;var h=t.memoizedState;o.state=h,Hs(t,r,o,s),c=t.memoizedState,a!==r||h!==c||He.current||Ot?(typeof p=="function"&&(zl(t,n,p,r),c=t.memoizedState),(a=Ot||Ia(t,n,a,r,h,c,d))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,$u(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:lt(t.type,a),o.props=d,g=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=rt(c):(c=Ve(n)?mn:Me.current,c=Wn(t,c));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||h!==c)&&Oa(t,o,r,c),Ot=!1,h=t.memoizedState,o.state=h,Hs(t,r,o,s);var w=t.memoizedState;a!==g||h!==w||He.current||Ot?(typeof v=="function"&&(zl(t,n,v,r),w=t.memoizedState),(d=Ot||Ia(t,n,d,r,h,w,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return bl(e,t,n,r,i,s)}function bl(e,t,n,r,s,i){ad(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ra(t,n,!1),At(e,t,i);r=t.stateNode,ph.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Vn(t,e.child,null,i),t.child=Vn(t,null,a,i)):Ie(e,t,a,i),t.memoizedState=r.state,s&&Ra(t,n,!0),t.child}function cd(e){var t=e.stateNode;t.pendingContext?Pa(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pa(e,t.context,!1),_o(e,t.containerInfo)}function Va(e,t,n,r,s){return Hn(),jo(s),t.flags|=256,Ie(e,t,n,r),t.child}var Ml={dehydrated:null,treeContext:null,retryLane:0};function $l(e){return{baseLanes:e,cachePool:null,transitions:null}}function ud(e,t,n){var r=t.pendingProps,s=me.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ce(me,s&1),e===null)return Pl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pi(o,r,0,null),e=hn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=$l(n),t.memoizedState=Ml,e):bo(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return fh(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Xt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Xt(a,i):(i=hn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?$l(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ml,r}return i=e.child,e=i.sibling,r=Xt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function bo(e,t){return t=pi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ds(e,t,n,r){return r!==null&&jo(r),Vn(t,e.child,null,n),e=bo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function fh(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Vi(Error(A(422))),ds(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=pi({mode:"visible",children:r.children},s,0,null),i=hn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Vn(t,e.child,null,o),t.child.memoizedState=$l(o),t.memoizedState=Ml,i);if(!(t.mode&1))return ds(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(A(419)),r=Vi(i,r,void 0),ds(e,t,o,r)}if(a=(o&e.childLanes)!==0,We||a){if(r=_e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,zt(e,s),ut(r,e,s,-1))}return Bo(),r=Vi(Error(A(421))),ds(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=_h.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,qe=qt(s.nextSibling),Ye=t,fe=!0,at=null,e!==null&&(Ze[et++]=Ct,Ze[et++]=_t,Ze[et++]=gn,Ct=e.id,_t=e.overflow,gn=t),t=bo(t,r.children),t.flags|=4096,t)}function Ga(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Rl(e.return,t,n)}function Gi(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function dd(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ie(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ga(e,n,t);else if(e.tag===19)Ga(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ce(me,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Vs(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Gi(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Vs(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Gi(t,!0,n,null,i);break;case"together":Gi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ss(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=Xt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function hh(e,t,n){switch(t.tag){case 3:cd(t),Hn();break;case 5:Iu(t);break;case 1:Ve(t.type)&&Ds(t);break;case 4:_o(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ce(Fs,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ce(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?ud(e,t,n):(ce(me,me.current&1),e=At(e,t,n),e!==null?e.sibling:null);ce(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return dd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,od(e,t,n)}return At(e,t,n)}var pd,Il,fd,hd;pd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Il=function(){};fd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,pn(xt.current);var i=null;switch(n){case"input":s=il(e,s),r=il(e,r),i=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),i=[];break;case"textarea":s=al(e,s),r=al(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Is)}ul(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Cr.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Cr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ue("scroll",e),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};hd=function(e,t,n,r){n!==r&&(t.flags|=4)};function ur(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mh(e,t,n){var r=t.pendingProps;switch(xo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return Ve(t.type)&&Os(),Te(t),null;case 3:return r=t.stateNode,Gn(),pe(He),pe(Me),Po(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(cs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,at!==null&&(Vl(at),at=null))),Il(e,t),Te(t),null;case 5:Eo(t);var s=pn(Ir.current);if(n=t.type,e!==null&&t.stateNode!=null)fd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return Te(t),null}if(e=pn(xt.current),cs(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[gt]=t,r[Mr]=i,e=(t.mode&1)!==0,n){case"dialog":ue("cancel",r),ue("close",r);break;case"iframe":case"object":case"embed":ue("load",r);break;case"video":case"audio":for(s=0;s<mr.length;s++)ue(mr[s],r);break;case"source":ue("error",r);break;case"img":case"image":case"link":ue("error",r),ue("load",r);break;case"details":ue("toggle",r);break;case"input":ta(r,i),ue("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ue("invalid",r);break;case"textarea":ra(r,i),ue("invalid",r)}ul(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&as(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&as(r.textContent,a,e),s=["children",""+a]):Cr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ue("scroll",r)}switch(n){case"input":es(r),na(r,i,!0);break;case"textarea":es(r),sa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Is)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[gt]=t,e[Mr]=r,pd(e,t,!1,!1),t.stateNode=e;e:{switch(o=dl(n,r),n){case"dialog":ue("cancel",e),ue("close",e),s=r;break;case"iframe":case"object":case"embed":ue("load",e),s=r;break;case"video":case"audio":for(s=0;s<mr.length;s++)ue(mr[s],e);s=r;break;case"source":ue("error",e),s=r;break;case"img":case"image":case"link":ue("error",e),ue("load",e),s=r;break;case"details":ue("toggle",e),s=r;break;case"input":ta(e,r),s=il(e,r),ue("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),ue("invalid",e);break;case"textarea":ra(e,r),s=al(e,r),ue("invalid",e);break;default:s=r}ul(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Vc(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Wc(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&_r(e,c):typeof c=="number"&&_r(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Cr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ue("scroll",e):c!=null&&ro(e,i,c,o))}switch(n){case"input":es(e),na(e,r,!1);break;case"textarea":es(e),sa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+en(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?$n(e,!!r.multiple,i,!1):r.defaultValue!=null&&$n(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Is)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(e&&t.stateNode!=null)hd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=pn(Ir.current),pn(xt.current),cs(t)){if(r=t.stateNode,n=t.memoizedProps,r[gt]=t,(i=r.nodeValue!==n)&&(e=Ye,e!==null))switch(e.tag){case 3:as(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&as(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gt]=t,t.stateNode=r}return Te(t),null;case 13:if(pe(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&qe!==null&&t.mode&1&&!(t.flags&128))Lu(),Hn(),t.flags|=98560,i=!1;else if(i=cs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(A(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[gt]=t}else Hn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),i=!1}else at!==null&&(Vl(at),at=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Ne===0&&(Ne=3):Bo())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return Gn(),Il(e,t),e===null&&Tr(t.stateNode.containerInfo),Te(t),null;case 10:return So(t.type._context),Te(t),null;case 17:return Ve(t.type)&&Os(),Te(t),null;case 19:if(pe(me),i=t.memoizedState,i===null)return Te(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)ur(i,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Vs(e),o!==null){for(t.flags|=128,ur(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ce(me,me.current&1|2),t.child}e=e.sibling}i.tail!==null&&we()>qn&&(t.flags|=128,r=!0,ur(i,!1),t.lanes=4194304)}else{if(!r)if(e=Vs(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),ur(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!fe)return Te(t),null}else 2*we()-i.renderingStartTime>qn&&n!==1073741824&&(t.flags|=128,r=!0,ur(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=we(),t.sibling=null,n=me.current,ce(me,r?n&1|2:n&1),t):(Te(t),null);case 22:case 23:return Do(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qe&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function gh(e,t){switch(xo(t),t.tag){case 1:return Ve(t.type)&&Os(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gn(),pe(He),pe(Me),Po(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Eo(t),null;case 13:if(pe(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Hn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(me),null;case 4:return Gn(),null;case 10:return So(t.type._context),null;case 22:case 23:return Do(),null;case 24:return null;default:return null}}var ps=!1,be=!1,vh=typeof WeakSet=="function"?WeakSet:Set,I=null;function bn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function Ol(e,t,n){try{n()}catch(r){xe(e,t,r)}}var Qa=!1;function yh(e,t){if(wl=bs,e=xu(),vo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,p=0,g=e,h=null;t:for(;;){for(var v;g!==n||s!==0&&g.nodeType!==3||(a=o+s),g!==i||r!==0&&g.nodeType!==3||(c=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(v=g.firstChild)!==null;)h=g,g=v;for(;;){if(g===e)break t;if(h===n&&++d===s&&(a=o),h===i&&++p===r&&(c=o),(v=g.nextSibling)!==null)break;g=h,h=g.parentNode}g=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(kl={focusedElem:e,selectionRange:n},bs=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,k=w.memoizedState,m=t.stateNode,u=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:lt(t.type,y),k);m.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(x){xe(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return w=Qa,Qa=!1,w}function kr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ol(t,n,i)}s=s.next}while(s!==r)}}function ui(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Dl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function md(e){var t=e.alternate;t!==null&&(e.alternate=null,md(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gt],delete t[Mr],delete t[Cl],delete t[eh],delete t[th])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gd(e){return e.tag===5||e.tag===3||e.tag===4}function qa(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Is));else if(r!==4&&(e=e.child,e!==null))for(Bl(e,t,n),e=e.sibling;e!==null;)Bl(e,t,n),e=e.sibling}function Ul(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ul(e,t,n),e=e.sibling;e!==null;)Ul(e,t,n),e=e.sibling}var Pe=null,ot=!1;function bt(e,t,n){for(n=n.child;n!==null;)vd(e,t,n),n=n.sibling}function vd(e,t,n){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(ni,n)}catch{}switch(n.tag){case 5:be||bn(n,t);case 6:var r=Pe,s=ot;Pe=null,bt(e,t,n),Pe=r,ot=s,Pe!==null&&(ot?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(ot?(e=Pe,n=n.stateNode,e.nodeType===8?Di(e.parentNode,n):e.nodeType===1&&Di(e,n),zr(e)):Di(Pe,n.stateNode));break;case 4:r=Pe,s=ot,Pe=n.stateNode.containerInfo,ot=!0,bt(e,t,n),Pe=r,ot=s;break;case 0:case 11:case 14:case 15:if(!be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ol(n,t,o),s=s.next}while(s!==r)}bt(e,t,n);break;case 1:if(!be&&(bn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,t,a)}bt(e,t,n);break;case 21:bt(e,t,n);break;case 22:n.mode&1?(be=(r=be)||n.memoizedState!==null,bt(e,t,n),be=r):bt(e,t,n);break;default:bt(e,t,n)}}function Ya(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vh),t.forEach(function(r){var s=Eh.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function it(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pe=a.stateNode,ot=!1;break e;case 3:Pe=a.stateNode.containerInfo,ot=!0;break e;case 4:Pe=a.stateNode.containerInfo,ot=!0;break e}a=a.return}if(Pe===null)throw Error(A(160));vd(i,o,s),Pe=null,ot=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){xe(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yd(t,e),t=t.sibling}function yd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(it(t,e),ft(e),r&4){try{kr(3,e,e.return),ui(3,e)}catch(y){xe(e,e.return,y)}try{kr(5,e,e.return)}catch(y){xe(e,e.return,y)}}break;case 1:it(t,e),ft(e),r&512&&n!==null&&bn(n,n.return);break;case 5:if(it(t,e),ft(e),r&512&&n!==null&&bn(n,n.return),e.flags&32){var s=e.stateNode;try{_r(s,"")}catch(y){xe(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Bc(s,i),dl(a,o);var d=dl(a,i);for(o=0;o<c.length;o+=2){var p=c[o],g=c[o+1];p==="style"?Vc(s,g):p==="dangerouslySetInnerHTML"?Wc(s,g):p==="children"?_r(s,g):ro(s,p,g,d)}switch(a){case"input":ll(s,i);break;case"textarea":Uc(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?$n(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?$n(s,!!i.multiple,i.defaultValue,!0):$n(s,!!i.multiple,i.multiple?[]:"",!1))}s[Mr]=i}catch(y){xe(e,e.return,y)}}break;case 6:if(it(t,e),ft(e),r&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){xe(e,e.return,y)}}break;case 3:if(it(t,e),ft(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zr(t.containerInfo)}catch(y){xe(e,e.return,y)}break;case 4:it(t,e),ft(e);break;case 13:it(t,e),ft(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Io=we())),r&4&&Ya(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(be=(d=be)||p,it(t,e),be=d):it(t,e),ft(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(I=e,p=e.child;p!==null;){for(g=I=p;I!==null;){switch(h=I,v=h.child,h.tag){case 0:case 11:case 14:case 15:kr(4,h,h.return);break;case 1:bn(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){xe(r,n,y)}}break;case 5:bn(h,h.return);break;case 22:if(h.memoizedState!==null){Ja(g);continue}}v!==null?(v.return=h,I=v):Ja(g)}p=p.sibling}e:for(p=null,g=e;;){if(g.tag===5){if(p===null){p=g;try{s=g.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Hc("display",o))}catch(y){xe(e,e.return,y)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(y){xe(e,e.return,y)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:it(t,e),ft(e),r&4&&Ya(e);break;case 21:break;default:it(t,e),ft(e)}}function ft(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gd(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(_r(s,""),r.flags&=-33);var i=qa(e);Ul(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=qa(e);Bl(e,a,o);break;default:throw Error(A(161))}}catch(c){xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xh(e,t,n){I=e,xd(e)}function xd(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ps;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||be;a=ps;var d=be;if(ps=o,(be=c)&&!d)for(I=s;I!==null;)o=I,c=o.child,o.tag===22&&o.memoizedState!==null?Xa(s):c!==null?(c.return=o,I=c):Xa(s);for(;i!==null;)I=i,xd(i),i=i.sibling;I=s,ps=a,be=d}Ka(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):Ka(e)}}function Ka(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||ui(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!be)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:lt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&ba(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}ba(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&zr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}be||t.flags&512&&Dl(t)}catch(h){xe(t,t.return,h)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function Ja(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function Xa(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ui(4,t)}catch(c){xe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){xe(t,s,c)}}var i=t.return;try{Dl(t)}catch(c){xe(t,i,c)}break;case 5:var o=t.return;try{Dl(t)}catch(c){xe(t,o,c)}}}catch(c){xe(t,t.return,c)}if(t===e){I=null;break}var a=t.sibling;if(a!==null){a.return=t.return,I=a;break}I=t.return}}var jh=Math.ceil,qs=Lt.ReactCurrentDispatcher,Mo=Lt.ReactCurrentOwner,nt=Lt.ReactCurrentBatchConfig,re=0,_e=null,ke=null,Re=0,Qe=0,Mn=rn(0),Ne=0,Ur=null,yn=0,di=0,$o=0,Sr=null,Ue=null,Io=0,qn=1/0,wt=null,Ys=!1,Fl=null,Kt=null,fs=!1,Wt=null,Ks=0,Nr=0,Wl=null,Ns=-1,Cs=0;function Oe(){return re&6?we():Ns!==-1?Ns:Ns=we()}function Jt(e){return e.mode&1?re&2&&Re!==0?Re&-Re:rh.transition!==null?(Cs===0&&(Cs=ru()),Cs):(e=oe,e!==0||(e=window.event,e=e===void 0?16:uu(e.type)),e):1}function ut(e,t,n,r){if(50<Nr)throw Nr=0,Wl=null,Error(A(185));Qr(e,n,r),(!(re&2)||e!==_e)&&(e===_e&&(!(re&2)&&(di|=n),Ne===4&&Bt(e,Re)),Ge(e,r),n===1&&re===0&&!(t.mode&1)&&(qn=we()+500,oi&&sn()))}function Ge(e,t){var n=e.callbackNode;nf(e,t);var r=Ts(e,e===_e?Re:0);if(r===0)n!==null&&oa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&oa(n),t===1)e.tag===0?nh(Za.bind(null,e)):Ru(Za.bind(null,e)),Xf(function(){!(re&6)&&sn()}),n=null;else{switch(su(r)){case 1:n=ao;break;case 4:n=tu;break;case 16:n=Ls;break;case 536870912:n=nu;break;default:n=Ls}n=Ed(n,jd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jd(e,t){if(Ns=-1,Cs=0,re&6)throw Error(A(327));var n=e.callbackNode;if(Un()&&e.callbackNode!==n)return null;var r=Ts(e,e===_e?Re:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Js(e,r);else{t=r;var s=re;re|=2;var i=kd();(_e!==e||Re!==t)&&(wt=null,qn=we()+500,fn(e,t));do try{Sh();break}catch(a){wd(e,a)}while(!0);ko(),qs.current=i,re=s,ke!==null?t=0:(_e=null,Re=0,t=Ne)}if(t!==0){if(t===2&&(s=gl(e),s!==0&&(r=s,t=Hl(e,s))),t===1)throw n=Ur,fn(e,0),Bt(e,r),Ge(e,we()),n;if(t===6)Bt(e,r);else{if(s=e.current.alternate,!(r&30)&&!wh(s)&&(t=Js(e,r),t===2&&(i=gl(e),i!==0&&(r=i,t=Hl(e,i))),t===1))throw n=Ur,fn(e,0),Bt(e,r),Ge(e,we()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:an(e,Ue,wt);break;case 3:if(Bt(e,r),(r&130023424)===r&&(t=Io+500-we(),10<t)){if(Ts(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Oe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Nl(an.bind(null,e,Ue,wt),t);break}an(e,Ue,wt);break;case 4:if(Bt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ct(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jh(r/1960))-r,10<r){e.timeoutHandle=Nl(an.bind(null,e,Ue,wt),r);break}an(e,Ue,wt);break;case 5:an(e,Ue,wt);break;default:throw Error(A(329))}}}return Ge(e,we()),e.callbackNode===n?jd.bind(null,e):null}function Hl(e,t){var n=Sr;return e.current.memoizedState.isDehydrated&&(fn(e,t).flags|=256),e=Js(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&Vl(t)),e}function Vl(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function wh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!dt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bt(e,t){for(t&=~$o,t&=~di,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ct(t),r=1<<n;e[n]=-1,t&=~r}}function Za(e){if(re&6)throw Error(A(327));Un();var t=Ts(e,0);if(!(t&1))return Ge(e,we()),null;var n=Js(e,t);if(e.tag!==0&&n===2){var r=gl(e);r!==0&&(t=r,n=Hl(e,r))}if(n===1)throw n=Ur,fn(e,0),Bt(e,t),Ge(e,we()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,an(e,Ue,wt),Ge(e,we()),null}function Oo(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(qn=we()+500,oi&&sn())}}function xn(e){Wt!==null&&Wt.tag===0&&!(re&6)&&Un();var t=re;re|=1;var n=nt.transition,r=oe;try{if(nt.transition=null,oe=1,e)return e()}finally{oe=r,nt.transition=n,re=t,!(re&6)&&sn()}}function Do(){Qe=Mn.current,pe(Mn)}function fn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Jf(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(xo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Os();break;case 3:Gn(),pe(He),pe(Me),Po();break;case 5:Eo(r);break;case 4:Gn();break;case 13:pe(me);break;case 19:pe(me);break;case 10:So(r.type._context);break;case 22:case 23:Do()}n=n.return}if(_e=e,ke=e=Xt(e.current,null),Re=Qe=t,Ne=0,Ur=null,$o=di=yn=0,Ue=Sr=null,dn!==null){for(t=0;t<dn.length;t++)if(n=dn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}dn=null}return e}function wd(e,t){do{var n=ke;try{if(ko(),ws.current=Qs,Gs){for(var r=ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gs=!1}if(vn=0,Ce=Se=ge=null,wr=!1,Or=0,Mo.current=null,n===null||n.return===null){Ne=1,Ur=t,ke=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Re,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=a,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=Ba(o);if(v!==null){v.flags&=-257,Ua(v,o,a,i,t),v.mode&1&&Da(i,d,t),t=v,c=d;var w=t.updateQueue;if(w===null){var y=new Set;y.add(c),t.updateQueue=y}else w.add(c);break e}else{if(!(t&1)){Da(i,d,t),Bo();break e}c=Error(A(426))}}else if(fe&&a.mode&1){var k=Ba(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ua(k,o,a,i,t),jo(Qn(c,a));break e}}i=c=Qn(c,a),Ne!==4&&(Ne=2),Sr===null?Sr=[i]:Sr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=sd(i,c,t);Ta(i,m);break e;case 1:a=c;var u=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof u.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Kt===null||!Kt.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=id(i,a,t);Ta(i,x);break e}}i=i.return}while(i!==null)}Nd(n)}catch(j){t=j,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function kd(){var e=qs.current;return qs.current=Qs,e===null?Qs:e}function Bo(){(Ne===0||Ne===3||Ne===2)&&(Ne=4),_e===null||!(yn&268435455)&&!(di&268435455)||Bt(_e,Re)}function Js(e,t){var n=re;re|=2;var r=kd();(_e!==e||Re!==t)&&(wt=null,fn(e,t));do try{kh();break}catch(s){wd(e,s)}while(!0);if(ko(),re=n,qs.current=r,ke!==null)throw Error(A(261));return _e=null,Re=0,Ne}function kh(){for(;ke!==null;)Sd(ke)}function Sh(){for(;ke!==null&&!Qp();)Sd(ke)}function Sd(e){var t=_d(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?Nd(e):ke=t,Mo.current=null}function Nd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gh(n,t),n!==null){n.flags&=32767,ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ne=6,ke=null;return}}else if(n=mh(n,t,Qe),n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Ne===0&&(Ne=5)}function an(e,t,n){var r=oe,s=nt.transition;try{nt.transition=null,oe=1,Nh(e,t,n,r)}finally{nt.transition=s,oe=r}return null}function Nh(e,t,n,r){do Un();while(Wt!==null);if(re&6)throw Error(A(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(rf(e,i),e===_e&&(ke=_e=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fs||(fs=!0,Ed(Ls,function(){return Un(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=nt.transition,nt.transition=null;var o=oe;oe=1;var a=re;re|=4,Mo.current=null,yh(e,n),yd(n,e),Hf(kl),bs=!!wl,kl=wl=null,e.current=n,xh(n),qp(),re=a,oe=o,nt.transition=i}else e.current=n;if(fs&&(fs=!1,Wt=e,Ks=s),i=e.pendingLanes,i===0&&(Kt=null),Jp(n.stateNode),Ge(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ys)throw Ys=!1,e=Fl,Fl=null,e;return Ks&1&&e.tag!==0&&Un(),i=e.pendingLanes,i&1?e===Wl?Nr++:(Nr=0,Wl=e):Nr=0,sn(),null}function Un(){if(Wt!==null){var e=su(Ks),t=nt.transition,n=oe;try{if(nt.transition=null,oe=16>e?16:e,Wt===null)var r=!1;else{if(e=Wt,Wt=null,Ks=0,re&6)throw Error(A(331));var s=re;for(re|=4,I=e.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(I=d;I!==null;){var p=I;switch(p.tag){case 0:case 11:case 15:kr(8,p,i)}var g=p.child;if(g!==null)g.return=p,I=g;else for(;I!==null;){p=I;var h=p.sibling,v=p.return;if(md(p),p===d){I=null;break}if(h!==null){h.return=v,I=h;break}I=v}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:kr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,I=m;break e}I=i.return}}var u=e.current;for(I=u;I!==null;){o=I;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,I=f;else e:for(o=u;I!==null;){if(a=I,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ui(9,a)}}catch(j){xe(a,a.return,j)}if(a===o){I=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,I=x;break e}I=a.return}}if(re=s,sn(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(ni,e)}catch{}r=!0}return r}finally{oe=n,nt.transition=t}}return!1}function ec(e,t,n){t=Qn(n,t),t=sd(e,t,1),e=Yt(e,t,1),t=Oe(),e!==null&&(Qr(e,1,t),Ge(e,t))}function xe(e,t,n){if(e.tag===3)ec(e,e,n);else for(;t!==null;){if(t.tag===3){ec(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Kt===null||!Kt.has(r))){e=Qn(n,e),e=id(t,e,1),t=Yt(t,e,1),e=Oe(),t!==null&&(Qr(t,1,e),Ge(t,e));break}}t=t.return}}function Ch(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Oe(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Re&n)===n&&(Ne===4||Ne===3&&(Re&130023424)===Re&&500>we()-Io?fn(e,0):$o|=n),Ge(e,t)}function Cd(e,t){t===0&&(e.mode&1?(t=rs,rs<<=1,!(rs&130023424)&&(rs=4194304)):t=1);var n=Oe();e=zt(e,t),e!==null&&(Qr(e,t,n),Ge(e,n))}function _h(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cd(e,n)}function Eh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),Cd(e,n)}var _d;_d=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,hh(e,t,n);We=!!(e.flags&131072)}else We=!1,fe&&t.flags&1048576&&zu(t,Us,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ss(e,t),e=t.pendingProps;var s=Wn(t,Me.current);Bn(t,n),s=zo(null,t,r,e,s,n);var i=Ao();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(r)?(i=!0,Ds(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Co(t),s.updater=ci,t.stateNode=s,s._reactInternals=t,Al(t,r,e,n),t=bl(null,t,r,!0,i,n)):(t.tag=0,fe&&i&&yo(t),Ie(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ss(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Rh(r),e=lt(r,e),s){case 0:t=Tl(null,t,r,e,n);break e;case 1:t=Ha(null,t,r,e,n);break e;case 11:t=Fa(null,t,r,e,n);break e;case 14:t=Wa(null,t,r,lt(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lt(r,s),Tl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lt(r,s),Ha(e,t,r,s,n);case 3:e:{if(cd(t),e===null)throw Error(A(387));r=t.pendingProps,i=t.memoizedState,s=i.element,$u(e,t),Hs(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Qn(Error(A(423)),t),t=Va(e,t,r,n,s);break e}else if(r!==s){s=Qn(Error(A(424)),t),t=Va(e,t,r,n,s);break e}else for(qe=qt(t.stateNode.containerInfo.firstChild),Ye=t,fe=!0,at=null,n=bu(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hn(),r===s){t=At(e,t,n);break e}Ie(e,t,r,n)}t=t.child}return t;case 5:return Iu(t),e===null&&Pl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Sl(r,s)?o=null:i!==null&&Sl(r,i)&&(t.flags|=32),ad(e,t),Ie(e,t,o,n),t.child;case 6:return e===null&&Pl(t),null;case 13:return ud(e,t,n);case 4:return _o(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Vn(t,null,r,n):Ie(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lt(r,s),Fa(e,t,r,s,n);case 7:return Ie(e,t,t.pendingProps,n),t.child;case 8:return Ie(e,t,t.pendingProps.children,n),t.child;case 12:return Ie(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ce(Fs,r._currentValue),r._currentValue=o,i!==null)if(dt(i.value,o)){if(i.children===s.children&&!He.current){t=At(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Et(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Rl(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(A(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Rl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ie(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Bn(t,n),s=rt(s),r=r(s),t.flags|=1,Ie(e,t,r,n),t.child;case 14:return r=t.type,s=lt(r,t.pendingProps),s=lt(r.type,s),Wa(e,t,r,s,n);case 15:return ld(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lt(r,s),Ss(e,t),t.tag=1,Ve(r)?(e=!0,Ds(t)):e=!1,Bn(t,n),rd(t,r,s),Al(t,r,s,n),bl(null,t,r,!0,e,n);case 19:return dd(e,t,n);case 22:return od(e,t,n)}throw Error(A(156,t.tag))};function Ed(e,t){return eu(e,t)}function Ph(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,n,r){return new Ph(e,t,n,r)}function Uo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rh(e){if(typeof e=="function")return Uo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===io)return 11;if(e===lo)return 14}return 2}function Xt(e,t){var n=e.alternate;return n===null?(n=tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _s(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Uo(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Cn:return hn(n.children,s,i,t);case so:o=8,s|=8;break;case tl:return e=tt(12,n,t,s|2),e.elementType=tl,e.lanes=i,e;case nl:return e=tt(13,n,t,s),e.elementType=nl,e.lanes=i,e;case rl:return e=tt(19,n,t,s),e.elementType=rl,e.lanes=i,e;case Ic:return pi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Mc:o=10;break e;case $c:o=9;break e;case io:o=11;break e;case lo:o=14;break e;case It:o=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=tt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function hn(e,t,n,r){return e=tt(7,e,r,t),e.lanes=n,e}function pi(e,t,n,r){return e=tt(22,e,r,t),e.elementType=Ic,e.lanes=n,e.stateNode={isHidden:!1},e}function Qi(e,t,n){return e=tt(6,e,null,t),e.lanes=n,e}function qi(e,t,n){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zh(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pi(0),this.expirationTimes=Pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fo(e,t,n,r,s,i,o,a,c){return e=new zh(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=tt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Co(i),e}function Ah(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Pd(e){if(!e)return tn;e=e._reactInternals;e:{if(wn(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(Ve(n))return Pu(e,n,t)}return t}function Rd(e,t,n,r,s,i,o,a,c){return e=Fo(n,r,!0,e,s,i,o,a,c),e.context=Pd(null),n=e.current,r=Oe(),s=Jt(n),i=Et(r,s),i.callback=t??null,Yt(n,i,s),e.current.lanes=s,Qr(e,s,r),Ge(e,r),e}function fi(e,t,n,r){var s=t.current,i=Oe(),o=Jt(s);return n=Pd(n),t.context===null?t.context=n:t.pendingContext=n,t=Et(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yt(s,t,o),e!==null&&(ut(e,s,o,i),js(e,s,o)),o}function Xs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wo(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function Lh(){return null}var zd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ho(e){this._internalRoot=e}hi.prototype.render=Ho.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));fi(e,t,null,null)};hi.prototype.unmount=Ho.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){fi(null,e,null,null)}),t[Rt]=null}};function hi(e){this._internalRoot=e}hi.prototype.unstable_scheduleHydration=function(e){if(e){var t=ou();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&t!==0&&t<Dt[n].priority;n++);Dt.splice(n,0,e),n===0&&cu(e)}};function Vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nc(){}function Th(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Xs(o);i.call(d)}}var o=Rd(t,r,e,0,null,!1,!1,"",nc);return e._reactRootContainer=o,e[Rt]=o.current,Tr(e.nodeType===8?e.parentNode:e),xn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Xs(c);a.call(d)}}var c=Fo(e,0,!1,null,null,!1,!1,"",nc);return e._reactRootContainer=c,e[Rt]=c.current,Tr(e.nodeType===8?e.parentNode:e),xn(function(){fi(t,c,n,r)}),c}function gi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=Xs(o);a.call(c)}}fi(t,o,e,s)}else o=Th(n,t,e,s,r);return Xs(o)}iu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=hr(t.pendingLanes);n!==0&&(co(t,n|1),Ge(t,we()),!(re&6)&&(qn=we()+500,sn()))}break;case 13:xn(function(){var r=zt(e,1);if(r!==null){var s=Oe();ut(r,e,1,s)}}),Wo(e,1)}};uo=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var n=Oe();ut(t,e,134217728,n)}Wo(e,134217728)}};lu=function(e){if(e.tag===13){var t=Jt(e),n=zt(e,t);if(n!==null){var r=Oe();ut(n,e,t,r)}Wo(e,t)}};ou=function(){return oe};au=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};fl=function(e,t,n){switch(t){case"input":if(ll(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=li(r);if(!s)throw Error(A(90));Dc(r),ll(r,s)}}}break;case"textarea":Uc(e,n);break;case"select":t=n.value,t!=null&&$n(e,!!n.multiple,t,!1)}};qc=Oo;Yc=xn;var bh={usingClientEntryPoint:!1,Events:[Yr,Rn,li,Gc,Qc,Oo]},dr={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mh={bundleType:dr.bundleType,version:dr.version,rendererPackageName:dr.rendererPackageName,rendererConfig:dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xc(e),e===null?null:e.stateNode},findFiberByHostInstance:dr.findFiberByHostInstance||Lh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hs.isDisabled&&hs.supportsFiber)try{ni=hs.inject(Mh),yt=hs}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bh;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vo(t))throw Error(A(200));return Ah(e,t,null,n)};Je.createRoot=function(e,t){if(!Vo(e))throw Error(A(299));var n=!1,r="",s=zd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Fo(e,1,!1,null,null,n,!1,r,s),e[Rt]=t.current,Tr(e.nodeType===8?e.parentNode:e),new Ho(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Xc(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return xn(e)};Je.hydrate=function(e,t,n){if(!mi(t))throw Error(A(200));return gi(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!Vo(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=zd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Rd(t,null,e,1,n??null,s,!1,i,o),e[Rt]=t.current,Tr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new hi(t)};Je.render=function(e,t,n){if(!mi(t))throw Error(A(200));return gi(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!mi(e))throw Error(A(40));return e._reactRootContainer?(xn(function(){gi(null,null,e,!1,function(){e._reactRootContainer=null,e[Rt]=null})}),!0):!1};Je.unstable_batchedUpdates=Oo;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!mi(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return gi(e,t,n,!1,r)};Je.version="18.3.1-next-f1338f8080-20240426";function Ad(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ad)}catch(e){console.error(e)}}Ad(),Ac.exports=Je;var $h=Ac.exports,rc=$h;Zi.createRoot=rc.createRoot,Zi.hydrateRoot=rc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fr(){return Fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fr.apply(this,arguments)}var Ht;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ht||(Ht={}));const sc="popstate";function Ih(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Gl("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Zs(s)}return Dh(t,n,null,e)}function ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ld(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Oh(){return Math.random().toString(36).substr(2,8)}function ic(e,t){return{usr:e.state,key:e.key,idx:t}}function Gl(e,t,n,r){return n===void 0&&(n=null),Fr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?tr(t):t,{state:n,key:t&&t.key||r||Oh()})}function Zs(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function tr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Dh(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ht.Pop,c=null,d=p();d==null&&(d=0,o.replaceState(Fr({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function g(){a=Ht.Pop;let k=p(),m=k==null?null:k-d;d=k,c&&c({action:a,location:y.location,delta:m})}function h(k,m){a=Ht.Push;let u=Gl(y.location,k,m);d=p()+1;let f=ic(u,d),x=y.createHref(u);try{o.pushState(f,"",x)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(x)}i&&c&&c({action:a,location:y.location,delta:1})}function v(k,m){a=Ht.Replace;let u=Gl(y.location,k,m);d=p();let f=ic(u,d),x=y.createHref(u);o.replaceState(f,"",x),i&&c&&c({action:a,location:y.location,delta:0})}function w(k){let m=s.location.origin!=="null"?s.location.origin:s.location.href,u=typeof k=="string"?k:Zs(k);return u=u.replace(/ $/,"%20"),ve(m,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,m)}let y={get action(){return a},get location(){return e(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(sc,g),c=k,()=>{s.removeEventListener(sc,g),c=null}},createHref(k){return t(s,k)},createURL:w,encodeLocation(k){let m=w(k);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:v,go(k){return o.go(k)}};return y}var lc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lc||(lc={}));function Bh(e,t,n){return n===void 0&&(n="/"),Uh(e,t,n)}function Uh(e,t,n,r){let s=typeof t=="string"?tr(t):t,i=Yn(s.pathname||"/",n);if(i==null)return null;let o=Td(e);Fh(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=Zh(i);a=Jh(o[c],d)}return a}function Td(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ve(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Zt([r,c.relativePath]),p=n.concat(c);i.children&&i.children.length>0&&(ve(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Td(i.children,t,p,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Yh(d,i.index),routesMeta:p})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of bd(i.path))s(i,o,c)}),t}function bd(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=bd(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function Fh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Kh(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Wh=/^:[\w-]+$/,Hh=3,Vh=2,Gh=1,Qh=10,qh=-2,oc=e=>e==="*";function Yh(e,t){let n=e.split("/"),r=n.length;return n.some(oc)&&(r+=qh),t&&(r+=Vh),n.filter(s=>!oc(s)).reduce((s,i)=>s+(Wh.test(i)?Hh:i===""?Gh:Qh),r)}function Kh(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Jh(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,p=i==="/"?t:t.slice(i.length)||"/",g=Ql({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),h=c.route;if(!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Zt([i,g.pathname]),pathnameBase:rm(Zt([i,g.pathnameBase])),route:h}),g.pathnameBase!=="/"&&(i=Zt([i,g.pathnameBase]))}return o}function Ql(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Xh(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,p,g)=>{let{paramName:h,isOptional:v}=p;if(h==="*"){let y=a[g]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[g];return v&&!w?d[h]=void 0:d[h]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Xh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ld(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Zh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ld(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function em(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?tr(e):e;return{pathname:n?n.startsWith("/")?n:tm(n,t):t,search:sm(r),hash:im(s)}}function tm(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yi(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nm(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Go(e,t){let n=nm(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Qo(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=tr(e):(s=Fr({},e),ve(!s.pathname||!s.pathname.includes("?"),Yi("?","pathname","search",s)),ve(!s.pathname||!s.pathname.includes("#"),Yi("#","pathname","hash",s)),ve(!s.search||!s.search.includes("#"),Yi("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let g=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),g-=1;s.pathname=h.join("/")}a=g>=0?t[g]:"/"}let c=em(s,a),d=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const Zt=e=>e.join("/").replace(/\/\/+/g,"/"),rm=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sm=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,im=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Md=["post","put","patch","delete"];new Set(Md);const om=["get",...Md];new Set(om);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wr.apply(this,arguments)}const vi=z.createContext(null),$d=z.createContext(null),Tt=z.createContext(null),yi=z.createContext(null),ln=z.createContext({outlet:null,matches:[],isDataRoute:!1}),Id=z.createContext(null);function am(e,t){let{relative:n}=t===void 0?{}:t;nr()||ve(!1);let{basename:r,navigator:s}=z.useContext(Tt),{hash:i,pathname:o,search:a}=xi(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Zt([r,o])),s.createHref({pathname:c,search:a,hash:i})}function nr(){return z.useContext(yi)!=null}function rr(){return nr()||ve(!1),z.useContext(yi).location}function Od(e){z.useContext(Tt).static||z.useLayoutEffect(e)}function Dd(){let{isDataRoute:e}=z.useContext(ln);return e?wm():cm()}function cm(){nr()||ve(!1);let e=z.useContext(vi),{basename:t,future:n,navigator:r}=z.useContext(Tt),{matches:s}=z.useContext(ln),{pathname:i}=rr(),o=JSON.stringify(Go(s,n.v7_relativeSplatPath)),a=z.useRef(!1);return Od(()=>{a.current=!0}),z.useCallback(function(d,p){if(p===void 0&&(p={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let g=Qo(d,JSON.parse(o),i,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Zt([t,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[t,r,o,i,e])}function xi(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=z.useContext(Tt),{matches:s}=z.useContext(ln),{pathname:i}=rr(),o=JSON.stringify(Go(s,r.v7_relativeSplatPath));return z.useMemo(()=>Qo(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function um(e,t){return dm(e,t)}function dm(e,t,n,r){nr()||ve(!1);let{navigator:s}=z.useContext(Tt),{matches:i}=z.useContext(ln),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=rr(),p;if(t){var g;let k=typeof t=="string"?tr(t):t;c==="/"||(g=k.pathname)!=null&&g.startsWith(c)||ve(!1),p=k}else p=d;let h=p.pathname||"/",v=h;if(c!=="/"){let k=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=Bh(e,{pathname:v}),y=gm(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:Zt([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:Zt([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n,r);return t&&y?z.createElement(yi.Provider,{value:{location:Wr({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ht.Pop}},y):y}function pm(){let e=jm(),t=lm(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),n?z.createElement("pre",{style:s},n):null,null)}const fm=z.createElement(pm,null);class hm extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?z.createElement(ln.Provider,{value:this.props.routeContext},z.createElement(Id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mm(e){let{routeContext:t,match:n,children:r}=e,s=z.useContext(vi);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(ln.Provider,{value:t},r)}function gm(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let p=o.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);p>=0||ve(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:h,errors:v}=n,w=g.route.loader&&h[g.route.id]===void 0&&(!v||v[g.route.id]===void 0);if(g.route.lazy||w){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,h)=>{let v,w=!1,y=null,k=null;n&&(v=a&&g.route.id?a[g.route.id]:void 0,y=g.route.errorElement||fm,c&&(d<0&&h===0?(km("route-fallback"),w=!0,k=null):d===h&&(w=!0,k=g.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,h+1)),u=()=>{let f;return v?f=y:w?f=k:g.route.Component?f=z.createElement(g.route.Component,null):g.route.element?f=g.route.element:f=p,z.createElement(mm,{match:g,routeContext:{outlet:p,matches:m,isDataRoute:n!=null},children:f})};return n&&(g.route.ErrorBoundary||g.route.errorElement||h===0)?z.createElement(hm,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:u(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):u()},null)}var Bd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Bd||{}),Ud=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ud||{});function vm(e){let t=z.useContext(vi);return t||ve(!1),t}function ym(e){let t=z.useContext($d);return t||ve(!1),t}function xm(e){let t=z.useContext(ln);return t||ve(!1),t}function Fd(e){let t=xm(),n=t.matches[t.matches.length-1];return n.route.id||ve(!1),n.route.id}function jm(){var e;let t=z.useContext(Id),n=ym(),r=Fd();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function wm(){let{router:e}=vm(Bd.UseNavigateStable),t=Fd(Ud.UseNavigateStable),n=z.useRef(!1);return Od(()=>{n.current=!0}),z.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Wr({fromRouteId:t},i)))},[e,t])}const ac={};function km(e,t,n){ac[e]||(ac[e]=!0)}function Sm(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Nm(e){let{to:t,replace:n,state:r,relative:s}=e;nr()||ve(!1);let{future:i,static:o}=z.useContext(Tt),{matches:a}=z.useContext(ln),{pathname:c}=rr(),d=Dd(),p=Qo(t,Go(a,i.v7_relativeSplatPath),c,s==="path"),g=JSON.stringify(p);return z.useEffect(()=>d(JSON.parse(g),{replace:n,state:r,relative:s}),[d,g,s,n,r]),null}function Sn(e){ve(!1)}function Cm(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ht.Pop,navigator:i,static:o=!1,future:a}=e;nr()&&ve(!1);let c=t.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:c,navigator:i,static:o,future:Wr({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=tr(r));let{pathname:p="/",search:g="",hash:h="",state:v=null,key:w="default"}=r,y=z.useMemo(()=>{let k=Yn(p,c);return k==null?null:{location:{pathname:k,search:g,hash:h,state:v,key:w},navigationType:s}},[c,p,g,h,v,w,s]);return y==null?null:z.createElement(Tt.Provider,{value:d},z.createElement(yi.Provider,{children:n,value:y}))}function _m(e){let{children:t,location:n}=e;return um(ql(t),n)}new Promise(()=>{});function ql(e,t){t===void 0&&(t=[]);let n=[];return z.Children.forEach(e,(r,s)=>{if(!z.isValidElement(r))return;let i=[...t,s];if(r.type===z.Fragment){n.push.apply(n,ql(r.props.children,i));return}r.type!==Sn&&ve(!1),!r.props.index||!r.props.children||ve(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ql(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ei(){return ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ei.apply(this,arguments)}function Wd(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Em(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Pm(e,t){return e.button===0&&(!t||t==="_self")&&!Em(e)}const Rm=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zm=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Am="6";try{window.__reactRouterVersion=Am}catch{}const Lm=z.createContext({isTransitioning:!1}),Tm="startTransition",cc=Np[Tm];function bm(e){let{basename:t,children:n,future:r,window:s}=e,i=z.useRef();i.current==null&&(i.current=Ih({window:s,v5Compat:!0}));let o=i.current,[a,c]=z.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},p=z.useCallback(g=>{d&&cc?cc(()=>c(g)):c(g)},[c,d]);return z.useLayoutEffect(()=>o.listen(p),[o,p]),z.useEffect(()=>Sm(r),[r]),z.createElement(Cm,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Mm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$m=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Es=z.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:p,viewTransition:g}=t,h=Wd(t,Rm),{basename:v}=z.useContext(Tt),w,y=!1;if(typeof d=="string"&&$m.test(d)&&(w=d,Mm))try{let f=new URL(window.location.href),x=d.startsWith("//")?new URL(f.protocol+d):new URL(d),j=Yn(x.pathname,v);x.origin===f.origin&&j!=null?d=j+x.search+x.hash:y=!0}catch{}let k=am(d,{relative:s}),m=Dm(d,{replace:o,state:a,target:c,preventScrollReset:p,relative:s,viewTransition:g});function u(f){r&&r(f),f.defaultPrevented||m(f)}return z.createElement("a",ei({},h,{href:w||k,onClick:y||i?r:u,ref:n,target:c}))}),Im=z.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:d,children:p}=t,g=Wd(t,zm),h=xi(c,{relative:g.relative}),v=rr(),w=z.useContext($d),{navigator:y,basename:k}=z.useContext(Tt),m=w!=null&&Bm(h)&&d===!0,u=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,f=v.pathname,x=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(f=f.toLowerCase(),x=x?x.toLowerCase():null,u=u.toLowerCase()),x&&k&&(x=Yn(x,k)||x);const j=u!=="/"&&u.endsWith("/")?u.length-1:u.length;let R=f===u||!o&&f.startsWith(u)&&f.charAt(j)==="/",N=x!=null&&(x===u||!o&&x.startsWith(u)&&x.charAt(u.length)==="/"),E={isActive:R,isPending:N,isTransitioning:m},C=R?r:void 0,S;typeof i=="function"?S=i(E):S=[i,R?"active":null,N?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(E):a;return z.createElement(Es,ei({},g,{"aria-current":C,className:S,ref:n,style:M,to:c,viewTransition:d}),typeof p=="function"?p(E):p)});var Yl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yl||(Yl={}));var uc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uc||(uc={}));function Om(e){let t=z.useContext(vi);return t||ve(!1),t}function Dm(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=Dd(),d=rr(),p=xi(e,{relative:o});return z.useCallback(g=>{if(Pm(g,n)){g.preventDefault();let h=r!==void 0?r:Zs(d)===Zs(p);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,c,p,r,s,n,e,i,o,a])}function Bm(e,t){t===void 0&&(t={});let n=z.useContext(Lm);n==null&&ve(!1);let{basename:r}=Om(Yl.useViewTransitionState),s=xi(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Yn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Yn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ql(s.pathname,o)!=null||Ql(s.pathname,i)!=null}const Um={},dc=e=>{let t;const n=new Set,r=(p,g)=>{const h=typeof p=="function"?p(t):p;if(!Object.is(h,t)){const v=t;t=g??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(w=>w(t,v))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(Um?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,s,c);return c},Fm=e=>e?dc(e):dc;var Hd={exports:{}},Vd={},Gd={exports:{}},Qd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kn=z;function Wm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hm=typeof Object.is=="function"?Object.is:Wm,Vm=Kn.useState,Gm=Kn.useEffect,Qm=Kn.useLayoutEffect,qm=Kn.useDebugValue;function Ym(e,t){var n=t(),r=Vm({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return Qm(function(){s.value=n,s.getSnapshot=t,Ki(s)&&i({inst:s})},[e,n,t]),Gm(function(){return Ki(s)&&i({inst:s}),e(function(){Ki(s)&&i({inst:s})})},[e]),qm(n),n}function Ki(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Hm(e,n)}catch{return!0}}function Km(e,t){return t()}var Jm=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Km:Ym;Qd.useSyncExternalStore=Kn.useSyncExternalStore!==void 0?Kn.useSyncExternalStore:Jm;Gd.exports=Qd;var Xm=Gd.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ji=z,Zm=Xm;function eg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tg=typeof Object.is=="function"?Object.is:eg,ng=Zm.useSyncExternalStore,rg=ji.useRef,sg=ji.useEffect,ig=ji.useMemo,lg=ji.useDebugValue;Vd.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=rg(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=ig(function(){function c(v){if(!d){if(d=!0,p=v,v=r(v),s!==void 0&&o.hasValue){var w=o.value;if(s(w,v))return g=w}return g=v}if(w=g,tg(p,v))return w;var y=r(v);return s!==void 0&&s(w,y)?(p=v,w):(p=v,g=y)}var d=!1,p,g,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,s]);var a=ng(e,i[0],i[1]);return sg(function(){o.hasValue=!0,o.value=a},[a]),lg(a),a};Hd.exports=Vd;var og=Hd.exports;const ag=xc(og),qd={},{useDebugValue:cg}=eo,{useSyncExternalStoreWithSelector:ug}=ag;let pc=!1;const dg=e=>e;function pg(e,t=dg,n){(qd?"production":void 0)!=="production"&&n&&!pc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),pc=!0);const r=ug(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return cg(r),r}const fg=e=>{(qd?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Fm(e):e,n=(r,s)=>pg(t,r,s);return Object.assign(n,t),n},Yd=e=>fg,hg={};function mg(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Hr=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Hr(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Hr(r)(n)}}}},gg=(e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,m)=>({...m,...k}),...t},o=!1;const a=new Set,c=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...k)},r,s);const p=Hr(i.serialize),g=()=>{const k=i.partialize({...r()});let m;const u=p({state:k,version:i.version}).then(f=>d.setItem(i.name,f)).catch(f=>{m=f});if(m)throw m;return u},h=s.setState;s.setState=(k,m)=>{h(k,m),g()};const v=e((...k)=>{n(...k),g()},r,s);let w;const y=()=>{var k;if(!d)return;o=!1,a.forEach(u=>u(r()));const m=((k=i.onRehydrateStorage)==null?void 0:k.call(i,r()))||void 0;return Hr(d.getItem.bind(d))(i.name).then(u=>{if(u)return i.deserialize(u)}).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==i.version){if(i.migrate)return i.migrate(u.state,u.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return u.state}).then(u=>{var f;return w=i.merge(u,(f=r())!=null?f:v),n(w,!0),g()}).then(()=>{m==null||m(w,void 0),o=!0,c.forEach(u=>u(w))}).catch(u=>{m==null||m(void 0,u)})};return s.persist={setOptions:k=>{i={...i,...k},k.getStorage&&(d=k.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:k=>(a.add(k),()=>{a.delete(k)}),onFinishHydration:k=>(c.add(k),()=>{c.delete(k)})},y(),w||v},vg=(e,t)=>(n,r,s)=>{let i={storage:mg(()=>localStorage),partialize:y=>y,version:0,merge:(y,k)=>({...k,...y}),...t},o=!1;const a=new Set,c=new Set;let d=i.storage;if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},r,s);const p=()=>{const y=i.partialize({...r()});return d.setItem(i.name,{state:y,version:i.version})},g=s.setState;s.setState=(y,k)=>{g(y,k),p()};const h=e((...y)=>{n(...y),p()},r,s);s.getInitialState=()=>h;let v;const w=()=>{var y,k;if(!d)return;o=!1,a.forEach(u=>{var f;return u((f=r())!=null?f:h)});const m=((k=i.onRehydrateStorage)==null?void 0:k.call(i,(y=r())!=null?y:h))||void 0;return Hr(d.getItem.bind(d))(i.name).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==i.version){if(i.migrate)return[!0,i.migrate(u.state,u.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,u.state];return[!1,void 0]}).then(u=>{var f;const[x,j]=u;if(v=i.merge(j,(f=r())!=null?f:h),n(v,!0),x)return p()}).then(()=>{m==null||m(v,void 0),v=r(),o=!0,c.forEach(u=>u(v))}).catch(u=>{m==null||m(void 0,u)})};return s.persist={setOptions:y=>{i={...i,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},i.skipHydration||w(),v||h},yg=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((hg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),gg(e,t)):vg(e,t),Kd=yg;class xg{constructor(){ki(this,"enabled",!1);ki(this,"storageKey","sidonia-analytics-buffer")}setEnabled(t){this.enabled=t,!(typeof window>"u")&&(t||this.clear())}track(t,n){if(typeof window>"u"||!this.enabled)return;const r={event:t,timestamp:new Date().toISOString(),data:n};try{const s=this.load();s.push(r),localStorage.setItem(this.storageKey,JSON.stringify(s)),console.info("[analytics]",r)}catch(s){console.warn("Analytics storage failed",s)}}getAll(){return typeof window>"u"?[]:this.load()}clear(){typeof window>"u"||localStorage.removeItem(this.storageKey)}load(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){return console.warn("Failed to read analytics buffer",t),[]}}}const ne=new xg,jg="CodexRules!!!!!",vt=Yd()(Kd((e,t)=>({gmUnlocked:!1,gmUnlockedAt:null,analyticsConsent:"unknown",analyticsNotified:!1,authenticateGm:n=>n.trim().toUpperCase()===jg?(e({gmUnlocked:!0,gmUnlockedAt:new Date().toISOString()}),ne.track("gm.unlocked",{}),!0):(ne.track("gm.failed_auth",{attempt:n.trim().length}),!1),lockGm:()=>e({gmUnlocked:!1,gmUnlockedAt:null}),setAnalyticsConsent:n=>{e({analyticsConsent:n?"accepted":"declined"}),ne.setEnabled(n),ne.track("analytics.consent",{granted:n})},markAnalyticsNotified:()=>e({analyticsNotified:!0})}),{name:"sidonia-session-state",version:1,migrate:e=>({gmUnlocked:!1,gmUnlockedAt:null,analyticsConsent:(e==null?void 0:e.analyticsConsent)??"unknown",analyticsNotified:!1})}));function wg(){const e=vt(s=>s.analyticsConsent),t=vt(s=>s.analyticsNotified),n=vt(s=>s.setAnalyticsConsent),r=vt(s=>s.markAnalyticsNotified);return e!=="unknown"||t?null:l.jsxs("aside",{className:"analytics-banner",role:"dialog","aria-live":"polite",children:[l.jsxs("div",{children:[l.jsx("h3",{children:"Help Improve Sidonia"}),l.jsx("p",{children:"We collect anonymous usage patterns (no personal data) to refine the priority flow and uncover confusing choices. You can opt out and still use the builderno pressure."})]}),l.jsxs("div",{className:"analytics-banner__actions",children:[l.jsx("button",{type:"button",onClick:()=>n(!0),children:"Share Anonymous Data"}),l.jsx("button",{type:"button",className:"secondary",onClick:()=>n(!1),children:"No Thanks"}),l.jsx("button",{type:"button",className:"dismiss",onClick:r,children:"Remind Me Later"})]})]})}async function kt(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.status} ${t.statusText}`);const n=await t.text();try{return JSON.parse(n)}catch(r){throw new Error(`Failed to parse JSON from ${e}: ${r.message}`)}}async function kg(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.status} ${t.statusText}`);return await t.text()}const Sg={automata:"/data/Sidonia-Powers-Schema-Automata.Json",chimera:"/data/Sidonia-Powers-Schema-Chimera.Json",espers:"/data/Sidonia-Powers-Schema-Espers.json",neosapiens:"/data/Sidonia-Powers-Schema-NeoSapiens.Json",sorcery:"/data/Sidonia-Powers-Schema-Sorcery.Json"},Ng={automata:"/data/powers-automata.json",chimera:"/data/powers-chimera.json",esper:"/data/powers-esper.json",neosapien:"/data/powers-neosapien.json",sorcery:"/data/powers-sorcery.json"},Cg=[{id:"lineage-architecture",title:"Lineage Architecture",path:"/content/lineage-architecture.md"},{id:"design-philosophy",title:"Sidonia Design Philosophy",path:"/content/sidonia-design-philosophy.md"},{id:"resources-system",title:"Resources System Overview",path:"/content/sidonia-resources-system.md"}];async function _g(){const[e,t,n,r,s,i,o,a,c,d]=await Promise.all([kt("/data/backgrounds.json"),kt("/data/Sidonia-Skills.Json"),kt("/data/resources-system.json"),kt("/data/resource-costs.json"),kt("/data/legal.json"),Eg(),Pg(),kt("/data/attributes.json"),kt("/data/character-sheet-structure.json"),Lg()]),p=zg(a),g=Ag(c);return{backgrounds:e,skills:t,resources:n,resourceCosts:r,legal:s,powerSchemas:i,powerSets:o,attributes:p,characterSheet:g,designDocs:d}}async function Eg(){const e=await Promise.all(Object.entries(Sg).map(async([t,n])=>{const r=await kt(n);return[t,r]}));return Object.fromEntries(e)}async function Pg(){const e=Object.entries(Ng).map(async([r,s])=>{const i=r,o=await kt(s);return[i,Rg(i,o)]}),t=await Promise.allSettled(e),n=[];return t.forEach(r=>{r.status==="fulfilled"?n.push(r.value):console.warn("[sidonia] Failed to load lineage power data:",r.reason)}),Object.fromEntries(n)}function Rg(e,t){const n={...t};return"lineage"in n||(n.lineage=e),n.lineageId=e,n}function zg(e){return e&&typeof e=="object"&&"attributes"in e?e.attributes:e}function Ag(e){return e&&typeof e=="object"&&"characterSheet"in e?e.characterSheet:e}async function Lg(){return await Promise.all(Cg.map(async t=>{const n=await kg(t.path);return{...t,content:n}}))}const Jd=z.createContext(void 0);function Tg({children:e}){const[t,n]=z.useState(null),[r,s]=z.useState("idle"),[i,o]=z.useState(null),a=z.useCallback(async()=>{s("loading"),o(null);try{const d=await _g();n(d),s("ready")}catch(d){s("error"),o(d instanceof Error?d.message:"Unknown data loading error")}},[]);z.useEffect(()=>{a()},[a]);const c=z.useMemo(()=>({data:t,status:r,error:i,refresh:a}),[t,r,i,a]);return l.jsx(Jd.Provider,{value:c,children:e})}function Jr(){const e=z.useContext(Jd);if(!e)throw new Error("useCharacterData must be used within a DataProvider");return e}function bg(){var n,r;const{data:e}=Jr(),t=(n=e==null?void 0:e.legal)==null?void 0:n.copyright;return!t||((r=t.display)==null?void 0:r.footer)===!1?null:l.jsxs("footer",{className:"legal-footer","aria-label":"Legal notice",role:"contentinfo",children:[l.jsx("span",{className:"legal-footer__text",children:t.text}),t.licenseUrl?l.jsx("a",{href:t.licenseUrl,target:"_blank",rel:"noreferrer",className:"legal-footer__link",children:t.license}):l.jsx("span",{className:"legal-footer__link",children:t.license})]})}const Mg=[{to:"/",label:"Experience"},{to:"/builder",label:"Character Builder"},{to:"/management",label:"Character Management"},{to:"/gm",label:"GM Veil"}];function $g({children:e}){return l.jsxs("div",{className:"app-shell",children:[l.jsx("header",{className:"app-shell__header",children:l.jsxs("nav",{className:"app-shell__nav",children:[l.jsx("span",{className:"brand",children:"Sidonia: The Long Night"}),l.jsx("div",{className:"nav-links",children:Mg.map(t=>l.jsx(Im,{to:t.to,className:({isActive:n})=>n?"nav-link active":"nav-link",end:!0,children:t.label},t.to))}),l.jsx("span",{className:"nav-meta",children:"Every choice demands a sacrifice"})]})}),l.jsx("main",{className:"app-shell__main",children:e}),l.jsx(bg,{}),l.jsx(wg,{})]})}function Xd(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Xd(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function de(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Xd(e))&&(r&&(r+=" "),r+=t);return r}const Fe=({variant:e="primary",size:t="md",lineage:n,corrupted:r=!1,className:s,children:i,...o})=>{const a=de("relative font-display tracking-wider uppercase","transition-all duration-300","border-2","hover:shadow-lg active:scale-95","disabled:opacity-50 disabled:cursor-not-allowed","before:absolute before:inset-0","before:bg-gradient-to-r before:from-transparent before:to-transparent","before:opacity-0 hover:before:opacity-10 before:pointer-events-none"),c={primary:de("bg-sidonia-black text-sidonia-gold",n?`border-lineage-${n}`:"border-sidonia-gold",n?`hover:bg-lineage-${n}/10`:"hover:bg-sidonia-gold/10",n?`hover:shadow-lineage-${n}/20`:"hover:shadow-sidonia-gold/20"),secondary:de("bg-sidonia-dark border-sidonia-brass text-sidonia-brass","hover:bg-sidonia-brass/10"),danger:de("bg-sidonia-black border-corruption-red text-corruption-red","hover:bg-corruption-red/10"),ghost:de("bg-transparent border-transparent text-sidonia-text","hover:border-sidonia-gold/50")},d={sm:"px-deco-sm py-1 text-sm",md:"px-deco-md py-2 text-base",lg:"px-deco-lg py-3 text-lg"},p=r?"animate-corruption-glow":"";return l.jsx("button",{className:de(a,c[e],d[t],p,s),...o,children:i})},Ut=({children:e,className:t,title:n,lineage:r,corrupted:s=!1})=>{const i=r?`border-lineage-${r}/30`:"border-sidonia-gold/30",o=r?`border-lineage-${r}`:"border-sidonia-gold";return l.jsxs("div",{className:de("relative bg-sidonia-dark border-2 p-deco-md overflow-hidden",i,"before:absolute before:top-0 before:left-0","before:w-deco-md before:h-deco-md","before:border-t-2 before:border-l-2",`before:${o}`,"after:absolute after:bottom-0 after:right-0","after:w-deco-md after:h-deco-md","after:border-b-2 after:border-r-2",`after:${o}`,s&&"corruption-medium",t),children:[n&&l.jsx("h2",{className:de("font-display text-2xl tracking-[0.2em] uppercase text-center mb-deco-sm relative",r?`text-lineage-${r}`:"text-sidonia-gold",'after:content-[""] after:absolute after:bottom-0 after:left-1/2',"after:transform after:-translate-x-1/2","after:w-16 after:h-px",r?`after:bg-lineage-${r}`:"after:bg-sidonia-gold"),children:n}),e]})};function Ig(){return l.jsx("div",{className:"min-h-screen flex items-center justify-center px-deco-md py-deco-xl",children:l.jsxs("div",{className:"max-w-4xl w-full space-y-deco-lg",children:[l.jsxs("header",{className:"text-center space-y-deco-md",children:[l.jsx("h1",{className:"text-display-lg text-sidonia-gold text-shadow-gold",children:"Character Creation as Descent"}),l.jsx("div",{className:"h-px w-32 mx-auto bg-gradient-to-r from-transparent via-sidonia-gold to-transparent"}),l.jsx("p",{className:"text-body-lg text-sidonia-text max-w-2xl mx-auto leading-relaxed",children:"Step through Sidonia's dark wards with a guide that teaches while it tempts. Assign priorities, face the consequences, and build a persona that balances humanity, power, and the whispers of corruption."})]}),l.jsxs(Ut,{className:"space-y-deco-md",children:[l.jsxs("div",{className:"space-y-deco-sm",children:[l.jsx("p",{className:"text-body text-sidonia-text/90 leading-relaxed",children:"Begin with the priority grid, explore lineage aesthetics, and unlock deeper mechanical truths only when you are ready to commit. Every page layers narrative first and detail second, ensuring newcomers learn through meaningful choice."}),l.jsx("p",{className:"text-body text-sidonia-text/90 leading-relaxed",children:"Continue to the Character Builder to start a new dossier or revisit existing souls you are shepherding through the night."})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-deco-sm pt-deco-md border-t border-sidonia-gold/20",children:[l.jsx(Es,{to:"/builder",className:"block",children:l.jsx(Fe,{variant:"primary",size:"lg",className:"w-full",children:"New Character"})}),l.jsx(Es,{to:"/management",className:"block",children:l.jsx(Fe,{variant:"secondary",size:"lg",className:"w-full",children:"Manage Characters"})}),l.jsx(Es,{to:"/gm",className:"block",children:l.jsx(Fe,{variant:"ghost",size:"lg",className:"w-full",children:"GM Portal"})})]})]}),l.jsxs("blockquote",{className:"text-center",children:[l.jsx("p",{className:"font-display text-xl tracking-wider text-sidonia-muted italic",children:'"Every power has a price. Every choice leaves its mark."'}),l.jsx("footer",{className:"mt-2 text-label",children:" The Republic Archives"})]})]})})}const Zd=[{key:"neosapien",name:"NeoSapien",tagline:"Engineered evolution for those who can pay the tithe.",summary:"The Forge Syndicates will rebuild you into the perfect instrument. Slots determine just how much metal, muscle, and lore they lace into your bones.",priorityImpacts:{A:"Nine augmentation slots; enough to rebuild your body and soul with top-tier Forge miracles.",B:"Seven slots; you are an elite prototype with room to grow.",C:"Six slots; respectable upgrades with compromises lingering beneath the chrome.",D:"Four slots; hand-me-down mods and a favor owed to the Syndicate.",E:"Two slots; scrap work that barely keeps you alive."},narrativeHook:"NeoSapiens look immaculate, but every graft is a debt. Each upgrade ties you tighter to the Forge Families who own the patent on your blood.",gmWhisper:"Every augmentation has a corruption drip. Track how many slots are filled to calibrate the player-facing warning meter.",aesthetic:{accent:"#87f5ff",glow:"linear-gradient(135deg, rgba(120, 220, 255, 0.35), rgba(80, 140, 255, 0.2))",texture:"radial-gradient(circle at 50% 10%, rgba(120, 220, 255, 0.2), transparent 60%)"}},{key:"sorcery",name:"Sorcerer",tagline:"Scholar of the Veil, wielding codified miracles in whispers.",summary:"You read forbidden grimoires in the glow of dying streetlamps. Priorities determine how many spheres you command and how many moves you can safely inscribe.",priorityImpacts:{A:"Primary + 2 Secondary spheres, five total moves etched into your soul.",B:"Primary + Secondary pairing with four rote moves; the classic cabal initiate.",C:"Choose one Primary or two Secondary spheres, three moves scrawled in desperate ink.",D:"One secondary sphere and two moves; a dabbler who still owes their mentor.",E:"One secondary sphere, one move, hope you can bluff the rest."},narrativeHook:"Sorcerers hide sigils within noir newsprint and breathe equations of power. The more spheres you command, the more the city notices.",gmWhisper:"Each move should have a listed cost; use the assigned priority to determine how harsh to set complications.",aesthetic:{accent:"#ffb347",glow:"linear-gradient(160deg, rgba(255, 190, 92, 0.35), rgba(255, 80, 60, 0.25))",texture:"radial-gradient(circle at 70% 30%, rgba(255, 180, 90, 0.18), transparent 60%)"}},{key:"esper",name:"Esper",tagline:"Innate psionics that turn thought into weaponry.",summary:"Gifted at birth or cursed in the womb, Espers bend the city with their minds. Priority sets how refined the template becomes.",priorityImpacts:{A:"Esper Mentalist hybrid  access to both archetype trees from session one.",B:"Esper Prodigy template. Two evolutionary steps unlocked before play.",C:"Mentalist-only channel with powerful focus but brittle sanity.",D:"Gifted Esper who can evolve once with training.",E:"Base Esper template; raw talent that still sputters."},narrativeHook:"Their dreams leak into waking life. Neon bleeds, strangers hear your thoughts, and the city clerk who stamped your ID can suddenly smell the aether.",gmWhisper:"Corruption spikes when Espers overclock. Use template level to gauge safe usage before fractures appear.",aesthetic:{accent:"#f78bff",glow:"linear-gradient(120deg, rgba(255, 120, 220, 0.35), rgba(110, 90, 255, 0.25))",texture:"radial-gradient(circle at 20% 80%, rgba(255, 120, 220, 0.2), transparent 55%)"}},{key:"chimera",name:"Chimera",tagline:"Mutations granted by the citys warring ecosystems.",summary:"You trade humanity for adaptation. Mutation points dictate how many horrors you can graft into your flesh.",priorityImpacts:{A:"Seven mutation points. Become the chimera the wards whisper about.",B:"Five points. The change is obvious, but you can still pass after midnight.",C:"Four points. Enough to gain an edge while keeping a human silhouette.",D:"Three points. Side-effects and stigma follow closely.",E:"Two points. Tattoos of corruption hidden beneath borrowed coats."},narrativeHook:"Chimeras owe fealty to ward totems and feral ecologies. The more points you spend, the more the wild claims you.",gmWhisper:"Mutation tiers should map to resource availability; track total points for corruption bleed-through.",aesthetic:{accent:"#7cff91",glow:"linear-gradient(200deg, rgba(120, 255, 160, 0.35), rgba(40, 180, 120, 0.25))",texture:"radial-gradient(circle at 15% 20%, rgba(120, 255, 160, 0.18), transparent 60%)"}},{key:"automata",name:"Automata",tagline:"Synthetic souls housed in perfected shells.",summary:"You are a machine built for purpose. Priority sets the chassis quality and the branches unlocked.",priorityImpacts:{A:"Imperial chassis with Overseer/Soldier branches unlocked and sovereign protocols.",B:"Advanced military shell; twin branches with limited imperial overrides.",C:"Baseline chassis with soldier safeguards still intact.",D:"Advanced worker frame engineered for hazardous labor.",E:"Basic worker frame, easily replaced and easily overlooked."},narrativeHook:"Automata can swap plating like trench coats. Memory scrubbing is compulsory after each refit.",gmWhisper:"Track how many branches the player exposes. GM mode should reveal firmware locks hidden from the player view.",aesthetic:{accent:"#5ad1ff",glow:"linear-gradient(150deg, rgba(90, 210, 255, 0.35), rgba(40, 80, 200, 0.25))",texture:"radial-gradient(circle at 80% 20%, rgba(90, 210, 255, 0.2), transparent 60%)"}}];function ep(e){return e?Zd.find(t=>t.key===e)??null:null}const cn=({label:e,error:t,className:n,id:r,...s})=>{const i=r||(e==null?void 0:e.toLowerCase().replace(/\s+/g,"-"));return l.jsxs("div",{className:"flex flex-col gap-1",children:[e&&l.jsx("label",{htmlFor:i,className:"text-label",children:e}),l.jsx("input",{id:i,className:de("bg-sidonia-black border text-sidonia-text px-deco-sm py-2","font-body placeholder:text-sidonia-muted","transition-all duration-300","focus:outline-none focus:ring-1",t?"border-corruption-red focus:border-corruption-red focus:ring-corruption-red/20":"border-sidonia-gold/50 focus:border-sidonia-gold focus:ring-sidonia-gold/20",n),...s}),t&&l.jsx("span",{className:"text-corruption-red text-sm font-body",children:t})]})};function Og({build:e,onUpdate:t}){if(!e)return null;const{profile:n,updatedAt:r}=e;return l.jsxs(Ut,{children:[l.jsxs("header",{className:"flex justify-between items-baseline mb-deco-md pb-deco-sm border-b border-sidonia-gold/20",children:[l.jsx("h2",{className:"font-display text-2xl tracking-wider uppercase text-sidonia-gold",children:"Character Dossier"}),l.jsxs("span",{className:"text-label text-sidonia-muted",children:["Auto-saved ",new Date(r).toLocaleString()]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_280px] gap-deco-md items-start",children:[l.jsxs("div",{className:"space-y-deco-sm",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-deco-sm",children:[l.jsx(cn,{label:"Name",value:n.name,onChange:s=>t({name:s.target.value})}),l.jsx(cn,{label:"Alias",value:n.alias,onChange:s=>t({alias:s.target.value})}),l.jsx(cn,{label:"Current Profession",value:n.currentProfession,onChange:s=>t({currentProfession:s.target.value})}),l.jsx(cn,{label:"Ward of Residence",value:n.wardOfResidence,placeholder:"Which ward do they call home?",onChange:s=>t({wardOfResidence:s.target.value})})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-label",children:"Backstory"}),l.jsx("textarea",{value:n.backstory,placeholder:"High-level summary you can hand to a new player or GM.",onChange:s=>t({backstory:s.target.value}),className:`min-h-[100px] bg-sidonia-black border border-sidonia-gold/50 text-sidonia-text
                       px-deco-sm py-2 font-body placeholder:text-sidonia-muted
                       focus:outline-none focus:ring-1 focus:border-sidonia-gold focus:ring-sidonia-gold/20
                       transition-all duration-300 resize-y`})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-label",children:"Physical Description"}),l.jsx("textarea",{value:n.physicalDescription,placeholder:"How do they carry themselves? Distinguishing features?",onChange:s=>t({physicalDescription:s.target.value}),className:`min-h-[100px] bg-sidonia-black border border-sidonia-gold/50 text-sidonia-text
                       px-deco-sm py-2 font-body placeholder:text-sidonia-muted
                       focus:outline-none focus:ring-1 focus:border-sidonia-gold focus:ring-sidonia-gold/20
                       transition-all duration-300 resize-y`})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-label",children:"Code"}),l.jsx("textarea",{value:n.code,placeholder:"What guiding principle can they not compromise?",onChange:s=>t({code:s.target.value}),className:`min-h-[100px] bg-sidonia-black border border-sidonia-gold/50 text-sidonia-text
                       px-deco-sm py-2 font-body placeholder:text-sidonia-muted
                       focus:outline-none focus:ring-1 focus:border-sidonia-gold focus:ring-sidonia-gold/20
                       transition-all duration-300 resize-y`})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-deco-sm",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-label",children:"Line They Will Not Cross"}),l.jsx("textarea",{value:n.lineNotCrossed,placeholder:"The red line that defines them.",onChange:s=>t({lineNotCrossed:s.target.value}),className:`min-h-[100px] bg-sidonia-black border border-sidonia-gold/50 text-sidonia-text
                         px-deco-sm py-2 font-body placeholder:text-sidonia-muted
                         focus:outline-none focus:ring-1 focus:border-sidonia-gold focus:ring-sidonia-gold/20
                         transition-all duration-300 resize-y`})]}),l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("label",{className:"text-label",children:"Temptation"}),l.jsx("textarea",{value:n.temptation,placeholder:"The lure that could make them fall.",onChange:s=>t({temptation:s.target.value}),className:`min-h-[100px] bg-sidonia-black border border-sidonia-gold/50 text-sidonia-text
                         px-deco-sm py-2 font-body placeholder:text-sidonia-muted
                         focus:outline-none focus:ring-1 focus:border-sidonia-gold focus:ring-sidonia-gold/20
                         transition-all duration-300 resize-y`})]})]})]}),l.jsxs("aside",{className:"flex flex-col gap-deco-sm",children:[l.jsx("div",{className:`relative w-full pt-[120%] rounded-lg border-2 border-dashed border-sidonia-gold/40
                        bg-sidonia-black/45 overflow-hidden`,children:n.portraitUrl?l.jsx("img",{src:n.portraitUrl,alt:`${n.name||"Character"} portrait`,className:"absolute top-0 left-0 w-full h-full object-cover"}):l.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-sidonia-muted text-sm font-body",children:"Portrait Pending"})}),l.jsx(cn,{label:"Portrait URL (optional)",value:n.portraitUrl,placeholder:"Link to artwork or leave blank",onChange:s=>t({portraitUrl:s.target.value})})]})]})]})}const Nt=["priorities","lineage","resources","background","skills","attributes","narrative"],Ps=5,Ji=e=>Array.isArray(e)?e.filter(t=>{if(!t||typeof t!="object")return!1;const n=t;return typeof n.id=="string"&&typeof n.lineage=="string"}):[],fc={head:"Head",torso:"Torso",leftArm:"Left Arm",rightArm:"Right Arm",leftLeg:"Left Leg",rightLeg:"Right Leg"},Dg=()=>({lineage:null,resources:null,background:null,skills:null,attributes:null}),Bg=()=>({physique:0,intellect:0,presence:0}),tp=()=>({physique:[],intellect:[],presence:[]}),Ug=()=>({head:{current:3,max:3,scar:""},torso:{current:5,max:5,scar:""},leftArm:{current:4,max:4,scar:""},rightArm:{current:4,max:4,scar:""},leftLeg:{current:4,max:4,scar:""},rightLeg:{current:4,max:4,scar:""}}),Fg={A:3,B:2,C:2,D:1,E:0},Wg=e=>e?Fg[e]:0,Hg=()=>({name:"",alias:"",currentProfession:"",wardOfResidence:"",backstory:"",physicalDescription:"",code:"",lineNotCrossed:"",temptation:"",portraitUrl:""}),Vr=()=>new Date().toISOString(),Mt=e=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${e}-${Math.random().toString(36).slice(2,9)}`,hc=e=>{const t=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`sidonia-${Math.random().toString(36).slice(2,9)}`,n=Vr();return{id:t,label:e||"Unbound Persona",createdAt:n,updatedAt:n,stage:"priorities",profile:Hg(),priorities:Dg(),lineage:{key:null,notes:"",revealMechanics:!1,powers:[]},resources:{contacts:[],retainers:[],properties:[],goods:[],liquid:0,notes:""},background:{title:"",tierNotes:"",contacts:""},skills:{ratings:{},specializations:[],backgroundSpecialization:null,notes:""},attributes:{scores:Bg(),notes:"",specializations:tp()},corruption:{current:0,warning:6,notes:""},advancement:{experience:0,track:"",milestones:""},health:Ug(),narrative:{relationships:[],anchors:"",notes:""},gmNotes:""}},Vg=e=>{const t=Gg(e),n=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`sidonia-${Math.random().toString(36).slice(2,9)}`,r=Vr();return{...t,id:n,label:`${e.label} (Copy)`,createdAt:r,updatedAt:r}},Gg=e=>typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e)),G=(e,t)=>{e(n=>{const r=n.activeBuildId;if(!r)return n;const s=n.builds[r];if(!s)return n;const i=t(s);return i.updatedAt=Vr(),{...n,builds:{...n.builds,[r]:i}}})},U=Yd()(Kd((e,t)=>({builds:{},activeBuildId:null,createBuild:n=>{const r=hc(n);return e(s=>({builds:{...s.builds,[r.id]:r},activeBuildId:r.id})),r.id},ensureActiveBuild:()=>{const{activeBuildId:n}=t();return n&&t().builds[n]?n:t().createBuild()},setActiveBuild:n=>{t().builds[n]&&e({activeBuildId:n})},archiveBuild:n=>{e(r=>{const{[n]:s,...i}=r.builds;return{builds:i,activeBuildId:r.activeBuildId===n?null:r.activeBuildId}})},renameBuild:(n,r)=>{e(s=>{const i=s.builds[n];return i?{...s,builds:{...s.builds,[n]:{...i,label:r,updatedAt:Vr()}}}:s})},duplicateBuild:n=>{const{builds:r}=t(),s=r[n];if(!s)return null;const i=Vg(s);return e(o=>({builds:{...o.builds,[i.id]:i},activeBuildId:i.id})),ne.track("build.duplicated",{}),i.id},resetActiveBuild:()=>{e(n=>{const r=n.activeBuildId;if(!r)return n;const s=n.builds[r];if(!s)return n;const o={...hc(s.label),id:r,createdAt:s.createdAt,updatedAt:Vr()};return ne.track("build.reset",{}),{...n,builds:{...n.builds,[r]:o}}})},updateProfile:n=>{G(e,r=>({...r,profile:{...r.profile,...n}}))},assignPriority:(n,r)=>{G(e,s=>{const i={...s.priorities};return r&&Object.keys(i).forEach(o=>{o!==n&&i[o]===r&&(i[o]=null)}),i[n]=r,{...s,priorities:i}}),ne.track(r?"priority.assigned":"priority.cleared",{category:n,rank:r})},setStage:n=>{G(e,r=>({...r,stage:n})),ne.track("stage.changed",{stage:n})},nextStage:()=>{const{activeBuildId:n,builds:r}=t();if(!n)return;const s=r[n];if(!s)return;const i=Nt.indexOf(s.stage),o=Nt[Math.min(i+1,Nt.length-1)];t().setStage(o)},previousStage:()=>{const{activeBuildId:n,builds:r}=t();if(!n)return;const s=r[n];if(!s)return;const i=Nt.indexOf(s.stage),o=Nt[Math.max(i-1,0)];t().setStage(o)},selectLineage:n=>{G(e,r=>{const s=r.lineage.key===n&&n!==null,i=Ji(r.lineage.powers);return{...r,lineage:{...r.lineage,key:n,revealMechanics:n?r.lineage.revealMechanics:!1,powers:s?i:[]}}}),ne.track("lineage.selected",{lineage:n})},toggleLineageReveal:()=>{G(e,n=>({...n,lineage:{...n.lineage,revealMechanics:!n.lineage.revealMechanics}})),ne.track("lineage.reveal_toggled",{})},updateLineageNotes:n=>{G(e,r=>({...r,lineage:{...r.lineage,notes:n}}))},toggleLineagePower:n=>{G(e,r=>{var d,p;if(!r.lineage.key||r.lineage.key!==n.lineage)return r;const s=Ji(r.lineage.powers),i=n.lineage==="esper",o=s.some(g=>g.id===n.id),a=r.priorities.lineage??null;let c=s;if(o){if(c=c.filter(g=>g.id!==n.id),i&&((d=n.meta)!=null&&d.root)){if(n.kind==="esper-archetype")c=c.filter(g=>{var h,v;return((h=g.meta)==null?void 0:h.root)!==((v=n.meta)==null?void 0:v.root)});else if((p=n.meta)!=null&&p.path){const g=n.meta.path.join("/");c=c.filter(h=>{var w,y,k,m;const v=((y=(w=h.meta)==null?void 0:w.path)==null?void 0:y.join("/"))??"";return((k=h.meta)==null?void 0:k.root)!==((m=n.meta)==null?void 0:m.root)||!v.startsWith(`${g}/`)})}}return{...r,lineage:{...r.lineage,powers:c}}}if(i){const g=n.meta??{},h=g.category;if(n.kind!=="esper-framework-choice")if(n.kind==="esper-archetype"){if(h==="esper-base"&&a==="C"||h==="esper-mentalist"&&!(a==="A"||a==="C"))return r;const v=["sentinel","median","weaver","summoner","linker"],w=["empath","mesmer","siren","dreamer","meta-mind"],y=g.archetype,k=v.includes(y||""),m=w.includes(y||"");a==="A"?k?c=c.filter(u=>{var f;return!v.includes(((f=u.meta)==null?void 0:f.archetype)||"")&&u.kind!=="esper-focus"&&u.kind!=="esper-framework-path"}):m&&(c=c.filter(u=>{var f;return!w.includes(((f=u.meta)==null?void 0:f.archetype)||"")&&u.kind!=="esper-framework-choice"})):c=c.filter(u=>u.lineage!=="esper")}else{const v=g.root;if(!v)return r;const w=Wg(a);if((g.depth??0)>w||!c.some(m=>{var u;return m.kind==="esper-archetype"&&((u=m.meta)==null?void 0:u.root)===v}))return r}}return c=[...c,n],{...r,lineage:{...r.lineage,powers:c}}}),ne.track("lineage.power_toggled",{id:n.id,lineage:n.lineage})},clearLineagePowers:()=>{G(e,n=>({...n,lineage:{...n.lineage,powers:[]}})),ne.track("lineage.powers_cleared",{})},addContactResource:(n={})=>{const r={id:Mt("contact"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,reach:Math.min(Math.max(n.reach??0,0),10),influence:Math.min(Math.max(n.influence??0,0),10)};G(e,s=>({...s,resources:{...s.resources,contacts:[...s.resources.contacts,r]}})),ne.track("resources.contact_added",{})},updateContactResource:(n,r)=>{G(e,s=>({...s,resources:{...s.resources,contacts:s.resources.contacts.map(i=>i.id===n?{...i,...r,reach:r.reach!==void 0?Math.min(Math.max(r.reach,0),10):i.reach,influence:r.influence!==void 0?Math.min(Math.max(r.influence,0),10):i.influence}:i)}}))},removeContactResource:n=>{G(e,r=>({...r,resources:{...r.resources,contacts:r.resources.contacts.filter(s=>s.id!==n)}}))},addRetainerResource:(n={})=>{const r={id:Mt("retainer"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,loyalty:Math.min(Math.max(n.loyalty??0,0),10),competence:Math.min(Math.max(n.competence??0,0),10)};G(e,s=>({...s,resources:{...s.resources,retainers:[...s.resources.retainers,r]}})),ne.track("resources.retainer_added",{})},updateRetainerResource:(n,r)=>{G(e,s=>({...s,resources:{...s.resources,retainers:s.resources.retainers.map(i=>i.id===n?{...i,...r,loyalty:r.loyalty!==void 0?Math.min(Math.max(r.loyalty,0),10):i.loyalty,competence:r.competence!==void 0?Math.min(Math.max(r.competence,0),10):i.competence}:i)}}))},removeRetainerResource:n=>{G(e,r=>({...r,resources:{...r.resources,retainers:r.resources.retainers.filter(s=>s.id!==n)}}))},addPropertyResource:(n={})=>{const r={id:Mt("property"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,tenure:n.tenure??"",zoning:n.zoning??"",ward:n.ward??"",specialization:n.specialization??null};G(e,s=>({...s,resources:{...s.resources,properties:[...s.resources.properties,r]}})),ne.track("resources.property_added",{})},updatePropertyResource:(n,r)=>{G(e,s=>({...s,resources:{...s.resources,properties:s.resources.properties.map(i=>i.id===n?{...i,...r}:i)}}))},removePropertyResource:n=>{G(e,r=>({...r,resources:{...r.resources,properties:r.resources.properties.filter(s=>s.id!==n)}}))},addGoodsResource:(n={})=>{const r={id:Mt("goods"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,quality:Math.min(Math.max(n.quality??0,0),10)};G(e,s=>({...s,resources:{...s.resources,goods:[...s.resources.goods,r]}})),ne.track("resources.goods_added",{})},updateGoodsResource:(n,r)=>{G(e,s=>({...s,resources:{...s.resources,goods:s.resources.goods.map(i=>i.id===n?{...i,...r,quality:r.quality!==void 0?Math.min(Math.max(r.quality,0),10):i.quality}:i)}}))},removeGoodsResource:n=>{G(e,r=>({...r,resources:{...r.resources,goods:r.resources.goods.filter(s=>s.id!==n)}}))},setResourceLiquid:n=>{G(e,r=>({...r,resources:{...r.resources,liquid:Math.max(0,n)}})),ne.track("resources.liquid_set",{value:n})},updateResourceNotes:n=>{G(e,r=>({...r,resources:{...r.resources,notes:n}}))},updateBackground:n=>{G(e,r=>{const s={...r.background,...n},i=typeof n.title=="string"&&n.title!==r.background.title;return{...r,background:s,skills:i?{...r.skills,backgroundSpecialization:null}:r.skills}})},setSkillRating:(n,r)=>{G(e,s=>({...s,skills:{...s.skills,ratings:{...s.skills.ratings,[n]:Math.max(0,r)}}})),ne.track("skills.rating_set",{skillId:n,value:r})},toggleSkillSpecialization:n=>{G(e,r=>{const i=r.skills.specializations.some(o=>o.id===n.id)?r.skills.specializations.filter(o=>o.id!==n.id):[...r.skills.specializations,n];return{...r,skills:{...r.skills,specializations:i}}}),ne.track("skills.specialization_toggled",{id:n.id,type:n.type})},removeSkillSpecialization:n=>{G(e,r=>({...r,skills:{...r.skills,specializations:r.skills.specializations.filter(s=>s.id!==n)}}))},addCustomSkillSpecialization:n=>{const r=n.trim();if(!r)return;const s={id:`custom-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,label:r,type:"custom",gmApproved:!1};G(e,i=>({...i,skills:{...i.skills,specializations:[...i.skills.specializations,s]}})),ne.track("skills.custom_added",{})},markSkillSpecializationApproved:(n,r)=>{G(e,s=>({...s,skills:{...s.skills,specializations:s.skills.specializations.map(i=>i.id===n?{...i,gmApproved:r}:i)}}))},setBackgroundSkillSpecialization:n=>{G(e,r=>({...r,skills:{...r.skills,backgroundSpecialization:n}})),ne.track("skills.background_specialization",{option:n})},updateSkillNotes:n=>{G(e,r=>({...r,skills:{...r.skills,notes:n}}))},setAttributeScore:(n,r)=>{G(e,s=>({...s,attributes:{...s.attributes,scores:{...s.attributes.scores,[n]:Math.min(Ps,Math.max(0,r))}}})),ne.track("attributes.updated",{attribute:n,value:r})},updateAttributeNotes:n=>{G(e,r=>({...r,attributes:{...r.attributes,notes:n}}))},toggleAttributeSpecialization:(n,r)=>{G(e,s=>{const i=s.attributes.specializations??tp(),o=i[n]??[],c=o.includes(r)?o.filter(d=>d!==r):[...o,r];return{...s,attributes:{...s.attributes,specializations:{...i,[n]:c}}}}),ne.track("attributes.specialization_toggled",{attribute:n,specialization:r})},adjustExperience:n=>{G(e,r=>({...r,advancement:{...r.advancement,experience:Math.max(0,r.advancement.experience+n)}})),ne.track("advancement.adjusted",{delta:n})},setExperience:n=>{G(e,r=>({...r,advancement:{...r.advancement,experience:Math.max(0,n)}})),ne.track("advancement.set",{value:n})},updateAdvancement:n=>{G(e,r=>({...r,advancement:{...r.advancement,...n}}))},adjustCorruption:n=>{G(e,r=>({...r,corruption:{...r.corruption,current:Math.max(0,r.corruption.current+n)}})),ne.track("corruption.adjusted",{delta:n})},setCorruption:n=>{G(e,r=>({...r,corruption:{...r.corruption,current:Math.max(0,n)}})),ne.track("corruption.set",{value:n})},updateCorruptionNotes:n=>{G(e,r=>({...r,corruption:{...r.corruption,notes:n}}))},adjustHealth:(n,r)=>{G(e,s=>{const i=s.health[n],o=Math.max(0,Math.min(i.max,i.current+r));return{...s,health:{...s.health,[n]:{...i,current:o}}}}),ne.track("health.adjusted",{location:n,delta:r})},setHealth:(n,r)=>{G(e,s=>{const i=s.health[n];return{...s,health:{...s.health,[n]:{...i,current:Math.max(0,Math.min(i.max,r))}}}}),ne.track("health.set",{location:n,value:r})},updateHealthScar:(n,r)=>{G(e,s=>({...s,health:{...s.health,[n]:{...s.health[n],scar:r}}}))},addRelationship:n=>{n.trim()&&(G(e,r=>({...r,narrative:{...r.narrative,relationships:Array.from(new Set([...r.narrative.relationships,n.trim()]))}})),ne.track("relationship.added",{}))},removeRelationship:n=>{G(e,r=>({...r,narrative:{...r.narrative,relationships:r.narrative.relationships.filter(s=>s!==n)}})),ne.track("relationship.removed",{})},updateAnchors:n=>{G(e,r=>({...r,narrative:{...r.narrative,anchors:n}}))},updateNarrativeNotes:n=>{G(e,r=>({...r,narrative:{...r.narrative,notes:n}}))},updateGmNotes:n=>{G(e,r=>({...r,gmNotes:n}))}}),{name:"sidonia-character-builder",version:7,migrate:(e,t)=>{if(!e||typeof e!="object")return e;const n=d=>{const p=d??{};return{physique:typeof p.physique=="number"?p.physique:typeof p.grit=="number"?p.grit:0,intellect:typeof p.intellect=="number"?p.intellect:typeof p.guile=="number"?p.guile:0,presence:typeof p.presence=="number"?p.presence:typeof p.gravitas=="number"?p.gravitas:0}},r=d=>{const p=d??{};return{physique:Array.isArray(p.physique)?p.physique:[],intellect:Array.isArray(p.intellect)?p.intellect:[],presence:Array.isArray(p.presence)?p.presence:[]}},s=d=>{const p=d??{};return{name:typeof p.name=="string"?p.name:"",alias:typeof p.alias=="string"?p.alias:"",currentProfession:typeof p.currentProfession=="string"?p.currentProfession:typeof p.pronouns=="string"?p.pronouns:"",wardOfResidence:typeof p.wardOfResidence=="string"?p.wardOfResidence:typeof p.concept=="string"?p.concept:"",backstory:typeof p.backstory=="string"?p.backstory:typeof p.summary=="string"?p.summary:"",physicalDescription:typeof p.physicalDescription=="string"?p.physicalDescription:"",code:typeof p.code=="string"?p.code:"",lineNotCrossed:typeof p.lineNotCrossed=="string"?p.lineNotCrossed:"",temptation:typeof p.temptation=="string"?p.temptation:"",portraitUrl:typeof p.portraitUrl=="string"?p.portraitUrl:""}},i=d=>{const p=d??{};return p.ratings&&p.specializations&&p.backgroundSpecialization!==void 0?{ratings:p.ratings,specializations:Array.isArray(p.specializations)?p.specializations:[],backgroundSpecialization:p.backgroundSpecialization??null,notes:typeof p.notes=="string"?p.notes:""}:{ratings:(Array.isArray(p.focus)?p.focus:[]).reduce((v,w)=>(v[w]=1,v),{}),specializations:[],backgroundSpecialization:null,notes:typeof p.notes=="string"?p.notes:""}},o=d=>{const p=d??{},g=Ji(p.powers);return{key:p.key??null,notes:typeof p.notes=="string"?p.notes:"",revealMechanics:!!p.revealMechanics,powers:g}},a=d=>{var x;const p=d??{},g=(j,R)=>({id:j.id??Mt(`contact-${R}`),name:j.name??"",description:j.description??j.notes??"",gmApproved:j.gmApproved??!1,specialization:j.specialization??null,reach:typeof j.reach=="number"?j.reach:0,influence:typeof j.influence=="number"?j.influence:0}),h=(j,R)=>({id:j.id??Mt(`retainer-${R}`),name:j.name??"",description:j.description??j.notes??"",gmApproved:j.gmApproved??!1,specialization:j.specialization??null,loyalty:typeof j.loyalty=="number"?j.loyalty:0,competence:typeof j.competence=="number"?j.competence:0}),v=(j,R)=>({id:j.id??Mt(`property-${R}`),name:j.name??"",description:j.description??j.notes??"",gmApproved:j.gmApproved??!1,tenure:j.tenure??"",zoning:j.zoning??"",ward:j.ward??"",specialization:j.specialization??null}),w=(j,R)=>({id:j.id??Mt(`goods-${R}`),name:j.name??"",description:j.description??j.notes??"",gmApproved:j.gmApproved??!1,specialization:j.specialization??null,quality:typeof j.quality=="number"?j.quality:0}),y=Array.isArray(p.contacts)?p.contacts.map((j,R)=>g(j,R)):[],k=Array.isArray(p.retainers)?p.retainers.map((j,R)=>h(j,R)):[],m=Array.isArray(p.properties)?p.properties.map((j,R)=>v(j,R)):[],u=Array.isArray(p.goods)?p.goods.map((j,R)=>w(j,R)):[],f=typeof p.liquid=="number"?p.liquid:typeof((x=p.allocations)==null?void 0:x.liquid)=="number"?p.allocations.liquid:0;return{contacts:y,retainers:k,properties:m,goods:u,liquid:f,notes:typeof p.notes=="string"?p.notes:""}},c=Object.fromEntries(Object.entries(e.builds??{}).map(([d,p])=>{var m,u,f;const g=p,h={scores:n((m=g.attributes)==null?void 0:m.scores),notes:typeof((u=g.attributes)==null?void 0:u.notes)=="string"?g.attributes.notes:"",specializations:r((f=g.attributes)==null?void 0:f.specializations)},v=i(g.skills),w=o(g.lineage),y=a(g.resources),k={...g,profile:s(g.profile),lineage:w,resources:y,skills:v,attributes:h};return[d,k]}));return{...e,builds:c}}})),Qg={priorities:{label:"Priorities",description:"Assign each letter to a pillar to set your fate."},lineage:{label:"Lineage",description:"Choose what you are and reveal the aesthetic."},resources:{label:"Resources",description:"Distribute wealth, favors, and territory."},background:{label:"Background",description:"Capture the story that forged you."},skills:{label:"Skills",description:"Highlight expertise and specializations."},attributes:{label:"Attributes",description:"Split your innate edge across three pillars."},narrative:{label:"Narrative",description:"Track corruption, wounds, and relationships."}};function qg({current:e,onNavigate:t}){const n=Nt.indexOf(e),r=Math.round((n+1)/Nt.length*100);return l.jsxs("nav",{className:"flex flex-col gap-deco-sm mb-deco-md","aria-label":"Character builder stages",children:[l.jsx("div",{className:"h-1.5 rounded-full bg-sidonia-dark/50 overflow-hidden border border-sidonia-gold/20",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-sidonia-gold to-sidonia-brass transition-all duration-500 ease-out",style:{width:`${r}%`}})}),l.jsx("ul",{className:"flex flex-wrap gap-3 list-none p-0 m-0",children:Nt.map(s=>{const i=Qg[s],o=Nt.indexOf(s),a=o===n,c=o<n,d=o>n;return l.jsx("li",{className:"flex-1 min-w-[180px]",children:l.jsxs("button",{type:"button",onClick:()=>t(s),className:de("w-full px-deco-sm py-3 rounded-lg border-2 text-left","flex flex-col gap-1 transition-all duration-300","bg-sidonia-dark/75 backdrop-blur-sm",a&&"border-sidonia-gold shadow-lg shadow-sidonia-gold/20 -translate-y-0.5",c&&"border-sidonia-gold/40 hover:border-sidonia-gold/60",d&&"border-sidonia-muted/30 hover:border-sidonia-muted/50","hover:bg-sidonia-dark"),children:[l.jsx("span",{className:de("font-display text-sm tracking-wider uppercase",a&&"text-sidonia-gold",c&&"text-sidonia-brass",d&&"text-sidonia-muted"),children:i.label}),l.jsx("span",{className:"text-xs text-sidonia-text/70 font-body",children:i.description})]})},s)})})]})}const mc=["A","B","C","D","E"],Yg={lineage:{title:"Lineage",intro:"What are you? Determines the supernatural path and aesthetic layer.",detail:"Higher priority unlocks stronger chassis, spheres, mutation points, or Esper templates. Lower priority keeps you closer to human but limits your edge."},resources:{title:"Resources",intro:"What do you own? Contacts, territories, retainers, liquid wealth.",detail:"Priority sets your Resource Points pool and maximum quality. Use it to buy properties, networks, and gear. Higher ranks unlock elite holdings."},background:{title:"Background",intro:"Who were you? Establishes influence, narrative permissions, and synergies.",detail:"Higher priority backgrounds stretch across the city, offering automatic specializations and better resource synergies."},skills:{title:"Skills",intro:"What do you know? Disciplines and specializations that show lived experience.",detail:"Priority sets how many disciplines you master. Focus areas gain bonus dice and teach players where they shine."},attributes:{title:"Attributes",intro:"What is innate? Only three pillars define your core capability.",detail:"Allocate attribute dice based on priority. The higher the rank, the sharper your raw edge."}};function Kg({priorities:e,onSelect:t,onClear:n}){const r=new Set(Object.values(e).filter(Boolean).map(s=>s));return l.jsxs("section",{className:"priority-matrix","aria-label":"Priority assignment grid",children:[l.jsxs("header",{className:"priority-matrix__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Priority Grid"}),l.jsx("p",{children:"Assign each letter exactly once. Sidonia rewards focus and makes you pay for it elsewhere. Tap a letter to slot it into a category; tap the category badge to clear it."})]}),l.jsx("ul",{className:"priority-matrix__legend",children:mc.map(s=>l.jsxs("li",{className:r.has(s)?"used":"",children:[l.jsx("span",{className:"priority-matrix__rank",children:s}),l.jsxs("span",{className:"priority-matrix__tag",children:[s==="A"&&"Signature move",s==="B"&&"Favored",s==="C"&&"Balanced",s==="D"&&"Compromised",s==="E"&&"Sacrifice"]})]},s))})]}),l.jsx("div",{className:"priority-matrix__grid",role:"table",children:Object.entries(Yg).map(([s,i])=>{const o=s,a=e[o];return l.jsxs("article",{className:"priority-matrix__row",role:"row",children:[l.jsxs("div",{className:"priority-matrix__info",role:"cell",children:[l.jsxs("button",{type:"button",className:`priority-matrix__category ${a?"has-selection":""}`,onClick:()=>n==null?void 0:n(o),children:[l.jsx("span",{className:"priority-matrix__category-title",children:i.title}),l.jsx("span",{className:"priority-matrix__selection",children:a??""})]}),l.jsx("p",{className:"priority-matrix__intro",children:i.intro}),l.jsxs("details",{children:[l.jsx("summary",{children:"Why it matters"}),l.jsx("p",{children:i.detail})]})]}),l.jsx("div",{className:"priority-matrix__choices",role:"cell",children:mc.map(c=>{const d=a===c,p=!d&&r.has(c);return l.jsx("button",{type:"button",className:`priority-matrix__choice ${d?"selected":""}`,disabled:p,onClick:()=>t(o,c),children:c},c)})})]},o)})})]})}function Jg({priorities:e,onSelect:t,onClear:n}){const s=Object.values(e).filter(Boolean).length===Object.keys(e).length;return l.jsxs("div",{className:"stage stage--priorities",children:[l.jsx(Kg,{priorities:e,onSelect:t,onClear:n}),l.jsx("footer",{className:"stage__footer",children:l.jsx("p",{children:s?"Every letter is spoken for. Advance to Lineage to let the city brand you.":"You still have letters to place. Each sacrifice reveals a different facet of Sidonia."})})]})}const Xg={A:9,B:7,C:6,D:4,E:2},Zg={A:7,B:5,C:4,D:3,E:2},gc={A:{primary:1,secondary:2,moves:5},B:{primary:1,secondary:1,moves:4},C:{primary:1,secondary:2,moves:3,note:"Priority C may exchange the primary sphere for a second secondary sphere."},D:{primary:0,secondary:1,moves:2},E:{primary:0,secondary:1,moves:1}},ev={A:0,B:2,C:2,D:1,E:0},tv={A:"Priority A: Choose one Esper archetype (base only) and one Mentalist archetype with full framework.",B:"Priority B: Esper prodigy  evolve two steps beyond the baseline.",C:"Priority C: Begin as a Mentalist. Select framework paths to define focus.",D:"Priority D: Gifted Esper  evolve one step beyond baseline talents.",E:"Priority E: Base Esper talents unlocked."},ht=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),Xi=(e,t,n)=>t?e[t]:n;function nv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"tiers"in n)}function rv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"tiers"in n)}function sv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"sphere"in n)}function iv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"archetype"in n)}function lv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"chassis"in n)}function $t(e,t){return e?l.jsxs("div",{className:"power-description",children:[e.short&&l.jsx("p",{children:e.short}),t&&e.player&&l.jsx("p",{className:"power-description__detail",children:e.player}),e.flaw&&l.jsxs("p",{className:"power-description__detail power-description__flaw",children:["Flaw: ",e.flaw]}),e.outcomes&&l.jsx("ul",{className:"power-description__outcomes",children:Object.entries(e.outcomes).map(([n,r])=>l.jsxs("li",{children:[l.jsx("strong",{children:n}),l.jsx("span",{children:r})]},n))})]}):null}function ov({lineage:e,powerData:t,gmEnabled:n,lineagePriority:r,selections:s,onToggleSelection:i,onClearSelections:o}){var d,p,g,h,v,w,y;if(!e)return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsx("h3",{children:"Lineage Powers"}),l.jsx("p",{children:"Select a lineage to preview its signature powers, moves, and upgrades."})]});if(!t)return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsx("h3",{children:"Lineage Powers"}),l.jsx("p",{children:"Power data for this lineage is not yet available."})]});const a=s.filter(k=>k.lineage===e);z.useMemo(()=>new Map(a.map(k=>[k.id,k])),[a]);const c=new Set(a.map(k=>k.id));if(e==="neosapien"&&nv(t)){const k=Xi(Xg,r,0),m=a.reduce((j,R)=>{var N;return j+(((N=R.meta)==null?void 0:N.slots)??0)},0),u=a.reduce((j,R)=>{var N;return j+(((N=R.meta)==null?void 0:N.permanentCorruption)??0)},0),f=k>0&&m>k,x=j=>{var E;const R=c.has(j.id),N=(E=j.meta)==null?void 0:E.root;!R&&N&&a.filter(S=>{var M;return((M=S.meta)==null?void 0:M.root)===N&&S.id!==j.id}).forEach(S=>{i(S)}),i(j)};return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Augment Catalog"}),l.jsx("p",{children:"Slot-based upgrades ranging from street scraps to imperial artistry."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Slots Used"}),l.jsxs("strong",{children:[m,k?` / ${k}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Permanent Corruption"}),l.jsx("strong",{children:u})]}),f&&l.jsx("p",{className:"lineage-power-summary__warning",children:"Slot budget exceeded. Adjust selections or raise lineage priority."}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),l.jsx("div",{className:"lineage-powers-grid",children:t.powers.map(j=>{var C,S,M,B,W;const R=j.id??ht(j.name??"augment"),N=((M=(S=(C=j.tiers)==null?void 0:C.tier1)==null?void 0:S.description)==null?void 0:M.short)??((W=(B=Object.values(j.tiers??{})[0])==null?void 0:B.description)==null?void 0:W.short)??"No description available",E=a.some(Q=>{var K;return((K=Q.meta)==null?void 0:K.root)===R});return l.jsxs("details",{className:`lineage-power-card${E?" lineage-power-card--has-selection":""}`,open:E,children:[l.jsx("summary",{children:l.jsxs("div",{className:"lineage-power-card__summary",children:[l.jsx("h4",{children:j.name}),l.jsx("p",{className:"lineage-power-card__short-desc",children:N})]})}),l.jsx("div",{className:"lineage-power-card__body",children:Object.entries(j.tiers??{}).map(([Q,K])=>{const F=K.id??`${R}-${ht(Q)}`,J=K.tier??1,T={id:F,lineage:"neosapien",label:`${j.name}  Tier ${J}`,kind:"neosapien-augment",meta:{root:R,parent:R,path:[R,Q],depth:1,slots:J,permanentCorruption:J,category:j.category,tierLabel:`Tier ${J}`}},$=c.has(T.id),L=`lineage-power-tier${$?" lineage-power-tier--selected":""}`,b=`power-toggle power-toggle--radio${$?" power-toggle--active":""}`;return l.jsxs("div",{className:L,children:[l.jsxs("div",{className:"lineage-power-tier__header",children:[l.jsxs("div",{className:"lineage-power-tier__info",children:[l.jsxs("span",{className:"badge badge--tier",children:["Tier ",J]}),l.jsxs("span",{className:"lineage-power-tier__cost",children:[J," Slot",J===1?"":"s","  ",J," Corruption"]})]}),l.jsx("button",{type:"button",className:b,onClick:()=>x(T),"aria-label":$?`Deselect Tier ${J}`:`Select Tier ${J}`,children:$?"":""})]}),$t(K.description,n)]},F)})})]},j.id??j.name)})})]})}if(e==="chimera"&&rv(t)){const k=Xi(Zg,r,0),m=a.reduce((N,E)=>{var C;return N+(((C=E.meta)==null?void 0:C.mutationPoints)??0)},0),u=a.reduce((N,E)=>{var C;return N+(((C=E.meta)==null?void 0:C.permanentCorruption)??0)},0),f=k>0&&m>k,x=t.powers.filter(N=>{var E;return(E=N.tags)==null?void 0:E.includes("core")}),j=t.powers.filter(N=>{var E;return!((E=N.tags)!=null&&E.includes("core"))}),R=N=>{var S;const E=c.has(N.id),C=(S=N.meta)==null?void 0:S.root;!E&&C&&a.filter(B=>{var W;return((W=B.meta)==null?void 0:W.root)===C&&B.id!==N.id}).forEach(B=>{i(B)}),i(N)};return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Mutation Catalogue"}),l.jsx("p",{children:"Spend mutation points to embrace the city's wild ecologies."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Mutation Points"}),l.jsxs("strong",{children:[m,k?` / ${k}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Permanent Corruption"}),l.jsx("strong",{children:u})]}),f&&l.jsx("p",{className:"lineage-power-summary__warning",children:"Mutation budget exceeded. Remove selections or adjust priority."}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),x.length>0&&l.jsxs("section",{className:"lineage-core-mutations",children:[l.jsx("h4",{children:"Core Mutations  All Chimera Possess These"}),l.jsx("div",{className:"lineage-core-mutations-list",children:x.map(N=>{var C,S,M,B,W;const E=((M=(S=(C=N.tiers)==null?void 0:C.tier1)==null?void 0:S.description)==null?void 0:M.short)??((W=(B=Object.values(N.tiers??{})[0])==null?void 0:B.description)==null?void 0:W.short)??"Core mutation";return l.jsxs("div",{className:"core-mutation-card",children:[l.jsx("h5",{children:N.name}),l.jsx("p",{children:E})]},N.id??N.name)})})]}),l.jsx("div",{className:"lineage-powers-grid",children:j.map(N=>{var M,B,W,Q,K;const E=N.id??ht(N.name??"mutation"),C=((W=(B=(M=N.tiers)==null?void 0:M.tier1)==null?void 0:B.description)==null?void 0:W.short)??((K=(Q=Object.values(N.tiers??{})[0])==null?void 0:Q.description)==null?void 0:K.short)??"No description available",S=a.some(F=>{var J;return((J=F.meta)==null?void 0:J.root)===E});return l.jsxs("details",{className:`lineage-power-card${S?" lineage-power-card--has-selection":""}`,open:S,children:[l.jsx("summary",{children:l.jsxs("div",{className:"lineage-power-card__summary",children:[l.jsx("h4",{children:N.name}),l.jsx("p",{className:"lineage-power-card__short-desc",children:C})]})}),l.jsx("div",{className:"lineage-power-card__body",children:Object.entries(N.tiers??{}).map(([F,J])=>{const T=J.id??`${E}-${ht(F)}`,$=J.tier??1,L={id:T,lineage:"chimera",label:`${N.name}  Tier ${$}`,kind:"chimera-mutation",meta:{root:E,parent:E,path:[E,F],depth:1,mutationPoints:$,permanentCorruption:$,category:N.category,tierLabel:`Tier ${$}`}},b=c.has(L.id),H=`lineage-power-tier${b?" lineage-power-tier--selected":""}`,q=`power-toggle power-toggle--radio${b?" power-toggle--active":""}`;return l.jsxs("div",{className:H,children:[l.jsxs("div",{className:"lineage-power-tier__header",children:[l.jsxs("div",{className:"lineage-power-tier__info",children:[l.jsxs("span",{className:"badge badge--tier",children:["Tier ",$]}),l.jsxs("span",{className:"lineage-power-tier__cost",children:[$," MP  ",$," Corruption"]})]}),l.jsx("button",{type:"button",className:q,onClick:()=>R(L),"aria-label":b?`Deselect Tier ${$}`:`Select Tier ${$}`,children:b?"":""})]}),$t(J.description,n)]},T)})})]},N.id??N.name)})})]})}if(e==="sorcery"&&sv(t)){const k=Xi(gc,r,{primary:0,secondary:0,moves:0}),m=a.filter(C=>C.kind==="sorcery-sphere-primary").length,u=a.filter(C=>C.kind==="sorcery-sphere-secondary").length,f=a.filter(C=>C.kind==="sorcery-move").length,x=r?gc[r].note:void 0,j=new Set(a.filter(C=>C.kind==="sorcery-sphere-primary"||C.kind==="sorcery-sphere-secondary").map(C=>{var S;return(S=C.meta)==null?void 0:S.sphere}).filter(C=>!!C)),R=C=>{var B;const S=c.has(C.id),M=(B=C.meta)==null?void 0:B.sphere;S&&M&&a.filter(Q=>{var K;return Q.kind==="sorcery-move"&&((K=Q.meta)==null?void 0:K.sphere)===M}).forEach(Q=>{i(Q)}),i(C)},N={Creation:"Manifest matter and energy from the Aether, bringing the unreal into reality.",Destruction:"Unmake and dissolve, returning solid form to primordial chaos.",Transformation:"Reshape existing matter, altering form and substance through will.",Mind:"Touch thoughts, memories, and the psyche of sentient beings.",Time:"Glimpse past and future, or stretch and compress the flow of moments.",Space:"Bend distance, fold reality, and traverse the impossible.",Life:"Mend flesh, accelerate growth, or drain vitality from the living.",Death:"Command spirits, commune with the departed, and channel entropic energies.",Fate:"Perceive probabilities, nudge destiny, and read the threads of chance.",Protection:"Weave wards and barriers against physical and supernatural threats."},E=t.powers.reduce((C,S)=>{const M=S.sphereTier??"unknown",B=S.sphere??"Unknown Sphere";return C[M]||(C[M]={}),C[M][B]||(C[M][B]=[]),C[M][B].push(S),C},{});return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Sphere Library"}),l.jsx("p",{children:"Primary and secondary spheres unlock ritual moves and narrative permissions."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Primary Spheres"}),l.jsxs("strong",{children:[m,k.primary?` / ${k.primary}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Secondary Spheres"}),l.jsxs("strong",{children:[u,k.secondary?` / ${k.secondary}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Moves"}),l.jsxs("strong",{children:[f,k.moves?` / ${k.moves}`:""]})]}),x&&l.jsx("p",{className:"lineage-power-summary__note",children:x}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),l.jsx("div",{className:"lineage-powers-columns",children:["primary","secondary"].map(C=>{const S=E[C]??{};return Object.keys(S).length===0?null:l.jsxs("div",{className:"sphere-column",children:[l.jsx("h4",{className:"sphere-column__heading",children:C==="primary"?"Primary Spheres":"Secondary Spheres"}),Object.entries(S).map(([M,B])=>{const W=`${C}-${ht(M)}`,Q=C==="primary"?"sorcery-sphere-primary":"sorcery-sphere-secondary",K={id:W,lineage:"sorcery",label:`${C==="primary"?"Primary":"Secondary"} Sphere  ${M}`,kind:Q,meta:{sphere:M,root:W,path:[W],depth:0,tierLabel:C==="primary"?"Primary Sphere":"Secondary Sphere"}},F=c.has(K.id),J=`sphere-card${F?" sphere-card--selected":""}`,T=`power-toggle${F?" power-toggle--active":""}`,$=N[M]||"A sphere of sorcerous power.",L=j.has(M);return l.jsxs("details",{className:J,open:F,children:[l.jsx("summary",{children:l.jsxs("div",{className:"sphere-card__summary",children:[l.jsxs("div",{children:[l.jsx("h5",{children:M}),l.jsx("p",{className:"sphere-card__description",children:$})]}),l.jsx("button",{type:"button",className:T,onClick:b=>{b.preventDefault(),R(K)},children:F?"Selected":"Select Sphere"})]})}),!L&&l.jsx("p",{className:"sphere-prerequisite-message",children:"Select this sphere to unlock its moves."}),l.jsx("ul",{className:"power-list",children:B.map(b=>{const H=b.id??ht(b.name??"move"),q={id:H,lineage:"sorcery",label:`${b.name??"Move"} (${M})`,kind:"sorcery-move",meta:{moveType:b.moveType,sphere:M,root:W,parent:W,path:[W,H],depth:1}},V=c.has(q.id),se=!L,D=`power-list__item${V?" power-list__item--selected":""}${se?" power-list__item--disabled":""}`,ie=`power-toggle${V?" power-toggle--active":""}`;return l.jsxs("li",{className:D,children:[l.jsxs("div",{className:"power-list__header",children:[l.jsxs("div",{children:[l.jsx("strong",{children:b.name}),b.moveType&&l.jsx("span",{className:"badge badge--type",children:b.moveType})]}),l.jsx("button",{type:"button",className:ie,onClick:()=>{se||i(q)},disabled:se,title:se?"Select the sphere first":void 0,children:V?"Selected":"Add"})]}),$t(b.description,n),b.outcomes&&Object.keys(b.outcomes).length>0&&l.jsx("div",{className:"power-outcomes",children:Object.entries(b.outcomes).map(([Ee,X])=>l.jsxs("div",{children:[l.jsxs("strong",{children:[Ee,":"]})," ",X]},Ee))})]},H)})})]},W)})]},C)})})]})}if(e==="esper"&&iv(t)){const k=r?tv[r]:void 0,m=r?ev[r]:0,u=["sentinel","median","weaver","summoner","linker"],f=["empath","mesmer","siren","dreamer","meta-mind"],x=t.powers.filter(L=>u.includes(L.archetype??"")),j=t.powers.filter(L=>f.includes(L.archetype??"")||L.archetype==="foundational"),R=r==="A",N=L=>{const H=L.split(".")[0];return x.filter(q=>{const V=q.path??"";return V===H||L.startsWith(V+".")||V===L}).sort((q,V)=>(q.evolutionStage??0)-(V.evolutionStage??0))},C=a.filter(L=>{var b;return(L.kind==="esper-archetype"||L.kind==="esper-focus"||L.kind==="esper-framework-path")&&u.includes(((b=L.meta)==null?void 0:b.archetype)??"")}).sort((L,b)=>{var V,se;const H=((V=L.meta)==null?void 0:V.depth)??0;return(((se=b.meta)==null?void 0:se.depth)??0)-H})[0],S=(p=(d=C==null?void 0:C.meta)==null?void 0:d.path)==null?void 0:p.join("."),M=S==null?void 0:S.split(".")[0],B=(L,b)=>{var se;const H=L.split("."),q=H[0],V={id:`esper-path-${L}`,lineage:"esper",label:`${(se=L.split(".").pop())==null?void 0:se.replace(/-/g," ")} (Evolution Stage ${b})`,kind:b===0?"esper-archetype":b===1?"esper-focus":"esper-framework-path",meta:{archetype:q,path:H,depth:b,root:q}};!S||M!==q?a.filter(D=>D.kind==="esper-archetype"||D.kind==="esper-focus"||D.kind==="esper-framework-path").forEach(D=>i(D)):b>0&&a.filter(D=>{var ie;return(D.kind==="esper-focus"||D.kind==="esper-framework-path")&&((ie=D.meta)==null?void 0:ie.root)===q}).forEach(D=>i(D)),i(V)},W=()=>{if(S){const b=N(S),H=S.split(".").length-1;return l.jsxs("div",{className:"esper-evolution-section",children:[l.jsx("h4",{children:"Esper Evolution Path"}),l.jsxs("p",{className:"section-description",children:["Selected: ",S.split(".").map(q=>q.replace(/-/g," ").replace(/\b\w/g,V=>V.toUpperCase())).join("  ")]}),l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Change Path"}),l.jsxs("div",{className:"lineage-power-card",children:[l.jsxs("h5",{children:["All Powers for This Path (",b.length," total)"]}),l.jsx("ul",{className:"power-list",children:b.map(q=>{const V=q.id??ht(q.name??"power");return l.jsxs("li",{className:"power-list__item power-list__item--granted",children:[l.jsx("div",{className:"power-list__header",children:l.jsxs("div",{children:[l.jsx("strong",{children:q.name}),l.jsxs("span",{className:"badge",children:["Stage ",q.evolutionStage]}),l.jsx("span",{className:"badge",children:q.moveType})]})}),$t(q.description,n)]},V)})}),H<m&&l.jsxs("div",{className:"evolution-options",children:[l.jsx("h6",{children:"Available Evolutions"}),(()=>{const q=new Set(x.filter(V=>{const se=V.path??"";return(V.evolutionStage??0)===H+1&&se.startsWith(S+".")}).map(V=>V.path??""));return Array.from(q).map(V=>{const se=V.split(".").pop()??"",D=N(V).length;return l.jsxs("button",{type:"button",className:"power-toggle",onClick:()=>B(V,H+1),children:["Evolve to ",se.replace(/-/g," ").replace(/\b\w/g,ie=>ie.toUpperCase())," (+",D-b.length," powers)"]},V)})})()]})]})]})}const L=x.reduce((b,H)=>{const q=H.archetype??"Unknown";return b[q]||(b[q]=[]),b[q].push(H),b},{});return l.jsxs("div",{className:"esper-evolution-section",children:[l.jsx("h4",{children:"Choose Esper Archetype"}),l.jsx("p",{className:"section-description",children:"Select a starting archetype. You can evolve further based on your priority."}),l.jsx("div",{className:"lineage-powers-grid",children:Object.entries(L).map(([b,H])=>{const q=H.filter(se=>se.evolutionStage===0),V=q.length;return l.jsxs("div",{className:"lineage-power-card",children:[l.jsx("h5",{children:b.charAt(0).toUpperCase()+b.slice(1)}),l.jsxs("p",{className:"archetype-description",children:[V," base ",V===1?"power":"powers"]}),l.jsxs("details",{className:"power-preview",children:[l.jsx("summary",{children:"View Base Powers"}),l.jsx("ul",{className:"power-list",children:q.map(se=>{var D;return l.jsxs("li",{className:"power-list__item",children:[l.jsx("strong",{children:se.name})," (",se.moveType,")",((D=se.description)==null?void 0:D.short)&&l.jsx("p",{className:"power-description__short",children:se.description.short})]},se.id)})})]}),l.jsxs("button",{type:"button",className:"power-toggle power-toggle--primary",onClick:()=>B(b,0),children:["Select ",b.charAt(0).toUpperCase()+b.slice(1)]})]},b)})})]})},Q=(h=(g=a.find(L=>{var b;return L.kind==="esper-archetype"&&f.includes(((b=L.meta)==null?void 0:b.archetype)??"")}))==null?void 0:g.meta)==null?void 0:h.archetype,K=a.find(L=>L.kind==="esper-framework-choice"&&(L.id==="receiver-configuration"||L.id==="influencer-configuration")),F=a.find(L=>L.kind==="esper-framework-choice"&&(L.id==="targeted-scope"||L.id==="aural-scope")),J=R||r==="C"||Q!==void 0,T=!r||r!=="C",$=()=>{var V,se;const L=j.filter(D=>D.archetype==="foundational"),b=L.filter(D=>{var ie;return(ie=D.path)==null?void 0:ie.includes("polarity")}),H=L.filter(D=>{var ie;return(ie=D.path)==null?void 0:ie.includes("scope")});if(Q){const D=j.filter(X=>X.archetype===Q),ie=Q==="meta-mind",Ee=[];if(K){const X=K.id==="receiver-configuration"?"receiver":K.id==="influencer-configuration"?"influencer":"",$e=D.find(ae=>{var le,he;return((le=ae.path)==null?void 0:le.includes("_all"))&&((he=ae.path)==null?void 0:he.includes(X))});$e&&Ee.push($e)}if(K&&F){const X=K.id==="receiver-configuration"?"receiver":K.id==="influencer-configuration"?"influencer":"",$e=F.id==="targeted-scope"?"targeted":F.id==="aural-scope"?"aural":"",ae=D.filter(le=>{var he,je,_;return!((he=le.path)!=null&&he.includes("_all"))&&((je=le.path)==null?void 0:je.includes($e))&&((_=le.path)==null?void 0:_.includes(X))});ae.length===1&&Ee.push(ae[0])}return l.jsxs("div",{className:"mentalist-selection-section",children:[l.jsxs("h4",{children:["Mentalist: ",Q.charAt(0).toUpperCase()+Q.slice(1)]}),l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Change Archetype"}),(K||F)&&l.jsxs("div",{className:"lineage-power-card",children:[l.jsx("h5",{children:"Foundational Configuration"}),l.jsxs("ul",{className:"power-list",children:[K&&l.jsx("li",{className:"power-list__item power-list__item--granted",children:l.jsx("strong",{children:(V=b.find(X=>X.id===K.id))==null?void 0:V.name})}),F&&l.jsx("li",{className:"power-list__item power-list__item--granted",children:l.jsx("strong",{children:(se=H.find(X=>X.id===F.id))==null?void 0:se.name})})]})]}),Ee.length>0&&l.jsxs("div",{className:"lineage-power-card",children:[l.jsx("h5",{children:"Granted Powers"}),l.jsx("ul",{className:"power-list",children:Ee.map(X=>l.jsxs("li",{className:"power-list__item power-list__item--granted",children:[l.jsx("div",{className:"power-list__header",children:l.jsxs("div",{children:[l.jsx("strong",{children:X.name}),l.jsx("span",{className:"badge",children:X.moveType})]})}),$t(X.description,n),X.permanentCorruption!==void 0&&l.jsxs("p",{className:"power-cost",children:["Corruption: ",X.permanentCorruption]})]},X.id))})]}),!K&&l.jsxs("div",{className:"lineage-power-card",children:[l.jsxs("h5",{children:["Step 1: Choose ",ie?"Temporal Configuration":"Polarity"]}),l.jsx("p",{className:"foundation-description",children:ie?"Instanced (temporary) or Persistent (lasting)":"Receiver (pull/perceive) or Influencer (push/project)"}),l.jsx("div",{className:"mentalist-foundation",children:b.map(X=>{if(!(X.id==="receiver-configuration"||X.id==="influencer-configuration"))return null;const ae=X.id??ht(X.name??"power"),le={id:ae,lineage:"esper",label:X.name??"Unknown Power",kind:"esper-framework-choice",meta:{archetype:"foundational"}};return l.jsx("button",{type:"button",className:"power-toggle power-toggle--primary",onClick:()=>i(le),children:X.name},ae)})})]}),K&&!F&&l.jsxs("div",{className:"lineage-power-card",children:[l.jsxs("h5",{children:["Step 2: Choose ",ie?"Change Scope":"Scope"]}),l.jsx("p",{className:"foundation-description",children:ie?"Discrete (specific) or Systemic (broad)":"Targeted (individual) or Aural (area/group)"}),l.jsx("div",{className:"mentalist-foundation",children:H.map(X=>{if(!(X.id==="targeted-scope"||X.id==="aural-scope"))return null;const ae=X.id??ht(X.name??"power"),le={id:ae,lineage:"esper",label:X.name??"Unknown Power",kind:"esper-framework-choice",meta:{archetype:"foundational"}};return l.jsx("button",{type:"button",className:"power-toggle power-toggle--primary",onClick:()=>i(le),children:X.name},ae)})})]}),K&&F&&(()=>{const X=K.id==="receiver-configuration"?"receiver":K.id==="influencer-configuration"?"influencer":"",$e=F.id==="targeted-scope"?"targeted":F.id==="aural-scope"?"aural":"",ae=D.filter(le=>{var he,je,_;return!((he=le.path)!=null&&he.includes("_all"))&&((je=le.path)==null?void 0:je.includes($e))&&((_=le.path)==null?void 0:_.includes(X))});if(ae.length>1){const le=a.find(he=>he.kind==="esper-focus"&&ae.some(je=>je.id===he.id));return l.jsxs("div",{className:"lineage-power-card",children:[l.jsx("h5",{children:"Step 3: Choose Power"}),l.jsx("p",{className:"foundation-description",children:"Multiple powers available - select one"}),l.jsx("div",{className:"lineage-powers-grid",children:ae.map(he=>{const je=he.id??ht(he.name??"power"),_={id:je,lineage:"esper",label:he.name??"Unknown Power",kind:"esper-focus",meta:{archetype:Q}},Y=(le==null?void 0:le.id)===je;return l.jsxs("div",{className:"lineage-power-card",children:[l.jsx("h6",{children:he.name}),l.jsx("span",{className:"badge",children:he.moveType}),$t(he.description,n),l.jsx("button",{type:"button",className:`power-toggle${Y?" power-toggle--active":""}`,onClick:()=>{le&&le.id!==je&&i(le),i(_)},children:Y?"Selected":"Select"})]},je)})})]})}return null})()]})}const q=j.filter(D=>D.archetype!=="foundational").reduce((D,ie)=>{const Ee=ie.archetype??"Unknown";return D[Ee]||(D[Ee]=[]),D[Ee].push(ie),D},{});return l.jsxs("div",{className:"mentalist-selection-section",children:[l.jsx("h4",{children:"Choose Mentalist Archetype"}),l.jsx("p",{className:"section-description",children:"Select an archetype to begin configuring your Mentalist powers."}),l.jsx("div",{className:"lineage-powers-grid",children:Object.entries(q).map(([D,ie])=>{const Ee=ie.filter(ae=>{var le;return(le=ae.path)==null?void 0:le.includes("_all")}),X=ie.filter(ae=>{var le;return!((le=ae.path)!=null&&le.includes("_all"))}),$e=Ee.length+X.length;return l.jsxs("div",{className:"lineage-power-card",children:[l.jsx("h5",{children:D.charAt(0).toUpperCase()+D.slice(1)}),l.jsxs("p",{className:"archetype-description",children:[$e," ",$e===1?"power":"powers"," available"]}),l.jsxs("button",{type:"button",className:"power-toggle power-toggle--primary",onClick:()=>{const ae={id:`mentalist-${D}`,lineage:"esper",label:D,kind:"esper-archetype",meta:{archetype:D}};i(ae)},children:["Select ",D.charAt(0).toUpperCase()+D.slice(1)]})]},D)})})]})};return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Esper & Mentalist Powers"}),l.jsx("p",{children:"Innate psionic abilities - evolution-based or selection-based systems."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Evolution Depth"}),l.jsx("strong",{children:m})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Powers Selected"}),l.jsx("strong",{children:a.length})]}),k&&l.jsx("p",{className:"lineage-power-summary__note",children:k}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),T&&W(),J&&$()]})}if(e==="automata"&&lv(t)){const m=r?{A:{worker:[],soldier:["imperial"],overseer:["imperial"]},B:{worker:[],soldier:["advanced"],overseer:["advanced"]},C:{worker:[],soldier:["basic"],overseer:["basic"]},D:{worker:["advanced"],soldier:[],overseer:[]},E:{worker:["basic"],soldier:[],overseer:[]}}[r]:{worker:[],soldier:[],overseer:[]},u=t.powers.reduce((E,C)=>{const S=C.chassis??"unknown",M=C.branch??"unknown";return E[S]||(E[S]=new Set),E[S].add(M),E},{}),f=a.find(E=>E.kind==="automata-package"),x=(v=f==null?void 0:f.meta)==null?void 0:v.chassis,j=(w=f==null?void 0:f.meta)==null?void 0:w.branch,R=(y=f==null?void 0:f.meta)==null?void 0:y.category,N=(E,C,S)=>t.powers.filter(M=>{if(M.chassis!==E)return!1;if(M.augmentLevel==="general")return!0;if(M.branch!==C)return!1;const B=["basic","advanced","imperial"],W=B.indexOf(S),Q=B.indexOf(M.augmentLevel??"");return Q>=0&&Q<=W});return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Automata Configuration"}),l.jsx("p",{children:"Choose your chassis, branch, and quality level. You automatically receive ALL powers for that configuration."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[f&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{children:"Selected Configuration"}),l.jsxs("strong",{children:[R==null?void 0:R.toUpperCase()," ",j==null?void 0:j.toUpperCase()," (",x==null?void 0:x.toUpperCase(),")"]})]}),l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selection"})]}),!f&&l.jsxs("p",{children:["Select a chassis/branch configuration below. Priority ",r??""," determines available quality levels."]})]}),!f&&l.jsx("div",{className:"automata-selection-grid",children:Object.entries(u).map(([E,C])=>{const S=m[E]||[];return S.length===0?null:l.jsxs("div",{className:"automata-chassis-section",children:[l.jsxs("h4",{children:[E.charAt(0).toUpperCase()+E.slice(1)," Chassis"]}),Array.from(C).map(M=>S.map(B=>{const W=`${E}-${M}-${B}`,Q=N(E,M,B),K={id:W,lineage:"automata",label:`${B.toUpperCase()} ${M} (${E})`,kind:"automata-package",meta:{chassis:E,branch:M,category:B}};return l.jsxs("details",{className:"automata-package-card",children:[l.jsx("summary",{children:l.jsxs("div",{className:"automata-package-summary",children:[l.jsxs("div",{children:[l.jsxs("h5",{children:[B.toUpperCase()," ",M.charAt(0).toUpperCase()+M.slice(1)]}),l.jsxs("p",{className:"automata-package-count",children:[Q.length," powers included"]})]}),l.jsx("button",{type:"button",className:"power-toggle",onClick:F=>{F.preventDefault(),i(K)},children:"Select This Configuration"})]})}),l.jsxs("div",{className:"automata-package-details",children:[l.jsx("p",{className:"automata-package-note",children:"Selecting this configuration grants you ALL of these powers automatically:"}),l.jsx("ul",{className:"power-list",children:Q.map(F=>l.jsxs("li",{className:"power-list__item",children:[l.jsxs("div",{children:[l.jsx("strong",{children:F.name}),l.jsx("span",{className:"badge badge--type",children:F.augmentLevel}),F.moveType&&l.jsx("span",{className:"badge",children:F.moveType})]}),$t(F.description,n),F.outcomes&&Object.keys(F.outcomes).length>0&&l.jsx("div",{className:"power-outcomes",children:Object.entries(F.outcomes).map(([J,T])=>l.jsxs("div",{children:[l.jsxs("strong",{children:[J,":"]})," ",T]},J))})]},F.id))})]})]},W)}))]},E)})}),f&&x&&j&&R&&l.jsxs("div",{className:"automata-selected-powers",children:[l.jsx("h4",{children:"Your Powers"}),l.jsxs("p",{children:["As a ",R.toUpperCase()," ",j," (",x,"), you have these capabilities:"]}),l.jsx("ul",{className:"power-list",children:N(x,j,R).map(E=>l.jsxs("li",{className:"power-list__item",children:[l.jsxs("div",{children:[l.jsx("strong",{children:E.name}),l.jsx("span",{className:"badge badge--type",children:E.augmentLevel}),E.moveType&&l.jsx("span",{className:"badge",children:E.moveType})]}),$t(E.description,n),E.outcomes&&Object.keys(E.outcomes).length>0&&l.jsx("div",{className:"power-outcomes",children:Object.entries(E.outcomes).map(([C,S])=>l.jsxs("div",{children:[l.jsxs("strong",{children:[C,":"]})," ",S]},C))})]},E.id))})]})]})}return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsx("h3",{children:"Lineage Powers"}),l.jsx("p",{children:"Power data structure for this lineage is not recognized. Check the source files for updates."})]})}function av({priorities:e,selected:t,onSelect:n,canReveal:r,revealMechanics:s,onToggleReveal:i,notes:o,onUpdateNotes:a,powerSet:c,powers:d,onTogglePower:p,onClearPowers:g}){const h=e.lineage,v=z.useMemo(()=>ep(t),[t]),w=r&&s;return l.jsxs("div",{className:"stage stage--lineage",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Lineage"}),l.jsx("p",{children:"The letter you assign to Lineage defines how far from humanity you step. Explore each lineage's aesthetic, pick the one that sings to your table, then reveal mechanics when ready."})]}),l.jsx("div",{className:"stage__actions",children:l.jsx("button",{type:"button",onClick:i,className:`reveal-toggle ${s?"active":""}`,disabled:!r,children:r?s?"Hide mechanical truths":"Reveal mechanical truths":"GM access required"})})]}),l.jsx("section",{className:"lineage-grid",children:Zd.map(y=>{const k=y.key===t,m=h?y.priorityImpacts[h]:null;return l.jsxs("article",{className:`lineage-card ${k?"is-active":""}`,style:{borderColor:k?y.aesthetic.accent:"rgba(255,255,255,0.08)",boxShadow:k?`0 12px 32px ${y.aesthetic.accent}40`:void 0,backgroundImage:y.aesthetic.texture},children:[l.jsxs("header",{children:[l.jsx("h3",{children:y.name}),l.jsx("p",{className:"lineage-card__tagline",children:y.tagline})]}),l.jsx("p",{children:y.summary}),l.jsxs("div",{className:"lineage-card__priority",children:[l.jsxs("span",{children:["With Priority ",h??"",":"]}),l.jsx("p",{children:m??"Assign a priority letter to see what changes."})]}),l.jsxs("details",{children:[l.jsx("summary",{children:"First impressions"}),l.jsx("p",{children:y.narrativeHook})]}),s&&r&&l.jsxs("details",{open:!0,children:[l.jsx("summary",{children:"GM Whisper"}),l.jsx("p",{children:y.gmWhisper})]}),l.jsx("footer",{children:l.jsx("button",{type:"button",className:"lineage-card__choose",onClick:()=>n(y.key),children:k?"Selected":"Choose Lineage"})})]},y.key)})}),l.jsx(ov,{lineage:t,lineagePriority:h,powerData:c,gmEnabled:w,selections:d,onToggleSelection:p,onClearSelections:g}),l.jsx("section",{className:"lineage-notes",children:l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Lineage Notes & Promises"}),l.jsx("textarea",{value:o,onChange:y=>a(y.target.value),placeholder:"Record patron obligations, corruption tells, and aesthetic cues for later sessions."})]})}),v&&l.jsxs("aside",{className:"lineage-highlight",style:{borderColor:v.aesthetic.accent},children:[l.jsxs("h4",{children:["Echos of ",v.name]}),l.jsxs("p",{children:["Layer the UI palette with ",v.aesthetic.accent,". Consider swapping ambient sound or card frames to mirror the lineage vibe when this character is active at the table."]})]})]})}const vc=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return Number.POSITIVE_INFINITY},Jn=e=>Number.isFinite(e)?e:0,cv=e=>Jn(e.reach)+Jn(e.influence),uv=e=>Jn(e.loyalty)+Jn(e.competence),dv=e=>Jn(e.quality),pv=(e,t)=>Number.isFinite(e)?e:t,fv=(e,t,n,r)=>{var a,c;if(!e)return{value:0,requiresApproval:!1};const s=(a=n.properties.tenure)==null?void 0:a[e],i=(c=t.properties.tenure)==null?void 0:c[e];if(s!=null&&s.cost)return{value:r,requiresApproval:!0,note:s.cost};const o=typeof(s==null?void 0:s.multiplier)=="number"?s.multiplier:typeof(i==null?void 0:i.costMultiplier)=="number"?i.costMultiplier:null;return typeof o=="number"&&Number.isFinite(o)&&o>0?{value:Math.max(1,Math.round(o)),requiresApproval:!!(i!=null&&i.special)}:{value:0,requiresApproval:!0}},hv=(e,t,n,r)=>{var c,d;if(!e)return{value:0,requiresApproval:!1};const s=(c=n.properties.zoning)==null?void 0:c[e],i=(d=t.properties.zoning)==null?void 0:d[e],o=typeof(s==null?void 0:s.baseCost)=="number"?s.baseCost:typeof(i==null?void 0:i.baseCost)=="number"?i.baseCost:null;if(typeof o=="number"&&Number.isFinite(o)&&o>0)return{value:o,requiresApproval:!1};const a=typeof(s==null?void 0:s.baseCost)=="string"?s.baseCost:typeof(i==null?void 0:i.baseCost)=="string"?i.baseCost:null;return{value:r,requiresApproval:!0,note:a}};function mv({priority:e,system:t,costs:n,contacts:r,retainers:s,properties:i,goods:o,liquid:a,onAddContact:c,onUpdateContact:d,onRemoveContact:p,onAddRetainer:g,onUpdateRetainer:h,onRemoveRetainer:v,onAddProperty:w,onUpdateProperty:y,onRemoveProperty:k,onAddGoods:m,onUpdateGoods:u,onRemoveGoods:f,onUpdateLiquid:x,notes:j,onUpdateNotes:R}){var ae,le,he,je;const N=e?t.resourcePoints[e]:null,E=(N==null?void 0:N.points)??0,C=vc(N==null?void 0:N.maxQuality),S=vc(N==null?void 0:N.maxCombined),M=(N==null?void 0:N.specializations)??0,B=pv(S,(N==null?void 0:N.points)??10),W=Array.isArray(r)?r:[],Q=Array.isArray(s)?s:[],K=Array.isArray(i)?i:[],F=Array.isArray(o)?o:[],J=W.map(_=>{const Y=cv(_),Z=[];return Number.isFinite(C)&&_.reach>C&&Z.push(`Reach exceeds max quality ${C}`),Number.isFinite(C)&&_.influence>C&&Z.push(`Influence exceeds max quality ${C}`),Number.isFinite(S)&&Y>S&&Z.push(`Total reach + influence exceeds combined maximum ${S}`),{entry:_,cost:Y,issues:Z}}),T=Q.map(_=>{const Y=uv(_),Z=[];return Number.isFinite(C)&&_.competence>C&&Z.push(`Competence exceeds max quality ${C}`),Number.isFinite(C)&&_.loyalty>C&&Z.push(`Loyalty exceeds max quality ${C}`),Number.isFinite(S)&&Y>S&&Z.push(`Total loyalty + competence exceeds combined maximum ${S}`),{entry:_,cost:Y,issues:Z}}),$=K.map(_=>{const Y=fv(_.tenure,t,n,B),Z=hv(_.zoning,t,n,B),Ae=Y.value+Z.value,O=[];return(Y.requiresApproval||Z.requiresApproval)&&O.push("Selection requires GM approval."),Y.note&&O.push(Y.note),Z.note&&O.push(Z.note),Number.isFinite(C)&&Y.value>C&&O.push(`Tenure rating exceeds max quality ${C}`),Number.isFinite(C)&&Z.value>C&&O.push(`Zoning rating exceeds max quality ${C}`),Number.isFinite(S)&&Ae>S&&O.push(`Total tenure + zoning exceeds combined maximum ${S}`),{entry:_,cost:Ae,issues:O,tenureValue:Y.value,zoningValue:Z.value}}),L=F.map(_=>{const Y=dv(_),Z=[];return Number.isFinite(C)&&_.quality>C&&Z.push(`Quality exceeds max quality ${C}`),Number.isFinite(S)&&_.quality>S&&Z.push(`Quality exceeds combined maximum ${S}`),{entry:_,cost:Y,issues:Z}}),b=J.reduce((_,Y)=>_+Y.cost,0)+T.reduce((_,Y)=>_+Y.cost,0)+$.reduce((_,Y)=>_+Y.cost,0)+L.reduce((_,Y)=>_+Y.cost,0)+Jn(a),H=E-b,q=N?H<0:b>0,V=J.filter(({entry:_})=>!!_.specialization).length+T.filter(({entry:_})=>!!_.specialization).length+$.filter(({entry:_})=>!!_.specialization).length+L.filter(({entry:_})=>!!_.specialization).length,D=M-V<0,ie=((ae=t.contacts)==null?void 0:ae.specializations)??[],Ee=((le=t.retainers)==null?void 0:le.specializations)??[],X=((he=t.properties)==null?void 0:he.specializations)??[],$e=((je=t.goods)==null?void 0:je.specializations)??[];return l.jsxs("div",{className:"stage stage--resources",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Resources"}),l.jsx("p",{children:"Spend your Resource Points to define the allies, havens, and gear that keep you alive. Balance reach and quality carefully  every edge requires upkeep and trust."})]}),l.jsxs("aside",{className:"resource-summary",children:[l.jsxs("span",{className:"resource-summary__label",children:["Priority ",e??""]}),N?l.jsxs("dl",{children:[l.jsxs("div",{children:[l.jsx("dt",{children:"Available Points"}),l.jsx("dd",{children:E})]}),l.jsxs("div",{className:de({"resource-summary__warning":q}),children:[l.jsx("dt",{children:"Spent"}),l.jsx("dd",{children:b})]}),l.jsxs("div",{className:de({"resource-summary__warning":q}),children:[l.jsx("dt",{children:"Remaining"}),l.jsx("dd",{children:Math.max(0,H)})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Quality Cap"}),l.jsx("dd",{children:Number.isFinite(C)?C:""})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Combined Cap"}),l.jsx("dd",{children:Number.isFinite(S)?S:""})]}),l.jsxs("div",{className:de({"resource-summary__warning":D}),children:[l.jsx("dt",{children:"Specializations"}),l.jsxs("dd",{children:[V," / ",M]})]})]}):l.jsx("p",{children:"Assign a resources priority to unlock your pool."})]})]}),l.jsxs("div",{className:de("resource-ledger",{"resource-ledger--warning":q}),children:[l.jsx("strong",{children:b})," resource points allocated",N?` of ${E}`:"",".",q&&l.jsx("span",{className:"resource-ledger__warning",children:"You are overspending. Adjust your assets or raise your priority."})]}),l.jsxs("div",{className:de("resource-ledger",{"resource-ledger--warning":D}),children:["Specializations used: ",l.jsx("strong",{children:V})," of ",M,".",D&&l.jsx("span",{className:"resource-ledger__warning",children:"Only one specialization per asset until the limit is raised."})]}),l.jsxs("div",{className:"resource-grid",children:[l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Contacts"}),l.jsx("button",{type:"button",onClick:c,children:"Add Contact"})]}),J.length===0?l.jsx("p",{className:"resource-section__empty",children:"No contacts recorded. Add a fixer, broker, or confidant."}):J.map(({entry:_,cost:Y,issues:Z})=>{const Ae=!_.gmApproved;return l.jsxs("article",{className:de("resource-card",{"resource-card--flagged":Ae}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:_.name,onChange:O=>d(_.id,{name:O.target.value}),placeholder:"Contact name"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",Y]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Profile"}),l.jsx("textarea",{value:_.description,onChange:O=>d(_.id,{description:O.target.value}),placeholder:"Why does this person answer your call?"})]}),l.jsxs("div",{className:"resource-card__grid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Reach"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(C)?C:void 0,value:_.reach,onChange:O=>d(_.id,{reach:Number(O.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Influence"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(C)?C:void 0,value:_.influence,onChange:O=>d(_.id,{influence:Number(O.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:_.specialization??"",onChange:O=>d(_.id,{specialization:O.target.value?O.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),ie.map(O=>l.jsx("option",{value:O,children:O},O))]})]})]}),Z.length>0&&l.jsx("ul",{className:"resource-card__issues",children:Z.map((O,pt)=>l.jsx("li",{children:O},pt))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>p(_.id),className:"link",children:"Remove Contact"}),l.jsx("button",{type:"button",onClick:()=>d(_.id,{gmApproved:!_.gmApproved}),className:de("badge",{"badge--attention":Ae}),children:_.gmApproved?"GM Approved":"GM Approval Required"})]})]},_.id)})]}),l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Retainers"}),l.jsx("button",{type:"button",onClick:g,children:"Add Retainer"})]}),T.length===0?l.jsx("p",{className:"resource-section__empty",children:"No retainers enlisted. Secure a loyal operator."}):T.map(({entry:_,cost:Y,issues:Z})=>{const Ae=!_.gmApproved;return l.jsxs("article",{className:de("resource-card",{"resource-card--flagged":Ae}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:_.name,onChange:O=>h(_.id,{name:O.target.value}),placeholder:"Retainer name"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",Y]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Role"}),l.jsx("textarea",{value:_.description,onChange:O=>h(_.id,{description:O.target.value}),placeholder:"What do they handle for you?"})]}),l.jsxs("div",{className:"resource-card__grid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Competence"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(C)?C:void 0,value:_.competence,onChange:O=>h(_.id,{competence:Number(O.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Loyalty"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(C)?C:void 0,value:_.loyalty,onChange:O=>h(_.id,{loyalty:Number(O.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:_.specialization??"",onChange:O=>h(_.id,{specialization:O.target.value?O.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),Ee.map(O=>l.jsx("option",{value:O,children:O},O))]})]})]}),Z.length>0&&l.jsx("ul",{className:"resource-card__issues",children:Z.map((O,pt)=>l.jsx("li",{children:O},pt))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>v(_.id),className:"link",children:"Remove Retainer"}),l.jsx("button",{type:"button",onClick:()=>h(_.id,{gmApproved:!_.gmApproved}),className:de("badge",{"badge--attention":Ae}),children:_.gmApproved?"GM Approved":"GM Approval Required"})]})]},_.id)})]}),l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Properties"}),l.jsx("button",{type:"button",onClick:w,children:"Add Property"})]}),$.length===0?l.jsx("p",{className:"resource-section__empty",children:"No safehouses or fronts secured. Stake your claim."}):$.map(({entry:_,cost:Y,issues:Z,tenureValue:Ae,zoningValue:O})=>{const pt=!_.gmApproved;return l.jsxs("article",{className:de("resource-card",{"resource-card--flagged":pt}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:_.name,onChange:te=>y(_.id,{name:te.target.value}),placeholder:"Property name"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",Y]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Description"}),l.jsx("textarea",{value:_.description,onChange:te=>y(_.id,{description:te.target.value}),placeholder:"What makes this space yours?"})]}),l.jsxs("div",{className:"resource-card__grid resource-card__grid--wide",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Tenure"}),l.jsxs("select",{value:_.tenure,onChange:te=>y(_.id,{tenure:te.target.value}),children:[l.jsx("option",{value:"",children:"Select tenure"}),Object.keys(t.properties.tenure).map(te=>l.jsx("option",{value:te,children:te},te))]}),l.jsx("small",{children:Ae?`Value ${Ae}`:"Pick a claim type"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Zoning"}),l.jsxs("select",{value:_.zoning,onChange:te=>y(_.id,{zoning:te.target.value}),children:[l.jsx("option",{value:"",children:"Select function"}),Object.keys(t.properties.zoning).map(te=>l.jsx("option",{value:te,children:te},te))]}),l.jsx("small",{children:O?`Value ${O}`:"Pick a function"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Ward"}),l.jsx("input",{value:_.ward,onChange:te=>y(_.id,{ward:te.target.value}),placeholder:"Ward or district"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:_.specialization??"",onChange:te=>y(_.id,{specialization:te.target.value?te.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),X.map(te=>l.jsx("option",{value:te,children:te},te))]})]})]}),Z.length>0&&l.jsx("ul",{className:"resource-card__issues",children:Z.map((te,wi)=>l.jsx("li",{children:te},wi))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>k(_.id),className:"link",children:"Remove Property"}),l.jsx("button",{type:"button",onClick:()=>y(_.id,{gmApproved:!_.gmApproved}),className:de("badge",{"badge--attention":pt}),children:_.gmApproved?"GM Approved":"GM Approval Required"})]})]},_.id)})]}),l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Goods & Stockpiles"}),l.jsx("button",{type:"button",onClick:m,children:"Add Goods"})]}),L.length===0?l.jsx("p",{className:"resource-section__empty",children:"No caches documented. Set aside kit or contraband."}):L.map(({entry:_,cost:Y,issues:Z})=>{const Ae=!_.gmApproved;return l.jsxs("article",{className:de("resource-card",{"resource-card--flagged":Ae}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:_.name,onChange:O=>u(_.id,{name:O.target.value}),placeholder:"Goods cache"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",Y]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Contents"}),l.jsx("textarea",{value:_.description,onChange:O=>u(_.id,{description:O.target.value}),placeholder:"Describe the stash, weaponry, or leverage."})]}),l.jsxs("div",{className:"resource-card__grid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Quality"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(C)?C:void 0,value:_.quality,onChange:O=>u(_.id,{quality:Number(O.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:_.specialization??"",onChange:O=>u(_.id,{specialization:O.target.value?O.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),$e.map(O=>l.jsx("option",{value:O,children:O},O))]})]})]}),Z.length>0&&l.jsx("ul",{className:"resource-card__issues",children:Z.map((O,pt)=>l.jsx("li",{children:O},pt))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>f(_.id),className:"link",children:"Remove Goods"}),l.jsx("button",{type:"button",onClick:()=>u(_.id,{gmApproved:!_.gmApproved}),className:de("badge",{"badge--attention":Ae}),children:_.gmApproved?"GM Approved":"GM Approval Required"})]})]},_.id)})]})]}),l.jsxs("section",{className:"resource-liquid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Liquid Assets"}),l.jsx("input",{type:"number",min:0,value:a,onChange:_=>x(Number(_.target.value)||0)})]}),l.jsx("p",{children:"Reserve unassigned points for cash, favors, or future acquisitions."})]}),l.jsx("section",{children:l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Resource Stories"}),l.jsx("textarea",{value:j,onChange:_=>R(_.target.value),placeholder:"Record fronts, debts, leverage, and the strings attached to each asset."})]})}),l.jsxs("section",{className:"resource-reference",children:[l.jsxs("article",{children:[l.jsx("h4",{children:"Contact Scales"}),l.jsxs("div",{className:"resource-reference__grid",children:[l.jsxs("div",{children:[l.jsx("h5",{children:"Reach"}),l.jsx("ul",{children:Object.entries(t.contacts.reachScale).map(([_,Y])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:_}),l.jsx("span",{children:Y})]},_))})]}),l.jsxs("div",{children:[l.jsx("h5",{children:"Influence"}),l.jsx("ul",{children:Object.entries(t.contacts.influenceScale).map(([_,Y])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:_}),l.jsx("span",{children:Y})]},_))})]})]})]}),l.jsxs("article",{children:[l.jsx("h4",{children:"Retainer Scales"}),l.jsxs("div",{className:"resource-reference__grid",children:[l.jsxs("div",{children:[l.jsx("h5",{children:"Competence"}),l.jsx("ul",{children:Object.entries(t.retainers.competenceScale).map(([_,Y])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:_}),l.jsx("span",{children:Y})]},_))})]}),l.jsxs("div",{children:[l.jsx("h5",{children:"Loyalty"}),l.jsx("ul",{children:Object.entries(t.retainers.loyaltyScale).map(([_,Y])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:_}),l.jsx("span",{children:Y})]},_))})]})]})]}),l.jsxs("article",{children:[l.jsx("h4",{children:"Tenure Reference"}),l.jsx("ul",{className:"resource-reference__list",children:Object.entries(t.properties.tenure).map(([_,Y])=>l.jsxs("li",{children:[l.jsx("strong",{children:_}),Y.description&&l.jsxs("span",{children:["  ",Y.description]})]},_))})]})]})]})}function gv({priority:e,background:t,onUpdate:n,data:r}){const s=z.useMemo(()=>Object.entries(r),[r]),i=t.title&&r[t.title]?r[t.title]:void 0,o=z.useMemo(()=>i!=null&&i.professions?new Map(i.professions.map(v=>[v.priority,v])):new Map,[i==null?void 0:i.professions]),a=e?o.get(e):void 0,c=t.title||"Choose a background",d=(a==null?void 0:a.description)||(i==null?void 0:i.description)||"Select a background below to load its story, talents, and contacts.",p=(i==null?void 0:i.skillSpecializationOptions)??[],g=(i==null?void 0:i.resourceSynergyExamples)??[],h=v=>{var k;const w=r[v],y={title:v};w&&(!t.tierNotes&&w.description&&(y.tierNotes=w.description),!t.contacts&&((k=w.resourceSynergyExamples)!=null&&k.length)&&(y.contacts=w.resourceSynergyExamples.join(`
`))),n(y)};return l.jsxs("div",{className:"stage stage--background",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Background"}),l.jsx("p",{children:"Backgrounds tell the table who you were before the Long Night took hold. Use the narrative scope guidance to outline your reach and obligations."})]}),l.jsxs("aside",{className:"background-callout",children:[l.jsxs("div",{className:"background-callout__header",children:[l.jsxs("span",{className:"background-callout__label",children:["Priority ",e??""]}),l.jsx("h3",{children:c})]}),l.jsx("p",{className:"background-callout__body",children:d}),(p.length>0||g.length>0)&&l.jsxs("div",{className:"background-callout__tags",children:[p.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"background-callout__tag-label",children:"Signature Skills"}),l.jsx("ul",{children:p.map(v=>l.jsx("li",{children:v},v))})]}),g.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"background-callout__tag-label",children:"Resource Synergies"}),l.jsx("ul",{children:g.map(v=>l.jsx("li",{children:v},v))})]})]})]})]}),l.jsxs("section",{className:"background-form",children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Background Title"}),l.jsx("input",{value:t.title,placeholder:"Ex: Harrowed Detective of Ward 13",onChange:v=>n({title:v.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Background Details"}),l.jsx("textarea",{value:t.tierNotes,placeholder:"What power structure do you belong to? Who do you owe? How far does your influence reach?",onChange:v=>n({tierNotes:v.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Contacts Born From This Life"}),l.jsx("textarea",{value:t.contacts,placeholder:"List guaranteed contacts, safehouses, or automatic skill specializations.",onChange:v=>n({contacts:v.target.value})})]})]}),l.jsx("section",{className:"background-catalog",children:s.map(([v,w])=>{var k,m,u;const y=v===t.title;return l.jsxs("article",{className:`background-card ${y?"active":""}`,children:[l.jsxs("header",{className:"background-card__header",children:[l.jsxs("div",{children:[l.jsx("h3",{children:v}),l.jsx("p",{children:w.description})]}),l.jsx("button",{type:"button",onClick:()=>h(v),children:y?"Selected":"Adopt Background"})]}),(((k=w.skillSpecializationOptions)==null?void 0:k.length)??0)>0&&l.jsxs("section",{className:"background-card__section",children:[l.jsx("h4",{children:"Skill Specializations"}),l.jsx("ul",{children:w.skillSpecializationOptions.map(f=>l.jsx("li",{children:f},f))})]}),(((m=w.resourceSynergyExamples)==null?void 0:m.length)??0)>0&&l.jsxs("section",{className:"background-card__section",children:[l.jsx("h4",{children:"Resource Synergies"}),l.jsx("ul",{children:w.resourceSynergyExamples.map(f=>l.jsx("li",{children:f},f))})]}),(((u=w.professions)==null?void 0:u.length)??0)>0&&l.jsxs("section",{className:"background-card__section",children:[l.jsx("h4",{children:"Profession Ladder"}),l.jsx("div",{className:"background-card__professions",children:w.professions.map(f=>l.jsxs("div",{className:`background-card__profession ${f.priority===e?"highlight":""}`,children:[l.jsxs("div",{className:"background-card__profession-header",children:[l.jsx("span",{className:"badge",children:f.priority}),l.jsx("strong",{children:f.title})]}),l.jsx("p",{children:f.description})]},`${f.priority}-${f.title}`))})]})]},v)})})]})}const vv={A:{maxRank:5,points:10,specializations:2},B:{maxRank:4,points:14,specializations:2},C:{maxRank:3,points:10,specializations:1},D:{maxRank:3,points:8,specializations:1},E:{maxRank:2,points:4,specializations:0}},yv="Custom options are provisional until your GM approves them.";function xv({priority:e,data:t,ratings:n,onChangeRating:r,specializations:s,onToggleSpecialization:i,onRemoveSpecialization:o,onAddCustomSpecialization:a,backgroundSpecialization:c,backgroundOptions:d,onSetBackgroundSpecialization:p,notes:g,onUpdateNotes:h}){const[v,w]=z.useState(""),y=e?vv[e]:null,k=z.useMemo(()=>Object.values(n).reduce((S,M)=>S+M,0),[n]),m=y?Math.max(y.points-k,0):0,u=s.filter(S=>S.type!=="background"),f=y?Math.max(y.specializations-u.length,0):0,x=z.useMemo(()=>new Map(s.map(S=>[S.id,S])),[s]),j=(S,M)=>B=>{const W=Number(B.target.value);if(!y)return;const Q=Math.max(0,Math.min(W,y.maxRank)),K=k-M+Q;let F=Q;if(K>y.points){const J=K-y.points;F=Math.max(0,Q-J)}F!==M&&r(S,F)},R=()=>{if(!y)return;const S=v.trim();S&&y.specializations!==0&&f!==0&&(a(S),w(""))},N=(S,M,B,W)=>{if(!y)return;const Q=`pre:${S}:${B??W}`;if(!x.has(Q)&&y.specializations>0&&f===0)return;const K={id:Q,label:`${M}  ${W}`,type:"predefined",skillId:S,gmApproved:!0};i(K)},E=y?y.specializations>0&&f>0:!1,C=d.filter(Boolean);return l.jsxs("div",{className:"stage stage--skills",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Skills & Disciplines"}),l.jsx("p",{children:"Allocate your skill points, respecting the maximum rank for your priority. Claim a handful of specializations to spotlight signature movescustom picks stay flagged until your GM approves them."})]}),l.jsxs("aside",{className:"skills-limit",children:[l.jsxs("span",{children:["Priority ",e??""]}),y?l.jsxs(l.Fragment,{children:[l.jsx("p",{children:`${m} of ${y.points} skill points remaining`}),l.jsxs("p",{children:["Specializations: ",`${Math.max(f,0)} of ${y.specializations} remaining`]})]}):l.jsx("p",{children:"Assign a priority letter to unlock your allocation."})]})]}),l.jsx("section",{className:"skills-grid",children:Object.entries(t.skills).map(([S,M])=>l.jsxs("article",{className:"skills-discipline",children:[l.jsxs("header",{children:[l.jsx("h3",{children:jv(S)}),l.jsxs("p",{children:[M.length," core skills"]})]}),l.jsx("ul",{children:M.map(B=>{const W=`${S}:${B.id}`,Q=n[W]??0,K=(y==null?void 0:y.maxRank)??0;return l.jsxs("li",{children:[l.jsxs("div",{className:"skills-item__header",children:[l.jsxs("label",{className:"skills-rating",children:[l.jsx("span",{children:"Rating"}),l.jsx("input",{type:"range",min:0,max:K,step:1,value:Q,disabled:!y,onChange:j(W,Q)}),l.jsx("span",{className:"skills-rating__value",children:Q})]}),l.jsxs("div",{children:[l.jsx("h4",{children:B.name}),l.jsx("p",{children:B.description})]})]}),B.specializations.length>0&&l.jsxs("details",{children:[l.jsx("summary",{children:"Specializations"}),l.jsx("ul",{className:"skills-specializations",children:B.specializations.map(F=>{const J=`pre:${W}:${F.id??F.name}`,T=x.has(J),$=!y||y.specializations===0&&!T||y.specializations>0&&f===0&&!T;return l.jsx("li",{children:l.jsxs("button",{type:"button",className:`skills-specialization__toggle ${T?"selected":""}`,onClick:()=>N(W,B.name,F.id,F.name),disabled:$,children:[l.jsx("strong",{children:F.name}),l.jsx("span",{children:F.description})]})},J)})})]})]},W)})})]},S))}),C.length>0&&l.jsxs("section",{className:"skills-background",children:[l.jsx("h3",{children:"Background Specialization"}),l.jsx("p",{children:"Select one of the options granted by your background."}),l.jsxs("div",{className:"skills-background__options",children:[C.map(S=>l.jsxs("label",{className:"skills-background__option",children:[l.jsx("input",{type:"radio",name:"background-specialization",value:S,checked:c===S,onChange:()=>p(S)}),l.jsx("span",{children:S})]},S)),l.jsx("button",{type:"button",className:"skills-background__clear",onClick:()=>p(null),children:"Clear Background Choice"})]})]}),l.jsxs("section",{className:"skills-selected",children:[l.jsx("h3",{children:"Selected Specializations"}),s.length===0&&!c?l.jsx("p",{children:"No specializations chosen yet."}):l.jsxs("ul",{children:[s.map(S=>l.jsxs("li",{children:[l.jsxs("div",{children:[l.jsx("strong",{children:S.label}),S.type==="custom"&&!S.gmApproved&&l.jsx("span",{className:"gm-tag",children:"Pending GM Approval"})]}),l.jsx("button",{type:"button",onClick:()=>o(S.id),"aria-label":`Remove ${S.label}`,children:"Remove"})]},S.id)),c&&l.jsxs("li",{children:[l.jsxs("div",{children:[l.jsx("strong",{children:c}),l.jsx("span",{className:"gm-tag gm-tag--background",children:"Background"})]}),l.jsx("button",{type:"button",onClick:()=>p(null),"aria-label":"Clear background specialization",children:"Remove"})]})]})]}),l.jsxs("section",{className:"skills-footer",children:[l.jsxs("div",{children:[l.jsx("h3",{children:"Custom Specialization"}),l.jsxs("div",{className:"skills-custom",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Describe your custom edge"}),l.jsxs("div",{className:"skills-custom__controls",children:[l.jsx("input",{value:v,onChange:S=>w(S.target.value),placeholder:"Ex: Underworld Etiquette",disabled:y?!E:!0}),l.jsx("button",{type:"button",onClick:R,disabled:!E||!v.trim(),children:"Add"})]})]}),l.jsxs("p",{className:"skills-custom__hint",children:[yv,y?` Slots remaining: ${Math.max(f,0)}.`:""]})]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Skill Notes"}),l.jsx("textarea",{value:g,onChange:S=>h(S.target.value),placeholder:"Record signature moves, training montages, and promised stunts."})]})]})]})}function jv(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}const wv={Physique:"physique",Intellect:"intellect",Presence:"presence"};function kv({priority:e,scores:t,onUpdateScore:n,notes:r,onUpdateNotes:s,data:i,selectedSpecializations:o,onToggleSpecialization:a}){var m;if(!i||!Array.isArray(i.pointBuy)||!i.definitions)return l.jsx("div",{className:"stage stage--attributes",children:l.jsx("p",{children:"Attribute data failed to load. Please refresh."})});const c=z.useMemo(()=>e?i.pointBuy.find(u=>u.priority===e)??null:null,[i.pointBuy,e]),d=z.useMemo(()=>Object.entries(i.definitions).map(([u,f])=>{const x=wv[u];return x?{key:x,displayName:u,description:f.description,specializations:f.specializations??[]}:null}).filter(u=>u!==null),[i.definitions]),p=(c==null?void 0:c.attributePoints)??0,g=z.useMemo(()=>Object.entries(t).reduce((u,[f,x])=>(u[f]=Math.min(Ps,Math.max(0,x)),u),{physique:0,intellect:0,presence:0}),[t]),h=Object.values(g).reduce((u,f)=>u+f,0),v=Math.max(p-h,0),w=(c==null?void 0:c.specializations)??0,y=z.useMemo(()=>Object.values(o).reduce((u,f)=>u+(Array.isArray(f)?f.length:0),0),[o]),k=Math.max(w-y,0);return l.jsxs("div",{className:"stage stage--attributes",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Attributes"}),l.jsx("p",{children:"Only three pillars define your raw capability. Split your dice pool to show which part of their soul still shines and which has already been sold to the city."})]}),l.jsxs("aside",{className:"attribute-pool",children:[l.jsxs("span",{children:["Priority ",e??""]}),e?l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:["Pool ",p,"  Remaining ",v]}),l.jsxs("p",{className:"attribute-pool__detail",children:["Specializations: ",w>0?`${k} of ${w} remaining`:"None available"]})]}):l.jsx("p",{children:"Assign a priority letter to calculate your attribute pool."})]})]}),l.jsx("section",{className:"attributes-grid",children:d.map(u=>{var E;const f=t[u.key]??0,x=Math.min(f,Ps),j=h-g[u.key],R=Math.max(p-j,0),N=Math.min(Ps,R);return l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h3",{children:u.displayName}),l.jsx("p",{children:u.description})]}),l.jsxs("div",{className:"attribute-control",children:[l.jsx("input",{type:"range",min:0,max:N,value:x,onChange:C=>{const S=Number(C.target.value),M=Math.min(N,Math.max(0,S));n(u.key,M)}}),l.jsx("span",{className:"attribute-value",children:x})]}),((E=u.specializations)==null?void 0:E.length)>0&&l.jsxs("div",{className:"attribute-specializations",children:[l.jsx("h4",{children:"Specializations"}),l.jsx("ul",{children:u.specializations.map(C=>{const M=(o[u.key]??[]).includes(C.name),B=w===0&&!M||w>0&&k===0&&!M;return l.jsx("li",{children:l.jsxs("button",{type:"button",className:`attribute-specialization__toggle ${M?"selected":""}`,onClick:()=>a(u.key,C.name),disabled:B,children:[l.jsx("strong",{children:C.name}),l.jsx("span",{children:C.description})]})},C.name)})})]})]},u.key)})}),((m=i.ratings)==null?void 0:m.length)>0&&l.jsxs("section",{className:"attribute-ratings",children:[l.jsx("h3",{children:"Rating Benchmarks"}),l.jsx("ul",{children:i.ratings.map(u=>l.jsxs("li",{children:[l.jsx("span",{className:"attribute-rating__score",children:u.score}),l.jsx("span",{children:u.label})]},u.score))})]}),l.jsx("section",{children:l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Attribute Notes"}),l.jsx("textarea",{value:r,onChange:u=>s(u.target.value),placeholder:"What scars or tells explain these strengths and weaknesses?"})]})})]})}function Sv({corruption:e,onAdjustCorruption:t,onSetCorruption:n,onUpdateCorruptionNotes:r,advancement:s,onAdjustExperience:i,onSetExperience:o,onUpdateAdvancement:a,health:c,onAdjustHealth:d,onSetHealth:p,onUpdateScar:g,narrative:h,onAddRelationship:v,onRemoveRelationship:w,onUpdateAnchors:y,onUpdateNarrativeNotes:k}){const[m,u]=z.useState(""),f=()=>{m.trim()&&(v(m.trim()),u(""))};return l.jsxs("div",{className:"stage stage--narrative",children:[l.jsx("header",{className:"stage__header",children:l.jsxs("div",{children:[l.jsx("h2",{children:"Narrative, Corruption & Wounds"}),l.jsx("p",{children:"Record the scars the city has already carved. Corruption is front-and-center for players, while hidden notes can foreshadow GM complications."})]})}),l.jsxs("section",{className:"advancement-panel",children:[l.jsxs("div",{className:"experience-meter",children:[l.jsx("div",{className:"experience-value",children:s.experience}),l.jsx("span",{children:"Experience"}),l.jsxs("div",{className:"experience-controls",children:[l.jsx("button",{type:"button",onClick:()=>i(-1),children:"-1"}),l.jsx("button",{type:"button",onClick:()=>o(0),children:"Reset"}),l.jsx("button",{type:"button",onClick:()=>i(1),children:"+1"})]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Advancement Track"}),l.jsx("textarea",{value:s.track,onChange:x=>a({track:x.target.value}),placeholder:"What does advancement look like for this character? Training regimens, resources, oaths."})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Milestones"}),l.jsx("textarea",{value:s.milestones,onChange:x=>a({milestones:x.target.value}),placeholder:"Log beats completed, debts paid, or corruption bargains accepted."})]})]}),l.jsxs("section",{className:"corruption-panel",children:[l.jsxs("div",{className:"corruption-meter",children:[l.jsx("div",{className:"corruption-value",children:e.current}),l.jsxs("span",{children:["Threshold ",e.warning]}),l.jsxs("div",{className:"corruption-controls",children:[l.jsx("button",{type:"button",onClick:()=>t(-1),children:"-1"}),l.jsx("button",{type:"button",onClick:()=>n(0),children:"Reset"}),l.jsx("button",{type:"button",onClick:()=>t(1),children:"+1"})]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Corruption Notes"}),l.jsx("textarea",{value:e.notes,onChange:x=>r(x.target.value),placeholder:"Describe what corruption looks like for this character."})]})]}),l.jsxs("section",{className:"health-grid",children:[l.jsx("h3",{children:"Health by Body Location"}),l.jsx("div",{className:"health-cards",children:Object.keys(fc).map(x=>{const j=c[x],R=fc[x];return l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h4",{children:R}),l.jsxs("span",{children:[j.current," / ",j.max]})]}),l.jsxs("div",{className:"health-controls",children:[l.jsx("button",{type:"button",onClick:()=>d(x,-1),children:"-"}),l.jsx("input",{type:"number",min:0,max:j.max,value:j.current,onChange:N=>p(x,Number(N.target.value))}),l.jsx("button",{type:"button",onClick:()=>d(x,1),children:"+"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Scars & Notes"}),l.jsx("textarea",{value:j.scar,onChange:N=>g(x,N.target.value),placeholder:"Visible injuries, lingering trauma, prosthetics."})]})]},x)})})]}),l.jsxs("section",{className:"relationships-panel",children:[l.jsxs("div",{className:"relationships-list",children:[l.jsx("h3",{children:"Relationships"}),l.jsxs("div",{className:"relationship-input",children:[l.jsx("input",{value:m,onChange:x=>u(x.target.value),placeholder:"Name  why they matter  leverage"}),l.jsx("button",{type:"button",onClick:f,children:"Add"})]}),h.relationships.length===0?l.jsx("p",{children:"No relationships logged yet."}):l.jsx("ul",{children:h.relationships.map(x=>l.jsxs("li",{children:[l.jsx("span",{children:x}),l.jsx("button",{type:"button",onClick:()=>w(x),children:"Remove"})]},x))})]}),l.jsxs("div",{className:"anchors",children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Anchors"}),l.jsx("textarea",{value:h.anchors,onChange:x=>y(x.target.value),placeholder:"What keeps them tethered to humanity?"})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Other Notes"}),l.jsx("textarea",{value:h.notes,onChange:x=>k(x.target.value),placeholder:"Foreshadow upcoming arcs, unresolved debts, or metaphysical tells."})]})]})]})]})}function Nv(){var qo;const{data:e}=Jr(),t=U(P=>P.ensureActiveBuild),n=U(P=>P.activeBuildId?P.builds[P.activeBuildId]:null),r=U(P=>P.setStage),s=U(P=>P.updateProfile),i=U(P=>P.assignPriority),o=U(P=>P.selectLineage),a=U(P=>P.toggleLineageReveal),c=U(P=>P.updateLineageNotes),d=U(P=>P.toggleLineagePower),p=U(P=>P.clearLineagePowers),g=U(P=>P.updateResourceNotes),h=U(P=>P.updateBackground),v=U(P=>P.addContactResource),w=U(P=>P.updateContactResource),y=U(P=>P.removeContactResource),k=U(P=>P.addRetainerResource),m=U(P=>P.updateRetainerResource),u=U(P=>P.removeRetainerResource),f=U(P=>P.addPropertyResource),x=U(P=>P.updatePropertyResource),j=U(P=>P.removePropertyResource),R=U(P=>P.addGoodsResource),N=U(P=>P.updateGoodsResource),E=U(P=>P.removeGoodsResource),C=U(P=>P.setResourceLiquid),S=U(P=>P.setSkillRating),M=U(P=>P.toggleSkillSpecialization),B=U(P=>P.removeSkillSpecialization),W=U(P=>P.addCustomSkillSpecialization),Q=U(P=>P.setBackgroundSkillSpecialization),K=U(P=>P.updateSkillNotes),F=U(P=>P.setAttributeScore),J=U(P=>P.updateAttributeNotes),T=U(P=>P.toggleAttributeSpecialization),$=U(P=>P.resetActiveBuild),L=U(P=>P.adjustExperience),b=U(P=>P.setExperience),H=U(P=>P.updateAdvancement),q=U(P=>P.adjustCorruption),V=U(P=>P.setCorruption),se=U(P=>P.updateCorruptionNotes),D=U(P=>P.adjustHealth),ie=U(P=>P.setHealth),Ee=U(P=>P.updateHealthScar),X=U(P=>P.addRelationship),$e=U(P=>P.removeRelationship),ae=U(P=>P.updateAnchors),le=U(P=>P.updateNarrativeNotes),he=vt(P=>P.gmUnlocked);z.useEffect(()=>{t()},[t]);const je=z.useMemo(()=>ep((n==null?void 0:n.lineage.key)??null),[n==null?void 0:n.lineage.key]);if(!e||!n)return null;const _=Array.isArray(n.lineage.powers)?n.lineage.powers:[],Y=n.lineage.key?(qo=e.powerSets)==null?void 0:qo[n.lineage.key]:void 0,Z=n.background.title?e.backgrounds[n.background.title]:void 0,Ae=Array.isArray(Z==null?void 0:Z.skillSpecializationOptions)?Z.skillSpecializationOptions:[],O=(P,jt)=>i(P,jt),pt=P=>i(P,null);let te;switch(n.stage){case"priorities":te=l.jsx(Jg,{priorities:n.priorities,onSelect:O,onClear:pt});break;case"lineage":te=l.jsx(av,{priorities:n.priorities,selected:n.lineage.key,onSelect:P=>o(P),canReveal:he,revealMechanics:n.lineage.revealMechanics,onToggleReveal:a,notes:n.lineage.notes,onUpdateNotes:c,powerSet:Y,powers:_,onTogglePower:d,onClearPowers:p});break;case"resources":te=l.jsx(mv,{priority:n.priorities.resources,system:e.resources,costs:e.resourceCosts,contacts:n.resources.contacts,retainers:n.resources.retainers,properties:n.resources.properties,goods:n.resources.goods,liquid:n.resources.liquid,onAddContact:v,onUpdateContact:w,onRemoveContact:y,onAddRetainer:k,onUpdateRetainer:m,onRemoveRetainer:u,onAddProperty:f,onUpdateProperty:x,onRemoveProperty:j,onAddGoods:R,onUpdateGoods:N,onRemoveGoods:E,onUpdateLiquid:C,notes:n.resources.notes,onUpdateNotes:g});break;case"background":te=l.jsx(gv,{priority:n.priorities.background,background:n.background,onUpdate:h,data:e.backgrounds});break;case"skills":te=l.jsx(xv,{priority:n.priorities.skills,data:e.skills,ratings:n.skills.ratings,onChangeRating:S,specializations:n.skills.specializations,onToggleSpecialization:M,onRemoveSpecialization:B,onAddCustomSpecialization:W,backgroundSpecialization:n.skills.backgroundSpecialization,backgroundOptions:Ae,onSetBackgroundSpecialization:Q,notes:n.skills.notes,onUpdateNotes:K});break;case"attributes":te=l.jsx(kv,{priority:n.priorities.attributes,scores:n.attributes.scores,onUpdateScore:(P,jt)=>F(P,jt),notes:n.attributes.notes,onUpdateNotes:J,data:e.attributes,selectedSpecializations:n.attributes.specializations,onToggleSpecialization:T});break;case"narrative":te=l.jsx(Sv,{corruption:n.corruption,onAdjustCorruption:q,onSetCorruption:V,onUpdateCorruptionNotes:se,advancement:n.advancement,onAdjustExperience:L,onSetExperience:b,onUpdateAdvancement:H,health:n.health,onAdjustHealth:(P,jt)=>D(P,jt),onSetHealth:(P,jt)=>ie(P,jt),onUpdateScar:(P,jt)=>Ee(P,jt),narrative:n.narrative,onAddRelationship:X,onRemoveRelationship:$e,onUpdateAnchors:ae,onUpdateNarrativeNotes:le});break;default:te=null}const wi=je?{"--lineage-accent":je.aesthetic.accent,"--lineage-glow":je.aesthetic.glow}:void 0;return l.jsxs("div",{className:"min-h-screen px-deco-md py-deco-lg space-y-deco-lg relative",style:wi,children:[je&&l.jsx("div",{className:"absolute inset-0 opacity-40 pointer-events-none -z-10",style:{background:je.aesthetic.glow||"radial-gradient(circle at 10% 10%, rgba(212, 175, 55, 0.1), transparent 65%)"}}),l.jsxs("div",{className:"max-w-7xl mx-auto space-y-deco-lg",children:[l.jsx(Og,{build:n,onUpdate:s}),l.jsx("div",{className:"flex justify-end",children:l.jsx("button",{type:"button",onClick:$,className:`px-deco-md py-2 rounded-full border border-sidonia-gold/30
                     bg-sidonia-black/90 text-sidonia-text hover:border-sidonia-gold/60
                     font-body text-xs uppercase tracking-wider transition-all duration-300
                     hover:bg-sidonia-gold/5`,children:"Reset Character"})}),l.jsx(qg,{current:n.stage,onNavigate:r}),l.jsx("div",{className:"stage",children:te})]})]})}function Cv(e,t){const n=e.background.title?t.backgrounds[e.background.title]??null:null;return{version:"0.1.0",generatedAt:new Date().toISOString(),profile:e.profile,priorities:e.priorities,lineage:e.lineage,resources:e.resources,background:e.background,skills:e.skills,attributes:e.attributes,corruption:e.corruption,health:e.health,narrative:e.narrative,gmNotes:e.gmNotes,reference:{resources:t.resources,resourceCosts:t.resourceCosts,powerSchemas:t.powerSchemas,attributes:t.attributes,backgrounds:t.backgrounds,selectedBackgroundTemplate:n,characterSheet:t.characterSheet}}}function _v(e,t){const n=Cv(e,t),r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"});np(`${rp(e.profile.name||e.label)}.json`,r)}function Ev(e){const t=Pv(e),n=new Blob([t],{type:"text/plain"});np(`${rp(e.profile.name||e.label)}.txt`,n)}function Pv(e){const t=[];t.push(`SIDONIA DOSSIER :: ${e.profile.name||e.label}`),t.push(`Current Profession: ${e.profile.currentProfession}`),t.push(`Ward of Residence: ${e.profile.wardOfResidence}`),t.push(`Backstory: ${e.profile.backstory}`),e.profile.alias&&t.push(`Alias: ${e.profile.alias}`),e.profile.physicalDescription&&t.push(`Physical Description: ${e.profile.physicalDescription}`),e.profile.code&&t.push(`Code: ${e.profile.code}`),e.profile.lineNotCrossed&&t.push(`Line Not Crossed: ${e.profile.lineNotCrossed}`),e.profile.temptation&&t.push(`Temptation: ${e.profile.temptation}`),t.push(""),t.push("Priorities:"),Object.entries(e.priorities).forEach(([s,i])=>{t.push(`  ${s.toUpperCase()}: ${i??"-"}`)}),t.push(""),t.push(`Lineage: ${e.lineage.key??"Unchosen"}`),t.push(`Lineage Notes: ${e.lineage.notes}`),e.lineage.powers.length>0&&(t.push("Selected Lineage Powers:"),e.lineage.powers.forEach(s=>{var a,c,d,p,g,h;const i=[];(a=s.meta)!=null&&a.tierLabel&&i.push(s.meta.tierLabel),(c=s.meta)!=null&&c.sphere&&i.push(s.meta.sphere),(d=s.meta)!=null&&d.moveType&&i.push(s.meta.moveType),(p=s.meta)!=null&&p.branch&&i.push(s.meta.branch),(g=s.meta)!=null&&g.chassis&&i.push(s.meta.chassis),(h=s.meta)!=null&&h.category&&!["esper-base","esper-mentalist"].includes(s.meta.category)&&i.push(s.meta.category);const o=i.length>0?` (${i.join(", ")})`:"";t.push(`  - ${s.label}${o}`)})),t.push(""),t.push("Resources:"),e.resources.contacts.length>0&&(t.push("  Contacts:"),e.resources.contacts.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Contact";t.push(`    - ${a}${o}${i}`),t.push(`      Reach ${s.reach} / Influence ${s.influence}`),s.description&&t.push(`      ${s.description}`)})),e.resources.retainers.length>0&&(t.push("  Retainers:"),e.resources.retainers.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Retainer";t.push(`    - ${a}${o}${i}`),t.push(`      Competence ${s.competence} / Loyalty ${s.loyalty}`),s.description&&t.push(`      ${s.description}`)})),e.resources.properties.length>0&&(t.push("  Properties:"),e.resources.properties.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Property";t.push(`    - ${a}${o}${i}`),t.push(`      Tenure: ${s.tenure||""}  Zoning: ${s.zoning||""}`),s.ward&&t.push(`      Ward: ${s.ward}`),s.description&&t.push(`      ${s.description}`)})),e.resources.goods.length>0&&(t.push("  Goods & Stockpiles:"),e.resources.goods.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Cache";t.push(`    - ${a}${o}${i}`),t.push(`      Quality ${s.quality}`),s.description&&t.push(`      ${s.description}`)})),t.push(`  Liquid Assets: ${e.resources.liquid}`),t.push(`Resource Notes: ${e.resources.notes}`),t.push(""),t.push(`Background: ${e.background.title}`),t.push(`Details: ${e.background.tierNotes}`),t.push(`Contacts: ${e.background.contacts}`),t.push(""),t.push("Skills:"),Object.entries(e.skills.ratings).forEach(([s,i])=>{i>0&&t.push(`  ${Rv(s)}: ${i}`)});const n=e.skills.specializations.filter(s=>s.type!=="background");n.length>0&&(t.push("Specializations:"),n.forEach(s=>{const i=s.type==="custom"&&!s.gmApproved?" (Pending GM Approval)":"";t.push(`  - ${s.label}${i}`)})),e.skills.backgroundSpecialization&&t.push(`Background Specialization: ${e.skills.backgroundSpecialization}`),t.push(`Skill Notes: ${e.skills.notes}`),t.push(""),t.push("Attributes:"),Object.entries(e.attributes.scores).forEach(([s,i])=>{t.push(`  ${s}: ${i}`)});const r=Object.entries(e.attributes.specializations).filter(([,s])=>s.length>0);return r.length>0&&(t.push("Attribute Specializations:"),r.forEach(([s,i])=>{t.push(`  ${s}: ${i.join(", ")}`)})),t.push(`Attribute Notes: ${e.attributes.notes}`),t.push(""),t.push(`Corruption: ${e.corruption.current} / ${e.corruption.warning}`),t.push(`Corruption Notes: ${e.corruption.notes}`),t.push(""),t.push("Health:"),Object.entries(e.health).forEach(([s,i])=>{t.push(`  ${s}: ${i.current}/${i.max} :: ${i.scar}`)}),t.push(""),t.push("Relationships:"),e.narrative.relationships.forEach(s=>t.push(`  - ${s}`)),t.push(`Anchors: ${e.narrative.anchors}`),t.push(`Notes: ${e.narrative.notes}`),e.gmNotes&&(t.push(""),t.push("GM Notes:"),t.push(e.gmNotes)),t.join(`
`)}function np(e,t){const n=document.createElement("a"),r=URL.createObjectURL(t);n.href=r,n.download=e,n.click(),URL.revokeObjectURL(r)}function rp(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"sidonia-character"}function Rv(e){const[t,n]=e.split(":");return`${yc(t)}  ${yc((n??"").replace(/-/g," "))}`}function yc(e){return e.split(/\s+/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ").trim()}function zv(){const{data:e}=Jr(),t=U(h=>h.builds),n=U(h=>h.activeBuildId),r=U(h=>h.createBuild),s=U(h=>h.setActiveBuild),i=U(h=>h.archiveBuild),o=U(h=>h.renameBuild),a=U(h=>h.duplicateBuild),[c,d]=z.useState(""),p=z.useMemo(()=>Object.values(t).sort((h,v)=>h.updatedAt<v.updatedAt?1:-1),[t]),g=()=>{const h=r(c.trim()||void 0);d(""),s(h)};return e?l.jsx("div",{className:"min-h-screen px-deco-md py-deco-lg",children:l.jsxs("div",{className:"max-w-7xl mx-auto space-y-deco-lg",children:[l.jsxs("header",{className:"text-center space-y-deco-sm",children:[l.jsx("h1",{className:"text-display-lg text-sidonia-gold text-shadow-gold",children:"Character Management"}),l.jsx("div",{className:"h-px w-32 mx-auto bg-gradient-to-r from-transparent via-sidonia-gold to-transparent"}),l.jsx("p",{className:"text-body text-sidonia-text/80 max-w-2xl mx-auto",children:"Spin up new dossiers, duplicate existing ones, and export packages for your virtual tabletop or print."})]}),l.jsx(Ut,{children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-deco-sm items-end",children:[l.jsx("div",{className:"flex-1 w-full",children:l.jsx(cn,{label:"Name your new dossier",value:c,onChange:h=>d(h.target.value),placeholder:"Untitled Operative"})}),l.jsx(Fe,{variant:"primary",size:"lg",onClick:g,className:"w-full sm:w-auto",children:"Create Character"})]})}),p.length===0&&l.jsx("div",{className:"text-center py-deco-xl",children:l.jsx("p",{className:"text-sidonia-muted font-body",children:"No builds yet. Start by creating a new dossier."})}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-deco-md",children:p.map(h=>{const v=h.id===n;return l.jsxs("article",{className:de("relative bg-sidonia-dark border-2 rounded-lg p-deco-md space-y-deco-sm","transition-all duration-300",v?"border-sidonia-gold shadow-lg shadow-sidonia-gold/20":"border-sidonia-gold/20 hover:border-sidonia-gold/40"),children:[v&&l.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-full bg-sidonia-gold/20 border border-sidonia-gold",children:l.jsx("span",{className:"text-xs font-display uppercase tracking-wider text-sidonia-gold",children:"Active"})}),l.jsxs("header",{className:"space-y-2",children:[l.jsx("input",{value:h.label,onChange:w=>o(h.id,w.target.value),"aria-label":"Character label",className:`w-full bg-sidonia-black border border-sidonia-gold/50 text-sidonia-text
                             px-deco-sm py-2 rounded font-display text-lg tracking-wider uppercase
                             focus:outline-none focus:ring-1 focus:border-sidonia-gold focus:ring-sidonia-gold/20
                             transition-all duration-300`}),!v&&l.jsx(Fe,{variant:"secondary",size:"sm",onClick:()=>s(h.id),className:"w-full",children:"Set Active"})]}),l.jsxs("dl",{className:"space-y-2 py-deco-sm border-t border-b border-sidonia-gold/20",children:[l.jsxs("div",{children:[l.jsx("dt",{className:"text-label",children:"Name"}),l.jsx("dd",{className:"text-sidonia-text font-body",children:h.profile.name||""})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-label",children:"Profession"}),l.jsx("dd",{className:"text-sidonia-text font-body",children:h.profile.currentProfession||""})]}),l.jsxs("div",{children:[l.jsx("dt",{className:"text-label",children:"Updated"}),l.jsx("dd",{className:"text-sidonia-text/70 font-body text-sm",children:new Date(h.updatedAt).toLocaleString()})]})]}),l.jsxs("footer",{className:"grid grid-cols-2 gap-2",children:[l.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>a(h.id),className:"text-xs",children:"Duplicate"}),l.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>_v(h,e),className:"text-xs",children:"Export JSON"}),l.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>Ev(h),className:"text-xs",children:"Printable"}),l.jsx(Fe,{variant:"danger",size:"sm",onClick:()=>Av(h.id,h.label,i),className:"text-xs",children:"Delete"})]})]},h.id)})})]})}):null}function Av(e,t,n){window.confirm(`Delete ${t}? This action cannot be undone.`)&&n(e)}function Lv(){const{data:e}=Jr(),t=vt(v=>v.gmUnlocked),n=vt(v=>v.authenticateGm),r=vt(v=>v.lockGm),s=vt(v=>v.gmUnlockedAt),[i,o]=z.useState(""),[a,c]=z.useState(null),d=(e==null?void 0:e.designDocs)??[],p=(e==null?void 0:e.powerSchemas)??{},g=v=>{v.preventDefault(),n(i)?(c(null),o("")):(c("Access denied. Double-check the veil phrase."),ne.track("gm.invalid_passphrase",{}))},h=z.useMemo(()=>Object.entries(p),[p]);return l.jsx("div",{className:"min-h-screen px-deco-md py-deco-lg",children:l.jsxs("div",{className:"max-w-7xl mx-auto space-y-deco-lg",children:[l.jsxs("header",{className:"text-center space-y-deco-sm",children:[l.jsx("h1",{className:"text-display-lg text-corruption-red text-shadow-gold",children:"GM Veil"}),l.jsx("div",{className:"h-px w-32 mx-auto bg-gradient-to-r from-transparent via-corruption-red to-transparent"}),l.jsx("p",{className:"text-body text-sidonia-text/80 max-w-2xl mx-auto",children:"Hidden truths live here. Only game masters with the veil phrase may cross. Player tables should never see the material below."})]}),!t&&l.jsx(Ut,{className:"max-w-2xl mx-auto",children:l.jsxs("form",{onSubmit:g,className:"space-y-deco-sm",children:[l.jsx(cn,{label:"Veil Phrase",value:i,onChange:v=>o(v.target.value),placeholder:"Enter the GM veil phrase",autoComplete:"off",error:a||void 0}),l.jsx(Fe,{variant:"danger",size:"lg",type:"submit",className:"w-full animate-corruption-glow",children:"Slip Behind the Veil"})]})}),t&&l.jsxs("div",{className:"space-y-deco-lg",children:[l.jsx(Ut,{className:"bg-corruption-dark/20 border-corruption-red/40",children:l.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-deco-sm",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"font-display text-2xl tracking-wider uppercase text-corruption-red",children:"Veil Raised"}),l.jsxs("p",{className:"text-sidonia-text/70 font-body text-sm mt-1",children:["Unlocked ",s?new Date(s).toLocaleString():"just now","."]})]}),l.jsx(Fe,{variant:"secondary",onClick:r,children:"Re-engage Safety"})]})}),l.jsxs("section",{className:"space-y-deco-sm",children:[l.jsx("h2",{className:"font-display text-3xl tracking-wider uppercase text-sidonia-gold",children:"Power Schemas"}),l.jsx("p",{className:"text-sidonia-text/70 font-body",children:"Raw schema data for powers, lineages, and their restrictions. Export directly for system reference."}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-deco-sm",children:h.map(([v,w])=>l.jsxs(Ut,{className:"space-y-deco-sm",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsx("h3",{className:"font-display text-lg tracking-wide uppercase text-sidonia-brass",children:Tv(v)}),l.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>sp(`${v}-schema.json`,w),className:"text-xs flex-shrink-0",children:"Download"})]}),l.jsxs("pre",{className:`max-h-[200px] overflow-auto p-deco-sm rounded bg-sidonia-black/60
                                   text-sidonia-text/80 font-mono text-xs border border-sidonia-gold/20`,children:[JSON.stringify(w,null,2).slice(0,400),""]})]},v))})]}),l.jsxs("section",{className:"space-y-deco-sm",children:[l.jsx("h2",{className:"font-display text-3xl tracking-wider uppercase text-sidonia-gold",children:"Design Documents"}),l.jsx("p",{className:"text-sidonia-text/70 font-body",children:"Reference briefs written for GM eyes. Share selectively with players as the narrative reveals itself."}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-deco-sm",children:d.map(v=>l.jsxs(Ut,{className:"space-y-deco-sm",children:[l.jsxs("div",{className:"flex justify-between items-start gap-2",children:[l.jsx("h3",{className:"font-display text-lg tracking-wide uppercase text-sidonia-brass",children:v.title}),l.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>bv(`${v.id}.md`,v.content),className:"text-xs flex-shrink-0",children:"Download"})]}),l.jsxs("pre",{className:`max-h-[200px] overflow-auto p-deco-sm rounded bg-sidonia-black/60
                                   text-sidonia-text/80 font-mono text-xs border border-sidonia-gold/20 whitespace-pre-wrap`,children:[v.content.slice(0,400),""]})]},v.id))})]}),l.jsxs("section",{className:"space-y-deco-sm",children:[l.jsx("h2",{className:"font-display text-3xl tracking-wider uppercase text-sidonia-gold",children:"Analytics Buffer"}),l.jsx("p",{className:"text-sidonia-text/70 font-body",children:"Inspect anonymized analytics currently stored locally. Export before sharing with designers."}),l.jsx(Ut,{children:l.jsx(Mv,{})})]})]})]})})}function Tv(e){return e.split(/[-_]/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function sp(e,t){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"});ip(e,n)}function bv(e,t){const n=new Blob([t],{type:"text/plain"});ip(e,n)}function ip(e,t){const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,r.click(),URL.revokeObjectURL(n)}function Mv(){const e=vt(n=>n.analyticsConsent),t=ne.getAll();return e!=="accepted"?l.jsx("p",{className:"text-sidonia-muted font-body text-center py-deco-md",children:"Analytics collection is currently disabled or declined."}):t.length===0?l.jsx("p",{className:"text-sidonia-muted font-body text-center py-deco-md",children:"No analytics entries recorded yet."}):l.jsxs("div",{className:"space-y-deco-sm",children:[l.jsx(Fe,{variant:"secondary",size:"md",onClick:()=>sp("sidonia-analytics.json",t),children:"Export Analytics Buffer"}),l.jsx("ul",{className:"list-none p-0 m-0 space-y-2 max-h-[220px] overflow-auto",children:t.map(n=>l.jsxs("li",{className:`grid grid-cols-[auto_auto_1fr] gap-2 bg-sidonia-black/40 p-deco-sm rounded
                     border border-sidonia-gold/20 items-center`,children:[l.jsx("strong",{className:"text-sidonia-gold font-display text-xs uppercase tracking-wide",children:n.event}),l.jsx("span",{className:"text-sidonia-muted font-mono text-xs",children:new Date(n.timestamp).toLocaleTimeString()}),n.data&&l.jsx("code",{className:"text-sidonia-text/60 font-mono text-xs overflow-hidden text-ellipsis",children:JSON.stringify(n.data)})]},`${n.event}-${n.timestamp}`))})]})}function $v(){return l.jsxs("div",{className:"loading-spinner",role:"status","aria-live":"polite",children:[l.jsx("div",{className:"loading-spinner__glow"}),l.jsx("span",{className:"loading-spinner__label",children:"Loading the Veil"})]})}function Iv(){const{status:e,error:t,refresh:n}=Jr();let r;return e==="idle"||e==="loading"?r=l.jsx($v,{}):e==="error"?r=l.jsxs("div",{children:[l.jsx("h2",{children:"We lost the signal."}),l.jsxs("p",{children:["Character data failed to load. ",t]}),l.jsx("button",{type:"button",onClick:n,children:"Retry"})]}):r=l.jsxs(_m,{children:[l.jsx(Sn,{path:"/",element:l.jsx(Ig,{})}),l.jsx(Sn,{path:"/builder",element:l.jsx(Nv,{})}),l.jsx(Sn,{path:"/management",element:l.jsx(zv,{})}),l.jsx(Sn,{path:"/gm",element:l.jsx(Lv,{})}),l.jsx(Sn,{path:"*",element:l.jsx(Nm,{to:"/",replace:!0})})]}),l.jsx($g,{children:r})}Zi.createRoot(document.getElementById("root")).render(l.jsx(eo.StrictMode,{children:l.jsx(bm,{children:l.jsx(Tg,{children:l.jsx(Iv,{})})})}));
