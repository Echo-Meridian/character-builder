var Dp=Object.defineProperty;var Fp=(e,t,n)=>t in e?Dp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Bi=(e,t,n)=>Fp(e,typeof t!="symbol"?t+"":t,n);function bp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Qc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qc={exports:{}},yi={},Kc={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ls=Symbol.for("react.element"),Bp=Symbol.for("react.portal"),Up=Symbol.for("react.fragment"),Wp=Symbol.for("react.strict_mode"),Hp=Symbol.for("react.profiler"),Vp=Symbol.for("react.provider"),Gp=Symbol.for("react.context"),Qp=Symbol.for("react.forward_ref"),qp=Symbol.for("react.suspense"),Kp=Symbol.for("react.memo"),Yp=Symbol.for("react.lazy"),va=Symbol.iterator;function Jp(e){return e===null||typeof e!="object"?null:(e=va&&e[va]||e["@@iterator"],typeof e=="function"?e:null)}var Yc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Jc=Object.assign,Xc={};function or(e,t,n){this.props=e,this.context=t,this.refs=Xc,this.updater=n||Yc}or.prototype.isReactComponent={};or.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};or.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Zc(){}Zc.prototype=or.prototype;function vo(e,t,n){this.props=e,this.context=t,this.refs=Xc,this.updater=n||Yc}var yo=vo.prototype=new Zc;yo.constructor=vo;Jc(yo,or.prototype);yo.isPureReactComponent=!0;var ya=Array.isArray,eu=Object.prototype.hasOwnProperty,xo={current:null},tu={key:!0,ref:!0,__self:!0,__source:!0};function nu(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)eu.call(t,r)&&!tu.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ls,type:e,key:i,ref:o,props:s,_owner:xo.current}}function Xp(e,t){return{$$typeof:ls,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function jo(e){return typeof e=="object"&&e!==null&&e.$$typeof===ls}function Zp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var xa=/\/+/g;function Ui(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zp(""+e.key):t.toString(36)}function $s(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case ls:case Bp:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Ui(o,0):r,ya(s)?(n="",e!=null&&(n=e.replace(xa,"$&/")+"/"),$s(s,t,n,"",function(d){return d})):s!=null&&(jo(s)&&(s=Xp(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(xa,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",ya(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+Ui(i,a);o+=$s(i,t,n,c,s)}else if(c=Jp(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+Ui(i,a++),o+=$s(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function gs(e,t,n){if(e==null)return e;var r=[],s=0;return $s(e,r,"","",function(i){return t.call(n,i,s++)}),r}function ef(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var We={current:null},Ts={transition:null},tf={ReactCurrentDispatcher:We,ReactCurrentBatchConfig:Ts,ReactCurrentOwner:xo};function ru(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:gs,forEach:function(e,t,n){gs(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return gs(e,function(){t++}),t},toArray:function(e){return gs(e,function(t){return t})||[]},only:function(e){if(!jo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Y.Component=or;Y.Fragment=Up;Y.Profiler=Hp;Y.PureComponent=vo;Y.StrictMode=Wp;Y.Suspense=qp;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tf;Y.act=ru;Y.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Jc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=xo.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)eu.call(t,c)&&!tu.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:ls,type:e.type,key:s,ref:i,props:r,_owner:o}};Y.createContext=function(e){return e={$$typeof:Gp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vp,_context:e},e.Consumer=e};Y.createElement=nu;Y.createFactory=function(e){var t=nu.bind(null,e);return t.type=e,t};Y.createRef=function(){return{current:null}};Y.forwardRef=function(e){return{$$typeof:Qp,render:e}};Y.isValidElement=jo;Y.lazy=function(e){return{$$typeof:Yp,_payload:{_status:-1,_result:e},_init:ef}};Y.memo=function(e,t){return{$$typeof:Kp,type:e,compare:t===void 0?null:t}};Y.startTransition=function(e){var t=Ts.transition;Ts.transition={};try{e()}finally{Ts.transition=t}};Y.unstable_act=ru;Y.useCallback=function(e,t){return We.current.useCallback(e,t)};Y.useContext=function(e){return We.current.useContext(e)};Y.useDebugValue=function(){};Y.useDeferredValue=function(e){return We.current.useDeferredValue(e)};Y.useEffect=function(e,t){return We.current.useEffect(e,t)};Y.useId=function(){return We.current.useId()};Y.useImperativeHandle=function(e,t,n){return We.current.useImperativeHandle(e,t,n)};Y.useInsertionEffect=function(e,t){return We.current.useInsertionEffect(e,t)};Y.useLayoutEffect=function(e,t){return We.current.useLayoutEffect(e,t)};Y.useMemo=function(e,t){return We.current.useMemo(e,t)};Y.useReducer=function(e,t,n){return We.current.useReducer(e,t,n)};Y.useRef=function(e){return We.current.useRef(e)};Y.useState=function(e){return We.current.useState(e)};Y.useSyncExternalStore=function(e,t,n){return We.current.useSyncExternalStore(e,t,n)};Y.useTransition=function(){return We.current.useTransition()};Y.version="18.3.1";Kc.exports=Y;var R=Kc.exports;const wo=Qc(R),nf=bp({__proto__:null,default:wo},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rf=R,sf=Symbol.for("react.element"),lf=Symbol.for("react.fragment"),of=Object.prototype.hasOwnProperty,af=rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cf={key:!0,ref:!0,__self:!0,__source:!0};function su(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)of.call(t,r)&&!cf.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:sf,type:e,key:i,ref:o,props:s,_owner:af.current}}yi.Fragment=lf;yi.jsx=su;yi.jsxs=su;qc.exports=yi;var l=qc.exports,xl={},iu={exports:{}},lt={},lu={exports:{}},ou={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,b){var U=T.length;T.push(b);e:for(;0<U;){var ee=U-1>>>1,pe=T[ee];if(0<s(pe,b))T[ee]=b,T[U]=pe,U=ee;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var b=T[0],U=T.pop();if(U!==b){T[0]=U;e:for(var ee=0,pe=T.length,Xe=pe>>>1;ee<Xe;){var _=2*(ee+1)-1,M=T[_],z=_+1,V=T[z];if(0>s(M,U))z<pe&&0>s(V,M)?(T[ee]=V,T[z]=U,ee=z):(T[ee]=M,T[_]=U,ee=_);else if(z<pe&&0>s(V,U))T[ee]=V,T[z]=U,ee=z;else break e}}return b}function s(T,b){var U=T.sortIndex-b.sortIndex;return U!==0?U:T.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],d=[],p=1,g=null,h=3,v=!1,x=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(T){for(var b=n(d);b!==null;){if(b.callback===null)r(d);else if(b.startTime<=T)r(d),b.sortIndex=b.expirationTime,t(c,b);else break;b=n(d)}}function j(T){if(y=!1,f(T),!x)if(n(c)!==null)x=!0,ce(k);else{var b=n(d);b!==null&&_e(j,b.startTime-T)}}function k(T,b){x=!1,y&&(y=!1,m(L),L=-1),v=!0;var U=h;try{for(f(b),g=n(c);g!==null&&(!(g.expirationTime>b)||T&&!q());){var ee=g.callback;if(typeof ee=="function"){g.callback=null,h=g.priorityLevel;var pe=ee(g.expirationTime<=b);b=e.unstable_now(),typeof pe=="function"?g.callback=pe:g===n(c)&&r(c),f(b)}else r(c);g=n(c)}if(g!==null)var Xe=!0;else{var _=n(d);_!==null&&_e(j,_.startTime-b),Xe=!1}return Xe}finally{g=null,h=U,v=!1}}var E=!1,C=null,L=-1,$=5,P=-1;function q(){return!(e.unstable_now()-P<$)}function ae(){if(C!==null){var T=e.unstable_now();P=T;var b=!0;try{b=C(!0,T)}finally{b?ue():(E=!1,C=null)}}else E=!1}var ue;if(typeof u=="function")ue=function(){u(ae)};else if(typeof MessageChannel<"u"){var re=new MessageChannel,Ce=re.port2;re.port1.onmessage=ae,ue=function(){Ce.postMessage(null)}}else ue=function(){w(ae,0)};function ce(T){C=T,E||(E=!0,ue())}function _e(T,b){L=w(function(){T(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,ce(k))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var b=3;break;default:b=h}var U=h;h=b;try{return T()}finally{h=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,b){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var U=h;h=T;try{return b()}finally{h=U}},e.unstable_scheduleCallback=function(T,b,U){var ee=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?ee+U:ee):U=ee,T){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=U+pe,T={id:p++,callback:b,priorityLevel:T,startTime:U,expirationTime:pe,sortIndex:-1},U>ee?(T.sortIndex=U,t(d,T),n(c)===null&&T===n(d)&&(y?(m(L),L=-1):y=!0,_e(j,U-ee))):(T.sortIndex=pe,t(c,T),x||v||(x=!0,ce(k))),T},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(T){var b=h;return function(){var U=h;h=b;try{return T.apply(this,arguments)}finally{h=U}}}})(ou);lu.exports=ou;var uf=lu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var df=R,it=uf;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var au=new Set,Fr={};function Pn(e,t){Jn(e,t),Jn(e+"Capture",t)}function Jn(e,t){for(Fr[e]=t,e=0;e<t.length;e++)au.add(t[e])}var Dt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jl=Object.prototype.hasOwnProperty,pf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ja={},wa={};function ff(e){return jl.call(wa,e)?!0:jl.call(ja,e)?!1:pf.test(e)?wa[e]=!0:(ja[e]=!0,!1)}function hf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function mf(e,t,n,r){if(t===null||typeof t>"u"||hf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function He(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new He(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new He(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new He(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new He(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new He(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new He(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new He(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new He(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new He(e,5,!1,e.toLowerCase(),null,!1,!1)});var ko=/[\-:]([a-z])/g;function So(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ko,So);Oe[t]=new He(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ko,So);Oe[t]=new He(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ko,So);Oe[t]=new He(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new He(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new He(e,1,!1,e.toLowerCase(),null,!0,!0)});function No(e,t,n,r){var s=Oe.hasOwnProperty(t)?Oe[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(mf(t,n,s,r)&&(n=null),r||s===null?ff(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ut=df.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),$n=Symbol.for("react.portal"),Tn=Symbol.for("react.fragment"),Co=Symbol.for("react.strict_mode"),wl=Symbol.for("react.profiler"),cu=Symbol.for("react.provider"),uu=Symbol.for("react.context"),_o=Symbol.for("react.forward_ref"),kl=Symbol.for("react.suspense"),Sl=Symbol.for("react.suspense_list"),Eo=Symbol.for("react.memo"),Gt=Symbol.for("react.lazy"),du=Symbol.for("react.offscreen"),ka=Symbol.iterator;function hr(e){return e===null||typeof e!="object"?null:(e=ka&&e[ka]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,Wi;function _r(e){if(Wi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wi=t&&t[1]||""}return`
`+Wi+e}var Hi=!1;function Vi(e,t){if(!e||Hi)return"";Hi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{Hi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?_r(e):""}function gf(e){switch(e.tag){case 5:return _r(e.type);case 16:return _r("Lazy");case 13:return _r("Suspense");case 19:return _r("SuspenseList");case 0:case 2:case 15:return e=Vi(e.type,!1),e;case 11:return e=Vi(e.type.render,!1),e;case 1:return e=Vi(e.type,!0),e;default:return""}}function Nl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tn:return"Fragment";case $n:return"Portal";case wl:return"Profiler";case Co:return"StrictMode";case kl:return"Suspense";case Sl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case uu:return(e.displayName||"Context")+".Consumer";case cu:return(e._context.displayName||"Context")+".Provider";case _o:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Eo:return t=e.displayName||null,t!==null?t:Nl(e.type)||"Memo";case Gt:t=e._payload,e=e._init;try{return Nl(e(t))}catch{}}return null}function vf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nl(t);case 8:return t===Co?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function cn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function pu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function yf(e){var t=pu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ys(e){e._valueTracker||(e._valueTracker=yf(e))}function fu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=pu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cl(e,t){var n=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Sa(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=cn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hu(e,t){t=t.checked,t!=null&&No(e,"checked",t,!1)}function _l(e,t){hu(e,t);var n=cn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?El(e,t.type,n):t.hasOwnProperty("defaultValue")&&El(e,t.type,cn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Na(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function El(e,t,n){(t!=="number"||Gs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Er=Array.isArray;function Vn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+cn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Pl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ca(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(Er(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:cn(n)}}function mu(e,t){var n=cn(t.value),r=cn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function _a(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function gu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?gu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var xs,vu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(xs=xs||document.createElement("div"),xs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function br(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xf=["Webkit","ms","Moz","O"];Object.keys(Ar).forEach(function(e){xf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ar[t]=Ar[e]})});function yu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ar.hasOwnProperty(e)&&Ar[e]?(""+t).trim():t+"px"}function xu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=yu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var jf=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Al(e,t){if(t){if(jf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function zl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ll=null;function Po(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $l=null,Gn=null,Qn=null;function Ea(e){if(e=cs(e)){if(typeof $l!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Si(t),$l(e.stateNode,e.type,t))}}function ju(e){Gn?Qn?Qn.push(e):Qn=[e]:Gn=e}function wu(){if(Gn){var e=Gn,t=Qn;if(Qn=Gn=null,Ea(e),t)for(e=0;e<t.length;e++)Ea(t[e])}}function ku(e,t){return e(t)}function Su(){}var Gi=!1;function Nu(e,t,n){if(Gi)return e(t,n);Gi=!0;try{return ku(e,t,n)}finally{Gi=!1,(Gn!==null||Qn!==null)&&(Su(),wu())}}function Br(e,t){var n=e.stateNode;if(n===null)return null;var r=Si(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var Tl=!1;if(Dt)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){Tl=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{Tl=!1}function wf(e,t,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var zr=!1,Qs=null,qs=!1,Ml=null,kf={onError:function(e){zr=!0,Qs=e}};function Sf(e,t,n,r,s,i,o,a,c){zr=!1,Qs=null,wf.apply(kf,arguments)}function Nf(e,t,n,r,s,i,o,a,c){if(Sf.apply(this,arguments),zr){if(zr){var d=Qs;zr=!1,Qs=null}else throw Error(A(198));qs||(qs=!0,Ml=d)}}function Rn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Cu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pa(e){if(Rn(e)!==e)throw Error(A(188))}function Cf(e){var t=e.alternate;if(!t){if(t=Rn(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Pa(s),e;if(i===r)return Pa(s),t;i=i.sibling}throw Error(A(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function _u(e){return e=Cf(e),e!==null?Eu(e):null}function Eu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Eu(e);if(t!==null)return t;e=e.sibling}return null}var Pu=it.unstable_scheduleCallback,Ra=it.unstable_cancelCallback,_f=it.unstable_shouldYield,Ef=it.unstable_requestPaint,Ne=it.unstable_now,Pf=it.unstable_getCurrentPriorityLevel,Ro=it.unstable_ImmediatePriority,Ru=it.unstable_UserBlockingPriority,Ks=it.unstable_NormalPriority,Rf=it.unstable_LowPriority,Au=it.unstable_IdlePriority,xi=null,Rt=null;function Af(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(xi,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:$f,zf=Math.log,Lf=Math.LN2;function $f(e){return e>>>=0,e===0?32:31-(zf(e)/Lf|0)|0}var js=64,ws=4194304;function Pr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ys(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Pr(a):(i&=o,i!==0&&(r=Pr(i)))}else o=n&~s,o!==0?r=Pr(o):i!==0&&(r=Pr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),s=1<<n,r|=e[n],t&=~s;return r}function Tf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-jt(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=Tf(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function Ol(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zu(){var e=js;return js<<=1,!(js&4194240)&&(js=64),e}function Qi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function os(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function Of(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-jt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function Ao(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var le=0;function Lu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $u,zo,Tu,Mu,Ou,Il=!1,ks=[],Zt=null,en=null,tn=null,Ur=new Map,Wr=new Map,qt=[],If="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Aa(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":Ur.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(t.pointerId)}}function gr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=cs(t),t!==null&&zo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Df(e,t,n,r,s){switch(t){case"focusin":return Zt=gr(Zt,e,t,n,r,s),!0;case"dragenter":return en=gr(en,e,t,n,r,s),!0;case"mouseover":return tn=gr(tn,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ur.set(i,gr(Ur.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Wr.set(i,gr(Wr.get(i)||null,e,t,n,r,s)),!0}return!1}function Iu(e){var t=yn(e.target);if(t!==null){var n=Rn(t);if(n!==null){if(t=n.tag,t===13){if(t=Cu(n),t!==null){e.blockedOn=t,Ou(e.priority,function(){Tu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ms(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ll=r,n.target.dispatchEvent(r),Ll=null}else return t=cs(n),t!==null&&zo(t),e.blockedOn=n,!1;t.shift()}return!0}function za(e,t,n){Ms(e)&&n.delete(t)}function Ff(){Il=!1,Zt!==null&&Ms(Zt)&&(Zt=null),en!==null&&Ms(en)&&(en=null),tn!==null&&Ms(tn)&&(tn=null),Ur.forEach(za),Wr.forEach(za)}function vr(e,t){e.blockedOn===t&&(e.blockedOn=null,Il||(Il=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,Ff)))}function Hr(e){function t(s){return vr(s,e)}if(0<ks.length){vr(ks[0],e);for(var n=1;n<ks.length;n++){var r=ks[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zt!==null&&vr(Zt,e),en!==null&&vr(en,e),tn!==null&&vr(tn,e),Ur.forEach(t),Wr.forEach(t),n=0;n<qt.length;n++)r=qt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qt.length&&(n=qt[0],n.blockedOn===null);)Iu(n),n.blockedOn===null&&qt.shift()}var qn=Ut.ReactCurrentBatchConfig,Js=!0;function bf(e,t,n,r){var s=le,i=qn.transition;qn.transition=null;try{le=1,Lo(e,t,n,r)}finally{le=s,qn.transition=i}}function Bf(e,t,n,r){var s=le,i=qn.transition;qn.transition=null;try{le=4,Lo(e,t,n,r)}finally{le=s,qn.transition=i}}function Lo(e,t,n,r){if(Js){var s=Dl(e,t,n,r);if(s===null)rl(e,t,r,Xs,n),Aa(e,r);else if(Df(s,e,t,n,r))r.stopPropagation();else if(Aa(e,r),t&4&&-1<If.indexOf(e)){for(;s!==null;){var i=cs(s);if(i!==null&&$u(i),i=Dl(e,t,n,r),i===null&&rl(e,t,r,Xs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else rl(e,t,r,null,n)}}var Xs=null;function Dl(e,t,n,r){if(Xs=null,e=Po(r),e=yn(e),e!==null)if(t=Rn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Cu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xs=e,null}function Du(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pf()){case Ro:return 1;case Ru:return 4;case Ks:case Rf:return 16;case Au:return 536870912;default:return 16}default:return 16}}var Yt=null,$o=null,Os=null;function Fu(){if(Os)return Os;var e,t=$o,n=t.length,r,s="value"in Yt?Yt.value:Yt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return Os=s.slice(e,1<r?1-r:void 0)}function Is(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ss(){return!0}function La(){return!1}function ot(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ss:La,this.isPropagationStopped=La,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),t}var ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},To=ot(ar),as=we({},ar,{view:0,detail:0}),Uf=ot(as),qi,Ki,yr,ji=we({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yr&&(yr&&e.type==="mousemove"?(qi=e.screenX-yr.screenX,Ki=e.screenY-yr.screenY):Ki=qi=0,yr=e),qi)},movementY:function(e){return"movementY"in e?e.movementY:Ki}}),$a=ot(ji),Wf=we({},ji,{dataTransfer:0}),Hf=ot(Wf),Vf=we({},as,{relatedTarget:0}),Yi=ot(Vf),Gf=we({},ar,{animationName:0,elapsedTime:0,pseudoElement:0}),Qf=ot(Gf),qf=we({},ar,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Kf=ot(qf),Yf=we({},ar,{data:0}),Ta=ot(Yf),Jf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Zf[e])?!!t[e]:!1}function Mo(){return eh}var th=we({},as,{key:function(e){if(e.key){var t=Jf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Is(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mo,charCode:function(e){return e.type==="keypress"?Is(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Is(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),nh=ot(th),rh=we({},ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ma=ot(rh),sh=we({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mo}),ih=ot(sh),lh=we({},ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),oh=ot(lh),ah=we({},ji,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ch=ot(ah),uh=[9,13,27,32],Oo=Dt&&"CompositionEvent"in window,Lr=null;Dt&&"documentMode"in document&&(Lr=document.documentMode);var dh=Dt&&"TextEvent"in window&&!Lr,bu=Dt&&(!Oo||Lr&&8<Lr&&11>=Lr),Oa=" ",Ia=!1;function Bu(e,t){switch(e){case"keyup":return uh.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Uu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mn=!1;function ph(e,t){switch(e){case"compositionend":return Uu(t);case"keypress":return t.which!==32?null:(Ia=!0,Oa);case"textInput":return e=t.data,e===Oa&&Ia?null:e;default:return null}}function fh(e,t){if(Mn)return e==="compositionend"||!Oo&&Bu(e,t)?(e=Fu(),Os=$o=Yt=null,Mn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bu&&t.locale!=="ko"?null:t.data;default:return null}}var hh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Da(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!hh[e.type]:t==="textarea"}function Wu(e,t,n,r){ju(r),t=Zs(t,"onChange"),0<t.length&&(n=new To("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $r=null,Vr=null;function mh(e){ed(e,0)}function wi(e){var t=Dn(e);if(fu(t))return e}function gh(e,t){if(e==="change")return t}var Hu=!1;if(Dt){var Ji;if(Dt){var Xi="oninput"in document;if(!Xi){var Fa=document.createElement("div");Fa.setAttribute("oninput","return;"),Xi=typeof Fa.oninput=="function"}Ji=Xi}else Ji=!1;Hu=Ji&&(!document.documentMode||9<document.documentMode)}function ba(){$r&&($r.detachEvent("onpropertychange",Vu),Vr=$r=null)}function Vu(e){if(e.propertyName==="value"&&wi(Vr)){var t=[];Wu(t,Vr,e,Po(e)),Nu(mh,t)}}function vh(e,t,n){e==="focusin"?(ba(),$r=t,Vr=n,$r.attachEvent("onpropertychange",Vu)):e==="focusout"&&ba()}function yh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wi(Vr)}function xh(e,t){if(e==="click")return wi(t)}function jh(e,t){if(e==="input"||e==="change")return wi(t)}function wh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var kt=typeof Object.is=="function"?Object.is:wh;function Gr(e,t){if(kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!jl.call(t,s)||!kt(e[s],t[s]))return!1}return!0}function Ba(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ua(e,t){var n=Ba(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ba(n)}}function Gu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Gu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Qu(){for(var e=window,t=Gs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gs(e.document)}return t}function Io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function kh(e){var t=Qu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Gu(n.ownerDocument.documentElement,n)){if(r!==null&&Io(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=Ua(n,i);var o=Ua(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Sh=Dt&&"documentMode"in document&&11>=document.documentMode,On=null,Fl=null,Tr=null,bl=!1;function Wa(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bl||On==null||On!==Gs(r)||(r=On,"selectionStart"in r&&Io(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Tr&&Gr(Tr,r)||(Tr=r,r=Zs(Fl,"onSelect"),0<r.length&&(t=new To("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=On)))}function Ns(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var In={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionend:Ns("Transition","TransitionEnd")},Zi={},qu={};Dt&&(qu=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function ki(e){if(Zi[e])return Zi[e];if(!In[e])return e;var t=In[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in qu)return Zi[e]=t[n];return e}var Ku=ki("animationend"),Yu=ki("animationiteration"),Ju=ki("animationstart"),Xu=ki("transitionend"),Zu=new Map,Ha="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,t){Zu.set(e,t),Pn(t,[e])}for(var el=0;el<Ha.length;el++){var tl=Ha[el],Nh=tl.toLowerCase(),Ch=tl[0].toUpperCase()+tl.slice(1);dn(Nh,"on"+Ch)}dn(Ku,"onAnimationEnd");dn(Yu,"onAnimationIteration");dn(Ju,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(Xu,"onTransitionEnd");Jn("onMouseEnter",["mouseout","mouseover"]);Jn("onMouseLeave",["mouseout","mouseover"]);Jn("onPointerEnter",["pointerout","pointerover"]);Jn("onPointerLeave",["pointerout","pointerover"]);Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_h=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function Va(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Nf(r,t,void 0,e),e.currentTarget=null}function ed(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Va(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Va(s,a,d),i=c}}}if(qs)throw e=Ml,qs=!1,Ml=null,e}function fe(e,t){var n=t[Vl];n===void 0&&(n=t[Vl]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function nl(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[Cs]){e[Cs]=!0,au.forEach(function(n){n!=="selectionchange"&&(_h.has(n)||nl(n,!1,e),nl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Cs]||(t[Cs]=!0,nl("selectionchange",!1,t))}}function td(e,t,n,r){switch(Du(t)){case 1:var s=bf;break;case 4:s=Bf;break;default:s=Lo}n=s.bind(null,t,n,e),s=void 0,!Tl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function rl(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=yn(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Nu(function(){var d=i,p=Po(n),g=[];e:{var h=Zu.get(e);if(h!==void 0){var v=To,x=e;switch(e){case"keypress":if(Is(n)===0)break e;case"keydown":case"keyup":v=nh;break;case"focusin":x="focus",v=Yi;break;case"focusout":x="blur",v=Yi;break;case"beforeblur":case"afterblur":v=Yi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=$a;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Hf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ih;break;case Ku:case Yu:case Ju:v=Qf;break;case Xu:v=oh;break;case"scroll":v=Uf;break;case"wheel":v=ch;break;case"copy":case"cut":case"paste":v=Kf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ma}var y=(t&4)!==0,w=!y&&e==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var u=d,f;u!==null;){f=u;var j=f.stateNode;if(f.tag===5&&j!==null&&(f=j,m!==null&&(j=Br(u,m),j!=null&&y.push(qr(u,j,f)))),w)break;u=u.return}0<y.length&&(h=new v(h,x,null,n,p),g.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==Ll&&(x=n.relatedTarget||n.fromElement)&&(yn(x)||x[Ft]))break e;if((v||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=d,x=x?yn(x):null,x!==null&&(w=Rn(x),x!==w||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=d),v!==x)){if(y=$a,j="onMouseLeave",m="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(y=Ma,j="onPointerLeave",m="onPointerEnter",u="pointer"),w=v==null?h:Dn(v),f=x==null?h:Dn(x),h=new y(j,u+"leave",v,n,p),h.target=w,h.relatedTarget=f,j=null,yn(p)===d&&(y=new y(m,u+"enter",x,n,p),y.target=f,y.relatedTarget=w,j=y),w=j,v&&x)t:{for(y=v,m=x,u=0,f=y;f;f=zn(f))u++;for(f=0,j=m;j;j=zn(j))f++;for(;0<u-f;)y=zn(y),u--;for(;0<f-u;)m=zn(m),f--;for(;u--;){if(y===m||m!==null&&y===m.alternate)break t;y=zn(y),m=zn(m)}y=null}else y=null;v!==null&&Ga(g,h,v,y,!1),x!==null&&w!==null&&Ga(g,w,x,y,!0)}}e:{if(h=d?Dn(d):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var k=gh;else if(Da(h))if(Hu)k=jh;else{k=yh;var E=vh}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(k=xh);if(k&&(k=k(e,d))){Wu(g,k,n,p);break e}E&&E(e,h,d),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&El(h,"number",h.value)}switch(E=d?Dn(d):window,e){case"focusin":(Da(E)||E.contentEditable==="true")&&(On=E,Fl=d,Tr=null);break;case"focusout":Tr=Fl=On=null;break;case"mousedown":bl=!0;break;case"contextmenu":case"mouseup":case"dragend":bl=!1,Wa(g,n,p);break;case"selectionchange":if(Sh)break;case"keydown":case"keyup":Wa(g,n,p)}var C;if(Oo)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Mn?Bu(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(bu&&n.locale!=="ko"&&(Mn||L!=="onCompositionStart"?L==="onCompositionEnd"&&Mn&&(C=Fu()):(Yt=p,$o="value"in Yt?Yt.value:Yt.textContent,Mn=!0)),E=Zs(d,L),0<E.length&&(L=new Ta(L,e,null,n,p),g.push({event:L,listeners:E}),C?L.data=C:(C=Uu(n),C!==null&&(L.data=C)))),(C=dh?ph(e,n):fh(e,n))&&(d=Zs(d,"onBeforeInput"),0<d.length&&(p=new Ta("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:d}),p.data=C))}ed(g,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Zs(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Br(e,n),i!=null&&r.unshift(qr(e,i,s)),i=Br(e,t),i!=null&&r.push(qr(e,i,s))),e=e.return}return r}function zn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ga(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=Br(n,i),c!=null&&o.unshift(qr(n,c,a))):s||(c=Br(n,i),c!=null&&o.push(qr(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Eh=/\r\n?/g,Ph=/\u0000|\uFFFD/g;function Qa(e){return(typeof e=="string"?e:""+e).replace(Eh,`
`).replace(Ph,"")}function _s(e,t,n){if(t=Qa(t),Qa(e)!==t&&n)throw Error(A(425))}function ei(){}var Bl=null,Ul=null;function Wl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hl=typeof setTimeout=="function"?setTimeout:void 0,Rh=typeof clearTimeout=="function"?clearTimeout:void 0,qa=typeof Promise=="function"?Promise:void 0,Ah=typeof queueMicrotask=="function"?queueMicrotask:typeof qa<"u"?function(e){return qa.resolve(null).then(e).catch(zh)}:Hl;function zh(e){setTimeout(function(){throw e})}function sl(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Hr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hr(t)}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ka(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var cr=Math.random().toString(36).slice(2),Et="__reactFiber$"+cr,Kr="__reactProps$"+cr,Ft="__reactContainer$"+cr,Vl="__reactEvents$"+cr,Lh="__reactListeners$"+cr,$h="__reactHandles$"+cr;function yn(e){var t=e[Et];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ft]||n[Et]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ka(e);e!==null;){if(n=e[Et])return n;e=Ka(e)}return t}e=n,n=e.parentNode}return null}function cs(e){return e=e[Et]||e[Ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Si(e){return e[Kr]||null}var Gl=[],Fn=-1;function pn(e){return{current:e}}function he(e){0>Fn||(e.current=Gl[Fn],Gl[Fn]=null,Fn--)}function de(e,t){Fn++,Gl[Fn]=e.current,e.current=t}var un={},be=pn(un),Ke=pn(!1),Sn=un;function Xn(e,t){var n=e.type.contextTypes;if(!n)return un;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ye(e){return e=e.childContextTypes,e!=null}function ti(){he(Ke),he(be)}function Ya(e,t,n){if(be.current!==un)throw Error(A(168));de(be,t),de(Ke,n)}function nd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(A(108,vf(e)||"Unknown",s));return we({},n,r)}function ni(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||un,Sn=be.current,de(be,e),de(Ke,Ke.current),!0}function Ja(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=nd(e,t,Sn),r.__reactInternalMemoizedMergedChildContext=e,he(Ke),he(be),de(be,e)):he(Ke),de(Ke,n)}var $t=null,Ni=!1,il=!1;function rd(e){$t===null?$t=[e]:$t.push(e)}function Th(e){Ni=!0,rd(e)}function fn(){if(!il&&$t!==null){il=!0;var e=0,t=le;try{var n=$t;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}$t=null,Ni=!1}catch(s){throw $t!==null&&($t=$t.slice(e+1)),Pu(Ro,fn),s}finally{le=t,il=!1}}return null}var bn=[],Bn=0,ri=null,si=0,ut=[],dt=0,Nn=null,Mt=1,Ot="";function gn(e,t){bn[Bn++]=si,bn[Bn++]=ri,ri=e,si=t}function sd(e,t,n){ut[dt++]=Mt,ut[dt++]=Ot,ut[dt++]=Nn,Nn=e;var r=Mt;e=Ot;var s=32-jt(r)-1;r&=~(1<<s),n+=1;var i=32-jt(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Mt=1<<32-jt(t)+s|n<<s|r,Ot=i+e}else Mt=1<<i|n<<s|r,Ot=e}function Do(e){e.return!==null&&(gn(e,1),sd(e,1,0))}function Fo(e){for(;e===ri;)ri=bn[--Bn],bn[Bn]=null,si=bn[--Bn],bn[Bn]=null;for(;e===Nn;)Nn=ut[--dt],ut[dt]=null,Ot=ut[--dt],ut[dt]=null,Mt=ut[--dt],ut[dt]=null}var st=null,rt=null,me=!1,xt=null;function id(e,t){var n=pt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Xa(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,st=e,rt=nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,st=e,rt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Nn!==null?{id:Mt,overflow:Ot}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=pt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,st=e,rt=null,!0):!1;default:return!1}}function Ql(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ql(e){if(me){var t=rt;if(t){var n=t;if(!Xa(e,t)){if(Ql(e))throw Error(A(418));t=nn(n.nextSibling);var r=st;t&&Xa(e,t)?id(r,n):(e.flags=e.flags&-4097|2,me=!1,st=e)}}else{if(Ql(e))throw Error(A(418));e.flags=e.flags&-4097|2,me=!1,st=e}}}function Za(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;st=e}function Es(e){if(e!==st)return!1;if(!me)return Za(e),me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Wl(e.type,e.memoizedProps)),t&&(t=rt)){if(Ql(e))throw ld(),Error(A(418));for(;t;)id(e,t),t=nn(t.nextSibling)}if(Za(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){rt=nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}rt=null}}else rt=st?nn(e.stateNode.nextSibling):null;return!0}function ld(){for(var e=rt;e;)e=nn(e.nextSibling)}function Zn(){rt=st=null,me=!1}function bo(e){xt===null?xt=[e]:xt.push(e)}var Mh=Ut.ReactCurrentBatchConfig;function xr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function Ps(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ec(e){var t=e._init;return t(e._payload)}function od(e){function t(m,u){if(e){var f=m.deletions;f===null?(m.deletions=[u],m.flags|=16):f.push(u)}}function n(m,u){if(!e)return null;for(;u!==null;)t(m,u),u=u.sibling;return null}function r(m,u){for(m=new Map;u!==null;)u.key!==null?m.set(u.key,u):m.set(u.index,u),u=u.sibling;return m}function s(m,u){return m=on(m,u),m.index=0,m.sibling=null,m}function i(m,u,f){return m.index=f,e?(f=m.alternate,f!==null?(f=f.index,f<u?(m.flags|=2,u):f):(m.flags|=2,u)):(m.flags|=1048576,u)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,u,f,j){return u===null||u.tag!==6?(u=pl(f,m.mode,j),u.return=m,u):(u=s(u,f),u.return=m,u)}function c(m,u,f,j){var k=f.type;return k===Tn?p(m,u,f.props.children,j,f.key):u!==null&&(u.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Gt&&ec(k)===u.type)?(j=s(u,f.props),j.ref=xr(m,u,f),j.return=m,j):(j=Hs(f.type,f.key,f.props,null,m.mode,j),j.ref=xr(m,u,f),j.return=m,j)}function d(m,u,f,j){return u===null||u.tag!==4||u.stateNode.containerInfo!==f.containerInfo||u.stateNode.implementation!==f.implementation?(u=fl(f,m.mode,j),u.return=m,u):(u=s(u,f.children||[]),u.return=m,u)}function p(m,u,f,j,k){return u===null||u.tag!==7?(u=kn(f,m.mode,j,k),u.return=m,u):(u=s(u,f),u.return=m,u)}function g(m,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return u=pl(""+u,m.mode,f),u.return=m,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case vs:return f=Hs(u.type,u.key,u.props,null,m.mode,f),f.ref=xr(m,null,u),f.return=m,f;case $n:return u=fl(u,m.mode,f),u.return=m,u;case Gt:var j=u._init;return g(m,j(u._payload),f)}if(Er(u)||hr(u))return u=kn(u,m.mode,f,null),u.return=m,u;Ps(m,u)}return null}function h(m,u,f,j){var k=u!==null?u.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return k!==null?null:a(m,u,""+f,j);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case vs:return f.key===k?c(m,u,f,j):null;case $n:return f.key===k?d(m,u,f,j):null;case Gt:return k=f._init,h(m,u,k(f._payload),j)}if(Er(f)||hr(f))return k!==null?null:p(m,u,f,j,null);Ps(m,f)}return null}function v(m,u,f,j,k){if(typeof j=="string"&&j!==""||typeof j=="number")return m=m.get(f)||null,a(u,m,""+j,k);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case vs:return m=m.get(j.key===null?f:j.key)||null,c(u,m,j,k);case $n:return m=m.get(j.key===null?f:j.key)||null,d(u,m,j,k);case Gt:var E=j._init;return v(m,u,f,E(j._payload),k)}if(Er(j)||hr(j))return m=m.get(f)||null,p(u,m,j,k,null);Ps(u,j)}return null}function x(m,u,f,j){for(var k=null,E=null,C=u,L=u=0,$=null;C!==null&&L<f.length;L++){C.index>L?($=C,C=null):$=C.sibling;var P=h(m,C,f[L],j);if(P===null){C===null&&(C=$);break}e&&C&&P.alternate===null&&t(m,C),u=i(P,u,L),E===null?k=P:E.sibling=P,E=P,C=$}if(L===f.length)return n(m,C),me&&gn(m,L),k;if(C===null){for(;L<f.length;L++)C=g(m,f[L],j),C!==null&&(u=i(C,u,L),E===null?k=C:E.sibling=C,E=C);return me&&gn(m,L),k}for(C=r(m,C);L<f.length;L++)$=v(C,m,L,f[L],j),$!==null&&(e&&$.alternate!==null&&C.delete($.key===null?L:$.key),u=i($,u,L),E===null?k=$:E.sibling=$,E=$);return e&&C.forEach(function(q){return t(m,q)}),me&&gn(m,L),k}function y(m,u,f,j){var k=hr(f);if(typeof k!="function")throw Error(A(150));if(f=k.call(f),f==null)throw Error(A(151));for(var E=k=null,C=u,L=u=0,$=null,P=f.next();C!==null&&!P.done;L++,P=f.next()){C.index>L?($=C,C=null):$=C.sibling;var q=h(m,C,P.value,j);if(q===null){C===null&&(C=$);break}e&&C&&q.alternate===null&&t(m,C),u=i(q,u,L),E===null?k=q:E.sibling=q,E=q,C=$}if(P.done)return n(m,C),me&&gn(m,L),k;if(C===null){for(;!P.done;L++,P=f.next())P=g(m,P.value,j),P!==null&&(u=i(P,u,L),E===null?k=P:E.sibling=P,E=P);return me&&gn(m,L),k}for(C=r(m,C);!P.done;L++,P=f.next())P=v(C,m,L,P.value,j),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?L:P.key),u=i(P,u,L),E===null?k=P:E.sibling=P,E=P);return e&&C.forEach(function(ae){return t(m,ae)}),me&&gn(m,L),k}function w(m,u,f,j){if(typeof f=="object"&&f!==null&&f.type===Tn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case vs:e:{for(var k=f.key,E=u;E!==null;){if(E.key===k){if(k=f.type,k===Tn){if(E.tag===7){n(m,E.sibling),u=s(E,f.props.children),u.return=m,m=u;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Gt&&ec(k)===E.type){n(m,E.sibling),u=s(E,f.props),u.ref=xr(m,E,f),u.return=m,m=u;break e}n(m,E);break}else t(m,E);E=E.sibling}f.type===Tn?(u=kn(f.props.children,m.mode,j,f.key),u.return=m,m=u):(j=Hs(f.type,f.key,f.props,null,m.mode,j),j.ref=xr(m,u,f),j.return=m,m=j)}return o(m);case $n:e:{for(E=f.key;u!==null;){if(u.key===E)if(u.tag===4&&u.stateNode.containerInfo===f.containerInfo&&u.stateNode.implementation===f.implementation){n(m,u.sibling),u=s(u,f.children||[]),u.return=m,m=u;break e}else{n(m,u);break}else t(m,u);u=u.sibling}u=fl(f,m.mode,j),u.return=m,m=u}return o(m);case Gt:return E=f._init,w(m,u,E(f._payload),j)}if(Er(f))return x(m,u,f,j);if(hr(f))return y(m,u,f,j);Ps(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,u!==null&&u.tag===6?(n(m,u.sibling),u=s(u,f),u.return=m,m=u):(n(m,u),u=pl(f,m.mode,j),u.return=m,m=u),o(m)):n(m,u)}return w}var er=od(!0),ad=od(!1),ii=pn(null),li=null,Un=null,Bo=null;function Uo(){Bo=Un=li=null}function Wo(e){var t=ii.current;he(ii),e._currentValue=t}function Kl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Kn(e,t){li=e,Bo=Un=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function ht(e){var t=e._currentValue;if(Bo!==e)if(e={context:e,memoizedValue:t,next:null},Un===null){if(li===null)throw Error(A(308));Un=e,li.dependencies={lanes:0,firstContext:e}}else Un=Un.next=e;return t}var xn=null;function Ho(e){xn===null?xn=[e]:xn.push(e)}function cd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Ho(t)):(n.next=s.next,s.next=n),t.interleaved=n,bt(e,r)}function bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Qt=!1;function Vo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ud(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function It(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Z&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,bt(e,n)}return s=r.interleaved,s===null?(t.next=t,Ho(r)):(t.next=s.next,s.next=t),r.interleaved=t,bt(e,n)}function Ds(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ao(e,n)}}function tc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function oi(e,t,n,r){var s=e.updateQueue;Qt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=c))}if(i!==null){var g=s.baseState;o=0,p=d=c=null,a=i;do{var h=a.lane,v=a.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,y=a;switch(h=t,v=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){g=x.call(v,g,h);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,h=typeof x=="function"?x.call(v,g,h):x,h==null)break e;g=we({},g,h);break e;case 2:Qt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=v,c=g):p=p.next=v,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(p===null&&(c=g),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);_n|=o,e.lanes=o,e.memoizedState=g}}function nc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(A(191,s));s.call(r)}}}var us={},At=pn(us),Yr=pn(us),Jr=pn(us);function jn(e){if(e===us)throw Error(A(174));return e}function Go(e,t){switch(de(Jr,t),de(Yr,e),de(At,us),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Rl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Rl(t,e)}he(At),de(At,t)}function tr(){he(At),he(Yr),he(Jr)}function dd(e){jn(Jr.current);var t=jn(At.current),n=Rl(t,e.type);t!==n&&(de(Yr,e),de(At,n))}function Qo(e){Yr.current===e&&(he(At),he(Yr))}var ye=pn(0);function ai(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ll=[];function qo(){for(var e=0;e<ll.length;e++)ll[e]._workInProgressVersionPrimary=null;ll.length=0}var Fs=Ut.ReactCurrentDispatcher,ol=Ut.ReactCurrentBatchConfig,Cn=0,xe=null,Ae=null,Le=null,ci=!1,Mr=!1,Xr=0,Oh=0;function Ie(){throw Error(A(321))}function Ko(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!kt(e[n],t[n]))return!1;return!0}function Yo(e,t,n,r,s,i){if(Cn=i,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fs.current=e===null||e.memoizedState===null?bh:Bh,e=n(r,s),Mr){i=0;do{if(Mr=!1,Xr=0,25<=i)throw Error(A(301));i+=1,Le=Ae=null,t.updateQueue=null,Fs.current=Uh,e=n(r,s)}while(Mr)}if(Fs.current=ui,t=Ae!==null&&Ae.next!==null,Cn=0,Le=Ae=xe=null,ci=!1,t)throw Error(A(300));return e}function Jo(){var e=Xr!==0;return Xr=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Le===null?xe.memoizedState=Le=e:Le=Le.next=e,Le}function mt(){if(Ae===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Ae.next;var t=Le===null?xe.memoizedState:Le.next;if(t!==null)Le=t,Ae=e;else{if(e===null)throw Error(A(310));Ae=e,e={memoizedState:Ae.memoizedState,baseState:Ae.baseState,baseQueue:Ae.baseQueue,queue:Ae.queue,next:null},Le===null?xe.memoizedState=Le=e:Le=Le.next=e}return Le}function Zr(e,t){return typeof t=="function"?t(e):t}function al(e){var t=mt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=Ae,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var p=d.lane;if((Cn&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var g={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=g,o=r):c=c.next=g,xe.lanes|=p,_n|=p}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,kt(r,t.memoizedState)||(qe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,xe.lanes|=i,_n|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function cl(e){var t=mt(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);kt(i,t.memoizedState)||(qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function pd(){}function fd(e,t){var n=xe,r=mt(),s=t(),i=!kt(r.memoizedState,s);if(i&&(r.memoizedState=s,qe=!0),r=r.queue,Xo(gd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Le!==null&&Le.memoizedState.tag&1){if(n.flags|=2048,es(9,md.bind(null,n,r,s,t),void 0,null),$e===null)throw Error(A(349));Cn&30||hd(n,t,s)}return s}function hd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function md(e,t,n,r){t.value=n,t.getSnapshot=r,vd(t)&&yd(e)}function gd(e,t,n){return n(function(){vd(t)&&yd(e)})}function vd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!kt(e,n)}catch{return!0}}function yd(e){var t=bt(e,1);t!==null&&wt(t,e,1,-1)}function rc(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:e},t.queue=e,e=e.dispatch=Fh.bind(null,xe,e),[t.memoizedState,e]}function es(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function xd(){return mt().memoizedState}function bs(e,t,n,r){var s=Ct();xe.flags|=e,s.memoizedState=es(1|t,n,void 0,r===void 0?null:r)}function Ci(e,t,n,r){var s=mt();r=r===void 0?null:r;var i=void 0;if(Ae!==null){var o=Ae.memoizedState;if(i=o.destroy,r!==null&&Ko(r,o.deps)){s.memoizedState=es(t,n,i,r);return}}xe.flags|=e,s.memoizedState=es(1|t,n,i,r)}function sc(e,t){return bs(8390656,8,e,t)}function Xo(e,t){return Ci(2048,8,e,t)}function jd(e,t){return Ci(4,2,e,t)}function wd(e,t){return Ci(4,4,e,t)}function kd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sd(e,t,n){return n=n!=null?n.concat([e]):null,Ci(4,4,kd.bind(null,t,e),n)}function Zo(){}function Nd(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Cd(e,t){var n=mt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _d(e,t,n){return Cn&21?(kt(n,t)||(n=zu(),xe.lanes|=n,_n|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function Ih(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=ol.transition;ol.transition={};try{e(!1),t()}finally{le=n,ol.transition=r}}function Ed(){return mt().memoizedState}function Dh(e,t,n){var r=ln(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Pd(e))Rd(t,n);else if(n=cd(e,t,n,r),n!==null){var s=Ue();wt(n,e,r,s),Ad(n,t,r)}}function Fh(e,t,n){var r=ln(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Pd(e))Rd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,kt(a,o)){var c=t.interleaved;c===null?(s.next=s,Ho(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=cd(e,t,s,r),n!==null&&(s=Ue(),wt(n,e,r,s),Ad(n,t,r))}}function Pd(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function Rd(e,t){Mr=ci=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ad(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ao(e,n)}}var ui={readContext:ht,useCallback:Ie,useContext:Ie,useEffect:Ie,useImperativeHandle:Ie,useInsertionEffect:Ie,useLayoutEffect:Ie,useMemo:Ie,useReducer:Ie,useRef:Ie,useState:Ie,useDebugValue:Ie,useDeferredValue:Ie,useTransition:Ie,useMutableSource:Ie,useSyncExternalStore:Ie,useId:Ie,unstable_isNewReconciler:!1},bh={readContext:ht,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:ht,useEffect:sc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,bs(4194308,4,kd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return bs(4,2,e,t)},useMemo:function(e,t){var n=Ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Dh.bind(null,xe,e),[r.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:rc,useDebugValue:Zo,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=rc(!1),t=e[0];return e=Ih.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=xe,s=Ct();if(me){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),$e===null)throw Error(A(349));Cn&30||hd(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,sc(gd.bind(null,r,i,e),[e]),r.flags|=2048,es(9,md.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Ct(),t=$e.identifierPrefix;if(me){var n=Ot,r=Mt;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Oh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bh={readContext:ht,useCallback:Nd,useContext:ht,useEffect:Xo,useImperativeHandle:Sd,useInsertionEffect:jd,useLayoutEffect:wd,useMemo:Cd,useReducer:al,useRef:xd,useState:function(){return al(Zr)},useDebugValue:Zo,useDeferredValue:function(e){var t=mt();return _d(t,Ae.memoizedState,e)},useTransition:function(){var e=al(Zr)[0],t=mt().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:fd,useId:Ed,unstable_isNewReconciler:!1},Uh={readContext:ht,useCallback:Nd,useContext:ht,useEffect:Xo,useImperativeHandle:Sd,useInsertionEffect:jd,useLayoutEffect:wd,useMemo:Cd,useReducer:cl,useRef:xd,useState:function(){return cl(Zr)},useDebugValue:Zo,useDeferredValue:function(e){var t=mt();return Ae===null?t.memoizedState=e:_d(t,Ae.memoizedState,e)},useTransition:function(){var e=cl(Zr)[0],t=mt().memoizedState;return[e,t]},useMutableSource:pd,useSyncExternalStore:fd,useId:Ed,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Yl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _i={isMounted:function(e){return(e=e._reactInternals)?Rn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ue(),s=ln(e),i=It(r,s);i.payload=t,n!=null&&(i.callback=n),t=rn(e,i,s),t!==null&&(wt(t,e,s,r),Ds(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ue(),s=ln(e),i=It(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=rn(e,i,s),t!==null&&(wt(t,e,s,r),Ds(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ue(),r=ln(e),s=It(n,r);s.tag=2,t!=null&&(s.callback=t),t=rn(e,s,r),t!==null&&(wt(t,e,r,n),Ds(t,e,r))}};function ic(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Gr(n,r)||!Gr(s,i):!0}function zd(e,t,n){var r=!1,s=un,i=t.contextType;return typeof i=="object"&&i!==null?i=ht(i):(s=Ye(t)?Sn:be.current,r=t.contextTypes,i=(r=r!=null)?Xn(e,s):un),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_i,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function lc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_i.enqueueReplaceState(t,t.state,null)}function Jl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Vo(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ht(i):(i=Ye(t)?Sn:be.current,s.context=Xn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Yl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&_i.enqueueReplaceState(s,s.state,null),oi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function nr(e,t){try{var n="",r=t;do n+=gf(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ul(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Xl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Wh=typeof WeakMap=="function"?WeakMap:Map;function Ld(e,t,n){n=It(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){pi||(pi=!0,ao=r),Xl(e,t)},n}function $d(e,t,n){n=It(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Xl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xl(e,t),typeof r!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function oc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Wh;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=rm.bind(null,e,t,n),t.then(e,e))}function ac(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=It(-1,1),t.tag=2,rn(n,t,1))),n.lanes|=1),e)}var Hh=Ut.ReactCurrentOwner,qe=!1;function Be(e,t,n,r){t.child=e===null?ad(t,null,n,r):er(t,e.child,n,r)}function uc(e,t,n,r,s){n=n.render;var i=t.ref;return Kn(t,s),r=Yo(e,t,n,r,i,s),n=Jo(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bt(e,t,s)):(me&&n&&Do(t),t.flags|=1,Be(e,t,r,s),t.child)}function dc(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!oa(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Td(e,t,i,r,s)):(e=Hs(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gr,n(o,r)&&e.ref===t.ref)return Bt(e,t,s)}return t.flags|=1,e=on(i,r),e.ref=t.ref,e.return=t,t.child=e}function Td(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Gr(i,r)&&e.ref===t.ref)if(qe=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,Bt(e,t,s)}return Zl(e,t,n,r,s)}function Md(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de(Hn,nt),nt|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de(Hn,nt),nt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,de(Hn,nt),nt|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,de(Hn,nt),nt|=r;return Be(e,t,s,n),t.child}function Od(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Zl(e,t,n,r,s){var i=Ye(n)?Sn:be.current;return i=Xn(t,i),Kn(t,s),n=Yo(e,t,n,r,i,s),r=Jo(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Bt(e,t,s)):(me&&r&&Do(t),t.flags|=1,Be(e,t,n,s),t.child)}function pc(e,t,n,r,s){if(Ye(n)){var i=!0;ni(t)}else i=!1;if(Kn(t,s),t.stateNode===null)Bs(e,t),zd(t,n,r),Jl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=ht(d):(d=Ye(n)?Sn:be.current,d=Xn(t,d));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&lc(t,o,r,d),Qt=!1;var h=t.memoizedState;o.state=h,oi(t,r,o,s),c=t.memoizedState,a!==r||h!==c||Ke.current||Qt?(typeof p=="function"&&(Yl(t,n,p,r),c=t.memoizedState),(a=Qt||ic(t,n,a,r,h,c,d))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ud(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:vt(t.type,a),o.props=d,g=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=ht(c):(c=Ye(n)?Sn:be.current,c=Xn(t,c));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||h!==c)&&lc(t,o,r,c),Qt=!1,h=t.memoizedState,o.state=h,oi(t,r,o,s);var x=t.memoizedState;a!==g||h!==x||Ke.current||Qt?(typeof v=="function"&&(Yl(t,n,v,r),x=t.memoizedState),(d=Qt||ic(t,n,d,r,h,x,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return eo(e,t,n,r,i,s)}function eo(e,t,n,r,s,i){Od(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ja(t,n,!1),Bt(e,t,i);r=t.stateNode,Hh.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=er(t,e.child,null,i),t.child=er(t,null,a,i)):Be(e,t,a,i),t.memoizedState=r.state,s&&Ja(t,n,!0),t.child}function Id(e){var t=e.stateNode;t.pendingContext?Ya(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ya(e,t.context,!1),Go(e,t.containerInfo)}function fc(e,t,n,r,s){return Zn(),bo(s),t.flags|=256,Be(e,t,n,r),t.child}var to={dehydrated:null,treeContext:null,retryLane:0};function no(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dd(e,t,n){var r=t.pendingProps,s=ye.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),de(ye,s&1),e===null)return ql(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ri(o,r,0,null),e=kn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=no(n),t.memoizedState=to,e):ea(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Vh(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=on(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=on(a,i):(i=kn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?no(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=to,r}return i=e.child,e=i.sibling,r=on(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ea(e,t){return t=Ri({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Rs(e,t,n,r){return r!==null&&bo(r),er(t,e.child,null,n),e=ea(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Vh(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=ul(Error(A(422))),Rs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ri({mode:"visible",children:r.children},s,0,null),i=kn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&er(t,e.child,null,o),t.child.memoizedState=no(o),t.memoizedState=to,i);if(!(t.mode&1))return Rs(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(A(419)),r=ul(i,r,void 0),Rs(e,t,o,r)}if(a=(o&e.childLanes)!==0,qe||a){if(r=$e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bt(e,s),wt(r,e,s,-1))}return la(),r=ul(Error(A(421))),Rs(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=sm.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,rt=nn(s.nextSibling),st=t,me=!0,xt=null,e!==null&&(ut[dt++]=Mt,ut[dt++]=Ot,ut[dt++]=Nn,Mt=e.id,Ot=e.overflow,Nn=t),t=ea(t,r.children),t.flags|=4096,t)}function hc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Kl(e.return,t,n)}function dl(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Fd(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Be(e,t,r.children,n),r=ye.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hc(e,n,t);else if(e.tag===19)hc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(ye,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ai(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),dl(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ai(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}dl(t,!0,n,null,i);break;case"together":dl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),_n|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=on(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=on(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Gh(e,t,n){switch(t.tag){case 3:Id(t),Zn();break;case 5:dd(t);break;case 1:Ye(t.type)&&ni(t);break;case 4:Go(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;de(ii,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(ye,ye.current&1),t.flags|=128,null):n&t.child.childLanes?Dd(e,t,n):(de(ye,ye.current&1),e=Bt(e,t,n),e!==null?e.sibling:null);de(ye,ye.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Fd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(ye,ye.current),r)break;return null;case 22:case 23:return t.lanes=0,Md(e,t,n)}return Bt(e,t,n)}var bd,ro,Bd,Ud;bd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ro=function(){};Bd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,jn(At.current);var i=null;switch(n){case"input":s=Cl(e,s),r=Cl(e,r),i=[];break;case"select":s=we({},s,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":s=Pl(e,s),r=Pl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ei)}Al(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Fr.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Fr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&fe("scroll",e),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};Ud=function(e,t,n,r){n!==r&&(t.flags|=4)};function jr(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qh(e,t,n){var r=t.pendingProps;switch(Fo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return Ye(t.type)&&ti(),De(t),null;case 3:return r=t.stateNode,tr(),he(Ke),he(be),qo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Es(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(po(xt),xt=null))),ro(e,t),De(t),null;case 5:Qo(t);var s=jn(Jr.current);if(n=t.type,e!==null&&t.stateNode!=null)Bd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return De(t),null}if(e=jn(At.current),Es(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Et]=t,r[Kr]=i,e=(t.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<Rr.length;s++)fe(Rr[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Sa(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":Ca(r,i),fe("invalid",r)}Al(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&_s(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&_s(r.textContent,a,e),s=["children",""+a]):Fr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&fe("scroll",r)}switch(n){case"input":ys(r),Na(r,i,!0);break;case"textarea":ys(r),_a(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ei)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=gu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Et]=t,e[Kr]=r,bd(e,t,!1,!1),t.stateNode=e;e:{switch(o=zl(n,r),n){case"dialog":fe("cancel",e),fe("close",e),s=r;break;case"iframe":case"object":case"embed":fe("load",e),s=r;break;case"video":case"audio":for(s=0;s<Rr.length;s++)fe(Rr[s],e);s=r;break;case"source":fe("error",e),s=r;break;case"img":case"image":case"link":fe("error",e),fe("load",e),s=r;break;case"details":fe("toggle",e),s=r;break;case"input":Sa(e,r),s=Cl(e,r),fe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=we({},r,{value:void 0}),fe("invalid",e);break;case"textarea":Ca(e,r),s=Pl(e,r),fe("invalid",e);break;default:s=r}Al(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?xu(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&vu(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&br(e,c):typeof c=="number"&&br(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&fe("scroll",e):c!=null&&No(e,i,c,o))}switch(n){case"input":ys(e),Na(e,r,!1);break;case"textarea":ys(e),_a(e);break;case"option":r.value!=null&&e.setAttribute("value",""+cn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Vn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Vn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return De(t),null;case 6:if(e&&t.stateNode!=null)Ud(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=jn(Jr.current),jn(At.current),Es(t)){if(r=t.stateNode,n=t.memoizedProps,r[Et]=t,(i=r.nodeValue!==n)&&(e=st,e!==null))switch(e.tag){case 3:_s(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_s(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Et]=t,t.stateNode=r}return De(t),null;case 13:if(he(ye),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(me&&rt!==null&&t.mode&1&&!(t.flags&128))ld(),Zn(),t.flags|=98560,i=!1;else if(i=Es(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(A(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[Et]=t}else Zn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),i=!1}else xt!==null&&(po(xt),xt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?ze===0&&(ze=3):la())),t.updateQueue!==null&&(t.flags|=4),De(t),null);case 4:return tr(),ro(e,t),e===null&&Qr(t.stateNode.containerInfo),De(t),null;case 10:return Wo(t.type._context),De(t),null;case 17:return Ye(t.type)&&ti(),De(t),null;case 19:if(he(ye),i=t.memoizedState,i===null)return De(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)jr(i,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=ai(e),o!==null){for(t.flags|=128,jr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(ye,ye.current&1|2),t.child}e=e.sibling}i.tail!==null&&Ne()>rr&&(t.flags|=128,r=!0,jr(i,!1),t.lanes=4194304)}else{if(!r)if(e=ai(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),jr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!me)return De(t),null}else 2*Ne()-i.renderingStartTime>rr&&n!==1073741824&&(t.flags|=128,r=!0,jr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ne(),t.sibling=null,n=ye.current,de(ye,r?n&1|2:n&1),t):(De(t),null);case 22:case 23:return ia(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?nt&1073741824&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function qh(e,t){switch(Fo(t),t.tag){case 1:return Ye(t.type)&&ti(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return tr(),he(Ke),he(be),qo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Qo(t),null;case 13:if(he(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Zn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(ye),null;case 4:return tr(),null;case 10:return Wo(t.type._context),null;case 22:case 23:return ia(),null;case 24:return null;default:return null}}var As=!1,Fe=!1,Kh=typeof WeakSet=="function"?WeakSet:Set,D=null;function Wn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(e,t,r)}else n.current=null}function so(e,t,n){try{n()}catch(r){ke(e,t,r)}}var mc=!1;function Yh(e,t){if(Bl=Js,e=Qu(),Io(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,p=0,g=e,h=null;t:for(;;){for(var v;g!==n||s!==0&&g.nodeType!==3||(a=o+s),g!==i||r!==0&&g.nodeType!==3||(c=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(v=g.firstChild)!==null;)h=g,g=v;for(;;){if(g===e)break t;if(h===n&&++d===s&&(a=o),h===i&&++p===r&&(c=o),(v=g.nextSibling)!==null)break;g=h,h=g.parentNode}g=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ul={focusedElem:e,selectionRange:n},Js=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,w=x.memoizedState,m=t.stateNode,u=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:vt(t.type,y),w);m.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(j){ke(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return x=mc,mc=!1,x}function Or(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&so(t,n,i)}s=s.next}while(s!==r)}}function Ei(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function io(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Wd(e){var t=e.alternate;t!==null&&(e.alternate=null,Wd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Et],delete t[Kr],delete t[Vl],delete t[Lh],delete t[$h])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Hd(e){return e.tag===5||e.tag===3||e.tag===4}function gc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Hd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ei));else if(r!==4&&(e=e.child,e!==null))for(lo(e,t,n),e=e.sibling;e!==null;)lo(e,t,n),e=e.sibling}function oo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(oo(e,t,n),e=e.sibling;e!==null;)oo(e,t,n),e=e.sibling}var Te=null,yt=!1;function Ht(e,t,n){for(n=n.child;n!==null;)Vd(e,t,n),n=n.sibling}function Vd(e,t,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(xi,n)}catch{}switch(n.tag){case 5:Fe||Wn(n,t);case 6:var r=Te,s=yt;Te=null,Ht(e,t,n),Te=r,yt=s,Te!==null&&(yt?(e=Te,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Te.removeChild(n.stateNode));break;case 18:Te!==null&&(yt?(e=Te,n=n.stateNode,e.nodeType===8?sl(e.parentNode,n):e.nodeType===1&&sl(e,n),Hr(e)):sl(Te,n.stateNode));break;case 4:r=Te,s=yt,Te=n.stateNode.containerInfo,yt=!0,Ht(e,t,n),Te=r,yt=s;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&so(n,t,o),s=s.next}while(s!==r)}Ht(e,t,n);break;case 1:if(!Fe&&(Wn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ke(n,t,a)}Ht(e,t,n);break;case 21:Ht(e,t,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,Ht(e,t,n),Fe=r):Ht(e,t,n);break;default:Ht(e,t,n)}}function vc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Kh),t.forEach(function(r){var s=im.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function gt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Te=a.stateNode,yt=!1;break e;case 3:Te=a.stateNode.containerInfo,yt=!0;break e;case 4:Te=a.stateNode.containerInfo,yt=!0;break e}a=a.return}if(Te===null)throw Error(A(160));Vd(i,o,s),Te=null,yt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ke(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Gd(t,e),t=t.sibling}function Gd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gt(t,e),Nt(e),r&4){try{Or(3,e,e.return),Ei(3,e)}catch(y){ke(e,e.return,y)}try{Or(5,e,e.return)}catch(y){ke(e,e.return,y)}}break;case 1:gt(t,e),Nt(e),r&512&&n!==null&&Wn(n,n.return);break;case 5:if(gt(t,e),Nt(e),r&512&&n!==null&&Wn(n,n.return),e.flags&32){var s=e.stateNode;try{br(s,"")}catch(y){ke(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&hu(s,i),zl(a,o);var d=zl(a,i);for(o=0;o<c.length;o+=2){var p=c[o],g=c[o+1];p==="style"?xu(s,g):p==="dangerouslySetInnerHTML"?vu(s,g):p==="children"?br(s,g):No(s,p,g,d)}switch(a){case"input":_l(s,i);break;case"textarea":mu(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Vn(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?Vn(s,!!i.multiple,i.defaultValue,!0):Vn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Kr]=i}catch(y){ke(e,e.return,y)}}break;case 6:if(gt(t,e),Nt(e),r&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){ke(e,e.return,y)}}break;case 3:if(gt(t,e),Nt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hr(t.containerInfo)}catch(y){ke(e,e.return,y)}break;case 4:gt(t,e),Nt(e);break;case 13:gt(t,e),Nt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ra=Ne())),r&4&&vc(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(d=Fe)||p,gt(t,e),Fe=d):gt(t,e),Nt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(D=e,p=e.child;p!==null;){for(g=D=p;D!==null;){switch(h=D,v=h.child,h.tag){case 0:case 11:case 14:case 15:Or(4,h,h.return);break;case 1:Wn(h,h.return);var x=h.stateNode;if(typeof x.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){ke(r,n,y)}}break;case 5:Wn(h,h.return);break;case 22:if(h.memoizedState!==null){xc(g);continue}}v!==null?(v.return=h,D=v):xc(g)}p=p.sibling}e:for(p=null,g=e;;){if(g.tag===5){if(p===null){p=g;try{s=g.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=yu("display",o))}catch(y){ke(e,e.return,y)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(y){ke(e,e.return,y)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:gt(t,e),Nt(e),r&4&&vc(e);break;case 21:break;default:gt(t,e),Nt(e)}}function Nt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Hd(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(br(s,""),r.flags&=-33);var i=gc(e);oo(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=gc(e);lo(e,a,o);break;default:throw Error(A(161))}}catch(c){ke(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jh(e,t,n){D=e,Qd(e)}function Qd(e,t,n){for(var r=(e.mode&1)!==0;D!==null;){var s=D,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||As;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Fe;a=As;var d=Fe;if(As=o,(Fe=c)&&!d)for(D=s;D!==null;)o=D,c=o.child,o.tag===22&&o.memoizedState!==null?jc(s):c!==null?(c.return=o,D=c):jc(s);for(;i!==null;)D=i,Qd(i),i=i.sibling;D=s,As=a,Fe=d}yc(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,D=i):yc(e)}}function yc(e){for(;D!==null;){var t=D;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||Ei(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&nc(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}nc(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Hr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Fe||t.flags&512&&io(t)}catch(h){ke(t,t.return,h)}}if(t===e){D=null;break}if(n=t.sibling,n!==null){n.return=t.return,D=n;break}D=t.return}}function xc(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var n=t.sibling;if(n!==null){n.return=t.return,D=n;break}D=t.return}}function jc(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ei(4,t)}catch(c){ke(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ke(t,s,c)}}var i=t.return;try{io(t)}catch(c){ke(t,i,c)}break;case 5:var o=t.return;try{io(t)}catch(c){ke(t,o,c)}}}catch(c){ke(t,t.return,c)}if(t===e){D=null;break}var a=t.sibling;if(a!==null){a.return=t.return,D=a;break}D=t.return}}var Xh=Math.ceil,di=Ut.ReactCurrentDispatcher,ta=Ut.ReactCurrentOwner,ft=Ut.ReactCurrentBatchConfig,Z=0,$e=null,Pe=null,Me=0,nt=0,Hn=pn(0),ze=0,ts=null,_n=0,Pi=0,na=0,Ir=null,Qe=null,ra=0,rr=1/0,Lt=null,pi=!1,ao=null,sn=null,zs=!1,Jt=null,fi=0,Dr=0,co=null,Us=-1,Ws=0;function Ue(){return Z&6?Ne():Us!==-1?Us:Us=Ne()}function ln(e){return e.mode&1?Z&2&&Me!==0?Me&-Me:Mh.transition!==null?(Ws===0&&(Ws=zu()),Ws):(e=le,e!==0||(e=window.event,e=e===void 0?16:Du(e.type)),e):1}function wt(e,t,n,r){if(50<Dr)throw Dr=0,co=null,Error(A(185));os(e,n,r),(!(Z&2)||e!==$e)&&(e===$e&&(!(Z&2)&&(Pi|=n),ze===4&&Kt(e,Me)),Je(e,r),n===1&&Z===0&&!(t.mode&1)&&(rr=Ne()+500,Ni&&fn()))}function Je(e,t){var n=e.callbackNode;Mf(e,t);var r=Ys(e,e===$e?Me:0);if(r===0)n!==null&&Ra(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ra(n),t===1)e.tag===0?Th(wc.bind(null,e)):rd(wc.bind(null,e)),Ah(function(){!(Z&6)&&fn()}),n=null;else{switch(Lu(r)){case 1:n=Ro;break;case 4:n=Ru;break;case 16:n=Ks;break;case 536870912:n=Au;break;default:n=Ks}n=tp(n,qd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function qd(e,t){if(Us=-1,Ws=0,Z&6)throw Error(A(327));var n=e.callbackNode;if(Yn()&&e.callbackNode!==n)return null;var r=Ys(e,e===$e?Me:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=hi(e,r);else{t=r;var s=Z;Z|=2;var i=Yd();($e!==e||Me!==t)&&(Lt=null,rr=Ne()+500,wn(e,t));do try{tm();break}catch(a){Kd(e,a)}while(!0);Uo(),di.current=i,Z=s,Pe!==null?t=0:($e=null,Me=0,t=ze)}if(t!==0){if(t===2&&(s=Ol(e),s!==0&&(r=s,t=uo(e,s))),t===1)throw n=ts,wn(e,0),Kt(e,r),Je(e,Ne()),n;if(t===6)Kt(e,r);else{if(s=e.current.alternate,!(r&30)&&!Zh(s)&&(t=hi(e,r),t===2&&(i=Ol(e),i!==0&&(r=i,t=uo(e,i))),t===1))throw n=ts,wn(e,0),Kt(e,r),Je(e,Ne()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:vn(e,Qe,Lt);break;case 3:if(Kt(e,r),(r&130023424)===r&&(t=ra+500-Ne(),10<t)){if(Ys(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ue(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Hl(vn.bind(null,e,Qe,Lt),t);break}vn(e,Qe,Lt);break;case 4:if(Kt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-jt(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xh(r/1960))-r,10<r){e.timeoutHandle=Hl(vn.bind(null,e,Qe,Lt),r);break}vn(e,Qe,Lt);break;case 5:vn(e,Qe,Lt);break;default:throw Error(A(329))}}}return Je(e,Ne()),e.callbackNode===n?qd.bind(null,e):null}function uo(e,t){var n=Ir;return e.current.memoizedState.isDehydrated&&(wn(e,t).flags|=256),e=hi(e,t),e!==2&&(t=Qe,Qe=n,t!==null&&po(t)),e}function po(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function Zh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!kt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kt(e,t){for(t&=~na,t&=~Pi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function wc(e){if(Z&6)throw Error(A(327));Yn();var t=Ys(e,0);if(!(t&1))return Je(e,Ne()),null;var n=hi(e,t);if(e.tag!==0&&n===2){var r=Ol(e);r!==0&&(t=r,n=uo(e,r))}if(n===1)throw n=ts,wn(e,0),Kt(e,t),Je(e,Ne()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vn(e,Qe,Lt),Je(e,Ne()),null}function sa(e,t){var n=Z;Z|=1;try{return e(t)}finally{Z=n,Z===0&&(rr=Ne()+500,Ni&&fn())}}function En(e){Jt!==null&&Jt.tag===0&&!(Z&6)&&Yn();var t=Z;Z|=1;var n=ft.transition,r=le;try{if(ft.transition=null,le=1,e)return e()}finally{le=r,ft.transition=n,Z=t,!(Z&6)&&fn()}}function ia(){nt=Hn.current,he(Hn)}function wn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Rh(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(Fo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ti();break;case 3:tr(),he(Ke),he(be),qo();break;case 5:Qo(r);break;case 4:tr();break;case 13:he(ye);break;case 19:he(ye);break;case 10:Wo(r.type._context);break;case 22:case 23:ia()}n=n.return}if($e=e,Pe=e=on(e.current,null),Me=nt=t,ze=0,ts=null,na=Pi=_n=0,Qe=Ir=null,xn!==null){for(t=0;t<xn.length;t++)if(n=xn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}xn=null}return e}function Kd(e,t){do{var n=Pe;try{if(Uo(),Fs.current=ui,ci){for(var r=xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ci=!1}if(Cn=0,Le=Ae=xe=null,Mr=!1,Xr=0,ta.current=null,n===null||n.return===null){ze=1,ts=t,Pe=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Me,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=a,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=ac(o);if(v!==null){v.flags&=-257,cc(v,o,a,i,t),v.mode&1&&oc(i,d,t),t=v,c=d;var x=t.updateQueue;if(x===null){var y=new Set;y.add(c),t.updateQueue=y}else x.add(c);break e}else{if(!(t&1)){oc(i,d,t),la();break e}c=Error(A(426))}}else if(me&&a.mode&1){var w=ac(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),cc(w,o,a,i,t),bo(nr(c,a));break e}}i=c=nr(c,a),ze!==4&&(ze=2),Ir===null?Ir=[i]:Ir.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Ld(i,c,t);tc(i,m);break e;case 1:a=c;var u=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof u.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(sn===null||!sn.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=$d(i,a,t);tc(i,j);break e}}i=i.return}while(i!==null)}Xd(n)}catch(k){t=k,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function Yd(){var e=di.current;return di.current=ui,e===null?ui:e}function la(){(ze===0||ze===3||ze===2)&&(ze=4),$e===null||!(_n&268435455)&&!(Pi&268435455)||Kt($e,Me)}function hi(e,t){var n=Z;Z|=2;var r=Yd();($e!==e||Me!==t)&&(Lt=null,wn(e,t));do try{em();break}catch(s){Kd(e,s)}while(!0);if(Uo(),Z=n,di.current=r,Pe!==null)throw Error(A(261));return $e=null,Me=0,ze}function em(){for(;Pe!==null;)Jd(Pe)}function tm(){for(;Pe!==null&&!_f();)Jd(Pe)}function Jd(e){var t=ep(e.alternate,e,nt);e.memoizedProps=e.pendingProps,t===null?Xd(e):Pe=t,ta.current=null}function Xd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=qh(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,Pe=null;return}}else if(n=Qh(n,t,nt),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);ze===0&&(ze=5)}function vn(e,t,n){var r=le,s=ft.transition;try{ft.transition=null,le=1,nm(e,t,n,r)}finally{ft.transition=s,le=r}return null}function nm(e,t,n,r){do Yn();while(Jt!==null);if(Z&6)throw Error(A(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Of(e,i),e===$e&&(Pe=$e=null,Me=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||zs||(zs=!0,tp(Ks,function(){return Yn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=ft.transition,ft.transition=null;var o=le;le=1;var a=Z;Z|=4,ta.current=null,Yh(e,n),Gd(n,e),kh(Ul),Js=!!Bl,Ul=Bl=null,e.current=n,Jh(n),Ef(),Z=a,le=o,ft.transition=i}else e.current=n;if(zs&&(zs=!1,Jt=e,fi=s),i=e.pendingLanes,i===0&&(sn=null),Af(n.stateNode),Je(e,Ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(pi)throw pi=!1,e=ao,ao=null,e;return fi&1&&e.tag!==0&&Yn(),i=e.pendingLanes,i&1?e===co?Dr++:(Dr=0,co=e):Dr=0,fn(),null}function Yn(){if(Jt!==null){var e=Lu(fi),t=ft.transition,n=le;try{if(ft.transition=null,le=16>e?16:e,Jt===null)var r=!1;else{if(e=Jt,Jt=null,fi=0,Z&6)throw Error(A(331));var s=Z;for(Z|=4,D=e.current;D!==null;){var i=D,o=i.child;if(D.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(D=d;D!==null;){var p=D;switch(p.tag){case 0:case 11:case 15:Or(8,p,i)}var g=p.child;if(g!==null)g.return=p,D=g;else for(;D!==null;){p=D;var h=p.sibling,v=p.return;if(Wd(p),p===d){D=null;break}if(h!==null){h.return=v,D=h;break}D=v}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}D=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,D=o;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Or(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,D=m;break e}D=i.return}}var u=e.current;for(D=u;D!==null;){o=D;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,D=f;else e:for(o=u;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ei(9,a)}}catch(k){ke(a,a.return,k)}if(a===o){D=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,D=j;break e}D=a.return}}if(Z=s,fn(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(xi,e)}catch{}r=!0}return r}finally{le=n,ft.transition=t}}return!1}function kc(e,t,n){t=nr(n,t),t=Ld(e,t,1),e=rn(e,t,1),t=Ue(),e!==null&&(os(e,1,t),Je(e,t))}function ke(e,t,n){if(e.tag===3)kc(e,e,n);else for(;t!==null;){if(t.tag===3){kc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sn===null||!sn.has(r))){e=nr(n,e),e=$d(t,e,1),t=rn(t,e,1),e=Ue(),t!==null&&(os(t,1,e),Je(t,e));break}}t=t.return}}function rm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ue(),e.pingedLanes|=e.suspendedLanes&n,$e===e&&(Me&n)===n&&(ze===4||ze===3&&(Me&130023424)===Me&&500>Ne()-ra?wn(e,0):na|=n),Je(e,t)}function Zd(e,t){t===0&&(e.mode&1?(t=ws,ws<<=1,!(ws&130023424)&&(ws=4194304)):t=1);var n=Ue();e=bt(e,t),e!==null&&(os(e,t,n),Je(e,n))}function sm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Zd(e,n)}function im(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),Zd(e,n)}var ep;ep=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ke.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,Gh(e,t,n);qe=!!(e.flags&131072)}else qe=!1,me&&t.flags&1048576&&sd(t,si,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bs(e,t),e=t.pendingProps;var s=Xn(t,be.current);Kn(t,n),s=Yo(null,t,r,e,s,n);var i=Jo();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(r)?(i=!0,ni(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vo(t),s.updater=_i,t.stateNode=s,s._reactInternals=t,Jl(t,r,e,n),t=eo(null,t,r,!0,i,n)):(t.tag=0,me&&i&&Do(t),Be(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=om(r),e=vt(r,e),s){case 0:t=Zl(null,t,r,e,n);break e;case 1:t=pc(null,t,r,e,n);break e;case 11:t=uc(null,t,r,e,n);break e;case 14:t=dc(null,t,r,vt(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),Zl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),pc(e,t,r,s,n);case 3:e:{if(Id(t),e===null)throw Error(A(387));r=t.pendingProps,i=t.memoizedState,s=i.element,ud(e,t),oi(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=nr(Error(A(423)),t),t=fc(e,t,r,n,s);break e}else if(r!==s){s=nr(Error(A(424)),t),t=fc(e,t,r,n,s);break e}else for(rt=nn(t.stateNode.containerInfo.firstChild),st=t,me=!0,xt=null,n=ad(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zn(),r===s){t=Bt(e,t,n);break e}Be(e,t,r,n)}t=t.child}return t;case 5:return dd(t),e===null&&ql(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Wl(r,s)?o=null:i!==null&&Wl(r,i)&&(t.flags|=32),Od(e,t),Be(e,t,o,n),t.child;case 6:return e===null&&ql(t),null;case 13:return Dd(e,t,n);case 4:return Go(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=er(t,null,r,n):Be(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),uc(e,t,r,s,n);case 7:return Be(e,t,t.pendingProps,n),t.child;case 8:return Be(e,t,t.pendingProps.children,n),t.child;case 12:return Be(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,de(ii,r._currentValue),r._currentValue=o,i!==null)if(kt(i.value,o)){if(i.children===s.children&&!Ke.current){t=Bt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=It(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Kl(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(A(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Kl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Be(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Kn(t,n),s=ht(s),r=r(s),t.flags|=1,Be(e,t,r,n),t.child;case 14:return r=t.type,s=vt(r,t.pendingProps),s=vt(r.type,s),dc(e,t,r,s,n);case 15:return Td(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:vt(r,s),Bs(e,t),t.tag=1,Ye(r)?(e=!0,ni(t)):e=!1,Kn(t,n),zd(t,r,s),Jl(t,r,s,n),eo(null,t,r,!0,e,n);case 19:return Fd(e,t,n);case 22:return Md(e,t,n)}throw Error(A(156,t.tag))};function tp(e,t){return Pu(e,t)}function lm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pt(e,t,n,r){return new lm(e,t,n,r)}function oa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function om(e){if(typeof e=="function")return oa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_o)return 11;if(e===Eo)return 14}return 2}function on(e,t){var n=e.alternate;return n===null?(n=pt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hs(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")oa(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Tn:return kn(n.children,s,i,t);case Co:o=8,s|=8;break;case wl:return e=pt(12,n,t,s|2),e.elementType=wl,e.lanes=i,e;case kl:return e=pt(13,n,t,s),e.elementType=kl,e.lanes=i,e;case Sl:return e=pt(19,n,t,s),e.elementType=Sl,e.lanes=i,e;case du:return Ri(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cu:o=10;break e;case uu:o=9;break e;case _o:o=11;break e;case Eo:o=14;break e;case Gt:o=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=pt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function kn(e,t,n,r){return e=pt(7,e,r,t),e.lanes=n,e}function Ri(e,t,n,r){return e=pt(22,e,r,t),e.elementType=du,e.lanes=n,e.stateNode={isHidden:!1},e}function pl(e,t,n){return e=pt(6,e,null,t),e.lanes=n,e}function fl(e,t,n){return t=pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function am(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qi(0),this.expirationTimes=Qi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function aa(e,t,n,r,s,i,o,a,c){return e=new am(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=pt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vo(i),e}function cm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$n,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function np(e){if(!e)return un;e=e._reactInternals;e:{if(Rn(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(Ye(n))return nd(e,n,t)}return t}function rp(e,t,n,r,s,i,o,a,c){return e=aa(n,r,!0,e,s,i,o,a,c),e.context=np(null),n=e.current,r=Ue(),s=ln(n),i=It(r,s),i.callback=t??null,rn(n,i,s),e.current.lanes=s,os(e,s,r),Je(e,r),e}function Ai(e,t,n,r){var s=t.current,i=Ue(),o=ln(s);return n=np(n),t.context===null?t.context=n:t.pendingContext=n,t=It(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rn(s,t,o),e!==null&&(wt(e,s,o,i),Ds(e,s,o)),o}function mi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ca(e,t){Sc(e,t),(e=e.alternate)&&Sc(e,t)}function um(){return null}var sp=typeof reportError=="function"?reportError:function(e){console.error(e)};function ua(e){this._internalRoot=e}zi.prototype.render=ua.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));Ai(e,t,null,null)};zi.prototype.unmount=ua.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;En(function(){Ai(null,e,null,null)}),t[Ft]=null}};function zi(e){this._internalRoot=e}zi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Mu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qt.length&&t!==0&&t<qt[n].priority;n++);qt.splice(n,0,e),n===0&&Iu(e)}};function da(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Li(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nc(){}function dm(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=mi(o);i.call(d)}}var o=rp(t,r,e,0,null,!1,!1,"",Nc);return e._reactRootContainer=o,e[Ft]=o.current,Qr(e.nodeType===8?e.parentNode:e),En(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=mi(c);a.call(d)}}var c=aa(e,0,!1,null,null,!1,!1,"",Nc);return e._reactRootContainer=c,e[Ft]=c.current,Qr(e.nodeType===8?e.parentNode:e),En(function(){Ai(t,c,n,r)}),c}function $i(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=mi(o);a.call(c)}}Ai(t,o,e,s)}else o=dm(n,t,e,s,r);return mi(o)}$u=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Pr(t.pendingLanes);n!==0&&(Ao(t,n|1),Je(t,Ne()),!(Z&6)&&(rr=Ne()+500,fn()))}break;case 13:En(function(){var r=bt(e,1);if(r!==null){var s=Ue();wt(r,e,1,s)}}),ca(e,1)}};zo=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var n=Ue();wt(t,e,134217728,n)}ca(e,134217728)}};Tu=function(e){if(e.tag===13){var t=ln(e),n=bt(e,t);if(n!==null){var r=Ue();wt(n,e,t,r)}ca(e,t)}};Mu=function(){return le};Ou=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};$l=function(e,t,n){switch(t){case"input":if(_l(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Si(r);if(!s)throw Error(A(90));fu(r),_l(r,s)}}}break;case"textarea":mu(e,n);break;case"select":t=n.value,t!=null&&Vn(e,!!n.multiple,t,!1)}};ku=sa;Su=En;var pm={usingClientEntryPoint:!1,Events:[cs,Dn,Si,ju,wu,sa]},wr={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fm={bundleType:wr.bundleType,version:wr.version,rendererPackageName:wr.rendererPackageName,rendererConfig:wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ut.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_u(e),e===null?null:e.stateNode},findFiberByHostInstance:wr.findFiberByHostInstance||um,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ls.isDisabled&&Ls.supportsFiber)try{xi=Ls.inject(fm),Rt=Ls}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pm;lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!da(t))throw Error(A(200));return cm(e,t,null,n)};lt.createRoot=function(e,t){if(!da(e))throw Error(A(299));var n=!1,r="",s=sp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=aa(e,1,!1,null,null,n,!1,r,s),e[Ft]=t.current,Qr(e.nodeType===8?e.parentNode:e),new ua(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=_u(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return En(e)};lt.hydrate=function(e,t,n){if(!Li(t))throw Error(A(200));return $i(null,e,t,!0,n)};lt.hydrateRoot=function(e,t,n){if(!da(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=sp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=rp(t,null,e,1,n??null,s,!1,i,o),e[Ft]=t.current,Qr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new zi(t)};lt.render=function(e,t,n){if(!Li(t))throw Error(A(200));return $i(null,e,t,!1,n)};lt.unmountComponentAtNode=function(e){if(!Li(e))throw Error(A(40));return e._reactRootContainer?(En(function(){$i(null,null,e,!1,function(){e._reactRootContainer=null,e[Ft]=null})}),!0):!1};lt.unstable_batchedUpdates=sa;lt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Li(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return $i(e,t,n,!1,r)};lt.version="18.3.1-next-f1338f8080-20240426";function ip(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ip)}catch(e){console.error(e)}}ip(),iu.exports=lt;var hm=iu.exports,Cc=hm;xl.createRoot=Cc.createRoot,xl.hydrateRoot=Cc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ns(){return ns=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ns.apply(this,arguments)}var Xt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xt||(Xt={}));const _c="popstate";function mm(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return fo("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:gi(s)}return vm(t,n,null,e)}function je(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function lp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gm(){return Math.random().toString(36).substr(2,8)}function Ec(e,t){return{usr:e.state,key:e.key,idx:t}}function fo(e,t,n,r){return n===void 0&&(n=null),ns({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ur(t):t,{state:n,key:t&&t.key||r||gm()})}function gi(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ur(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function vm(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Xt.Pop,c=null,d=p();d==null&&(d=0,o.replaceState(ns({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function g(){a=Xt.Pop;let w=p(),m=w==null?null:w-d;d=w,c&&c({action:a,location:y.location,delta:m})}function h(w,m){a=Xt.Push;let u=fo(y.location,w,m);d=p()+1;let f=Ec(u,d),j=y.createHref(u);try{o.pushState(f,"",j)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(j)}i&&c&&c({action:a,location:y.location,delta:1})}function v(w,m){a=Xt.Replace;let u=fo(y.location,w,m);d=p();let f=Ec(u,d),j=y.createHref(u);o.replaceState(f,"",j),i&&c&&c({action:a,location:y.location,delta:0})}function x(w){let m=s.location.origin!=="null"?s.location.origin:s.location.href,u=typeof w=="string"?w:gi(w);return u=u.replace(/ $/,"%20"),je(m,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,m)}let y={get action(){return a},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(_c,g),c=w,()=>{s.removeEventListener(_c,g),c=null}},createHref(w){return t(s,w)},createURL:x,encodeLocation(w){let m=x(w);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:v,go(w){return o.go(w)}};return y}var Pc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pc||(Pc={}));function ym(e,t,n){return n===void 0&&(n="/"),xm(e,t,n)}function xm(e,t,n,r){let s=typeof t=="string"?ur(t):t,i=sr(s.pathname||"/",n);if(i==null)return null;let o=op(e);jm(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=zm(i);a=Rm(o[c],d)}return a}function op(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(je(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=an([r,c.relativePath]),p=n.concat(c);i.children&&i.children.length>0&&(je(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),op(i.children,t,p,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Em(d,i.index),routesMeta:p})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of ap(i.path))s(i,o,c)}),t}function ap(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=ap(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function jm(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Pm(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wm=/^:[\w-]+$/,km=3,Sm=2,Nm=1,Cm=10,_m=-2,Rc=e=>e==="*";function Em(e,t){let n=e.split("/"),r=n.length;return n.some(Rc)&&(r+=_m),t&&(r+=Sm),n.filter(s=>!Rc(s)).reduce((s,i)=>s+(wm.test(i)?km:i===""?Nm:Cm),r)}function Pm(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Rm(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,p=i==="/"?t:t.slice(i.length)||"/",g=ho({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),h=c.route;if(!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:an([i,g.pathname]),pathnameBase:Mm(an([i,g.pathnameBase])),route:h}),g.pathnameBase!=="/"&&(i=an([i,g.pathnameBase]))}return o}function ho(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Am(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,p,g)=>{let{paramName:h,isOptional:v}=p;if(h==="*"){let y=a[g]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[g];return v&&!x?d[h]=void 0:d[h]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Am(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),lp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function zm(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return lp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function sr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Lm(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ur(e):e;return{pathname:n?n.startsWith("/")?n:$m(n,t):t,search:Om(r),hash:Im(s)}}function $m(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function hl(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Tm(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pa(e,t){let n=Tm(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function fa(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ur(e):(s=ns({},e),je(!s.pathname||!s.pathname.includes("?"),hl("?","pathname","search",s)),je(!s.pathname||!s.pathname.includes("#"),hl("#","pathname","hash",s)),je(!s.search||!s.search.includes("#"),hl("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let g=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),g-=1;s.pathname=h.join("/")}a=g>=0?t[g]:"/"}let c=Lm(s,a),d=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const an=e=>e.join("/").replace(/\/\/+/g,"/"),Mm=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Om=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Im=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Dm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cp=["post","put","patch","delete"];new Set(cp);const Fm=["get",...cp];new Set(Fm);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rs.apply(this,arguments)}const Ti=R.createContext(null),up=R.createContext(null),Wt=R.createContext(null),Mi=R.createContext(null),hn=R.createContext({outlet:null,matches:[],isDataRoute:!1}),dp=R.createContext(null);function bm(e,t){let{relative:n}=t===void 0?{}:t;dr()||je(!1);let{basename:r,navigator:s}=R.useContext(Wt),{hash:i,pathname:o,search:a}=Oi(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:an([r,o])),s.createHref({pathname:c,search:a,hash:i})}function dr(){return R.useContext(Mi)!=null}function pr(){return dr()||je(!1),R.useContext(Mi).location}function pp(e){R.useContext(Wt).static||R.useLayoutEffect(e)}function fp(){let{isDataRoute:e}=R.useContext(hn);return e?Zm():Bm()}function Bm(){dr()||je(!1);let e=R.useContext(Ti),{basename:t,future:n,navigator:r}=R.useContext(Wt),{matches:s}=R.useContext(hn),{pathname:i}=pr(),o=JSON.stringify(pa(s,n.v7_relativeSplatPath)),a=R.useRef(!1);return pp(()=>{a.current=!0}),R.useCallback(function(d,p){if(p===void 0&&(p={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let g=fa(d,JSON.parse(o),i,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:an([t,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[t,r,o,i,e])}function Oi(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=R.useContext(Wt),{matches:s}=R.useContext(hn),{pathname:i}=pr(),o=JSON.stringify(pa(s,r.v7_relativeSplatPath));return R.useMemo(()=>fa(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function Um(e,t){return Wm(e,t)}function Wm(e,t,n,r){dr()||je(!1);let{navigator:s}=R.useContext(Wt),{matches:i}=R.useContext(hn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=pr(),p;if(t){var g;let w=typeof t=="string"?ur(t):t;c==="/"||(g=w.pathname)!=null&&g.startsWith(c)||je(!1),p=w}else p=d;let h=p.pathname||"/",v=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=ym(e,{pathname:v}),y=qm(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:an([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:an([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return t&&y?R.createElement(Mi.Provider,{value:{location:rs({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Xt.Pop}},y):y}function Hm(){let e=Xm(),t=Dm(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:s},n):null,null)}const Vm=R.createElement(Hm,null);class Gm extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?R.createElement(hn.Provider,{value:this.props.routeContext},R.createElement(dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qm(e){let{routeContext:t,match:n,children:r}=e,s=R.useContext(Ti);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(hn.Provider,{value:t},r)}function qm(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let p=o.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);p>=0||je(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:h,errors:v}=n,x=g.route.loader&&h[g.route.id]===void 0&&(!v||v[g.route.id]===void 0);if(g.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,h)=>{let v,x=!1,y=null,w=null;n&&(v=a&&g.route.id?a[g.route.id]:void 0,y=g.route.errorElement||Vm,c&&(d<0&&h===0?(eg("route-fallback"),x=!0,w=null):d===h&&(x=!0,w=g.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,h+1)),u=()=>{let f;return v?f=y:x?f=w:g.route.Component?f=R.createElement(g.route.Component,null):g.route.element?f=g.route.element:f=p,R.createElement(Qm,{match:g,routeContext:{outlet:p,matches:m,isDataRoute:n!=null},children:f})};return n&&(g.route.ErrorBoundary||g.route.errorElement||h===0)?R.createElement(Gm,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:u(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):u()},null)}var hp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hp||{}),mp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mp||{});function Km(e){let t=R.useContext(Ti);return t||je(!1),t}function Ym(e){let t=R.useContext(up);return t||je(!1),t}function Jm(e){let t=R.useContext(hn);return t||je(!1),t}function gp(e){let t=Jm(),n=t.matches[t.matches.length-1];return n.route.id||je(!1),n.route.id}function Xm(){var e;let t=R.useContext(dp),n=Ym(),r=gp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Zm(){let{router:e}=Km(hp.UseNavigateStable),t=gp(mp.UseNavigateStable),n=R.useRef(!1);return pp(()=>{n.current=!0}),R.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,rs({fromRouteId:t},i)))},[e,t])}const Ac={};function eg(e,t,n){Ac[e]||(Ac[e]=!0)}function tg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function ng(e){let{to:t,replace:n,state:r,relative:s}=e;dr()||je(!1);let{future:i,static:o}=R.useContext(Wt),{matches:a}=R.useContext(hn),{pathname:c}=pr(),d=fp(),p=fa(t,pa(a,i.v7_relativeSplatPath),c,s==="path"),g=JSON.stringify(p);return R.useEffect(()=>d(JSON.parse(g),{replace:n,state:r,relative:s}),[d,g,s,n,r]),null}function Ln(e){je(!1)}function rg(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Xt.Pop,navigator:i,static:o=!1,future:a}=e;dr()&&je(!1);let c=t.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:c,navigator:i,static:o,future:rs({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=ur(r));let{pathname:p="/",search:g="",hash:h="",state:v=null,key:x="default"}=r,y=R.useMemo(()=>{let w=sr(p,c);return w==null?null:{location:{pathname:w,search:g,hash:h,state:v,key:x},navigationType:s}},[c,p,g,h,v,x,s]);return y==null?null:R.createElement(Wt.Provider,{value:d},R.createElement(Mi.Provider,{children:n,value:y}))}function sg(e){let{children:t,location:n}=e;return Um(mo(t),n)}new Promise(()=>{});function mo(e,t){t===void 0&&(t=[]);let n=[];return R.Children.forEach(e,(r,s)=>{if(!R.isValidElement(r))return;let i=[...t,s];if(r.type===R.Fragment){n.push.apply(n,mo(r.props.children,i));return}r.type!==Ln&&je(!1),!r.props.index||!r.props.children||je(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=mo(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vi(){return vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vi.apply(this,arguments)}function vp(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function ig(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function lg(e,t){return e.button===0&&(!t||t==="_self")&&!ig(e)}const og=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ag=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],cg="6";try{window.__reactRouterVersion=cg}catch{}const ug=R.createContext({isTransitioning:!1}),dg="startTransition",zc=nf[dg];function pg(e){let{basename:t,children:n,future:r,window:s}=e,i=R.useRef();i.current==null&&(i.current=mm({window:s,v5Compat:!0}));let o=i.current,[a,c]=R.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},p=R.useCallback(g=>{d&&zc?zc(()=>c(g)):c(g)},[c,d]);return R.useLayoutEffect(()=>o.listen(p),[o,p]),R.useEffect(()=>tg(r),[r]),R.createElement(rg,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const fg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mg=R.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:p,viewTransition:g}=t,h=vp(t,og),{basename:v}=R.useContext(Wt),x,y=!1;if(typeof d=="string"&&hg.test(d)&&(x=d,fg))try{let f=new URL(window.location.href),j=d.startsWith("//")?new URL(f.protocol+d):new URL(d),k=sr(j.pathname,v);j.origin===f.origin&&k!=null?d=k+j.search+j.hash:y=!0}catch{}let w=bm(d,{relative:s}),m=yg(d,{replace:o,state:a,target:c,preventScrollReset:p,relative:s,viewTransition:g});function u(f){r&&r(f),f.defaultPrevented||m(f)}return R.createElement("a",vi({},h,{href:x||w,onClick:y||i?r:u,ref:n,target:c}))}),gg=R.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:d,children:p}=t,g=vp(t,ag),h=Oi(c,{relative:g.relative}),v=pr(),x=R.useContext(up),{navigator:y,basename:w}=R.useContext(Wt),m=x!=null&&xg(h)&&d===!0,u=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,f=v.pathname,j=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(f=f.toLowerCase(),j=j?j.toLowerCase():null,u=u.toLowerCase()),j&&w&&(j=sr(j,w)||j);const k=u!=="/"&&u.endsWith("/")?u.length-1:u.length;let E=f===u||!o&&f.startsWith(u)&&f.charAt(k)==="/",C=j!=null&&(j===u||!o&&j.startsWith(u)&&j.charAt(u.length)==="/"),L={isActive:E,isPending:C,isTransitioning:m},$=E?r:void 0,P;typeof i=="function"?P=i(L):P=[i,E?"active":null,C?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let q=typeof a=="function"?a(L):a;return R.createElement(mg,vi({},g,{"aria-current":$,className:P,ref:n,style:q,to:c,viewTransition:d}),typeof p=="function"?p(L):p)});var go;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(go||(go={}));var Lc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Lc||(Lc={}));function vg(e){let t=R.useContext(Ti);return t||je(!1),t}function yg(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=fp(),d=pr(),p=Oi(e,{relative:o});return R.useCallback(g=>{if(lg(g,n)){g.preventDefault();let h=r!==void 0?r:gi(d)===gi(p);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,c,p,r,s,n,e,i,o,a])}function xg(e,t){t===void 0&&(t={});let n=R.useContext(ug);n==null&&je(!1);let{basename:r}=vg(go.useViewTransitionState),s=Oi(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=sr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=sr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ho(s.pathname,o)!=null||ho(s.pathname,i)!=null}const jg={},$c=e=>{let t;const n=new Set,r=(p,g)=>{const h=typeof p=="function"?p(t):p;if(!Object.is(h,t)){const v=t;t=g??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(x=>x(t,v))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(jg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,s,c);return c},wg=e=>e?$c(e):$c;var yp={exports:{}},xp={},jp={exports:{}},wp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ir=R;function kg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Sg=typeof Object.is=="function"?Object.is:kg,Ng=ir.useState,Cg=ir.useEffect,_g=ir.useLayoutEffect,Eg=ir.useDebugValue;function Pg(e,t){var n=t(),r=Ng({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return _g(function(){s.value=n,s.getSnapshot=t,ml(s)&&i({inst:s})},[e,n,t]),Cg(function(){return ml(s)&&i({inst:s}),e(function(){ml(s)&&i({inst:s})})},[e]),Eg(n),n}function ml(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Sg(e,n)}catch{return!0}}function Rg(e,t){return t()}var Ag=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Rg:Pg;wp.useSyncExternalStore=ir.useSyncExternalStore!==void 0?ir.useSyncExternalStore:Ag;jp.exports=wp;var zg=jp.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ii=R,Lg=zg;function $g(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tg=typeof Object.is=="function"?Object.is:$g,Mg=Lg.useSyncExternalStore,Og=Ii.useRef,Ig=Ii.useEffect,Dg=Ii.useMemo,Fg=Ii.useDebugValue;xp.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=Og(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Dg(function(){function c(v){if(!d){if(d=!0,p=v,v=r(v),s!==void 0&&o.hasValue){var x=o.value;if(s(x,v))return g=x}return g=v}if(x=g,Tg(p,v))return x;var y=r(v);return s!==void 0&&s(x,y)?(p=v,x):(p=v,g=y)}var d=!1,p,g,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,s]);var a=Mg(e,i[0],i[1]);return Ig(function(){o.hasValue=!0,o.value=a},[a]),Fg(a),a};yp.exports=xp;var bg=yp.exports;const Bg=Qc(bg),kp={},{useDebugValue:Ug}=wo,{useSyncExternalStoreWithSelector:Wg}=Bg;let Tc=!1;const Hg=e=>e;function Vg(e,t=Hg,n){(kp?"production":void 0)!=="production"&&n&&!Tc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Tc=!0);const r=Wg(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return Ug(r),r}const Gg=e=>{(kp?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?wg(e):e,n=(r,s)=>Vg(t,r,s);return Object.assign(n,t),n},Sp=e=>Gg,Qg={};function qg(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const ss=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return ss(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ss(r)(n)}}}},Kg=(e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:w=>w,version:0,merge:(w,m)=>({...m,...w}),...t},o=!1;const a=new Set,c=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...w)},r,s);const p=ss(i.serialize),g=()=>{const w=i.partialize({...r()});let m;const u=p({state:w,version:i.version}).then(f=>d.setItem(i.name,f)).catch(f=>{m=f});if(m)throw m;return u},h=s.setState;s.setState=(w,m)=>{h(w,m),g()};const v=e((...w)=>{n(...w),g()},r,s);let x;const y=()=>{var w;if(!d)return;o=!1,a.forEach(u=>u(r()));const m=((w=i.onRehydrateStorage)==null?void 0:w.call(i,r()))||void 0;return ss(d.getItem.bind(d))(i.name).then(u=>{if(u)return i.deserialize(u)}).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==i.version){if(i.migrate)return i.migrate(u.state,u.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return u.state}).then(u=>{var f;return x=i.merge(u,(f=r())!=null?f:v),n(x,!0),g()}).then(()=>{m==null||m(x,void 0),o=!0,c.forEach(u=>u(x))}).catch(u=>{m==null||m(void 0,u)})};return s.persist={setOptions:w=>{i={...i,...w},w.getStorage&&(d=w.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(c.add(w),()=>{c.delete(w)})},y(),x||v},Yg=(e,t)=>(n,r,s)=>{let i={storage:qg(()=>localStorage),partialize:y=>y,version:0,merge:(y,w)=>({...w,...y}),...t},o=!1;const a=new Set,c=new Set;let d=i.storage;if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},r,s);const p=()=>{const y=i.partialize({...r()});return d.setItem(i.name,{state:y,version:i.version})},g=s.setState;s.setState=(y,w)=>{g(y,w),p()};const h=e((...y)=>{n(...y),p()},r,s);s.getInitialState=()=>h;let v;const x=()=>{var y,w;if(!d)return;o=!1,a.forEach(u=>{var f;return u((f=r())!=null?f:h)});const m=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(y=r())!=null?y:h))||void 0;return ss(d.getItem.bind(d))(i.name).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==i.version){if(i.migrate)return[!0,i.migrate(u.state,u.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,u.state];return[!1,void 0]}).then(u=>{var f;const[j,k]=u;if(v=i.merge(k,(f=r())!=null?f:h),n(v,!0),j)return p()}).then(()=>{m==null||m(v,void 0),v=r(),o=!0,c.forEach(u=>u(v))}).catch(u=>{m==null||m(void 0,u)})};return s.persist={setOptions:y=>{i={...i,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},i.skipHydration||x(),v||h},Jg=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((Qg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Kg(e,t)):Yg(e,t),Np=Jg;class Xg{constructor(){Bi(this,"enabled",!1);Bi(this,"storageKey","sidonia-analytics-buffer")}setEnabled(t){this.enabled=t,!(typeof window>"u")&&(t||this.clear())}track(t,n){if(typeof window>"u"||!this.enabled)return;const r={event:t,timestamp:new Date().toISOString(),data:n};try{const s=this.load();s.push(r),localStorage.setItem(this.storageKey,JSON.stringify(s)),console.info("[analytics]",r)}catch(s){console.warn("Analytics storage failed",s)}}getAll(){return typeof window>"u"?[]:this.load()}clear(){typeof window>"u"||localStorage.removeItem(this.storageKey)}load(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){return console.warn("Failed to read analytics buffer",t),[]}}}const X=new Xg,Zg="CodexRules!!!!!",Pt=Sp()(Np((e,t)=>({gmUnlocked:!1,gmUnlockedAt:null,analyticsConsent:"unknown",analyticsNotified:!1,authenticateGm:n=>n.trim().toUpperCase()===Zg?(e({gmUnlocked:!0,gmUnlockedAt:new Date().toISOString()}),X.track("gm.unlocked",{}),!0):(X.track("gm.failed_auth",{attempt:n.trim().length}),!1),lockGm:()=>e({gmUnlocked:!1,gmUnlockedAt:null}),setAnalyticsConsent:n=>{e({analyticsConsent:n?"accepted":"declined"}),X.setEnabled(n),X.track("analytics.consent",{granted:n})},markAnalyticsNotified:()=>e({analyticsNotified:!0})}),{name:"sidonia-session-state",version:1,migrate:e=>({gmUnlocked:!1,gmUnlockedAt:null,analyticsConsent:(e==null?void 0:e.analyticsConsent)??"unknown",analyticsNotified:!1})}));function ev(){const e=Pt(s=>s.analyticsConsent),t=Pt(s=>s.analyticsNotified),n=Pt(s=>s.setAnalyticsConsent),r=Pt(s=>s.markAnalyticsNotified);return e!=="unknown"||t?null:l.jsxs("aside",{className:"analytics-banner",role:"dialog","aria-live":"polite",children:[l.jsxs("div",{children:[l.jsx("h3",{children:"Help Improve Sidonia"}),l.jsx("p",{children:"We collect anonymous usage patterns (no personal data) to refine the priority flow and uncover confusing choices. You can opt out and still use the builderno pressure."})]}),l.jsxs("div",{className:"analytics-banner__actions",children:[l.jsx("button",{type:"button",onClick:()=>n(!0),children:"Share Anonymous Data"}),l.jsx("button",{type:"button",className:"secondary",onClick:()=>n(!1),children:"No Thanks"}),l.jsx("button",{type:"button",className:"dismiss",onClick:r,children:"Remind Me Later"})]})]})}async function _t(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.status} ${t.statusText}`);const n=await t.text();try{return JSON.parse(n)}catch(r){throw new Error(`Failed to parse JSON from ${e}: ${r.message}`)}}async function tv(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.status} ${t.statusText}`);return await t.text()}const nv={automata:"/data/Sidonia-Powers-Schema-Automata.Json",chimera:"/data/Sidonia-Powers-Schema-Chimera.Json",espers:"/data/Sidonia-Powers-Schema-Espers.json",mentalists:"/data/Sidonia-Powers-Schema-Mentalists.json",neosapiens:"/data/Sidonia-Powers-Schema-NeoSapiens.Json",sorcery:"/data/Sidonia-Powers-Schema-Sorcery.Json"},rv={automata:"/data/powers-automata.json",chimera:"/data/powers-chimera.json",esper:"/data/powers-esper.json",neosapien:"/data/powers-neosapien.json",sorcery:"/data/powers-sorcery.json"},sv="/data/powers-mentalist.json",iv=[{id:"lineage-architecture",title:"Lineage Architecture",path:"/content/lineage-architecture.md"},{id:"design-philosophy",title:"Sidonia Design Philosophy",path:"/content/sidonia-design-philosophy.md"},{id:"resources-system",title:"Resources System Overview",path:"/content/sidonia-resources-system.md"}];async function lv(){const[e,t,n,r,s,i,o,a,c,d]=await Promise.all([_t("/data/backgrounds.json"),_t("/data/Sidonia-Skills.Json"),_t("/data/resources-system.json"),_t("/data/resource-costs.json"),_t("/data/legal.json"),ov(),av(),_t("/data/attributes.json"),_t("/data/character-sheet-structure.json"),fv()]),p=dv(a),g=pv(c);return{backgrounds:e,skills:t,resources:n,resourceCosts:r,legal:s,powerSchemas:i,powerSets:o,attributes:p,characterSheet:g,designDocs:d}}async function ov(){const e=await Promise.all(Object.entries(nv).map(async([t,n])=>{const r=await _t(n);return[t,r]}));return Object.fromEntries(e)}async function av(){const e=Object.entries(rv).map(async([r,s])=>{const i=r;let o=await _t(s);return i==="esper"&&(o=await cv(o)),[i,uv(i,o)]}),t=await Promise.allSettled(e),n=[];return t.forEach(r=>{r.status==="fulfilled"?n.push(r.value):console.warn("[sidonia] Failed to load lineage power data:",r.reason)}),Object.fromEntries(n)}async function cv(e){try{const t=await _t(sv);return{...e,mentalist_data:t}}catch(t){return console.warn("[sidonia] Failed to load mentalist power data:",t),e}}function uv(e,t){const n={...t};return"lineage"in n||(n.lineage=e),n.lineageId=e,n}function dv(e){return e&&typeof e=="object"&&"attributes"in e?e.attributes:e}function pv(e){return e&&typeof e=="object"&&"characterSheet"in e?e.characterSheet:e}async function fv(){return await Promise.all(iv.map(async t=>{const n=await tv(t.path);return{...t,content:n}}))}const Cp=R.createContext(void 0);function hv({children:e}){const[t,n]=R.useState(null),[r,s]=R.useState("idle"),[i,o]=R.useState(null),a=R.useCallback(async()=>{s("loading"),o(null);try{const d=await lv();n(d),s("ready")}catch(d){s("error"),o(d instanceof Error?d.message:"Unknown data loading error")}},[]);R.useEffect(()=>{a()},[a]);const c=R.useMemo(()=>({data:t,status:r,error:i,refresh:a}),[t,r,i,a]);return l.jsx(Cp.Provider,{value:c,children:e})}function ds(){const e=R.useContext(Cp);if(!e)throw new Error("useCharacterData must be used within a DataProvider");return e}function mv(){var n,r;const{data:e}=ds(),t=(n=e==null?void 0:e.legal)==null?void 0:n.copyright;return!t||((r=t.display)==null?void 0:r.footer)===!1?null:l.jsxs("footer",{className:"legal-footer","aria-label":"Legal notice",role:"contentinfo",children:[l.jsx("span",{className:"legal-footer__text",children:t.text}),t.licenseUrl?l.jsx("a",{href:t.licenseUrl,target:"_blank",rel:"noreferrer",className:"legal-footer__link",children:t.license}):l.jsx("span",{className:"legal-footer__link",children:t.license})]})}const gv=[{to:"/",label:"Experience"},{to:"/builder",label:"Character Builder"},{to:"/management",label:"Character Management"},{to:"/gm",label:"GM Veil"}];function vv({children:e}){return l.jsxs("div",{className:"app-shell",children:[l.jsx("header",{className:"app-shell__header",children:l.jsxs("nav",{className:"app-shell__nav",children:[l.jsx("span",{className:"brand",children:"Sidonia: The Long Night"}),l.jsx("div",{className:"nav-links",children:gv.map(t=>l.jsx(gg,{to:t.to,className:({isActive:n})=>n?"nav-link active":"nav-link",end:!0,children:t.label},t.to))}),l.jsx("span",{className:"nav-meta",children:"Every choice demands a sacrifice"})]})}),l.jsx("main",{className:"app-shell__main",children:e}),l.jsx(mv,{}),l.jsx(ev,{})]})}function yv(){return l.jsxs("section",{children:[l.jsxs("header",{children:[l.jsx("h1",{children:"Character Creation as Descent"}),l.jsx("p",{children:"Step through Sidonia's dark wards with a guide that teaches while it tempts. Assign priorities, face the consequences, and build a persona that balances humanity, power, and the whispers of corruption."})]}),l.jsxs("div",{children:[l.jsx("p",{children:"Begin with the priority grid, explore lineage aesthetics, and unlock deeper mechanical truths only when you are ready to commit. Every page layers narrative first and detail second, ensuring newcomers learn through meaningful choice."}),l.jsx("p",{children:"Continue to the Character Builder to start a new dossier or revisit existing souls you are shepherding through the night."})]})]})}const _p=[{key:"neosapien",name:"NeoSapien",tagline:"Engineered evolution for those who can pay the tithe.",summary:"The Forge Syndicates will rebuild you into the perfect instrument. Slots determine just how much metal, muscle, and lore they lace into your bones.",priorityImpacts:{A:"Nine augmentation slots; enough to rebuild your body and soul with top-tier Forge miracles.",B:"Seven slots; you are an elite prototype with room to grow.",C:"Six slots; respectable upgrades with compromises lingering beneath the chrome.",D:"Four slots; hand-me-down mods and a favor owed to the Syndicate.",E:"Two slots; scrap work that barely keeps you alive."},narrativeHook:"NeoSapiens look immaculate, but every graft is a debt. Each upgrade ties you tighter to the Forge Families who own the patent on your blood.",gmWhisper:"Every augmentation has a corruption drip. Track how many slots are filled to calibrate the player-facing warning meter.",aesthetic:{accent:"#87f5ff",glow:"linear-gradient(135deg, rgba(120, 220, 255, 0.35), rgba(80, 140, 255, 0.2))",texture:"radial-gradient(circle at 50% 10%, rgba(120, 220, 255, 0.2), transparent 60%)"}},{key:"sorcery",name:"Sorcerer",tagline:"Scholar of the Veil, wielding codified miracles in whispers.",summary:"You read forbidden grimoires in the glow of dying streetlamps. Priorities determine how many spheres you command and how many moves you can safely inscribe.",priorityImpacts:{A:"Primary + 2 Secondary spheres, five total moves etched into your soul.",B:"Primary + Secondary pairing with four rote moves; the classic cabal initiate.",C:"Choose one Primary or two Secondary spheres, three moves scrawled in desperate ink.",D:"One secondary sphere and two moves; a dabbler who still owes their mentor.",E:"One secondary sphere, one move, hope you can bluff the rest."},narrativeHook:"Sorcerers hide sigils within noir newsprint and breathe equations of power. The more spheres you command, the more the city notices.",gmWhisper:"Each move should have a listed cost; use the assigned priority to determine how harsh to set complications.",aesthetic:{accent:"#ffb347",glow:"linear-gradient(160deg, rgba(255, 190, 92, 0.35), rgba(255, 80, 60, 0.25))",texture:"radial-gradient(circle at 70% 30%, rgba(255, 180, 90, 0.18), transparent 60%)"}},{key:"esper",name:"Esper",tagline:"Innate psionics that turn thought into weaponry.",summary:"Gifted at birth or cursed in the womb, Espers bend the city with their minds. Priority sets how refined the template becomes.",priorityImpacts:{A:"Esper Mentalist hybrid  access to both archetype trees from session one.",B:"Esper Prodigy template. Two evolutionary steps unlocked before play.",C:"Mentalist-only channel with powerful focus but brittle sanity.",D:"Gifted Esper who can evolve once with training.",E:"Base Esper template; raw talent that still sputters."},narrativeHook:"Their dreams leak into waking life. Neon bleeds, strangers hear your thoughts, and the city clerk who stamped your ID can suddenly smell the aether.",gmWhisper:"Corruption spikes when Espers overclock. Use template level to gauge safe usage before fractures appear.",aesthetic:{accent:"#f78bff",glow:"linear-gradient(120deg, rgba(255, 120, 220, 0.35), rgba(110, 90, 255, 0.25))",texture:"radial-gradient(circle at 20% 80%, rgba(255, 120, 220, 0.2), transparent 55%)"}},{key:"chimera",name:"Chimera",tagline:"Mutations granted by the citys warring ecosystems.",summary:"You trade humanity for adaptation. Mutation points dictate how many horrors you can graft into your flesh.",priorityImpacts:{A:"Seven mutation points. Become the chimera the wards whisper about.",B:"Five points. The change is obvious, but you can still pass after midnight.",C:"Four points. Enough to gain an edge while keeping a human silhouette.",D:"Three points. Side-effects and stigma follow closely.",E:"Two points. Tattoos of corruption hidden beneath borrowed coats."},narrativeHook:"Chimeras owe fealty to ward totems and feral ecologies. The more points you spend, the more the wild claims you.",gmWhisper:"Mutation tiers should map to resource availability; track total points for corruption bleed-through.",aesthetic:{accent:"#7cff91",glow:"linear-gradient(200deg, rgba(120, 255, 160, 0.35), rgba(40, 180, 120, 0.25))",texture:"radial-gradient(circle at 15% 20%, rgba(120, 255, 160, 0.18), transparent 60%)"}},{key:"automata",name:"Automata",tagline:"Synthetic souls housed in perfected shells.",summary:"You are a machine built for purpose. Priority sets the chassis quality and the branches unlocked.",priorityImpacts:{A:"Imperial chassis with Overseer/Soldier branches unlocked and sovereign protocols.",B:"Advanced military shell; twin branches with limited imperial overrides.",C:"Baseline chassis with soldier safeguards still intact.",D:"Advanced worker frame engineered for hazardous labor.",E:"Basic worker frame, easily replaced and easily overlooked."},narrativeHook:"Automata can swap plating like trench coats. Memory scrubbing is compulsory after each refit.",gmWhisper:"Track how many branches the player exposes. GM mode should reveal firmware locks hidden from the player view.",aesthetic:{accent:"#5ad1ff",glow:"linear-gradient(150deg, rgba(90, 210, 255, 0.35), rgba(40, 80, 200, 0.25))",texture:"radial-gradient(circle at 80% 20%, rgba(90, 210, 255, 0.2), transparent 60%)"}}];function Ep(e){return e?_p.find(t=>t.key===e)??null:null}function xv({build:e,onUpdate:t}){if(!e)return null;const{profile:n,updatedAt:r}=e;return l.jsxs("section",{className:"profile-card",children:[l.jsxs("header",{children:[l.jsx("h2",{children:"Character Dossier"}),l.jsxs("span",{className:"profile-card__timestamp",children:["Auto-saved ",new Date(r).toLocaleString()]})]}),l.jsxs("div",{className:"profile-card__layout",children:[l.jsxs("div",{className:"profile-card__details",children:[l.jsxs("div",{className:"profile-card__grid",children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Name"}),l.jsx("input",{value:n.name,onChange:s=>t({name:s.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Alias"}),l.jsx("input",{value:n.alias,onChange:s=>t({alias:s.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Pronouns"}),l.jsx("input",{value:n.pronouns,onChange:s=>t({pronouns:s.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Concept"}),l.jsx("input",{value:n.concept,placeholder:"Ex: Disgraced sorcerer moonlighting as a fixer",onChange:s=>t({concept:s.target.value})})]})]}),l.jsxs("label",{className:"field profile-card__summary",children:[l.jsx("span",{children:"Summary"}),l.jsx("textarea",{value:n.summary,placeholder:"High-level summary you can hand to a new player or GM.",onChange:s=>t({summary:s.target.value})})]}),l.jsxs("label",{className:"field profile-card__textarea",children:[l.jsx("span",{children:"Physical Description"}),l.jsx("textarea",{value:n.physicalDescription,placeholder:"How do they carry themselves? Distinguishing features?",onChange:s=>t({physicalDescription:s.target.value})})]}),l.jsxs("label",{className:"field profile-card__textarea",children:[l.jsx("span",{children:"Code"}),l.jsx("textarea",{value:n.code,placeholder:"What guiding principle can they not compromise?",onChange:s=>t({code:s.target.value})})]}),l.jsxs("div",{className:"profile-card__duo",children:[l.jsxs("label",{className:"field profile-card__textarea",children:[l.jsx("span",{children:"Line They Will Not Cross"}),l.jsx("textarea",{value:n.lineNotCrossed,placeholder:"The red line that defines them.",onChange:s=>t({lineNotCrossed:s.target.value})})]}),l.jsxs("label",{className:"field profile-card__textarea",children:[l.jsx("span",{children:"Temptation"}),l.jsx("textarea",{value:n.temptation,placeholder:"The lure that could make them fall.",onChange:s=>t({temptation:s.target.value})})]})]})]}),l.jsxs("aside",{className:"profile-card__portrait",children:[l.jsx("div",{className:"profile-card__portrait-frame",children:n.portraitUrl?l.jsx("img",{src:n.portraitUrl,alt:`${n.name||"Character"} portrait`}):l.jsx("span",{children:"Portrait Pending"})}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Portrait URL (optional)"}),l.jsx("input",{value:n.portraitUrl,onChange:s=>t({portraitUrl:s.target.value}),placeholder:"Link to artwork or leave blank"})]})]})]})]})}const Tt=["priorities","lineage","resources","background","skills","attributes","narrative"],Vs=5,gl=e=>Array.isArray(e)?e.filter(t=>{if(!t||typeof t!="object")return!1;const n=t;return typeof n.id=="string"&&typeof n.lineage=="string"}):[],Mc={head:"Head",torso:"Torso",leftArm:"Left Arm",rightArm:"Right Arm",leftLeg:"Left Leg",rightLeg:"Right Leg"},jv=()=>({lineage:null,resources:null,background:null,skills:null,attributes:null}),wv=()=>({physique:0,intellect:0,presence:0}),Pp=()=>({physique:[],intellect:[],presence:[]}),kv=()=>({head:{current:3,max:3,scar:""},torso:{current:5,max:5,scar:""},leftArm:{current:4,max:4,scar:""},rightArm:{current:4,max:4,scar:""},leftLeg:{current:4,max:4,scar:""},rightLeg:{current:4,max:4,scar:""}}),Sv={A:3,B:2,C:2,D:1,E:0},Nv=e=>e?Sv[e]:0,Cv=()=>({name:"",alias:"",pronouns:"",concept:"",summary:"",physicalDescription:"",code:"",lineNotCrossed:"",temptation:"",portraitUrl:""}),is=()=>new Date().toISOString(),Vt=e=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${e}-${Math.random().toString(36).slice(2,9)}`,Oc=e=>{const t=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`sidonia-${Math.random().toString(36).slice(2,9)}`,n=is();return{id:t,label:e||"Unbound Persona",createdAt:n,updatedAt:n,stage:"priorities",profile:Cv(),priorities:jv(),lineage:{key:null,notes:"",revealMechanics:!1,powers:[]},resources:{contacts:[],retainers:[],properties:[],goods:[],liquid:0,notes:""},background:{title:"",tierNotes:"",contacts:""},skills:{ratings:{},specializations:[],backgroundSpecialization:null,notes:""},attributes:{scores:wv(),notes:"",specializations:Pp()},corruption:{current:0,warning:6,notes:""},advancement:{experience:0,track:"",milestones:""},health:kv(),narrative:{relationships:[],anchors:"",notes:""},gmNotes:""}},_v=e=>{const t=Ev(e),n=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`sidonia-${Math.random().toString(36).slice(2,9)}`,r=is();return{...t,id:n,label:`${e.label} (Copy)`,createdAt:r,updatedAt:r}},Ev=e=>typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e)),G=(e,t)=>{e(n=>{const r=n.activeBuildId;if(!r)return n;const s=n.builds[r];if(!s)return n;const i=t(s);return i.updatedAt=is(),{...n,builds:{...n.builds,[r]:i}}})},B=Sp()(Np((e,t)=>({builds:{},activeBuildId:null,createBuild:n=>{const r=Oc(n);return e(s=>({builds:{...s.builds,[r.id]:r},activeBuildId:r.id})),r.id},ensureActiveBuild:()=>{const{activeBuildId:n}=t();return n&&t().builds[n]?n:t().createBuild()},setActiveBuild:n=>{t().builds[n]&&e({activeBuildId:n})},archiveBuild:n=>{e(r=>{const{[n]:s,...i}=r.builds;return{builds:i,activeBuildId:r.activeBuildId===n?null:r.activeBuildId}})},renameBuild:(n,r)=>{e(s=>{const i=s.builds[n];return i?{...s,builds:{...s.builds,[n]:{...i,label:r,updatedAt:is()}}}:s})},duplicateBuild:n=>{const{builds:r}=t(),s=r[n];if(!s)return null;const i=_v(s);return e(o=>({builds:{...o.builds,[i.id]:i},activeBuildId:i.id})),X.track("build.duplicated",{}),i.id},resetActiveBuild:()=>{e(n=>{const r=n.activeBuildId;if(!r)return n;const s=n.builds[r];if(!s)return n;const o={...Oc(s.label),id:r,createdAt:s.createdAt,updatedAt:is()};return X.track("build.reset",{}),{...n,builds:{...n.builds,[r]:o}}})},updateProfile:n=>{G(e,r=>({...r,profile:{...r.profile,...n}}))},assignPriority:(n,r)=>{G(e,s=>{const i={...s.priorities};return r&&Object.keys(i).forEach(o=>{o!==n&&i[o]===r&&(i[o]=null)}),i[n]=r,{...s,priorities:i}}),X.track(r?"priority.assigned":"priority.cleared",{category:n,rank:r})},setStage:n=>{G(e,r=>({...r,stage:n})),X.track("stage.changed",{stage:n})},nextStage:()=>{const{activeBuildId:n,builds:r}=t();if(!n)return;const s=r[n];if(!s)return;const i=Tt.indexOf(s.stage),o=Tt[Math.min(i+1,Tt.length-1)];t().setStage(o)},previousStage:()=>{const{activeBuildId:n,builds:r}=t();if(!n)return;const s=r[n];if(!s)return;const i=Tt.indexOf(s.stage),o=Tt[Math.max(i-1,0)];t().setStage(o)},selectLineage:n=>{G(e,r=>{const s=r.lineage.key===n&&n!==null,i=gl(r.lineage.powers);return{...r,lineage:{...r.lineage,key:n,revealMechanics:n?r.lineage.revealMechanics:!1,powers:s?i:[]}}}),X.track("lineage.selected",{lineage:n})},toggleLineageReveal:()=>{G(e,n=>({...n,lineage:{...n.lineage,revealMechanics:!n.lineage.revealMechanics}})),X.track("lineage.reveal_toggled",{})},updateLineageNotes:n=>{G(e,r=>({...r,lineage:{...r.lineage,notes:n}}))},toggleLineagePower:n=>{G(e,r=>{var d,p;if(!r.lineage.key||r.lineage.key!==n.lineage)return r;const s=gl(r.lineage.powers),i=n.lineage==="esper",o=s.some(g=>g.id===n.id),a=r.priorities.lineage??null;let c=s;if(o){if(c=c.filter(g=>g.id!==n.id),i&&((d=n.meta)!=null&&d.root)){if(n.kind==="esper-archetype")c=c.filter(g=>{var h,v;return((h=g.meta)==null?void 0:h.root)!==((v=n.meta)==null?void 0:v.root)});else if((p=n.meta)!=null&&p.path){const g=n.meta.path.join("/");c=c.filter(h=>{var x,y,w,m;const v=((y=(x=h.meta)==null?void 0:x.path)==null?void 0:y.join("/"))??"";return((w=h.meta)==null?void 0:w.root)!==((m=n.meta)==null?void 0:m.root)||!v.startsWith(`${g}/`)})}}return{...r,lineage:{...r.lineage,powers:c}}}if(i){const g=n.meta??{},h=g.category;if(n.kind==="esper-archetype"){if(h==="esper-base"&&a==="C"||h==="esper-mentalist"&&!(a==="A"||a==="C"))return r;c=c.filter(v=>v.lineage!=="esper")}else{const v=g.root;if(!v)return r;const x=Nv(a);if((g.depth??0)>x||!c.some(m=>{var u;return m.kind==="esper-archetype"&&((u=m.meta)==null?void 0:u.root)===v}))return r}}return c=[...c,n],{...r,lineage:{...r.lineage,powers:c}}}),X.track("lineage.power_toggled",{id:n.id,lineage:n.lineage})},clearLineagePowers:()=>{G(e,n=>({...n,lineage:{...n.lineage,powers:[]}})),X.track("lineage.powers_cleared",{})},addContactResource:(n={})=>{const r={id:Vt("contact"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,reach:Math.min(Math.max(n.reach??0,0),10),influence:Math.min(Math.max(n.influence??0,0),10)};G(e,s=>({...s,resources:{...s.resources,contacts:[...s.resources.contacts,r]}})),X.track("resources.contact_added",{})},updateContactResource:(n,r)=>{G(e,s=>({...s,resources:{...s.resources,contacts:s.resources.contacts.map(i=>i.id===n?{...i,...r,reach:r.reach!==void 0?Math.min(Math.max(r.reach,0),10):i.reach,influence:r.influence!==void 0?Math.min(Math.max(r.influence,0),10):i.influence}:i)}}))},removeContactResource:n=>{G(e,r=>({...r,resources:{...r.resources,contacts:r.resources.contacts.filter(s=>s.id!==n)}}))},addRetainerResource:(n={})=>{const r={id:Vt("retainer"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,loyalty:Math.min(Math.max(n.loyalty??0,0),10),competence:Math.min(Math.max(n.competence??0,0),10)};G(e,s=>({...s,resources:{...s.resources,retainers:[...s.resources.retainers,r]}})),X.track("resources.retainer_added",{})},updateRetainerResource:(n,r)=>{G(e,s=>({...s,resources:{...s.resources,retainers:s.resources.retainers.map(i=>i.id===n?{...i,...r,loyalty:r.loyalty!==void 0?Math.min(Math.max(r.loyalty,0),10):i.loyalty,competence:r.competence!==void 0?Math.min(Math.max(r.competence,0),10):i.competence}:i)}}))},removeRetainerResource:n=>{G(e,r=>({...r,resources:{...r.resources,retainers:r.resources.retainers.filter(s=>s.id!==n)}}))},addPropertyResource:(n={})=>{const r={id:Vt("property"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,tenure:n.tenure??"",zoning:n.zoning??"",ward:n.ward??"",specialization:n.specialization??null};G(e,s=>({...s,resources:{...s.resources,properties:[...s.resources.properties,r]}})),X.track("resources.property_added",{})},updatePropertyResource:(n,r)=>{G(e,s=>({...s,resources:{...s.resources,properties:s.resources.properties.map(i=>i.id===n?{...i,...r}:i)}}))},removePropertyResource:n=>{G(e,r=>({...r,resources:{...r.resources,properties:r.resources.properties.filter(s=>s.id!==n)}}))},addGoodsResource:(n={})=>{const r={id:Vt("goods"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,quality:Math.min(Math.max(n.quality??0,0),10)};G(e,s=>({...s,resources:{...s.resources,goods:[...s.resources.goods,r]}})),X.track("resources.goods_added",{})},updateGoodsResource:(n,r)=>{G(e,s=>({...s,resources:{...s.resources,goods:s.resources.goods.map(i=>i.id===n?{...i,...r,quality:r.quality!==void 0?Math.min(Math.max(r.quality,0),10):i.quality}:i)}}))},removeGoodsResource:n=>{G(e,r=>({...r,resources:{...r.resources,goods:r.resources.goods.filter(s=>s.id!==n)}}))},setResourceLiquid:n=>{G(e,r=>({...r,resources:{...r.resources,liquid:Math.max(0,n)}})),X.track("resources.liquid_set",{value:n})},updateResourceNotes:n=>{G(e,r=>({...r,resources:{...r.resources,notes:n}}))},updateBackground:n=>{G(e,r=>{const s={...r.background,...n},i=typeof n.title=="string"&&n.title!==r.background.title;return{...r,background:s,skills:i?{...r.skills,backgroundSpecialization:null}:r.skills}})},setSkillRating:(n,r)=>{G(e,s=>({...s,skills:{...s.skills,ratings:{...s.skills.ratings,[n]:Math.max(0,r)}}})),X.track("skills.rating_set",{skillId:n,value:r})},toggleSkillSpecialization:n=>{G(e,r=>{const i=r.skills.specializations.some(o=>o.id===n.id)?r.skills.specializations.filter(o=>o.id!==n.id):[...r.skills.specializations,n];return{...r,skills:{...r.skills,specializations:i}}}),X.track("skills.specialization_toggled",{id:n.id,type:n.type})},removeSkillSpecialization:n=>{G(e,r=>({...r,skills:{...r.skills,specializations:r.skills.specializations.filter(s=>s.id!==n)}}))},addCustomSkillSpecialization:n=>{const r=n.trim();if(!r)return;const s={id:`custom-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,label:r,type:"custom",gmApproved:!1};G(e,i=>({...i,skills:{...i.skills,specializations:[...i.skills.specializations,s]}})),X.track("skills.custom_added",{})},markSkillSpecializationApproved:(n,r)=>{G(e,s=>({...s,skills:{...s.skills,specializations:s.skills.specializations.map(i=>i.id===n?{...i,gmApproved:r}:i)}}))},setBackgroundSkillSpecialization:n=>{G(e,r=>({...r,skills:{...r.skills,backgroundSpecialization:n}})),X.track("skills.background_specialization",{option:n})},updateSkillNotes:n=>{G(e,r=>({...r,skills:{...r.skills,notes:n}}))},setAttributeScore:(n,r)=>{G(e,s=>({...s,attributes:{...s.attributes,scores:{...s.attributes.scores,[n]:Math.min(Vs,Math.max(0,r))}}})),X.track("attributes.updated",{attribute:n,value:r})},updateAttributeNotes:n=>{G(e,r=>({...r,attributes:{...r.attributes,notes:n}}))},toggleAttributeSpecialization:(n,r)=>{G(e,s=>{const i=s.attributes.specializations??Pp(),o=i[n]??[],c=o.includes(r)?o.filter(d=>d!==r):[...o,r];return{...s,attributes:{...s.attributes,specializations:{...i,[n]:c}}}}),X.track("attributes.specialization_toggled",{attribute:n,specialization:r})},adjustExperience:n=>{G(e,r=>({...r,advancement:{...r.advancement,experience:Math.max(0,r.advancement.experience+n)}})),X.track("advancement.adjusted",{delta:n})},setExperience:n=>{G(e,r=>({...r,advancement:{...r.advancement,experience:Math.max(0,n)}})),X.track("advancement.set",{value:n})},updateAdvancement:n=>{G(e,r=>({...r,advancement:{...r.advancement,...n}}))},adjustCorruption:n=>{G(e,r=>({...r,corruption:{...r.corruption,current:Math.max(0,r.corruption.current+n)}})),X.track("corruption.adjusted",{delta:n})},setCorruption:n=>{G(e,r=>({...r,corruption:{...r.corruption,current:Math.max(0,n)}})),X.track("corruption.set",{value:n})},updateCorruptionNotes:n=>{G(e,r=>({...r,corruption:{...r.corruption,notes:n}}))},adjustHealth:(n,r)=>{G(e,s=>{const i=s.health[n],o=Math.max(0,Math.min(i.max,i.current+r));return{...s,health:{...s.health,[n]:{...i,current:o}}}}),X.track("health.adjusted",{location:n,delta:r})},setHealth:(n,r)=>{G(e,s=>{const i=s.health[n];return{...s,health:{...s.health,[n]:{...i,current:Math.max(0,Math.min(i.max,r))}}}}),X.track("health.set",{location:n,value:r})},updateHealthScar:(n,r)=>{G(e,s=>({...s,health:{...s.health,[n]:{...s.health[n],scar:r}}}))},addRelationship:n=>{n.trim()&&(G(e,r=>({...r,narrative:{...r.narrative,relationships:Array.from(new Set([...r.narrative.relationships,n.trim()]))}})),X.track("relationship.added",{}))},removeRelationship:n=>{G(e,r=>({...r,narrative:{...r.narrative,relationships:r.narrative.relationships.filter(s=>s!==n)}})),X.track("relationship.removed",{})},updateAnchors:n=>{G(e,r=>({...r,narrative:{...r.narrative,anchors:n}}))},updateNarrativeNotes:n=>{G(e,r=>({...r,narrative:{...r.narrative,notes:n}}))},updateGmNotes:n=>{G(e,r=>({...r,gmNotes:n}))}}),{name:"sidonia-character-builder",version:6,migrate:(e,t)=>{if(!e||typeof e!="object")return e;const n=d=>{const p=d??{};return{physique:typeof p.physique=="number"?p.physique:typeof p.grit=="number"?p.grit:0,intellect:typeof p.intellect=="number"?p.intellect:typeof p.guile=="number"?p.guile:0,presence:typeof p.presence=="number"?p.presence:typeof p.gravitas=="number"?p.gravitas:0}},r=d=>{const p=d??{};return{physique:Array.isArray(p.physique)?p.physique:[],intellect:Array.isArray(p.intellect)?p.intellect:[],presence:Array.isArray(p.presence)?p.presence:[]}},s=d=>{const p=d??{};return{name:typeof p.name=="string"?p.name:"",alias:typeof p.alias=="string"?p.alias:"",pronouns:typeof p.pronouns=="string"?p.pronouns:"",concept:typeof p.concept=="string"?p.concept:"",summary:typeof p.summary=="string"?p.summary:"",physicalDescription:typeof p.physicalDescription=="string"?p.physicalDescription:"",code:typeof p.code=="string"?p.code:"",lineNotCrossed:typeof p.lineNotCrossed=="string"?p.lineNotCrossed:"",temptation:typeof p.temptation=="string"?p.temptation:"",portraitUrl:typeof p.portraitUrl=="string"?p.portraitUrl:""}},i=d=>{const p=d??{};return p.ratings&&p.specializations&&p.backgroundSpecialization!==void 0?{ratings:p.ratings,specializations:Array.isArray(p.specializations)?p.specializations:[],backgroundSpecialization:p.backgroundSpecialization??null,notes:typeof p.notes=="string"?p.notes:""}:{ratings:(Array.isArray(p.focus)?p.focus:[]).reduce((v,x)=>(v[x]=1,v),{}),specializations:[],backgroundSpecialization:null,notes:typeof p.notes=="string"?p.notes:""}},o=d=>{const p=d??{},g=gl(p.powers);return{key:p.key??null,notes:typeof p.notes=="string"?p.notes:"",revealMechanics:!!p.revealMechanics,powers:g}},a=d=>{var j;const p=d??{},g=(k,E)=>({id:k.id??Vt(`contact-${E}`),name:k.name??"",description:k.description??k.notes??"",gmApproved:k.gmApproved??!1,specialization:k.specialization??null,reach:typeof k.reach=="number"?k.reach:0,influence:typeof k.influence=="number"?k.influence:0}),h=(k,E)=>({id:k.id??Vt(`retainer-${E}`),name:k.name??"",description:k.description??k.notes??"",gmApproved:k.gmApproved??!1,specialization:k.specialization??null,loyalty:typeof k.loyalty=="number"?k.loyalty:0,competence:typeof k.competence=="number"?k.competence:0}),v=(k,E)=>({id:k.id??Vt(`property-${E}`),name:k.name??"",description:k.description??k.notes??"",gmApproved:k.gmApproved??!1,tenure:k.tenure??"",zoning:k.zoning??"",ward:k.ward??"",specialization:k.specialization??null}),x=(k,E)=>({id:k.id??Vt(`goods-${E}`),name:k.name??"",description:k.description??k.notes??"",gmApproved:k.gmApproved??!1,specialization:k.specialization??null,quality:typeof k.quality=="number"?k.quality:0}),y=Array.isArray(p.contacts)?p.contacts.map((k,E)=>g(k,E)):[],w=Array.isArray(p.retainers)?p.retainers.map((k,E)=>h(k,E)):[],m=Array.isArray(p.properties)?p.properties.map((k,E)=>v(k,E)):[],u=Array.isArray(p.goods)?p.goods.map((k,E)=>x(k,E)):[],f=typeof p.liquid=="number"?p.liquid:typeof((j=p.allocations)==null?void 0:j.liquid)=="number"?p.allocations.liquid:0;return{contacts:y,retainers:w,properties:m,goods:u,liquid:f,notes:typeof p.notes=="string"?p.notes:""}},c=Object.fromEntries(Object.entries(e.builds??{}).map(([d,p])=>{var m,u,f;const g=p,h={scores:n((m=g.attributes)==null?void 0:m.scores),notes:typeof((u=g.attributes)==null?void 0:u.notes)=="string"?g.attributes.notes:"",specializations:r((f=g.attributes)==null?void 0:f.specializations)},v=i(g.skills),x=o(g.lineage),y=a(g.resources),w={...g,profile:s(g.profile),lineage:x,resources:y,skills:v,attributes:h};return[d,w]}));return{...e,builds:c}}})),Pv={priorities:{label:"Priorities",description:"Assign each letter to a pillar to set your fate."},lineage:{label:"Lineage",description:"Choose what you are and reveal the aesthetic."},resources:{label:"Resources",description:"Distribute wealth, favors, and territory."},background:{label:"Background",description:"Capture the story that forged you."},skills:{label:"Skills",description:"Highlight expertise and specializations."},attributes:{label:"Attributes",description:"Split your innate edge across three pillars."},narrative:{label:"Narrative",description:"Track corruption, wounds, and relationships."}};function Rv({current:e,onNavigate:t}){const n=Tt.indexOf(e),r=Math.round((n+1)/Tt.length*100);return l.jsxs("nav",{className:"stage-navigation","aria-label":"Character builder stages",children:[l.jsx("div",{className:"stage-navigation__progress",children:l.jsx("div",{className:"stage-navigation__progress-bar",style:{width:`${r}%`}})}),l.jsx("ul",{children:Tt.map(s=>{const i=Pv[s],o=Tt.indexOf(s),a=o===n?"current":o<n?"completed":"upcoming";return l.jsx("li",{className:`stage-navigation__item ${a}`,children:l.jsxs("button",{type:"button",onClick:()=>t(s),children:[l.jsx("span",{className:"stage-navigation__label",children:i.label}),l.jsx("span",{className:"stage-navigation__description",children:i.description})]})},s)})})]})}const Ic=["A","B","C","D","E"],Av={lineage:{title:"Lineage",intro:"What are you? Determines the supernatural path and aesthetic layer.",detail:"Higher priority unlocks stronger chassis, spheres, mutation points, or Esper templates. Lower priority keeps you closer to human but limits your edge."},resources:{title:"Resources",intro:"What do you own? Contacts, territories, retainers, liquid wealth.",detail:"Priority sets your Resource Points pool and maximum quality. Use it to buy properties, networks, and gear. Higher ranks unlock elite holdings."},background:{title:"Background",intro:"Who were you? Establishes influence, narrative permissions, and synergies.",detail:"Higher priority backgrounds stretch across the city, offering automatic specializations and better resource synergies."},skills:{title:"Skills",intro:"What do you know? Disciplines and specializations that show lived experience.",detail:"Priority sets how many disciplines you master. Focus areas gain bonus dice and teach players where they shine."},attributes:{title:"Attributes",intro:"What is innate? Only three pillars define your core capability.",detail:"Allocate attribute dice based on priority. The higher the rank, the sharper your raw edge."}};function zv({priorities:e,onSelect:t,onClear:n}){const r=new Set(Object.values(e).filter(Boolean).map(s=>s));return l.jsxs("section",{className:"priority-matrix","aria-label":"Priority assignment grid",children:[l.jsxs("header",{className:"priority-matrix__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Priority Grid"}),l.jsx("p",{children:"Assign each letter exactly once. Sidonia rewards focus and makes you pay for it elsewhere. Tap a letter to slot it into a category; tap the category badge to clear it."})]}),l.jsx("ul",{className:"priority-matrix__legend",children:Ic.map(s=>l.jsxs("li",{className:r.has(s)?"used":"",children:[l.jsx("span",{className:"priority-matrix__rank",children:s}),l.jsxs("span",{className:"priority-matrix__tag",children:[s==="A"&&"Signature move",s==="B"&&"Favored",s==="C"&&"Balanced",s==="D"&&"Compromised",s==="E"&&"Sacrifice"]})]},s))})]}),l.jsx("div",{className:"priority-matrix__grid",role:"table",children:Object.entries(Av).map(([s,i])=>{const o=s,a=e[o];return l.jsxs("article",{className:"priority-matrix__row",role:"row",children:[l.jsxs("div",{className:"priority-matrix__info",role:"cell",children:[l.jsxs("button",{type:"button",className:`priority-matrix__category ${a?"has-selection":""}`,onClick:()=>n==null?void 0:n(o),children:[l.jsx("span",{className:"priority-matrix__category-title",children:i.title}),l.jsx("span",{className:"priority-matrix__selection",children:a??""})]}),l.jsx("p",{className:"priority-matrix__intro",children:i.intro}),l.jsxs("details",{children:[l.jsx("summary",{children:"Why it matters"}),l.jsx("p",{children:i.detail})]})]}),l.jsx("div",{className:"priority-matrix__choices",role:"cell",children:Ic.map(c=>{const d=a===c,p=!d&&r.has(c);return l.jsx("button",{type:"button",className:`priority-matrix__choice ${d?"selected":""}`,disabled:p,onClick:()=>t(o,c),children:c},c)})})]},o)})})]})}function Lv({priorities:e,onSelect:t,onClear:n}){const s=Object.values(e).filter(Boolean).length===Object.keys(e).length;return l.jsxs("div",{className:"stage stage--priorities",children:[l.jsx(zv,{priorities:e,onSelect:t,onClear:n}),l.jsx("footer",{className:"stage__footer",children:l.jsx("p",{children:s?"Every letter is spoken for. Advance to Lineage to let the city brand you.":"You still have letters to place. Each sacrifice reveals a different facet of Sidonia."})})]})}const $v={A:9,B:7,C:6,D:4,E:2},Tv={A:7,B:5,C:4,D:3,E:2},Dc={A:{primary:1,secondary:2,moves:5},B:{primary:1,secondary:1,moves:4},C:{primary:1,secondary:2,moves:3,note:"Priority C may exchange the primary sphere for a second secondary sphere."},D:{primary:0,secondary:1,moves:2},E:{primary:0,secondary:1,moves:1}},Mv={A:3,B:2,C:2,D:1,E:0},Ov={A:"Priority A: Access to both Esper archetypes and full Mentalist framework.",B:"Priority B: Esper prodigy  evolve two steps beyond the baseline.",C:"Priority C: Begin as a Mentalist. Select framework paths to define focus.",D:"Priority D: Gifted Esper  evolve one step beyond baseline talents.",E:"Priority E: Base Esper talents unlocked."},Ge=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),vl=(e,t,n)=>t?e[t]:n;function tt(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Iv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"grades"in n)}function Dv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"tiers"in n)}function Fv(e){const t=e;return typeof t.spheres=="object"&&t.spheres!==null}function bv(e){const t=e;return typeof t.esper_archetypes=="object"&&t.esper_archetypes!==null}function Bv(e){const t=e;return typeof t.chassis=="object"&&t.chassis!==null}function yl(e,t){return e?l.jsxs("div",{className:"power-description",children:[e.short&&l.jsx("p",{children:e.short}),t&&e.player&&l.jsx("p",{className:"power-description__detail",children:e.player}),t&&e.flaw&&l.jsxs("p",{className:"power-description__detail flaw",children:["Flaw: ",e.flaw]}),e.outcomes&&l.jsx("ul",{className:"power-description__outcomes",children:Object.entries(e.outcomes).map(([n,r])=>l.jsxs("li",{children:[l.jsx("strong",{children:n}),l.jsx("span",{children:r})]},n))})]}):null}function Fc(e,t){return!e||e.length===0?null:l.jsx("ul",{className:"power-list",children:e.map((n,r)=>l.jsxs("li",{children:[l.jsxs("div",{children:[l.jsx("strong",{children:n.name}),n.type&&l.jsx("span",{className:"badge badge--type",children:n.type}),typeof n.cost=="number"&&l.jsxs("span",{className:"badge badge--cost",children:["Cost ",n.cost]})]}),n.description&&l.jsx("p",{children:n.description})]},`${n.name}-${r}`))})}const ct=e=>e.split(/[-_\s]/).filter(t=>t.length>0).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ");function kr(e){return Array.isArray(e)?e.filter(t=>tt(t)):tt(e)?[e]:[]}function Sr(e,t){return e.map((n,r)=>{const s=`${t}-${r}`,i=typeof n.id=="string"&&n.id.length>0?n.id:s,o=typeof n.name=="string"&&n.name.length>0?n.name:`Ability ${r+1}`,a=typeof n.type=="string"&&n.type.length>0?n.type:void 0,c=typeof n.description=="string"&&n.description.length>0?n.description:void 0,d=typeof n.cost=="string"&&n.cost.length>0?n.cost:void 0,p=typeof n.duration=="string"&&n.duration.length>0?n.duration:void 0,g=typeof n.scope=="string"&&n.scope.length>0?n.scope:void 0;return{id:i,name:o,type:a,description:c,cost:d,duration:p,scope:g}})}function bc(e){return e.reduce((t,n)=>{var s;const r=(s=n.type)==null?void 0:s.toLowerCase();return r==="move"?t.moves.push(n):r==="augment"?t.augments.push(n):t.other.push(n),t},{moves:[],augments:[],other:[]})}const Uv={receiver_all:"receiver",influencer_all:"influencer"},Wv={aural_receiver:{scope:"aural",polarity:"receiver"},aural_influencer:{scope:"aural",polarity:"influencer"},targeted_receiver:{scope:"targeted",polarity:"receiver"},targeted_influencer:{scope:"targeted",polarity:"influencer"}},Nr={receiver:["receiver_all","aural_receiver","targeted_receiver"],influencer:["influencer_all","aural_influencer","targeted_influencer"]},Cr={aural:["aural_receiver","aural_influencer"],targeted:["targeted_receiver","targeted_influencer"]},Bc={receiver_all:"Requires Receiver configuration.",influencer_all:"Requires Influencer configuration.",aural_receiver:"Requires Receiver configuration and Aural scope.",aural_influencer:"Requires Influencer configuration and Aural scope.",targeted_receiver:"Requires Receiver configuration and Targeted scope.",targeted_influencer:"Requires Influencer configuration and Targeted scope."},Uc=()=>({general:[],polarity:{},scope:{aural:{},targeted:{}}}),Wc=e=>{var n,r;if(!e)return null;const t=[(r=(n=e.meta)==null?void 0:n.path)==null?void 0:r[3],e.id,e.label].filter(s=>typeof s=="string").map(s=>s.toLowerCase());return t.some(s=>s.includes("receiver"))?"receiver":t.some(s=>s.includes("influencer"))?"influencer":null},Hc=e=>{var n,r;if(!e)return null;const t=[(r=(n=e.meta)==null?void 0:n.path)==null?void 0:r[3],e.id,e.label].filter(s=>typeof s=="string").map(s=>s.toLowerCase());return t.some(s=>s.includes("aural"))?"aural":t.some(s=>s.includes("targeted"))?"targeted":null};function mn(e,t,n="h5",r){if(t.length===0)return null;const s=n;return l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx(s,{children:e}),l.jsx("ul",{className:"power-list",children:t.map(i=>l.jsxs("li",{className:"power-list__item",children:[l.jsxs("div",{children:[l.jsx("strong",{children:i.name}),i.type&&l.jsx("span",{className:"badge badge--type",children:ct(i.type)}),i.cost&&l.jsx("span",{className:"badge badge--cost",children:i.cost}),i.duration&&l.jsx("span",{className:"badge",children:i.duration}),i.scope&&l.jsx("span",{className:"badge",children:i.scope})]}),i.description&&l.jsx("p",{children:i.description})]},i.id))})]},r)}function Hv(e){return tt(e)?Object.entries(e).filter(t=>typeof t[1]=="string").map(([t,n])=>({label:t,result:n})):[]}function Vv(e,t){return Array.isArray(e)?e.filter(n=>tt(n)).map((n,r)=>{const s=`${t}-${r}`,i=typeof n.roll=="number"?n.roll:void 0,o=typeof n.result=="string"?n.result:void 0;return{id:typeof n.id=="string"&&n.id.length>0?n.id:s,roll:i,result:o}}):[]}function Gv({lineage:e,powerData:t,gmEnabled:n,lineagePriority:r,selections:s,onToggleSelection:i,onClearSelections:o}){var p,g;if(!e)return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsx("h3",{children:"Lineage Powers"}),l.jsx("p",{children:"Select a lineage to preview its signature powers, moves, and upgrades."})]});if(!t)return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsx("h3",{children:"Lineage Powers"}),l.jsx("p",{children:"Power data for this lineage is not yet available."})]});const a=s.filter(h=>h.lineage===e),c=R.useMemo(()=>new Map(a.map(h=>[h.id,h])),[a]),d=new Set(a.map(h=>h.id));if(e==="neosapien"&&Iv(t)){const h=vl($v,r,0),v=a.reduce((w,m)=>{var u;return w+(((u=m.meta)==null?void 0:u.slots)??0)},0),x=a.reduce((w,m)=>{var u;return w+(((u=m.meta)==null?void 0:u.permanentCorruption)??0)},0),y=h>0&&v>h;return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Augment Catalog"}),l.jsx("p",{children:"Slot-based upgrades ranging from street scraps to imperial artistry."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Slots Used"}),l.jsxs("strong",{children:[v,h?` / ${h}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Permanent Corruption"}),l.jsx("strong",{children:x})]}),y&&l.jsx("p",{className:"lineage-power-summary__warning",children:"Slot budget exceeded. Adjust selections or raise lineage priority."}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),l.jsx("div",{className:"lineage-powers-grid",children:t.powers.map(w=>{const m=w.id??Ge(w.name??"augment");return l.jsxs("article",{className:"lineage-power-card",children:[l.jsxs("header",{children:[l.jsx("h4",{children:w.name}),w.category&&l.jsx("span",{className:"badge",children:w.category})]}),l.jsx("div",{className:"lineage-power-card__body",children:Object.entries(w.grades??{}).map(([u,f])=>{const j=f.name??u,k=f.id??`${m}-${Ge(u)}`,E={id:k,lineage:"neosapien",label:`${w.name}  ${j}`,kind:"neosapien-augment",meta:{root:m,parent:m,path:[m,u],depth:1,slots:typeof f.slots=="number"?f.slots:void 0,permanentCorruption:typeof f.permanentCorruption=="number"?f.permanentCorruption:void 0,category:w.category,tierLabel:j}},C=d.has(E.id),L=`lineage-power-grade${C?" lineage-power-grade--selected":""}`,$=`power-toggle${C?" power-toggle--active":""}`;return l.jsxs("section",{className:L,children:[l.jsxs("div",{className:"lineage-power-grade__header",children:[l.jsx("span",{className:"badge badge--grade",children:j}),l.jsxs("div",{className:"lineage-power-grade__meta",children:[typeof f.tier=="number"&&l.jsxs("span",{children:["Tier ",f.tier]}),typeof f.slots=="number"&&l.jsxs("span",{children:[f.slots," Slot",f.slots===1?"":"s"]}),typeof f.permanentCorruption=="number"&&l.jsxs("span",{children:[f.permanentCorruption," Permanent Corruption"]})]}),l.jsx("button",{type:"button",className:$,onClick:()=>i(E),children:C?"Selected":"Add"})]}),yl(f.description,n)]},k)})})]},w.id??w.name)})})]})}if(e==="chimera"&&Dv(t)){const h=vl(Tv,r,0),v=a.reduce((w,m)=>{var u;return w+(((u=m.meta)==null?void 0:u.mutationPoints)??0)},0),x=a.reduce((w,m)=>{var u;return w+(((u=m.meta)==null?void 0:u.permanentCorruption)??0)},0),y=h>0&&v>h;return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Mutation Catalogue"}),l.jsx("p",{children:"Spend mutation points to embrace the city's wild ecologies."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Mutation Points"}),l.jsxs("strong",{children:[v,h?` / ${h}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Permanent Corruption"}),l.jsx("strong",{children:x})]}),y&&l.jsx("p",{className:"lineage-power-summary__warning",children:"Mutation budget exceeded. Remove selections or adjust priority."}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),l.jsx("div",{className:"lineage-powers-grid",children:t.powers.map(w=>{const m=w.id??Ge(w.name??"mutation");return l.jsxs("article",{className:"lineage-power-card",children:[l.jsxs("header",{children:[l.jsx("h4",{children:w.name}),w.category&&l.jsx("span",{className:"badge",children:w.category})]}),l.jsx("div",{className:"lineage-power-card__body",children:Object.entries(w.tiers??{}).map(([u,f])=>{const j=f.name??u,k=f.id??`${m}-${Ge(u)}`,E={id:k,lineage:"chimera",label:`${w.name}  ${j}`,kind:"chimera-mutation",meta:{root:m,parent:m,path:[m,u],depth:1,mutationPoints:typeof f.mutationPoints=="number"?f.mutationPoints:void 0,permanentCorruption:typeof f.permanentCorruption=="number"?f.permanentCorruption:void 0,category:w.category,tierLabel:j}},C=d.has(E.id),L=`lineage-power-grade${C?" lineage-power-grade--selected":""}`,$=`power-toggle${C?" power-toggle--active":""}`;return l.jsxs("section",{className:L,children:[l.jsxs("div",{className:"lineage-power-grade__header",children:[l.jsx("span",{className:"badge badge--grade",children:j}),l.jsxs("div",{className:"lineage-power-grade__meta",children:[typeof f.tier=="number"&&l.jsxs("span",{children:["Tier ",f.tier]}),typeof f.mutationPoints=="number"&&l.jsxs("span",{children:[f.mutationPoints," Mutation Pts"]}),typeof f.permanentCorruption=="number"&&l.jsxs("span",{children:[f.permanentCorruption," Permanent Corruption"]})]}),l.jsx("button",{type:"button",className:$,onClick:()=>i(E),children:C?"Selected":"Add"})]}),yl(f.description,n)]},k)})})]},w.id??w.name)})})]})}if(e==="sorcery"&&Fv(t)){const{spheres:h}=t,v=vl(Dc,r,{primary:0,secondary:0,moves:0}),x=a.filter(u=>u.kind==="sorcery-sphere-primary").length,y=a.filter(u=>u.kind==="sorcery-sphere-secondary").length,w=a.filter(u=>u.kind==="sorcery-move").length,m=r?Dc[r].note:void 0;return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Sphere Library"}),l.jsx("p",{children:"Primary and secondary spheres unlock ritual moves and narrative permissions."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Primary Spheres"}),l.jsxs("strong",{children:[x,v.primary?` / ${v.primary}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Secondary Spheres"}),l.jsxs("strong",{children:[y,v.secondary?` / ${v.secondary}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Moves"}),l.jsxs("strong",{children:[w,v.moves?` / ${v.moves}`:""]})]}),m&&l.jsx("p",{className:"lineage-power-summary__note",children:m}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),l.jsx("div",{className:"lineage-powers-columns",children:["primary","secondary"].map(u=>{const f=h==null?void 0:h[u];return f?l.jsxs("div",{className:"sphere-column",children:[l.jsx("h4",{className:"sphere-column__heading",children:u==="primary"?"Primary Spheres":"Secondary Spheres"}),Object.values(f).map((j,k)=>{var ue;const E=j.name??`Sphere ${k+1}`,C=j.id??`${u}-${Ge(E)}`,L=u==="primary"?"sorcery-sphere-primary":"sorcery-sphere-secondary",$={id:C,lineage:"sorcery",label:`${u==="primary"?"Primary":"Secondary"} Sphere  ${E}`,kind:L,meta:{sphere:E,root:C,path:[C],depth:0,tierLabel:u==="primary"?"Primary Sphere":"Secondary Sphere"}},P=d.has($.id),q=`sphere-card${P?" sphere-card--selected":""}`,ae=`power-toggle${P?" power-toggle--active":""}`;return l.jsxs("details",{className:q,open:P,children:[l.jsx("summary",{children:l.jsxs("div",{className:"sphere-card__summary",children:[l.jsx("h5",{children:E}),l.jsx("button",{type:"button",className:ae,onClick:re=>{re.preventDefault(),i($)},children:P?"Selected":"Add"})]})}),l.jsx("ul",{className:"power-list",children:(ue=j.moves)==null?void 0:ue.map((re,Ce)=>{const ce=re.id??`${C}-move-${Ce}`,_e={id:ce,lineage:"sorcery",label:`${re.name??"Move"} (${E})`,kind:"sorcery-move",meta:{moveType:re.type,sphere:E,root:C,parent:C,path:[C,ce],depth:1}},T=d.has(_e.id),b=`power-list__item${T?" power-list__item--selected":""}`,U=`power-toggle${T?" power-toggle--active":""}`;return l.jsxs("li",{className:b,children:[l.jsxs("div",{className:"power-list__header",children:[l.jsxs("div",{children:[l.jsx("strong",{children:re.name}),re.type&&l.jsx("span",{className:"badge badge--type",children:re.type})]}),l.jsx("button",{type:"button",className:U,onClick:()=>i(_e),children:T?"Selected":"Add"})]}),yl(re.description,n)]},ce)})})]},C)})]},u):null})})]})}if(e==="esper"&&bv(t)){const h=t.esper_archetypes??{},v=t.mentalist_data,x=v&&tt(v.mentalist_archetypes)?v.mentalist_archetypes:{},y=(()=>{const _=x.foundational_augments;return tt(_)?_:void 0})(),w=Object.entries(x).reduce((_,[M,z])=>(M==="foundational_augments"||tt(z)&&_.push([M,z]),_),[]),m=r!=="C",u=r==="A"||r==="C",f=r?Ov[r]:void 0,j=r?Mv[r]:0,k=a.find(_=>{var M;return _.kind==="esper-archetype"&&((M=_.meta)==null?void 0:M.category)==="esper-base"}),E=a.find(_=>{var M;return _.kind==="esper-archetype"&&((M=_.meta)==null?void 0:M.category)==="esper-mentalist"}),C=((p=k==null?void 0:k.meta)==null?void 0:p.root)??null,L=((g=E==null?void 0:E.meta)==null?void 0:g.root)??null,$=a.filter(_=>{var M;return _.kind==="esper-archetype"&&((M=_.meta)==null?void 0:M.category)==="esper-base"}).length,P=a.filter(_=>_.kind==="esper-focus").length,q=a.filter(_=>_.kind==="esper-framework-choice").length,ae=a.filter(_=>_.kind==="esper-framework-path").length,ue=_=>{var V;const M=d.has(_.id),z=(V=_.meta)==null?void 0:V.category;if(!(z==="esper-base"&&!m)&&!(z==="esper-mentalist"&&!u)){if(M){i(_);return}a.filter(se=>{var ie;return se.kind==="esper-archetype"&&((ie=se.meta)==null?void 0:ie.category)===z}).forEach(se=>i(se)),i(_)}},re=_=>{var Q,oe,J,ne;const M=(Q=_.meta)==null?void 0:Q.root;if(!M||M!==C&&M!==L)return;const z=((oe=_.meta)==null?void 0:oe.depth)??0;if(z>j)return;const V=(J=_.meta)==null?void 0:J.parent;if(z>0&&(!V||!c.has(V)))return;if(d.has(_.id)){i(_);return}const ie=((ne=_.meta)==null?void 0:ne.path)??[_.id];a.filter(S=>{var O,Ee,H;if(S.id===_.id||((O=S.meta)==null?void 0:O.root)!==M)return!1;const F=((Ee=S.meta)==null?void 0:Ee.path)??[S.id],W=((H=S.meta)==null?void 0:H.depth)??0;return W<z?!1:W===z?F.length<=z||ie.length<=z?!1:F[z]!==ie[z]:!ie.every((Ve,at)=>F[at]===Ve)}).forEach(S=>i(S)),i(_)},Ce=_=>{var M,z;return((z=(M=_.meta)==null?void 0:M.path)==null?void 0:z[2])??null},ce=(_,M)=>{if(M.length===0)return;const z=new Set(M);a.filter(V=>{var se;return V.kind==="esper-framework-path"&&((se=V.meta)==null?void 0:se.root)===_&&z.has(Ce(V)??"")}).forEach(V=>i(V))},_e=(_,M)=>{var oe,J;const z=(oe=_.meta)==null?void 0:oe.root,V=((J=_.meta)==null?void 0:J.depth)??0;if(!z||!b(z)||!U(z,V)){d.has(_.id)&&i(_);return}const se=d.has(_.id),ie=a.filter(ne=>{var S;return ne.id!==_.id&&ne.kind==="esper-framework-choice"&&((S=ne.meta)==null?void 0:S.root)===z&&Ce(ne)===M}),ge=M==="polarity"?Wc(_):null,Q=M==="scope"?Hc(_):null;if(se){M==="polarity"&&ce(z,[...Nr.receiver,...Nr.influencer]),M==="scope"&&ce(z,[...Cr.aural,...Cr.targeted]),i(_);return}if(ie.forEach(ne=>i(ne)),M==="polarity"){const ne=ge?Nr[ge==="receiver"?"influencer":"receiver"]:[...Nr.receiver,...Nr.influencer];ce(z,ne)}if(M==="scope"){const ne=Q?Cr[Q==="aural"?"targeted":"aural"]:[...Cr.aural,...Cr.targeted];ce(z,ne)}i(_)},T=(_,M,z)=>{var ge,Q;if(!z)return;const V=(ge=_.meta)==null?void 0:ge.root,se=((Q=_.meta)==null?void 0:Q.depth)??0;if(!V||!b(V)||!U(V,se))return;if(d.has(_.id)){i(_);return}a.filter(oe=>{var J;return oe.id!==_.id&&oe.kind==="esper-framework-path"&&((J=oe.meta)==null?void 0:J.root)===V&&Ce(oe)===M}).forEach(oe=>i(oe)),i(_)},b=_=>_===C||_===L,U=(_,M)=>M<=j,ee=(_,M,z,V)=>{const se=typeof _.name=="string"&&_.name.length>0?_.name:M[M.length-1],ie=typeof _.id=="string"&&_.id.length>0?_.id:M.join("-"),ge=typeof _.path=="string"&&_.path.length>0?_.path:void 0,Q={id:ie,lineage:"esper",label:`Focus  ${se}`,kind:"esper-focus",meta:{root:V,parent:M[M.length-2]??V,path:M,depth:z}},oe=d.has(Q.id),J=!b(V)||!U(V,z),ne=`power-toggle${oe?" power-toggle--active":""}`,S=`focus-card${oe?" focus-card--selected":""}`,F=kr(_.abilities),W=Sr(F,`${ie}-ability`),te=bc(W),O=_.focuses,Ee=tt(O)?O:void 0;return l.jsxs("details",{className:S,open:oe,children:[l.jsx("summary",{children:l.jsxs("div",{className:"focus-card__summary",children:[l.jsx("h6",{children:se}),l.jsx("button",{type:"button",className:ne,disabled:J,onClick:H=>{H.preventDefault(),J||re(Q)},children:oe?"Selected":"Add"})]})}),ge&&l.jsx("p",{className:"power-description__detail",children:ge}),typeof _.philosophy=="string"&&l.jsx("p",{children:_.philosophy}),mn("Signature Moves",te.moves),mn("Augments",te.augments),mn("Psionic Abilities",te.other),Ee&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Advanced Paths"}),l.jsx("div",{className:"focus-grid",children:Object.values(Ee).map(H=>{const Ve=H,at=typeof Ve.name=="string"?Ve.name:`Focus ${z+1}`,N=typeof Ve.id=="string"&&Ve.id.length>0?Ve.id:Ge(at);return ee(Ve,[...M,N],z+1,V)})})]})]},ie)},pe=_=>{const M=typeof _.name=="string"?_.name:"Archetype",z=typeof _.id=="string"?_.id:Ge(M),V=kr(_.abilities),se=Sr(V,`${z}-ability`),ie=bc(se),ge={id:z,lineage:"esper",label:`Archetype  ${M}`,kind:"esper-archetype",meta:{root:z,path:[z],depth:0,category:"esper-base"}},Q=d.has(ge.id),oe=`power-toggle${Q?" power-toggle--active":""}`,J=!m,ne=`lineage-power-card${Q?" lineage-power-card--selected":""}`;return l.jsxs("details",{className:ne,open:Q,children:[l.jsx("summary",{children:l.jsxs("div",{className:"lineage-power-card__summary",children:[l.jsx("h4",{children:M}),l.jsx("button",{type:"button",className:oe,disabled:J&&!Q,onClick:S=>{S.preventDefault(),(!J||Q)&&ue(ge)},children:Q?"Selected":"Add"})]})}),typeof _.philosophy=="string"&&l.jsx("p",{className:"power-description__detail",children:_.philosophy}),mn("Baseline Moves",ie.moves),mn("Baseline Augments",ie.augments),mn("Baseline Abilities",ie.other),_.focuses&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Focus Paths"}),l.jsx("div",{className:"focus-grid",children:Object.values(_.focuses).map(S=>{const F=S,W=typeof F.name=="string"?F.name:"Focus",te=typeof F.id=="string"&&F.id.length>0?F.id:Ge(`${z}-${W}`);return ee(F,[z,te],1,z)})})]})]},z)},Xe=(_,M)=>{const z=typeof M.id=="string"&&M.id.length>0?M.id:Ge(_),V=typeof M.name=="string"&&M.name.length>0?M.name:ct(_),se=typeof M.philosophy=="string"?M.philosophy:void 0,ie=typeof M.natural_lean=="string"?M.natural_lean:void 0,ge=tt(M.power_selections)?M.power_selections:void 0,Q=ge?Object.entries(ge).reduce((I,[K,Se])=>{const ve=K.toLowerCase(),St=Sr(kr(Se),`${z}-${ve}`);if(St.length===0)return I;const zt=ve.replace(/_/g," "),Re={key:ve,label:ct(zt),abilities:St},ps=Uv[ve];if(ps)return I.polarity[ps]=Re,I;const fs=Wv[ve];if(fs){const{scope:fr,polarity:hs}=fs;return I.scope[fr][hs]=Re,I}return I.general.push(Re),I},Uc()):Uc(),oe=Sr(kr(M.powers),`${z}-power`),J=tt(M.core_mechanics)?M.core_mechanics:void 0,ne=J?Object.entries(J).reduce((I,[K,Se])=>{if(!tt(Se))return I;const ve=typeof Se.name=="string"&&Se.name.length>0?Se.name:ct(K),St=typeof Se.description=="string"?Se.description:void 0,zt=Hv(Se.outcomes);return I.push({key:K,name:ve,description:St,outcomes:zt}),I},[]):[],S=tt(M.consequence_tables)?M.consequence_tables:void 0,F=S?Object.entries(S).reduce((I,[K,Se])=>{const ve=Vv(Se,`${z}-${K}`);return ve.length===0||I.push({key:K,label:ct(K),entries:ve}),I},[]):[],W=tt(M.focuses)?M.focuses:void 0,te=a.filter(I=>{var K;return I.kind==="esper-framework-choice"&&((K=I.meta)==null?void 0:K.root)===z}),O=te.find(I=>Ce(I)==="polarity"),Ee=te.find(I=>Ce(I)==="scope"),H=Wc(O),Ve=Hc(Ee),at=_.toLowerCase()==="meta-mind"||z==="meta-mind",N=I=>at?I.replace(/Receiver/gi,"Instanced").replace(/Influencer/gi,"Persistent").replace(/Aural/gi,"Systemic").replace(/Targeted/gi,"Discrete"):I,Ze=(I,K)=>{if(!I||I.abilities.length===0)return null;const{enabled:Se,requirement:ve}=K,St=N(I.label),zt=ve?N(ve):void 0;return l.jsxs("div",{className:"lineage-choice-group",children:[l.jsx("h6",{children:St}),zt&&l.jsx("p",{className:"power-description__detail",children:zt}),l.jsx("ul",{className:"power-list",children:I.abilities.map((Re,ps)=>{const fs=`${z}-${I.key}-${ps}`,fr=Re.id||fs,hs={id:fr,lineage:"esper",label:`Framework Power  ${Re.name}`,kind:"esper-framework-path",meta:{root:z,parent:z,path:[z,"framework",I.key,fr],depth:2,category:"esper-mentalist"}},ms=d.has(hs.id),ga=Se||ms,Op=`power-list__item${ms?" power-list__item--selected":""}`,Ip=`power-toggle${ms?" power-toggle--active":""}`;return l.jsxs("li",{className:Op,children:[l.jsxs("div",{className:"power-list__header",children:[l.jsxs("div",{children:[l.jsx("strong",{children:Re.name}),Re.type&&l.jsx("span",{className:"badge badge--type",children:ct(Re.type)}),Re.cost&&l.jsx("span",{className:"badge badge--cost",children:Re.cost}),Re.duration&&l.jsx("span",{className:"badge",children:N(Re.duration)}),Re.scope&&l.jsx("span",{className:"badge",children:N(Re.scope)})]}),l.jsx("button",{type:"button",className:Ip,disabled:!ga,onClick:()=>T(hs,I.key,ga),children:ms?"Selected":"Add"})]}),Re.description&&l.jsx("p",{children:Re.description})]},fr)})})]},`${z}-${I.key}`)},Di=["receiver","influencer"].map(I=>{const K=Q.polarity[I];if(!K)return null;const Se=H===I,ve=Se?void 0:Bc[K.key]??`Requires ${ct(I)} configuration.`;return Ze(K,{enabled:Se,requirement:ve})}).filter(I=>I!==null),Fi=["aural","targeted"].map(I=>{const K=Q.scope[I],Se=["receiver","influencer"].map(ve=>{const St=K==null?void 0:K[ve];if(!St)return null;const zt=H===ve&&Ve===I,Re=zt?void 0:Bc[St.key]??`Requires ${ct(I)} scope and ${ct(ve)} configuration.`;return Ze(St,{enabled:zt,requirement:Re})}).filter(ve=>ve!==null);return Se.length===0?null:l.jsxs("div",{className:"lineage-choice-scope",children:[l.jsx("p",{className:"lineage-choice-scope__label",children:N(`${ct(I)} Options`)}),Se]},`${z}-scope-${I}`)}).filter(I=>I!==null),bi=Q.general.map(I=>Ze(I,{enabled:!0})).filter(I=>I!==null),ha={id:z,lineage:"esper",label:`Mentalist Path  ${V}`,kind:"esper-archetype",meta:{root:z,path:[z],depth:0,category:"esper-mentalist"}},An=d.has(ha.id),Tp=`power-toggle${An?" power-toggle--active":""}`,ma=!u,Mp=`lineage-power-card${An?" lineage-power-card--selected":""}`;return l.jsxs("details",{className:Mp,open:An,children:[l.jsx("summary",{children:l.jsxs("div",{className:"lineage-power-card__summary",children:[l.jsx("h4",{children:V}),l.jsx("button",{type:"button",className:Tp,disabled:ma&&!An,onClick:I=>{I.preventDefault(),(!ma||An)&&ue(ha)},children:An?"Selected":"Add"})]})}),ie&&l.jsxs("p",{className:"power-description__detail",children:["Natural Lean: ",ie]}),se&&l.jsx("p",{children:se}),(Di.length>0||Fi.length>0||bi.length>0)&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:at?"Cognitive Framework":"Power Selections"}),Di.length>0&&l.jsxs("div",{className:"lineage-choice-section",children:[l.jsx("h6",{children:at?"Mode Selection":"Polarity Selection"}),Di]}),Fi.length>0&&l.jsxs("div",{className:"lineage-choice-section",children:[l.jsx("h6",{children:at?"Expression Range":"Scope Selection"}),Fi]}),bi.length>0&&l.jsxs("div",{className:"lineage-choice-section",children:[l.jsx("h6",{children:at?"Additional Routines":"Additional Powers"}),bi]})]}),mn("Path Powers",oe,"h5",`${z}-powers`),ne.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Core Mechanics"}),l.jsx("ul",{className:"power-list",children:ne.map(I=>l.jsxs("li",{className:"power-list__item",children:[l.jsx("strong",{children:I.name}),I.description&&l.jsx("p",{children:I.description}),I.outcomes.length>0&&l.jsx("ul",{className:"power-description__outcomes",children:I.outcomes.map(K=>l.jsxs("li",{children:[l.jsx("strong",{children:K.label}),l.jsx("span",{children:K.result})]},K.label))})]},I.key))})]}),F.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Consequence Tables"}),l.jsx("div",{className:"focus-grid",children:F.map(I=>l.jsxs("div",{className:"focus-card",children:[l.jsx("h6",{children:I.label}),l.jsx("ul",{className:"power-description__outcomes",children:I.entries.map(K=>l.jsxs("li",{children:[typeof K.roll=="number"&&l.jsxs("strong",{children:["Roll ",K.roll]}),K.result&&l.jsx("span",{children:K.result})]},K.id))})]},I.key))})]}),W&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Advanced Paths"}),l.jsx("div",{className:"focus-grid",children:Object.values(W).map(I=>{const K=I,Se=typeof K.name=="string"?K.name:"Focus",ve=typeof K.id=="string"&&K.id.length>0?K.id:Ge(`${z}-${Se}`);return ee(K,[z,ve],1,z)})})]})]},z)};return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Esper / Mentalist Evolutions"}),l.jsx("p",{children:"Baseline talents and branching focuses define your psionic expression."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Archetypes Selected"}),l.jsx("strong",{children:$})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Focus Paths"}),l.jsx("strong",{children:P})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Framework Choices"}),l.jsx("strong",{children:q+ae})]}),f&&l.jsx("p",{className:"lineage-power-summary__note",children:f}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),m&&l.jsx("div",{className:"lineage-powers-grid lineage-powers-grid--tall",children:Object.values(h).map(_=>pe(_))}),!m&&l.jsx("p",{className:"lineage-note",children:"Priority C Espers begin as Mentalists. Select a path below."}),(()=>{const _=y?Object.entries(y).reduce((z,[V,se])=>{const ie=Sr(kr(se),`${L??"mentalist"}-${V}`);return ie.length>0&&z.push({key:V,label:ct(V),abilities:ie}),z},[]):[],M=_.length>0||w.length>0;return!u||!M?!u&&M&&r!==null&&l.jsx("p",{className:"lineage-note",children:"Mentalist paths unlock at Priority A or C."}):l.jsxs("article",{className:"lineage-power-card framework",children:[l.jsx("header",{children:l.jsx("h4",{children:"Mentalist Framework"})}),_.length>0&&(()=>{const z=L??"mentalist",V=_.find(Q=>Q.key==="polarity"),se=_.find(Q=>Q.key==="scope"),ie=_.filter(Q=>Q.key!=="polarity"&&Q.key!=="scope"),ge=(Q,oe)=>l.jsxs("div",{className:"lineage-choice-section",children:[l.jsx("h6",{children:oe??Q.label}),l.jsx("ul",{className:"power-list",children:Q.abilities.map((J,ne)=>{const S=`${z}-${Q.key}-${ne}`,F=J.id||S,W={id:F,lineage:"esper",label:`Foundational Augment  ${J.name}`,kind:"esper-framework-choice",meta:{root:z,parent:z,path:[z,"foundational",Q.key,F],depth:1,category:"esper-mentalist"}},te=d.has(W.id),O=!b(z)||!U(z,1),Ee=`power-list__item${te?" power-list__item--selected":""}`,H=`power-toggle${te?" power-toggle--active":""}`;return l.jsxs("li",{className:Ee,children:[l.jsxs("div",{className:"power-list__header",children:[l.jsxs("div",{children:[l.jsx("strong",{children:J.name}),J.type&&l.jsx("span",{className:"badge badge--type",children:ct(J.type)}),J.cost&&l.jsx("span",{className:"badge badge--cost",children:J.cost}),J.duration&&l.jsx("span",{className:"badge",children:J.duration}),J.scope&&l.jsx("span",{className:"badge",children:J.scope})]}),l.jsx("button",{type:"button",className:H,disabled:O&&!te,onClick:()=>{(!O||te)&&_e(W,Q.key)},children:te?"Selected":"Add"})]}),J.description&&l.jsx("p",{children:J.description})]},F)})})]},Q.key);return l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Foundational Augments"}),V&&ge(V,"Polarity Configuration"),se&&ge(se,"Scope Configuration"),ie.map(Q=>ge(Q))]})})(),w.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Paths"}),l.jsx("div",{className:"lineage-powers-grid lineage-powers-grid--tall",children:w.map(([z,V])=>Xe(z,V))})]})]})})()]})}if(e==="automata"&&Bv(t)){const h=a.filter(x=>x.kind==="automata-capability").length,v=a.filter(x=>x.kind==="automata-model").length;return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Chassis & Branches"}),l.jsx("p",{children:"Choose a chassis, explore its branches, and escalate from basic to imperial protocols."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Capabilities"}),l.jsx("strong",{children:h})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Models"}),l.jsx("strong",{children:v})]}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),l.jsx("div",{className:"chassis-grid",children:Object.values(t.chassis).map(x=>l.jsxs("details",{className:"lineage-power-card",open:!0,children:[l.jsx("summary",{children:l.jsx("div",{className:"lineage-power-card__summary",children:l.jsx("h4",{children:x.name})})}),x.branches&&l.jsx("div",{className:"branch-grid",children:Object.values(x.branches).map(y=>{const w=y.name??"Branch",m=y.id??`${x.id??Ge(x.name??"chassis")}-${Ge(w)}`,u=y.general_capabilities??[];return l.jsxs("details",{className:"branch-card",open:!0,children:[l.jsx("summary",{children:l.jsxs("div",{className:"branch-card__summary",children:[l.jsx("h5",{children:w}),y.focus&&l.jsx("span",{children:y.focus})]})}),u.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h6",{children:"General Capabilities"}),l.jsx("ul",{className:"power-list",children:u.map((f,j)=>{const k=f.name??"Capability",E=`${m}-cap-${j}-${Ge(k)}`,C={id:E,lineage:"automata",label:`Capability  ${k}`,kind:"automata-capability",meta:{branch:w,chassis:x.name,category:f.type}},L=d.has(C.id),$=`power-list__item${L?" power-list__item--selected":""}`,P=`power-toggle${L?" power-toggle--active":""}`;return l.jsxs("li",{className:$,children:[l.jsxs("div",{className:"power-list__header",children:[l.jsxs("div",{children:[l.jsx("strong",{children:k}),f.type&&l.jsx("span",{className:"badge badge--type",children:f.type}),typeof f.cost=="number"&&l.jsxs("span",{className:"badge badge--cost",children:["Cost ",f.cost]})]}),l.jsx("button",{type:"button",className:P,onClick:()=>i(C),children:L?"Selected":"Add"})]}),f.description&&l.jsx("p",{children:f.description})]},E)})})]}),y.models&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h6",{children:"Models"}),l.jsx("div",{className:"model-grid",children:Object.values(y.models).map(f=>{const j=f.name??"Model",k=`${m}-model-${Ge(j)}`,E={id:k,lineage:"automata",label:`Model  ${j}`,kind:"automata-model",meta:{branch:w,chassis:x.name,category:f.tier}},C=d.has(E.id),L=`model-card${f.available===!1?" model-card--locked":""}${C?" model-card--selected":""}`,$=`power-toggle${C?" power-toggle--active":""}`;return l.jsxs("div",{className:L,children:[l.jsxs("div",{className:"model-card__header",children:[l.jsx("strong",{children:j}),f.tier&&l.jsx("span",{className:"badge badge--tier",children:f.tier}),f.available===!1&&l.jsx("span",{className:"badge badge--locked",children:"Locked"}),l.jsx("button",{type:"button",className:$,onClick:()=>i(E),children:C?"Selected":"Add"})]}),Fc(f.augments),Fc(f.moves)]},k)})})]})]},m)})})]},x.id??x.name))})]})}return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsx("h3",{children:"Lineage Powers"}),l.jsx("p",{children:"Power data structure for this lineage is not recognized. Check the source files for updates."})]})}function Qv({priorities:e,selected:t,onSelect:n,canReveal:r,revealMechanics:s,onToggleReveal:i,notes:o,onUpdateNotes:a,powerSet:c,powers:d,onTogglePower:p,onClearPowers:g}){const h=e.lineage,v=R.useMemo(()=>Ep(t),[t]),x=r&&s;return l.jsxs("div",{className:"stage stage--lineage",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Lineage"}),l.jsx("p",{children:"The letter you assign to Lineage defines how far from humanity you step. Explore each lineage's aesthetic, pick the one that sings to your table, then reveal mechanics when ready."})]}),l.jsx("div",{className:"stage__actions",children:l.jsx("button",{type:"button",onClick:i,className:`reveal-toggle ${s?"active":""}`,disabled:!r,children:r?s?"Hide mechanical truths":"Reveal mechanical truths":"GM access required"})})]}),l.jsx("section",{className:"lineage-grid",children:_p.map(y=>{const w=y.key===t,m=h?y.priorityImpacts[h]:null;return l.jsxs("article",{className:`lineage-card ${w?"is-active":""}`,style:{borderColor:w?y.aesthetic.accent:"rgba(255,255,255,0.08)",boxShadow:w?`0 12px 32px ${y.aesthetic.accent}40`:void 0,backgroundImage:y.aesthetic.texture},children:[l.jsxs("header",{children:[l.jsx("h3",{children:y.name}),l.jsx("p",{className:"lineage-card__tagline",children:y.tagline})]}),l.jsx("p",{children:y.summary}),l.jsxs("div",{className:"lineage-card__priority",children:[l.jsxs("span",{children:["With Priority ",h??"",":"]}),l.jsx("p",{children:m??"Assign a priority letter to see what changes."})]}),l.jsxs("details",{children:[l.jsx("summary",{children:"First impressions"}),l.jsx("p",{children:y.narrativeHook})]}),s&&r&&l.jsxs("details",{open:!0,children:[l.jsx("summary",{children:"GM Whisper"}),l.jsx("p",{children:y.gmWhisper})]}),l.jsx("footer",{children:l.jsx("button",{type:"button",className:"lineage-card__choose",onClick:()=>n(y.key),children:w?"Selected":"Choose Lineage"})})]},y.key)})}),l.jsx(Gv,{lineage:t,lineagePriority:h,powerData:c,gmEnabled:x,selections:d,onToggleSelection:p,onClearSelections:g}),l.jsx("section",{className:"lineage-notes",children:l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Lineage Notes & Promises"}),l.jsx("textarea",{value:o,onChange:y=>a(y.target.value),placeholder:"Record patron obligations, corruption tells, and aesthetic cues for later sessions."})]})}),v&&l.jsxs("aside",{className:"lineage-highlight",style:{borderColor:v.aesthetic.accent},children:[l.jsxs("h4",{children:["Echos of ",v.name]}),l.jsxs("p",{children:["Layer the UI palette with ",v.aesthetic.accent,". Consider swapping ambient sound or card frames to mirror the lineage vibe when this character is active at the table."]})]})]})}function Rp(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Rp(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function et(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Rp(e))&&(r&&(r+=" "),r+=t);return r}const Vc=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return Number.POSITIVE_INFINITY},lr=e=>Number.isFinite(e)?e:0,qv=e=>lr(e.reach)+lr(e.influence),Kv=e=>lr(e.loyalty)+lr(e.competence),Yv=e=>lr(e.quality),Jv=(e,t)=>Number.isFinite(e)?e:t,Xv=(e,t,n,r)=>{var a,c;if(!e)return{value:0,requiresApproval:!1};const s=(a=n.properties.tenure)==null?void 0:a[e],i=(c=t.properties.tenure)==null?void 0:c[e];if(s!=null&&s.cost)return{value:r,requiresApproval:!0,note:s.cost};const o=typeof(s==null?void 0:s.multiplier)=="number"?s.multiplier:typeof(i==null?void 0:i.costMultiplier)=="number"?i.costMultiplier:null;return typeof o=="number"&&Number.isFinite(o)&&o>0?{value:Math.max(1,Math.round(o)),requiresApproval:!!(i!=null&&i.special)}:{value:0,requiresApproval:!0}},Zv=(e,t,n,r)=>{var c,d;if(!e)return{value:0,requiresApproval:!1};const s=(c=n.properties.zoning)==null?void 0:c[e],i=(d=t.properties.zoning)==null?void 0:d[e],o=typeof(s==null?void 0:s.baseCost)=="number"?s.baseCost:typeof(i==null?void 0:i.baseCost)=="number"?i.baseCost:null;if(typeof o=="number"&&Number.isFinite(o)&&o>0)return{value:o,requiresApproval:!1};const a=typeof(s==null?void 0:s.baseCost)=="string"?s.baseCost:typeof(i==null?void 0:i.baseCost)=="string"?i.baseCost:null;return{value:r,requiresApproval:!0,note:a}};function ey({priority:e,system:t,costs:n,contacts:r,retainers:s,properties:i,goods:o,liquid:a,onAddContact:c,onUpdateContact:d,onRemoveContact:p,onAddRetainer:g,onUpdateRetainer:h,onRemoveRetainer:v,onAddProperty:x,onUpdateProperty:y,onRemoveProperty:w,onAddGoods:m,onUpdateGoods:u,onRemoveGoods:f,onUpdateLiquid:j,notes:k,onUpdateNotes:E}){var Q,oe,J,ne;const C=e?t.resourcePoints[e]:null,L=(C==null?void 0:C.points)??0,$=Vc(C==null?void 0:C.maxQuality),P=Vc(C==null?void 0:C.maxCombined),q=(C==null?void 0:C.specializations)??0,ae=Jv(P,(C==null?void 0:C.points)??10),ue=Array.isArray(r)?r:[],re=Array.isArray(s)?s:[],Ce=Array.isArray(i)?i:[],ce=Array.isArray(o)?o:[],_e=ue.map(S=>{const F=qv(S),W=[];return Number.isFinite($)&&S.reach>$&&W.push(`Reach exceeds max quality ${$}`),Number.isFinite($)&&S.influence>$&&W.push(`Influence exceeds max quality ${$}`),Number.isFinite(P)&&F>P&&W.push(`Total reach + influence exceeds combined maximum ${P}`),{entry:S,cost:F,issues:W}}),T=re.map(S=>{const F=Kv(S),W=[];return Number.isFinite($)&&S.competence>$&&W.push(`Competence exceeds max quality ${$}`),Number.isFinite($)&&S.loyalty>$&&W.push(`Loyalty exceeds max quality ${$}`),Number.isFinite(P)&&F>P&&W.push(`Total loyalty + competence exceeds combined maximum ${P}`),{entry:S,cost:F,issues:W}}),b=Ce.map(S=>{const F=Xv(S.tenure,t,n,ae),W=Zv(S.zoning,t,n,ae),te=F.value+W.value,O=[];return(F.requiresApproval||W.requiresApproval)&&O.push("Selection requires GM approval."),F.note&&O.push(F.note),W.note&&O.push(W.note),Number.isFinite($)&&F.value>$&&O.push(`Tenure rating exceeds max quality ${$}`),Number.isFinite($)&&W.value>$&&O.push(`Zoning rating exceeds max quality ${$}`),Number.isFinite(P)&&te>P&&O.push(`Total tenure + zoning exceeds combined maximum ${P}`),{entry:S,cost:te,issues:O,tenureValue:F.value,zoningValue:W.value}}),U=ce.map(S=>{const F=Yv(S),W=[];return Number.isFinite($)&&S.quality>$&&W.push(`Quality exceeds max quality ${$}`),Number.isFinite(P)&&S.quality>P&&W.push(`Quality exceeds combined maximum ${P}`),{entry:S,cost:F,issues:W}}),ee=_e.reduce((S,F)=>S+F.cost,0)+T.reduce((S,F)=>S+F.cost,0)+b.reduce((S,F)=>S+F.cost,0)+U.reduce((S,F)=>S+F.cost,0)+lr(a),pe=L-ee,Xe=C?pe<0:ee>0,_=_e.filter(({entry:S})=>!!S.specialization).length+T.filter(({entry:S})=>!!S.specialization).length+b.filter(({entry:S})=>!!S.specialization).length+U.filter(({entry:S})=>!!S.specialization).length,z=q-_<0,V=((Q=t.contacts)==null?void 0:Q.specializations)??[],se=((oe=t.retainers)==null?void 0:oe.specializations)??[],ie=((J=t.properties)==null?void 0:J.specializations)??[],ge=((ne=t.goods)==null?void 0:ne.specializations)??[];return l.jsxs("div",{className:"stage stage--resources",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Resources"}),l.jsx("p",{children:"Spend your Resource Points to define the allies, havens, and gear that keep you alive. Balance reach and quality carefully  every edge requires upkeep and trust."})]}),l.jsxs("aside",{className:"resource-summary",children:[l.jsxs("span",{className:"resource-summary__label",children:["Priority ",e??""]}),C?l.jsxs("dl",{children:[l.jsxs("div",{children:[l.jsx("dt",{children:"Available Points"}),l.jsx("dd",{children:L})]}),l.jsxs("div",{className:et({"resource-summary__warning":Xe}),children:[l.jsx("dt",{children:"Spent"}),l.jsx("dd",{children:ee})]}),l.jsxs("div",{className:et({"resource-summary__warning":Xe}),children:[l.jsx("dt",{children:"Remaining"}),l.jsx("dd",{children:Math.max(0,pe)})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Quality Cap"}),l.jsx("dd",{children:Number.isFinite($)?$:""})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Combined Cap"}),l.jsx("dd",{children:Number.isFinite(P)?P:""})]}),l.jsxs("div",{className:et({"resource-summary__warning":z}),children:[l.jsx("dt",{children:"Specializations"}),l.jsxs("dd",{children:[_," / ",q]})]})]}):l.jsx("p",{children:"Assign a resources priority to unlock your pool."})]})]}),l.jsxs("div",{className:et("resource-ledger",{"resource-ledger--warning":Xe}),children:[l.jsx("strong",{children:ee})," resource points allocated",C?` of ${L}`:"",".",Xe&&l.jsx("span",{className:"resource-ledger__warning",children:"You are overspending. Adjust your assets or raise your priority."})]}),l.jsxs("div",{className:et("resource-ledger",{"resource-ledger--warning":z}),children:["Specializations used: ",l.jsx("strong",{children:_})," of ",q,".",z&&l.jsx("span",{className:"resource-ledger__warning",children:"Only one specialization per asset until the limit is raised."})]}),l.jsxs("div",{className:"resource-grid",children:[l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Contacts"}),l.jsx("button",{type:"button",onClick:c,children:"Add Contact"})]}),_e.length===0?l.jsx("p",{className:"resource-section__empty",children:"No contacts recorded. Add a fixer, broker, or confidant."}):_e.map(({entry:S,cost:F,issues:W})=>{const te=!S.gmApproved;return l.jsxs("article",{className:et("resource-card",{"resource-card--flagged":te}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:S.name,onChange:O=>d(S.id,{name:O.target.value}),placeholder:"Contact name"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",F]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Profile"}),l.jsx("textarea",{value:S.description,onChange:O=>d(S.id,{description:O.target.value}),placeholder:"Why does this person answer your call?"})]}),l.jsxs("div",{className:"resource-card__grid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Reach"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite($)?$:void 0,value:S.reach,onChange:O=>d(S.id,{reach:Number(O.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Influence"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite($)?$:void 0,value:S.influence,onChange:O=>d(S.id,{influence:Number(O.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:S.specialization??"",onChange:O=>d(S.id,{specialization:O.target.value?O.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),V.map(O=>l.jsx("option",{value:O,children:O},O))]})]})]}),W.length>0&&l.jsx("ul",{className:"resource-card__issues",children:W.map((O,Ee)=>l.jsx("li",{children:O},Ee))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>p(S.id),className:"link",children:"Remove Contact"}),l.jsx("button",{type:"button",onClick:()=>d(S.id,{gmApproved:!S.gmApproved}),className:et("badge",{"badge--attention":te}),children:S.gmApproved?"GM Approved":"GM Approval Required"})]})]},S.id)})]}),l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Retainers"}),l.jsx("button",{type:"button",onClick:g,children:"Add Retainer"})]}),T.length===0?l.jsx("p",{className:"resource-section__empty",children:"No retainers enlisted. Secure a loyal operator."}):T.map(({entry:S,cost:F,issues:W})=>{const te=!S.gmApproved;return l.jsxs("article",{className:et("resource-card",{"resource-card--flagged":te}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:S.name,onChange:O=>h(S.id,{name:O.target.value}),placeholder:"Retainer name"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",F]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Role"}),l.jsx("textarea",{value:S.description,onChange:O=>h(S.id,{description:O.target.value}),placeholder:"What do they handle for you?"})]}),l.jsxs("div",{className:"resource-card__grid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Competence"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite($)?$:void 0,value:S.competence,onChange:O=>h(S.id,{competence:Number(O.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Loyalty"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite($)?$:void 0,value:S.loyalty,onChange:O=>h(S.id,{loyalty:Number(O.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:S.specialization??"",onChange:O=>h(S.id,{specialization:O.target.value?O.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),se.map(O=>l.jsx("option",{value:O,children:O},O))]})]})]}),W.length>0&&l.jsx("ul",{className:"resource-card__issues",children:W.map((O,Ee)=>l.jsx("li",{children:O},Ee))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>v(S.id),className:"link",children:"Remove Retainer"}),l.jsx("button",{type:"button",onClick:()=>h(S.id,{gmApproved:!S.gmApproved}),className:et("badge",{"badge--attention":te}),children:S.gmApproved?"GM Approved":"GM Approval Required"})]})]},S.id)})]}),l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Properties"}),l.jsx("button",{type:"button",onClick:x,children:"Add Property"})]}),b.length===0?l.jsx("p",{className:"resource-section__empty",children:"No safehouses or fronts secured. Stake your claim."}):b.map(({entry:S,cost:F,issues:W,tenureValue:te,zoningValue:O})=>{const Ee=!S.gmApproved;return l.jsxs("article",{className:et("resource-card",{"resource-card--flagged":Ee}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:S.name,onChange:H=>y(S.id,{name:H.target.value}),placeholder:"Property name"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",F]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Description"}),l.jsx("textarea",{value:S.description,onChange:H=>y(S.id,{description:H.target.value}),placeholder:"What makes this space yours?"})]}),l.jsxs("div",{className:"resource-card__grid resource-card__grid--wide",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Tenure"}),l.jsxs("select",{value:S.tenure,onChange:H=>y(S.id,{tenure:H.target.value}),children:[l.jsx("option",{value:"",children:"Select tenure"}),Object.keys(t.properties.tenure).map(H=>l.jsx("option",{value:H,children:H},H))]}),l.jsx("small",{children:te?`Value ${te}`:"Pick a claim type"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Zoning"}),l.jsxs("select",{value:S.zoning,onChange:H=>y(S.id,{zoning:H.target.value}),children:[l.jsx("option",{value:"",children:"Select function"}),Object.keys(t.properties.zoning).map(H=>l.jsx("option",{value:H,children:H},H))]}),l.jsx("small",{children:O?`Value ${O}`:"Pick a function"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Ward"}),l.jsx("input",{value:S.ward,onChange:H=>y(S.id,{ward:H.target.value}),placeholder:"Ward or district"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:S.specialization??"",onChange:H=>y(S.id,{specialization:H.target.value?H.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),ie.map(H=>l.jsx("option",{value:H,children:H},H))]})]})]}),W.length>0&&l.jsx("ul",{className:"resource-card__issues",children:W.map((H,Ve)=>l.jsx("li",{children:H},Ve))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>w(S.id),className:"link",children:"Remove Property"}),l.jsx("button",{type:"button",onClick:()=>y(S.id,{gmApproved:!S.gmApproved}),className:et("badge",{"badge--attention":Ee}),children:S.gmApproved?"GM Approved":"GM Approval Required"})]})]},S.id)})]}),l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Goods & Stockpiles"}),l.jsx("button",{type:"button",onClick:m,children:"Add Goods"})]}),U.length===0?l.jsx("p",{className:"resource-section__empty",children:"No caches documented. Set aside kit or contraband."}):U.map(({entry:S,cost:F,issues:W})=>{const te=!S.gmApproved;return l.jsxs("article",{className:et("resource-card",{"resource-card--flagged":te}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:S.name,onChange:O=>u(S.id,{name:O.target.value}),placeholder:"Goods cache"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",F]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Contents"}),l.jsx("textarea",{value:S.description,onChange:O=>u(S.id,{description:O.target.value}),placeholder:"Describe the stash, weaponry, or leverage."})]}),l.jsxs("div",{className:"resource-card__grid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Quality"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite($)?$:void 0,value:S.quality,onChange:O=>u(S.id,{quality:Number(O.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:S.specialization??"",onChange:O=>u(S.id,{specialization:O.target.value?O.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),ge.map(O=>l.jsx("option",{value:O,children:O},O))]})]})]}),W.length>0&&l.jsx("ul",{className:"resource-card__issues",children:W.map((O,Ee)=>l.jsx("li",{children:O},Ee))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>f(S.id),className:"link",children:"Remove Goods"}),l.jsx("button",{type:"button",onClick:()=>u(S.id,{gmApproved:!S.gmApproved}),className:et("badge",{"badge--attention":te}),children:S.gmApproved?"GM Approved":"GM Approval Required"})]})]},S.id)})]})]}),l.jsxs("section",{className:"resource-liquid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Liquid Assets"}),l.jsx("input",{type:"number",min:0,value:a,onChange:S=>j(Number(S.target.value)||0)})]}),l.jsx("p",{children:"Reserve unassigned points for cash, favors, or future acquisitions."})]}),l.jsx("section",{children:l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Resource Stories"}),l.jsx("textarea",{value:k,onChange:S=>E(S.target.value),placeholder:"Record fronts, debts, leverage, and the strings attached to each asset."})]})}),l.jsxs("section",{className:"resource-reference",children:[l.jsxs("article",{children:[l.jsx("h4",{children:"Contact Scales"}),l.jsxs("div",{className:"resource-reference__grid",children:[l.jsxs("div",{children:[l.jsx("h5",{children:"Reach"}),l.jsx("ul",{children:Object.entries(t.contacts.reachScale).map(([S,F])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:S}),l.jsx("span",{children:F})]},S))})]}),l.jsxs("div",{children:[l.jsx("h5",{children:"Influence"}),l.jsx("ul",{children:Object.entries(t.contacts.influenceScale).map(([S,F])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:S}),l.jsx("span",{children:F})]},S))})]})]})]}),l.jsxs("article",{children:[l.jsx("h4",{children:"Retainer Scales"}),l.jsxs("div",{className:"resource-reference__grid",children:[l.jsxs("div",{children:[l.jsx("h5",{children:"Competence"}),l.jsx("ul",{children:Object.entries(t.retainers.competenceScale).map(([S,F])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:S}),l.jsx("span",{children:F})]},S))})]}),l.jsxs("div",{children:[l.jsx("h5",{children:"Loyalty"}),l.jsx("ul",{children:Object.entries(t.retainers.loyaltyScale).map(([S,F])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:S}),l.jsx("span",{children:F})]},S))})]})]})]}),l.jsxs("article",{children:[l.jsx("h4",{children:"Tenure Reference"}),l.jsx("ul",{className:"resource-reference__list",children:Object.entries(t.properties.tenure).map(([S,F])=>l.jsxs("li",{children:[l.jsx("strong",{children:S}),F.description&&l.jsxs("span",{children:["  ",F.description]})]},S))})]})]})]})}function ty({priority:e,background:t,onUpdate:n,data:r}){const s=R.useMemo(()=>Object.entries(r),[r]),i=t.title&&r[t.title]?r[t.title]:void 0,o=R.useMemo(()=>i!=null&&i.professions?new Map(i.professions.map(v=>[v.priority,v])):new Map,[i==null?void 0:i.professions]),a=e?o.get(e):void 0,c=t.title||"Choose a background",d=(a==null?void 0:a.description)||(i==null?void 0:i.description)||"Select a background below to load its story, talents, and contacts.",p=(i==null?void 0:i.skillSpecializationOptions)??[],g=(i==null?void 0:i.resourceSynergyExamples)??[],h=v=>{var w;const x=r[v],y={title:v};x&&(!t.tierNotes&&x.description&&(y.tierNotes=x.description),!t.contacts&&((w=x.resourceSynergyExamples)!=null&&w.length)&&(y.contacts=x.resourceSynergyExamples.join(`
`))),n(y)};return l.jsxs("div",{className:"stage stage--background",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Background"}),l.jsx("p",{children:"Backgrounds tell the table who you were before the Long Night took hold. Use the narrative scope guidance to outline your reach and obligations."})]}),l.jsxs("aside",{className:"background-callout",children:[l.jsxs("div",{className:"background-callout__header",children:[l.jsxs("span",{className:"background-callout__label",children:["Priority ",e??""]}),l.jsx("h3",{children:c})]}),l.jsx("p",{className:"background-callout__body",children:d}),(p.length>0||g.length>0)&&l.jsxs("div",{className:"background-callout__tags",children:[p.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"background-callout__tag-label",children:"Signature Skills"}),l.jsx("ul",{children:p.map(v=>l.jsx("li",{children:v},v))})]}),g.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"background-callout__tag-label",children:"Resource Synergies"}),l.jsx("ul",{children:g.map(v=>l.jsx("li",{children:v},v))})]})]})]})]}),l.jsxs("section",{className:"background-form",children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Background Title"}),l.jsx("input",{value:t.title,placeholder:"Ex: Harrowed Detective of Ward 13",onChange:v=>n({title:v.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Background Details"}),l.jsx("textarea",{value:t.tierNotes,placeholder:"What power structure do you belong to? Who do you owe? How far does your influence reach?",onChange:v=>n({tierNotes:v.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Contacts Born From This Life"}),l.jsx("textarea",{value:t.contacts,placeholder:"List guaranteed contacts, safehouses, or automatic skill specializations.",onChange:v=>n({contacts:v.target.value})})]})]}),l.jsx("section",{className:"background-catalog",children:s.map(([v,x])=>{var w,m,u;const y=v===t.title;return l.jsxs("article",{className:`background-card ${y?"active":""}`,children:[l.jsxs("header",{className:"background-card__header",children:[l.jsxs("div",{children:[l.jsx("h3",{children:v}),l.jsx("p",{children:x.description})]}),l.jsx("button",{type:"button",onClick:()=>h(v),children:y?"Selected":"Adopt Background"})]}),(((w=x.skillSpecializationOptions)==null?void 0:w.length)??0)>0&&l.jsxs("section",{className:"background-card__section",children:[l.jsx("h4",{children:"Skill Specializations"}),l.jsx("ul",{children:x.skillSpecializationOptions.map(f=>l.jsx("li",{children:f},f))})]}),(((m=x.resourceSynergyExamples)==null?void 0:m.length)??0)>0&&l.jsxs("section",{className:"background-card__section",children:[l.jsx("h4",{children:"Resource Synergies"}),l.jsx("ul",{children:x.resourceSynergyExamples.map(f=>l.jsx("li",{children:f},f))})]}),(((u=x.professions)==null?void 0:u.length)??0)>0&&l.jsxs("section",{className:"background-card__section",children:[l.jsx("h4",{children:"Profession Ladder"}),l.jsx("div",{className:"background-card__professions",children:x.professions.map(f=>l.jsxs("div",{className:`background-card__profession ${f.priority===e?"highlight":""}`,children:[l.jsxs("div",{className:"background-card__profession-header",children:[l.jsx("span",{className:"badge",children:f.priority}),l.jsx("strong",{children:f.title})]}),l.jsx("p",{children:f.description})]},`${f.priority}-${f.title}`))})]})]},v)})})]})}const ny={A:{maxRank:5,points:10,specializations:2},B:{maxRank:4,points:14,specializations:2},C:{maxRank:3,points:10,specializations:1},D:{maxRank:3,points:8,specializations:1},E:{maxRank:2,points:4,specializations:0}},ry="Custom options are provisional until your GM approves them.";function sy({priority:e,data:t,ratings:n,onChangeRating:r,specializations:s,onToggleSpecialization:i,onRemoveSpecialization:o,onAddCustomSpecialization:a,backgroundSpecialization:c,backgroundOptions:d,onSetBackgroundSpecialization:p,notes:g,onUpdateNotes:h}){const[v,x]=R.useState(""),y=e?ny[e]:null,w=R.useMemo(()=>Object.values(n).reduce((P,q)=>P+q,0),[n]),m=y?Math.max(y.points-w,0):0,u=s.filter(P=>P.type!=="background"),f=y?Math.max(y.specializations-u.length,0):0,j=R.useMemo(()=>new Map(s.map(P=>[P.id,P])),[s]),k=(P,q)=>ae=>{const ue=Number(ae.target.value);if(!y)return;const re=Math.max(0,Math.min(ue,y.maxRank)),Ce=w-q+re;let ce=re;if(Ce>y.points){const _e=Ce-y.points;ce=Math.max(0,re-_e)}ce!==q&&r(P,ce)},E=()=>{if(!y)return;const P=v.trim();P&&y.specializations!==0&&f!==0&&(a(P),x(""))},C=(P,q,ae,ue)=>{if(!y)return;const re=`pre:${P}:${ae??ue}`;if(!j.has(re)&&y.specializations>0&&f===0)return;const Ce={id:re,label:`${q}  ${ue}`,type:"predefined",skillId:P,gmApproved:!0};i(Ce)},L=y?y.specializations>0&&f>0:!1,$=d.filter(Boolean);return l.jsxs("div",{className:"stage stage--skills",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Skills & Disciplines"}),l.jsx("p",{children:"Allocate your skill points, respecting the maximum rank for your priority. Claim a handful of specializations to spotlight signature movescustom picks stay flagged until your GM approves them."})]}),l.jsxs("aside",{className:"skills-limit",children:[l.jsxs("span",{children:["Priority ",e??""]}),y?l.jsxs(l.Fragment,{children:[l.jsx("p",{children:`${m} of ${y.points} skill points remaining`}),l.jsxs("p",{children:["Specializations: ",`${Math.max(f,0)} of ${y.specializations} remaining`]})]}):l.jsx("p",{children:"Assign a priority letter to unlock your allocation."})]})]}),l.jsx("section",{className:"skills-grid",children:Object.entries(t.skills).map(([P,q])=>l.jsxs("article",{className:"skills-discipline",children:[l.jsxs("header",{children:[l.jsx("h3",{children:iy(P)}),l.jsxs("p",{children:[q.length," core skills"]})]}),l.jsx("ul",{children:q.map(ae=>{const ue=`${P}:${ae.id}`,re=n[ue]??0,Ce=(y==null?void 0:y.maxRank)??0;return l.jsxs("li",{children:[l.jsxs("div",{className:"skills-item__header",children:[l.jsxs("label",{className:"skills-rating",children:[l.jsx("span",{children:"Rating"}),l.jsx("input",{type:"range",min:0,max:Ce,step:1,value:re,disabled:!y,onChange:k(ue,re)}),l.jsx("span",{className:"skills-rating__value",children:re})]}),l.jsxs("div",{children:[l.jsx("h4",{children:ae.name}),l.jsx("p",{children:ae.description})]})]}),ae.specializations.length>0&&l.jsxs("details",{children:[l.jsx("summary",{children:"Specializations"}),l.jsx("ul",{className:"skills-specializations",children:ae.specializations.map(ce=>{const _e=`pre:${ue}:${ce.id??ce.name}`,T=j.has(_e),b=!y||y.specializations===0&&!T||y.specializations>0&&f===0&&!T;return l.jsx("li",{children:l.jsxs("button",{type:"button",className:`skills-specialization__toggle ${T?"selected":""}`,onClick:()=>C(ue,ae.name,ce.id,ce.name),disabled:b,children:[l.jsx("strong",{children:ce.name}),l.jsx("span",{children:ce.description})]})},_e)})})]})]},ue)})})]},P))}),$.length>0&&l.jsxs("section",{className:"skills-background",children:[l.jsx("h3",{children:"Background Specialization"}),l.jsx("p",{children:"Select one of the options granted by your background."}),l.jsxs("div",{className:"skills-background__options",children:[$.map(P=>l.jsxs("label",{className:"skills-background__option",children:[l.jsx("input",{type:"radio",name:"background-specialization",value:P,checked:c===P,onChange:()=>p(P)}),l.jsx("span",{children:P})]},P)),l.jsx("button",{type:"button",className:"skills-background__clear",onClick:()=>p(null),children:"Clear Background Choice"})]})]}),l.jsxs("section",{className:"skills-selected",children:[l.jsx("h3",{children:"Selected Specializations"}),s.length===0&&!c?l.jsx("p",{children:"No specializations chosen yet."}):l.jsxs("ul",{children:[s.map(P=>l.jsxs("li",{children:[l.jsxs("div",{children:[l.jsx("strong",{children:P.label}),P.type==="custom"&&!P.gmApproved&&l.jsx("span",{className:"gm-tag",children:"Pending GM Approval"})]}),l.jsx("button",{type:"button",onClick:()=>o(P.id),"aria-label":`Remove ${P.label}`,children:"Remove"})]},P.id)),c&&l.jsxs("li",{children:[l.jsxs("div",{children:[l.jsx("strong",{children:c}),l.jsx("span",{className:"gm-tag gm-tag--background",children:"Background"})]}),l.jsx("button",{type:"button",onClick:()=>p(null),"aria-label":"Clear background specialization",children:"Remove"})]})]})]}),l.jsxs("section",{className:"skills-footer",children:[l.jsxs("div",{children:[l.jsx("h3",{children:"Custom Specialization"}),l.jsxs("div",{className:"skills-custom",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Describe your custom edge"}),l.jsxs("div",{className:"skills-custom__controls",children:[l.jsx("input",{value:v,onChange:P=>x(P.target.value),placeholder:"Ex: Underworld Etiquette",disabled:y?!L:!0}),l.jsx("button",{type:"button",onClick:E,disabled:!L||!v.trim(),children:"Add"})]})]}),l.jsxs("p",{className:"skills-custom__hint",children:[ry,y?` Slots remaining: ${Math.max(f,0)}.`:""]})]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Skill Notes"}),l.jsx("textarea",{value:g,onChange:P=>h(P.target.value),placeholder:"Record signature moves, training montages, and promised stunts."})]})]})]})}function iy(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}const ly={Physique:"physique",Intellect:"intellect",Presence:"presence"};function oy({priority:e,scores:t,onUpdateScore:n,notes:r,onUpdateNotes:s,data:i,selectedSpecializations:o,onToggleSpecialization:a}){var m;if(!i||!Array.isArray(i.pointBuy)||!i.definitions)return l.jsx("div",{className:"stage stage--attributes",children:l.jsx("p",{children:"Attribute data failed to load. Please refresh."})});const c=R.useMemo(()=>e?i.pointBuy.find(u=>u.priority===e)??null:null,[i.pointBuy,e]),d=R.useMemo(()=>Object.entries(i.definitions).map(([u,f])=>{const j=ly[u];return j?{key:j,displayName:u,description:f.description,specializations:f.specializations??[]}:null}).filter(u=>u!==null),[i.definitions]),p=(c==null?void 0:c.attributePoints)??0,g=R.useMemo(()=>Object.entries(t).reduce((u,[f,j])=>(u[f]=Math.min(Vs,Math.max(0,j)),u),{physique:0,intellect:0,presence:0}),[t]),h=Object.values(g).reduce((u,f)=>u+f,0),v=Math.max(p-h,0),x=(c==null?void 0:c.specializations)??0,y=R.useMemo(()=>Object.values(o).reduce((u,f)=>u+(Array.isArray(f)?f.length:0),0),[o]),w=Math.max(x-y,0);return l.jsxs("div",{className:"stage stage--attributes",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Attributes"}),l.jsx("p",{children:"Only three pillars define your raw capability. Split your dice pool to show which part of their soul still shines and which has already been sold to the city."})]}),l.jsxs("aside",{className:"attribute-pool",children:[l.jsxs("span",{children:["Priority ",e??""]}),e?l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:["Pool ",p,"  Remaining ",v]}),l.jsxs("p",{className:"attribute-pool__detail",children:["Specializations: ",x>0?`${w} of ${x} remaining`:"None available"]})]}):l.jsx("p",{children:"Assign a priority letter to calculate your attribute pool."})]})]}),l.jsx("section",{className:"attributes-grid",children:d.map(u=>{var L;const f=t[u.key]??0,j=Math.min(f,Vs),k=h-g[u.key],E=Math.max(p-k,0),C=Math.min(Vs,E);return l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h3",{children:u.displayName}),l.jsx("p",{children:u.description})]}),l.jsxs("div",{className:"attribute-control",children:[l.jsx("input",{type:"range",min:0,max:C,value:j,onChange:$=>{const P=Number($.target.value),q=Math.min(C,Math.max(0,P));n(u.key,q)}}),l.jsx("span",{className:"attribute-value",children:j})]}),((L=u.specializations)==null?void 0:L.length)>0&&l.jsxs("div",{className:"attribute-specializations",children:[l.jsx("h4",{children:"Specializations"}),l.jsx("ul",{children:u.specializations.map($=>{const q=(o[u.key]??[]).includes($.name),ae=x===0&&!q||x>0&&w===0&&!q;return l.jsx("li",{children:l.jsxs("button",{type:"button",className:`attribute-specialization__toggle ${q?"selected":""}`,onClick:()=>a(u.key,$.name),disabled:ae,children:[l.jsx("strong",{children:$.name}),l.jsx("span",{children:$.description})]})},$.name)})})]})]},u.key)})}),((m=i.ratings)==null?void 0:m.length)>0&&l.jsxs("section",{className:"attribute-ratings",children:[l.jsx("h3",{children:"Rating Benchmarks"}),l.jsx("ul",{children:i.ratings.map(u=>l.jsxs("li",{children:[l.jsx("span",{className:"attribute-rating__score",children:u.score}),l.jsx("span",{children:u.label})]},u.score))})]}),l.jsx("section",{children:l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Attribute Notes"}),l.jsx("textarea",{value:r,onChange:u=>s(u.target.value),placeholder:"What scars or tells explain these strengths and weaknesses?"})]})})]})}function ay({corruption:e,onAdjustCorruption:t,onSetCorruption:n,onUpdateCorruptionNotes:r,advancement:s,onAdjustExperience:i,onSetExperience:o,onUpdateAdvancement:a,health:c,onAdjustHealth:d,onSetHealth:p,onUpdateScar:g,narrative:h,onAddRelationship:v,onRemoveRelationship:x,onUpdateAnchors:y,onUpdateNarrativeNotes:w}){const[m,u]=R.useState(""),f=()=>{m.trim()&&(v(m.trim()),u(""))};return l.jsxs("div",{className:"stage stage--narrative",children:[l.jsx("header",{className:"stage__header",children:l.jsxs("div",{children:[l.jsx("h2",{children:"Narrative, Corruption & Wounds"}),l.jsx("p",{children:"Record the scars the city has already carved. Corruption is front-and-center for players, while hidden notes can foreshadow GM complications."})]})}),l.jsxs("section",{className:"advancement-panel",children:[l.jsxs("div",{className:"experience-meter",children:[l.jsx("div",{className:"experience-value",children:s.experience}),l.jsx("span",{children:"Experience"}),l.jsxs("div",{className:"experience-controls",children:[l.jsx("button",{type:"button",onClick:()=>i(-1),children:"-1"}),l.jsx("button",{type:"button",onClick:()=>o(0),children:"Reset"}),l.jsx("button",{type:"button",onClick:()=>i(1),children:"+1"})]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Advancement Track"}),l.jsx("textarea",{value:s.track,onChange:j=>a({track:j.target.value}),placeholder:"What does advancement look like for this character? Training regimens, resources, oaths."})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Milestones"}),l.jsx("textarea",{value:s.milestones,onChange:j=>a({milestones:j.target.value}),placeholder:"Log beats completed, debts paid, or corruption bargains accepted."})]})]}),l.jsxs("section",{className:"corruption-panel",children:[l.jsxs("div",{className:"corruption-meter",children:[l.jsx("div",{className:"corruption-value",children:e.current}),l.jsxs("span",{children:["Threshold ",e.warning]}),l.jsxs("div",{className:"corruption-controls",children:[l.jsx("button",{type:"button",onClick:()=>t(-1),children:"-1"}),l.jsx("button",{type:"button",onClick:()=>n(0),children:"Reset"}),l.jsx("button",{type:"button",onClick:()=>t(1),children:"+1"})]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Corruption Notes"}),l.jsx("textarea",{value:e.notes,onChange:j=>r(j.target.value),placeholder:"Describe what corruption looks like for this character."})]})]}),l.jsxs("section",{className:"health-grid",children:[l.jsx("h3",{children:"Health by Body Location"}),l.jsx("div",{className:"health-cards",children:Object.keys(Mc).map(j=>{const k=c[j],E=Mc[j];return l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h4",{children:E}),l.jsxs("span",{children:[k.current," / ",k.max]})]}),l.jsxs("div",{className:"health-controls",children:[l.jsx("button",{type:"button",onClick:()=>d(j,-1),children:"-"}),l.jsx("input",{type:"number",min:0,max:k.max,value:k.current,onChange:C=>p(j,Number(C.target.value))}),l.jsx("button",{type:"button",onClick:()=>d(j,1),children:"+"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Scars & Notes"}),l.jsx("textarea",{value:k.scar,onChange:C=>g(j,C.target.value),placeholder:"Visible injuries, lingering trauma, prosthetics."})]})]},j)})})]}),l.jsxs("section",{className:"relationships-panel",children:[l.jsxs("div",{className:"relationships-list",children:[l.jsx("h3",{children:"Relationships"}),l.jsxs("div",{className:"relationship-input",children:[l.jsx("input",{value:m,onChange:j=>u(j.target.value),placeholder:"Name  why they matter  leverage"}),l.jsx("button",{type:"button",onClick:f,children:"Add"})]}),h.relationships.length===0?l.jsx("p",{children:"No relationships logged yet."}):l.jsx("ul",{children:h.relationships.map(j=>l.jsxs("li",{children:[l.jsx("span",{children:j}),l.jsx("button",{type:"button",onClick:()=>x(j),children:"Remove"})]},j))})]}),l.jsxs("div",{className:"anchors",children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Anchors"}),l.jsx("textarea",{value:h.anchors,onChange:j=>y(j.target.value),placeholder:"What keeps them tethered to humanity?"})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Other Notes"}),l.jsx("textarea",{value:h.notes,onChange:j=>w(j.target.value),placeholder:"Foreshadow upcoming arcs, unresolved debts, or metaphysical tells."})]})]})]})]})}function cy(){var at;const{data:e}=ds(),t=B(N=>N.ensureActiveBuild),n=B(N=>N.activeBuildId?N.builds[N.activeBuildId]:null),r=B(N=>N.setStage),s=B(N=>N.updateProfile),i=B(N=>N.assignPriority),o=B(N=>N.selectLineage),a=B(N=>N.toggleLineageReveal),c=B(N=>N.updateLineageNotes),d=B(N=>N.toggleLineagePower),p=B(N=>N.clearLineagePowers),g=B(N=>N.updateResourceNotes),h=B(N=>N.updateBackground),v=B(N=>N.addContactResource),x=B(N=>N.updateContactResource),y=B(N=>N.removeContactResource),w=B(N=>N.addRetainerResource),m=B(N=>N.updateRetainerResource),u=B(N=>N.removeRetainerResource),f=B(N=>N.addPropertyResource),j=B(N=>N.updatePropertyResource),k=B(N=>N.removePropertyResource),E=B(N=>N.addGoodsResource),C=B(N=>N.updateGoodsResource),L=B(N=>N.removeGoodsResource),$=B(N=>N.setResourceLiquid),P=B(N=>N.setSkillRating),q=B(N=>N.toggleSkillSpecialization),ae=B(N=>N.removeSkillSpecialization),ue=B(N=>N.addCustomSkillSpecialization),re=B(N=>N.setBackgroundSkillSpecialization),Ce=B(N=>N.updateSkillNotes),ce=B(N=>N.setAttributeScore),_e=B(N=>N.updateAttributeNotes),T=B(N=>N.toggleAttributeSpecialization),b=B(N=>N.resetActiveBuild),U=B(N=>N.adjustExperience),ee=B(N=>N.setExperience),pe=B(N=>N.updateAdvancement),Xe=B(N=>N.adjustCorruption),_=B(N=>N.setCorruption),M=B(N=>N.updateCorruptionNotes),z=B(N=>N.adjustHealth),V=B(N=>N.setHealth),se=B(N=>N.updateHealthScar),ie=B(N=>N.addRelationship),ge=B(N=>N.removeRelationship),Q=B(N=>N.updateAnchors),oe=B(N=>N.updateNarrativeNotes),J=Pt(N=>N.gmUnlocked);R.useEffect(()=>{t()},[t]);const ne=R.useMemo(()=>Ep((n==null?void 0:n.lineage.key)??null),[n==null?void 0:n.lineage.key]);if(!e||!n)return null;const S=Array.isArray(n.lineage.powers)?n.lineage.powers:[],F=n.lineage.key?(at=e.powerSets)==null?void 0:at[n.lineage.key]:void 0,W=n.background.title?e.backgrounds[n.background.title]:void 0,te=Array.isArray(W==null?void 0:W.skillSpecializationOptions)?W.skillSpecializationOptions:[],O=(N,Ze)=>i(N,Ze),Ee=N=>i(N,null);let H;switch(n.stage){case"priorities":H=l.jsx(Lv,{priorities:n.priorities,onSelect:O,onClear:Ee});break;case"lineage":H=l.jsx(Qv,{priorities:n.priorities,selected:n.lineage.key,onSelect:N=>o(N),canReveal:J,revealMechanics:n.lineage.revealMechanics,onToggleReveal:a,notes:n.lineage.notes,onUpdateNotes:c,powerSet:F,powers:S,onTogglePower:d,onClearPowers:p});break;case"resources":H=l.jsx(ey,{priority:n.priorities.resources,system:e.resources,costs:e.resourceCosts,contacts:n.resources.contacts,retainers:n.resources.retainers,properties:n.resources.properties,goods:n.resources.goods,liquid:n.resources.liquid,onAddContact:v,onUpdateContact:x,onRemoveContact:y,onAddRetainer:w,onUpdateRetainer:m,onRemoveRetainer:u,onAddProperty:f,onUpdateProperty:j,onRemoveProperty:k,onAddGoods:E,onUpdateGoods:C,onRemoveGoods:L,onUpdateLiquid:$,notes:n.resources.notes,onUpdateNotes:g});break;case"background":H=l.jsx(ty,{priority:n.priorities.background,background:n.background,onUpdate:h,data:e.backgrounds});break;case"skills":H=l.jsx(sy,{priority:n.priorities.skills,data:e.skills,ratings:n.skills.ratings,onChangeRating:P,specializations:n.skills.specializations,onToggleSpecialization:q,onRemoveSpecialization:ae,onAddCustomSpecialization:ue,backgroundSpecialization:n.skills.backgroundSpecialization,backgroundOptions:te,onSetBackgroundSpecialization:re,notes:n.skills.notes,onUpdateNotes:Ce});break;case"attributes":H=l.jsx(oy,{priority:n.priorities.attributes,scores:n.attributes.scores,onUpdateScore:(N,Ze)=>ce(N,Ze),notes:n.attributes.notes,onUpdateNotes:_e,data:e.attributes,selectedSpecializations:n.attributes.specializations,onToggleSpecialization:T});break;case"narrative":H=l.jsx(ay,{corruption:n.corruption,onAdjustCorruption:Xe,onSetCorruption:_,onUpdateCorruptionNotes:M,advancement:n.advancement,onAdjustExperience:U,onSetExperience:ee,onUpdateAdvancement:pe,health:n.health,onAdjustHealth:(N,Ze)=>z(N,Ze),onSetHealth:(N,Ze)=>V(N,Ze),onUpdateScar:(N,Ze)=>se(N,Ze),narrative:n.narrative,onAddRelationship:ie,onRemoveRelationship:ge,onUpdateAnchors:Q,onUpdateNarrativeNotes:oe});break;default:H=null}const Ve=ne?{"--lineage-accent":ne.aesthetic.accent,"--lineage-glow":ne.aesthetic.glow}:void 0;return l.jsxs("div",{className:"builder-screen",style:Ve,children:[l.jsx(xv,{build:n,onUpdate:s}),l.jsx("div",{className:"builder-actions",children:l.jsx("button",{type:"button",onClick:b,children:"Reset Character"})}),l.jsx(Rv,{current:n.stage,onNavigate:r}),H]})}function uy(e,t){const n=e.background.title?t.backgrounds[e.background.title]??null:null;return{version:"0.1.0",generatedAt:new Date().toISOString(),profile:e.profile,priorities:e.priorities,lineage:e.lineage,resources:e.resources,background:e.background,skills:e.skills,attributes:e.attributes,corruption:e.corruption,health:e.health,narrative:e.narrative,gmNotes:e.gmNotes,reference:{resources:t.resources,resourceCosts:t.resourceCosts,powerSchemas:t.powerSchemas,attributes:t.attributes,backgrounds:t.backgrounds,selectedBackgroundTemplate:n,characterSheet:t.characterSheet}}}function dy(e,t){const n=uy(e,t),r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"});Ap(`${zp(e.profile.name||e.label)}.json`,r)}function py(e){const t=fy(e),n=new Blob([t],{type:"text/plain"});Ap(`${zp(e.profile.name||e.label)}.txt`,n)}function fy(e){const t=[];t.push(`SIDONIA DOSSIER :: ${e.profile.name||e.label}`),t.push(`Concept: ${e.profile.concept}`),t.push(`Pronouns: ${e.profile.pronouns}`),t.push(`Summary: ${e.profile.summary}`),e.profile.alias&&t.push(`Alias: ${e.profile.alias}`),e.profile.physicalDescription&&t.push(`Physical Description: ${e.profile.physicalDescription}`),e.profile.code&&t.push(`Code: ${e.profile.code}`),e.profile.lineNotCrossed&&t.push(`Line Not Crossed: ${e.profile.lineNotCrossed}`),e.profile.temptation&&t.push(`Temptation: ${e.profile.temptation}`),t.push(""),t.push("Priorities:"),Object.entries(e.priorities).forEach(([s,i])=>{t.push(`  ${s.toUpperCase()}: ${i??"-"}`)}),t.push(""),t.push(`Lineage: ${e.lineage.key??"Unchosen"}`),t.push(`Lineage Notes: ${e.lineage.notes}`),e.lineage.powers.length>0&&(t.push("Selected Lineage Powers:"),e.lineage.powers.forEach(s=>{var a,c,d,p,g,h;const i=[];(a=s.meta)!=null&&a.tierLabel&&i.push(s.meta.tierLabel),(c=s.meta)!=null&&c.sphere&&i.push(s.meta.sphere),(d=s.meta)!=null&&d.moveType&&i.push(s.meta.moveType),(p=s.meta)!=null&&p.branch&&i.push(s.meta.branch),(g=s.meta)!=null&&g.chassis&&i.push(s.meta.chassis),(h=s.meta)!=null&&h.category&&!["esper-base","esper-mentalist"].includes(s.meta.category)&&i.push(s.meta.category);const o=i.length>0?` (${i.join(", ")})`:"";t.push(`  - ${s.label}${o}`)})),t.push(""),t.push("Resources:"),e.resources.contacts.length>0&&(t.push("  Contacts:"),e.resources.contacts.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Contact";t.push(`    - ${a}${o}${i}`),t.push(`      Reach ${s.reach} / Influence ${s.influence}`),s.description&&t.push(`      ${s.description}`)})),e.resources.retainers.length>0&&(t.push("  Retainers:"),e.resources.retainers.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Retainer";t.push(`    - ${a}${o}${i}`),t.push(`      Competence ${s.competence} / Loyalty ${s.loyalty}`),s.description&&t.push(`      ${s.description}`)})),e.resources.properties.length>0&&(t.push("  Properties:"),e.resources.properties.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Property";t.push(`    - ${a}${o}${i}`),t.push(`      Tenure: ${s.tenure||""}  Zoning: ${s.zoning||""}`),s.ward&&t.push(`      Ward: ${s.ward}`),s.description&&t.push(`      ${s.description}`)})),e.resources.goods.length>0&&(t.push("  Goods & Stockpiles:"),e.resources.goods.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Cache";t.push(`    - ${a}${o}${i}`),t.push(`      Quality ${s.quality}`),s.description&&t.push(`      ${s.description}`)})),t.push(`  Liquid Assets: ${e.resources.liquid}`),t.push(`Resource Notes: ${e.resources.notes}`),t.push(""),t.push(`Background: ${e.background.title}`),t.push(`Details: ${e.background.tierNotes}`),t.push(`Contacts: ${e.background.contacts}`),t.push(""),t.push("Skills:"),Object.entries(e.skills.ratings).forEach(([s,i])=>{i>0&&t.push(`  ${hy(s)}: ${i}`)});const n=e.skills.specializations.filter(s=>s.type!=="background");n.length>0&&(t.push("Specializations:"),n.forEach(s=>{const i=s.type==="custom"&&!s.gmApproved?" (Pending GM Approval)":"";t.push(`  - ${s.label}${i}`)})),e.skills.backgroundSpecialization&&t.push(`Background Specialization: ${e.skills.backgroundSpecialization}`),t.push(`Skill Notes: ${e.skills.notes}`),t.push(""),t.push("Attributes:"),Object.entries(e.attributes.scores).forEach(([s,i])=>{t.push(`  ${s}: ${i}`)});const r=Object.entries(e.attributes.specializations).filter(([,s])=>s.length>0);return r.length>0&&(t.push("Attribute Specializations:"),r.forEach(([s,i])=>{t.push(`  ${s}: ${i.join(", ")}`)})),t.push(`Attribute Notes: ${e.attributes.notes}`),t.push(""),t.push(`Corruption: ${e.corruption.current} / ${e.corruption.warning}`),t.push(`Corruption Notes: ${e.corruption.notes}`),t.push(""),t.push("Health:"),Object.entries(e.health).forEach(([s,i])=>{t.push(`  ${s}: ${i.current}/${i.max} :: ${i.scar}`)}),t.push(""),t.push("Relationships:"),e.narrative.relationships.forEach(s=>t.push(`  - ${s}`)),t.push(`Anchors: ${e.narrative.anchors}`),t.push(`Notes: ${e.narrative.notes}`),e.gmNotes&&(t.push(""),t.push("GM Notes:"),t.push(e.gmNotes)),t.join(`
`)}function Ap(e,t){const n=document.createElement("a"),r=URL.createObjectURL(t);n.href=r,n.download=e,n.click(),URL.revokeObjectURL(r)}function zp(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"sidonia-character"}function hy(e){const[t,n]=e.split(":");return`${Gc(t)}  ${Gc((n??"").replace(/-/g," "))}`}function Gc(e){return e.split(/\s+/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ").trim()}function my(){const{data:e}=ds(),t=B(h=>h.builds),n=B(h=>h.activeBuildId),r=B(h=>h.createBuild),s=B(h=>h.setActiveBuild),i=B(h=>h.archiveBuild),o=B(h=>h.renameBuild),a=B(h=>h.duplicateBuild),[c,d]=R.useState(""),p=R.useMemo(()=>Object.values(t).sort((h,v)=>h.updatedAt<v.updatedAt?1:-1),[t]),g=()=>{const h=r(c.trim()||void 0);d(""),s(h)};return e?l.jsxs("section",{className:"management",children:[l.jsxs("header",{children:[l.jsx("h1",{children:"Character Management"}),l.jsx("p",{children:"Spin up new dossiers, duplicate existing ones, and export packages for your virtual tabletop or print."})]}),l.jsxs("div",{className:"management__actions",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Name your new dossier"}),l.jsx("input",{value:c,onChange:h=>d(h.target.value),placeholder:"Untitled Operative"})]}),l.jsx("button",{type:"button",onClick:g,children:"Create Character"})]}),p.length===0&&l.jsx("p",{children:"No builds yet. Start by creating a new dossier."}),l.jsx("div",{className:"management__grid",children:p.map(h=>{const v=h.id===n;return l.jsxs("article",{className:`management-card ${v?"active":""}`,children:[l.jsxs("header",{children:[l.jsx("input",{value:h.label,onChange:x=>o(h.id,x.target.value),"aria-label":"Character label"}),v?l.jsx("span",{className:"badge",children:"Active"}):l.jsx("button",{onClick:()=>s(h.id),children:"Set Active"})]}),l.jsxs("dl",{children:[l.jsxs("div",{children:[l.jsx("dt",{children:"Name"}),l.jsx("dd",{children:h.profile.name||""})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Concept"}),l.jsx("dd",{children:h.profile.concept||""})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Updated"}),l.jsx("dd",{children:new Date(h.updatedAt).toLocaleString()})]})]}),l.jsxs("footer",{children:[l.jsx("button",{type:"button",onClick:()=>a(h.id),children:"Duplicate"}),l.jsx("button",{type:"button",onClick:()=>dy(h,e),children:"Export JSON"}),l.jsx("button",{type:"button",onClick:()=>py(h),children:"Printable Sheet"}),l.jsx("button",{type:"button",className:"danger",onClick:()=>gy(h.id,h.label,i),children:"Delete"})]})]},h.id)})})]}):null}function gy(e,t,n){window.confirm(`Delete ${t}? This action cannot be undone.`)&&n(e)}function vy(){const{data:e}=ds(),t=Pt(v=>v.gmUnlocked),n=Pt(v=>v.authenticateGm),r=Pt(v=>v.lockGm),s=Pt(v=>v.gmUnlockedAt),[i,o]=R.useState(""),[a,c]=R.useState(null),d=(e==null?void 0:e.designDocs)??[],p=(e==null?void 0:e.powerSchemas)??{},g=v=>{v.preventDefault(),n(i)?(c(null),o("")):(c("Access denied. Double-check the veil phrase."),X.track("gm.invalid_passphrase",{}))},h=R.useMemo(()=>Object.entries(p),[p]);return l.jsxs("section",{className:"gm-portal",children:[l.jsxs("header",{children:[l.jsx("h1",{children:"GM Veil"}),l.jsx("p",{children:"Hidden truths live here. Only game masters with the veil phrase may cross. Player tables should never see the material below."})]}),!t&&l.jsxs("form",{className:"gm-form",onSubmit:g,children:[l.jsxs("label",{children:[l.jsx("span",{children:"Veil Phrase"}),l.jsx("input",{value:i,onChange:v=>o(v.target.value),placeholder:"Enter the GM veil phrase",autoComplete:"off"})]}),l.jsx("button",{type:"submit",children:"Slip Behind the Veil"}),a&&l.jsx("p",{className:"gm-error",children:a})]}),t&&l.jsxs("div",{className:"gm-content",children:[l.jsxs("section",{className:"gm-status",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Veil Raised"}),l.jsxs("p",{children:["Unlocked ",s?new Date(s).toLocaleString():"just now","."]})]}),l.jsx("button",{type:"button",onClick:r,children:"Re-engage Safety"})]}),l.jsxs("section",{children:[l.jsx("h2",{children:"Power Schemas"}),l.jsx("p",{children:"Raw schema data for powers, lineages, and their restrictions. Export directly for system reference."}),l.jsx("div",{className:"schema-grid",children:h.map(([v,x])=>l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h3",{children:yy(v)}),l.jsx("button",{type:"button",onClick:()=>Lp(`${v}-schema.json`,x),children:"Download JSON"})]}),l.jsxs("pre",{children:[JSON.stringify(x,null,2).slice(0,400),""]})]},v))})]}),l.jsxs("section",{children:[l.jsx("h2",{children:"Design Documents"}),l.jsx("p",{children:"Reference briefs written for GM eyes. Share selectively with players as the narrative reveals itself."}),l.jsx("div",{className:"doc-grid",children:d.map(v=>l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h3",{children:v.title}),l.jsx("button",{type:"button",onClick:()=>xy(`${v.id}.md`,v.content),children:"Download Markdown"})]}),l.jsxs("pre",{children:[v.content.slice(0,400),""]})]},v.id))})]}),l.jsxs("section",{children:[l.jsx("h2",{children:"Analytics Buffer"}),l.jsx("p",{children:"Inspect anonymized analytics currently stored locally. Export before sharing with designers."}),l.jsx(jy,{})]})]})]})}function yy(e){return e.split(/[-_]/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function Lp(e,t){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"});$p(e,n)}function xy(e,t){const n=new Blob([t],{type:"text/plain"});$p(e,n)}function $p(e,t){const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,r.click(),URL.revokeObjectURL(n)}function jy(){const e=Pt(n=>n.analyticsConsent),t=X.getAll();return e!=="accepted"?l.jsx("p",{children:"Analytics collection is currently disabled or declined."}):t.length===0?l.jsx("p",{children:"No analytics entries recorded yet."}):l.jsxs("div",{className:"analytics-log",children:[l.jsx("button",{type:"button",onClick:()=>Lp("sidonia-analytics.json",t),children:"Export Analytics Buffer"}),l.jsx("ul",{children:t.map(n=>l.jsxs("li",{children:[l.jsx("strong",{children:n.event}),l.jsx("span",{children:new Date(n.timestamp).toLocaleTimeString()}),n.data&&l.jsx("code",{children:JSON.stringify(n.data)})]},`${n.event}-${n.timestamp}`))})]})}function wy(){return l.jsxs("div",{className:"loading-spinner",role:"status","aria-live":"polite",children:[l.jsx("div",{className:"loading-spinner__glow"}),l.jsx("span",{className:"loading-spinner__label",children:"Loading the Veil"})]})}function ky(){const{status:e,error:t,refresh:n}=ds();let r;return e==="idle"||e==="loading"?r=l.jsx(wy,{}):e==="error"?r=l.jsxs("div",{children:[l.jsx("h2",{children:"We lost the signal."}),l.jsxs("p",{children:["Character data failed to load. ",t]}),l.jsx("button",{type:"button",onClick:n,children:"Retry"})]}):r=l.jsxs(sg,{children:[l.jsx(Ln,{path:"/",element:l.jsx(yv,{})}),l.jsx(Ln,{path:"/builder",element:l.jsx(cy,{})}),l.jsx(Ln,{path:"/management",element:l.jsx(my,{})}),l.jsx(Ln,{path:"/gm",element:l.jsx(vy,{})}),l.jsx(Ln,{path:"*",element:l.jsx(ng,{to:"/",replace:!0})})]}),l.jsx(vv,{children:r})}xl.createRoot(document.getElementById("root")).render(l.jsx(wo.StrictMode,{children:l.jsx(pg,{children:l.jsx(hv,{children:l.jsx(ky,{})})})}));
