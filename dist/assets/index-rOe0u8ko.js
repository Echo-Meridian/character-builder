var up=Object.defineProperty;var cp=(e,t,n)=>t in e?up(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ki=(e,t,n)=>cp(e,typeof t!="symbol"?t+"":t,n);function dp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ju(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wu={exports:{}},ni={},ku={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kr=Symbol.for("react.element"),pp=Symbol.for("react.portal"),fp=Symbol.for("react.fragment"),hp=Symbol.for("react.strict_mode"),mp=Symbol.for("react.profiler"),gp=Symbol.for("react.provider"),vp=Symbol.for("react.context"),yp=Symbol.for("react.forward_ref"),xp=Symbol.for("react.suspense"),jp=Symbol.for("react.memo"),wp=Symbol.for("react.lazy"),qo=Symbol.iterator;function kp(e){return e===null||typeof e!="object"?null:(e=qo&&e[qo]||e["@@iterator"],typeof e=="function"?e:null)}var Su={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nu=Object.assign,Cu={};function er(e,t,n){this.props=e,this.context=t,this.refs=Cu,this.updater=n||Su}er.prototype.isReactComponent={};er.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};er.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _u(){}_u.prototype=er.prototype;function Yl(e,t,n){this.props=e,this.context=t,this.refs=Cu,this.updater=n||Su}var Jl=Yl.prototype=new _u;Jl.constructor=Yl;Nu(Jl,er.prototype);Jl.isPureReactComponent=!0;var Ko=Array.isArray,Eu=Object.prototype.hasOwnProperty,Xl={current:null},Pu={key:!0,ref:!0,__self:!0,__source:!0};function Ru(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Eu.call(t,r)&&!Pu.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),d=0;d<a;d++)u[d]=arguments[d+2];s.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Kr,type:e,key:i,ref:o,props:s,_owner:Xl.current}}function Sp(e,t){return{$$typeof:Kr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Kr}function Np(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yo=/\/+/g;function Si(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Np(""+e.key):t.toString(36)}function ys(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Kr:case pp:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Si(o,0):r,Ko(s)?(n="",e!=null&&(n=e.replace(Yo,"$&/")+"/"),ys(s,t,n,"",function(d){return d})):s!=null&&(Zl(s)&&(s=Sp(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Yo,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ko(e))for(var a=0;a<e.length;a++){i=e[a];var u=r+Si(i,a);o+=ys(i,t,n,u,s)}else if(u=kp(e),typeof u=="function")for(e=u.call(e),a=0;!(i=e.next()).done;)i=i.value,u=r+Si(i,a++),o+=ys(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ts(e,t,n){if(e==null)return e;var r=[],s=0;return ys(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Cp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},xs={transition:null},_p={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:xs,ReactCurrentOwner:Xl};function zu(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:ts,forEach:function(e,t,n){ts(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ts(e,function(){t++}),t},toArray:function(e){return ts(e,function(t){return t})||[]},only:function(e){if(!Zl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Component=er;G.Fragment=fp;G.Profiler=mp;G.PureComponent=Yl;G.StrictMode=hp;G.Suspense=xp;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_p;G.act=zu;G.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Nu({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Xl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)Eu.call(t,u)&&!Pu.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var d=0;d<u;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Kr,type:e.type,key:s,ref:i,props:r,_owner:o}};G.createContext=function(e){return e={$$typeof:vp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gp,_context:e},e.Consumer=e};G.createElement=Ru;G.createFactory=function(e){var t=Ru.bind(null,e);return t.type=e,t};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:yp,render:e}};G.isValidElement=Zl;G.lazy=function(e){return{$$typeof:wp,_payload:{_status:-1,_result:e},_init:Cp}};G.memo=function(e,t){return{$$typeof:jp,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=xs.transition;xs.transition={};try{e()}finally{xs.transition=t}};G.unstable_act=zu;G.useCallback=function(e,t){return Be.current.useCallback(e,t)};G.useContext=function(e){return Be.current.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};G.useEffect=function(e,t){return Be.current.useEffect(e,t)};G.useId=function(){return Be.current.useId()};G.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};G.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};G.useMemo=function(e,t){return Be.current.useMemo(e,t)};G.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};G.useRef=function(e){return Be.current.useRef(e)};G.useState=function(e){return Be.current.useState(e)};G.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};G.useTransition=function(){return Be.current.useTransition()};G.version="18.3.1";ku.exports=G;var R=ku.exports;const eo=ju(R),Ep=dp({__proto__:null,default:eo},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp=R,Rp=Symbol.for("react.element"),zp=Symbol.for("react.fragment"),Ap=Object.prototype.hasOwnProperty,Lp=Pp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$p={key:!0,ref:!0,__self:!0,__source:!0};function Au(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Ap.call(t,r)&&!$p.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Rp,type:e,key:i,ref:o,props:s,_owner:Lp.current}}ni.Fragment=zp;ni.jsx=Au;ni.jsxs=Au;wu.exports=ni;var l=wu.exports,Zi={},Lu={exports:{}},tt={},$u={exports:{}},Tu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,b){var U=A.length;A.push(b);e:for(;0<U;){var P=U-1>>>1,$=A[P];if(0<s($,b))A[P]=b,A[U]=$,U=P;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var b=A[0],U=A.pop();if(U!==b){A[0]=U;e:for(var P=0,$=A.length,O=$>>>1;P<O;){var B=2*(P+1)-1,Q=A[B],q=B+1,we=A[q];if(0>s(Q,U))q<$&&0>s(we,Q)?(A[P]=we,A[q]=U,P=q):(A[P]=Q,A[B]=U,P=B);else if(q<$&&0>s(we,U))A[P]=we,A[q]=U,P=q;else break e}}return b}function s(A,b){var U=A.sortIndex-b.sortIndex;return U!==0?U:A.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],d=[],p=1,g=null,m=3,v=!1,x=!1,y=!1,j=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(A){for(var b=n(d);b!==null;){if(b.callback===null)r(d);else if(b.startTime<=A)r(d),b.sortIndex=b.expirationTime,t(u,b);else break;b=n(d)}}function w(A){if(y=!1,f(A),!x)if(n(u)!==null)x=!0,ie(k);else{var b=n(d);b!==null&&xe(w,b.startTime-A)}}function k(A,b){x=!1,y&&(y=!1,h(L),L=-1),v=!0;var U=m;try{for(f(b),g=n(u);g!==null&&(!(g.expirationTime>b)||A&&!K());){var P=g.callback;if(typeof P=="function"){g.callback=null,m=g.priorityLevel;var $=P(g.expirationTime<=b);b=e.unstable_now(),typeof $=="function"?g.callback=$:g===n(u)&&r(u),f(b)}else r(u);g=n(u)}if(g!==null)var O=!0;else{var B=n(d);B!==null&&xe(w,B.startTime-b),O=!1}return O}finally{g=null,m=U,v=!1}}var _=!1,C=null,L=-1,T=5,E=-1;function K(){return!(e.unstable_now()-E<T)}function re(){if(C!==null){var A=e.unstable_now();E=A;var b=!0;try{b=C(!0,A)}finally{b?se():(_=!1,C=null)}}else _=!1}var se;if(typeof c=="function")se=function(){c(re)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,Re=Z.port2;Z.port1.onmessage=re,se=function(){Re.postMessage(null)}}else se=function(){j(re,0)};function ie(A){C=A,_||(_=!0,se())}function xe(A,b){L=j(function(){A(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,ie(k))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(A){switch(m){case 1:case 2:case 3:var b=3;break;default:b=m}var U=m;m=b;try{return A()}finally{m=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,b){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var U=m;m=A;try{return b()}finally{m=U}},e.unstable_scheduleCallback=function(A,b,U){var P=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?P+U:P):U=P,A){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=U+$,A={id:p++,callback:b,priorityLevel:A,startTime:U,expirationTime:$,sortIndex:-1},U>P?(A.sortIndex=U,t(d,A),n(u)===null&&A===n(d)&&(y?(h(L),L=-1):y=!0,xe(w,U-P))):(A.sortIndex=$,t(u,A),x||v||(x=!0,ie(k))),A},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(A){var b=m;return function(){var U=m;m=b;try{return A.apply(this,arguments)}finally{m=U}}}})(Tu);$u.exports=Tu;var Tp=$u.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp=R,et=Tp;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mu=new Set,Pr={};function jn(e,t){Hn(e,t),Hn(e+"Capture",t)}function Hn(e,t){for(Pr[e]=t,e=0;e<t.length;e++)Mu.add(t[e])}var Rt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),el=Object.prototype.hasOwnProperty,Ip=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Jo={},Xo={};function Op(e){return el.call(Xo,e)?!0:el.call(Jo,e)?!1:Ip.test(e)?Xo[e]=!0:(Jo[e]=!0,!1)}function Dp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fp(e,t,n,r){if(t===null||typeof t>"u"||Dp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ue(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$e[e]=new Ue(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];$e[t]=new Ue(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){$e[e]=new Ue(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$e[e]=new Ue(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$e[e]=new Ue(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){$e[e]=new Ue(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){$e[e]=new Ue(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){$e[e]=new Ue(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){$e[e]=new Ue(e,5,!1,e.toLowerCase(),null,!1,!1)});var to=/[\-:]([a-z])/g;function no(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(to,no);$e[t]=new Ue(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(to,no);$e[t]=new Ue(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(to,no);$e[t]=new Ue(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){$e[e]=new Ue(e,1,!1,e.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Ue("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){$e[e]=new Ue(e,1,!1,e.toLowerCase(),null,!0,!0)});function ro(e,t,n,r){var s=$e.hasOwnProperty(t)?$e[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fp(t,n,s,r)&&(n=null),r||s===null?Op(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var $t=Mp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ns=Symbol.for("react.element"),_n=Symbol.for("react.portal"),En=Symbol.for("react.fragment"),so=Symbol.for("react.strict_mode"),tl=Symbol.for("react.profiler"),Iu=Symbol.for("react.provider"),Ou=Symbol.for("react.context"),io=Symbol.for("react.forward_ref"),nl=Symbol.for("react.suspense"),rl=Symbol.for("react.suspense_list"),lo=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Du=Symbol.for("react.offscreen"),Zo=Symbol.iterator;function lr(e){return e===null||typeof e!="object"?null:(e=Zo&&e[Zo]||e["@@iterator"],typeof e=="function"?e:null)}var ge=Object.assign,Ni;function mr(e){if(Ni===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ni=t&&t[1]||""}return`
`+Ni+e}var Ci=!1;function _i(e,t){if(!e||Ci)return"";Ci=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{Ci=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mr(e):""}function bp(e){switch(e.tag){case 5:return mr(e.type);case 16:return mr("Lazy");case 13:return mr("Suspense");case 19:return mr("SuspenseList");case 0:case 2:case 15:return e=_i(e.type,!1),e;case 11:return e=_i(e.type.render,!1),e;case 1:return e=_i(e.type,!0),e;default:return""}}function sl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case En:return"Fragment";case _n:return"Portal";case tl:return"Profiler";case so:return"StrictMode";case nl:return"Suspense";case rl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ou:return(e.displayName||"Context")+".Consumer";case Iu:return(e._context.displayName||"Context")+".Provider";case io:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lo:return t=e.displayName||null,t!==null?t:sl(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return sl(e(t))}catch{}}return null}function Bp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sl(t);case 8:return t===so?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function en(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Up(e){var t=Fu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function rs(e){e._valueTracker||(e._valueTracker=Up(e))}function bu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Fu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function il(e,t){var n=t.checked;return ge({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ea(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=en(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bu(e,t){t=t.checked,t!=null&&ro(e,"checked",t,!1)}function ll(e,t){Bu(e,t);var n=en(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ol(e,t.type,n):t.hasOwnProperty("defaultValue")&&ol(e,t.type,en(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ta(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ol(e,t,n){(t!=="number"||zs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gr=Array.isArray;function Dn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+en(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function al(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return ge({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function na(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(z(92));if(gr(n)){if(1<n.length)throw Error(z(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:en(n)}}function Uu(e,t){var n=en(t.value),r=en(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ra(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Wu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ul(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Wu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ss,Hu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ss=ss||document.createElement("div"),ss.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ss.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Rr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wp=["Webkit","ms","Moz","O"];Object.keys(xr).forEach(function(e){Wp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),xr[t]=xr[e]})});function Vu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||xr.hasOwnProperty(e)&&xr[e]?(""+t).trim():t+"px"}function Gu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Vu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Hp=ge({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cl(e,t){if(t){if(Hp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function dl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pl=null;function oo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fl=null,Fn=null,bn=null;function sa(e){if(e=Xr(e)){if(typeof fl!="function")throw Error(z(280));var t=e.stateNode;t&&(t=oi(t),fl(e.stateNode,e.type,t))}}function Qu(e){Fn?bn?bn.push(e):bn=[e]:Fn=e}function qu(){if(Fn){var e=Fn,t=bn;if(bn=Fn=null,sa(e),t)for(e=0;e<t.length;e++)sa(t[e])}}function Ku(e,t){return e(t)}function Yu(){}var Ei=!1;function Ju(e,t,n){if(Ei)return e(t,n);Ei=!0;try{return Ku(e,t,n)}finally{Ei=!1,(Fn!==null||bn!==null)&&(Yu(),qu())}}function zr(e,t){var n=e.stateNode;if(n===null)return null;var r=oi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(z(231,t,typeof n));return n}var hl=!1;if(Rt)try{var or={};Object.defineProperty(or,"passive",{get:function(){hl=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{hl=!1}function Vp(e,t,n,r,s,i,o,a,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var jr=!1,As=null,Ls=!1,ml=null,Gp={onError:function(e){jr=!0,As=e}};function Qp(e,t,n,r,s,i,o,a,u){jr=!1,As=null,Vp.apply(Gp,arguments)}function qp(e,t,n,r,s,i,o,a,u){if(Qp.apply(this,arguments),jr){if(jr){var d=As;jr=!1,As=null}else throw Error(z(198));Ls||(Ls=!0,ml=d)}}function wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Xu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ia(e){if(wn(e)!==e)throw Error(z(188))}function Kp(e){var t=e.alternate;if(!t){if(t=wn(e),t===null)throw Error(z(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ia(s),e;if(i===r)return ia(s),t;i=i.sibling}throw Error(z(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?e:t}function Zu(e){return e=Kp(e),e!==null?ec(e):null}function ec(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ec(e);if(t!==null)return t;e=e.sibling}return null}var tc=et.unstable_scheduleCallback,la=et.unstable_cancelCallback,Yp=et.unstable_shouldYield,Jp=et.unstable_requestPaint,je=et.unstable_now,Xp=et.unstable_getCurrentPriorityLevel,ao=et.unstable_ImmediatePriority,nc=et.unstable_UserBlockingPriority,$s=et.unstable_NormalPriority,Zp=et.unstable_LowPriority,rc=et.unstable_IdlePriority,ri=null,wt=null;function ef(e){if(wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(ri,e,void 0,(e.current.flags&128)===128)}catch{}}var ft=Math.clz32?Math.clz32:rf,tf=Math.log,nf=Math.LN2;function rf(e){return e>>>=0,e===0?32:31-(tf(e)/nf|0)|0}var is=64,ls=4194304;function vr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ts(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=vr(a):(i&=o,i!==0&&(r=vr(i)))}else o=n&~s,o!==0?r=vr(o):i!==0&&(r=vr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ft(t),s=1<<n,r|=e[n],t&=~s;return r}function sf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ft(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=sf(a,t)):u<=t&&(e.expiredLanes|=a),i&=~a}}function gl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function sc(){var e=is;return is<<=1,!(is&4194240)&&(is=64),e}function Pi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Yr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ft(t),e[t]=n}function of(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ft(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function uo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ft(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var te=0;function ic(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lc,co,oc,ac,uc,vl=!1,os=[],Vt=null,Gt=null,Qt=null,Ar=new Map,Lr=new Map,bt=[],af="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function oa(e,t){switch(e){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Gt=null;break;case"mouseover":case"mouseout":Qt=null;break;case"pointerover":case"pointerout":Ar.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lr.delete(t.pointerId)}}function ar(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Xr(t),t!==null&&co(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function uf(e,t,n,r,s){switch(t){case"focusin":return Vt=ar(Vt,e,t,n,r,s),!0;case"dragenter":return Gt=ar(Gt,e,t,n,r,s),!0;case"mouseover":return Qt=ar(Qt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ar.set(i,ar(Ar.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Lr.set(i,ar(Lr.get(i)||null,e,t,n,r,s)),!0}return!1}function cc(e){var t=cn(e.target);if(t!==null){var n=wn(t);if(n!==null){if(t=n.tag,t===13){if(t=Xu(n),t!==null){e.blockedOn=t,uc(e.priority,function(){oc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pl=r,n.target.dispatchEvent(r),pl=null}else return t=Xr(n),t!==null&&co(t),e.blockedOn=n,!1;t.shift()}return!0}function aa(e,t,n){js(e)&&n.delete(t)}function cf(){vl=!1,Vt!==null&&js(Vt)&&(Vt=null),Gt!==null&&js(Gt)&&(Gt=null),Qt!==null&&js(Qt)&&(Qt=null),Ar.forEach(aa),Lr.forEach(aa)}function ur(e,t){e.blockedOn===t&&(e.blockedOn=null,vl||(vl=!0,et.unstable_scheduleCallback(et.unstable_NormalPriority,cf)))}function $r(e){function t(s){return ur(s,e)}if(0<os.length){ur(os[0],e);for(var n=1;n<os.length;n++){var r=os[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vt!==null&&ur(Vt,e),Gt!==null&&ur(Gt,e),Qt!==null&&ur(Qt,e),Ar.forEach(t),Lr.forEach(t),n=0;n<bt.length;n++)r=bt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<bt.length&&(n=bt[0],n.blockedOn===null);)cc(n),n.blockedOn===null&&bt.shift()}var Bn=$t.ReactCurrentBatchConfig,Ms=!0;function df(e,t,n,r){var s=te,i=Bn.transition;Bn.transition=null;try{te=1,po(e,t,n,r)}finally{te=s,Bn.transition=i}}function pf(e,t,n,r){var s=te,i=Bn.transition;Bn.transition=null;try{te=4,po(e,t,n,r)}finally{te=s,Bn.transition=i}}function po(e,t,n,r){if(Ms){var s=yl(e,t,n,r);if(s===null)Di(e,t,r,Is,n),oa(e,r);else if(uf(s,e,t,n,r))r.stopPropagation();else if(oa(e,r),t&4&&-1<af.indexOf(e)){for(;s!==null;){var i=Xr(s);if(i!==null&&lc(i),i=yl(e,t,n,r),i===null&&Di(e,t,r,Is,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Di(e,t,r,null,n)}}var Is=null;function yl(e,t,n,r){if(Is=null,e=oo(r),e=cn(e),e!==null)if(t=wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Xu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Is=e,null}function dc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xp()){case ao:return 1;case nc:return 4;case $s:case Zp:return 16;case rc:return 536870912;default:return 16}default:return 16}}var Ut=null,fo=null,ws=null;function pc(){if(ws)return ws;var e,t=fo,n=t.length,r,s="value"in Ut?Ut.value:Ut.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ws=s.slice(e,1<r?1-r:void 0)}function ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function as(){return!0}function ua(){return!1}function nt(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?as:ua,this.isPropagationStopped=ua,this}return ge(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=as)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=as)},persist:function(){},isPersistent:as}),t}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=nt(tr),Jr=ge({},tr,{view:0,detail:0}),ff=nt(Jr),Ri,zi,cr,si=ge({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cr&&(cr&&e.type==="mousemove"?(Ri=e.screenX-cr.screenX,zi=e.screenY-cr.screenY):zi=Ri=0,cr=e),Ri)},movementY:function(e){return"movementY"in e?e.movementY:zi}}),ca=nt(si),hf=ge({},si,{dataTransfer:0}),mf=nt(hf),gf=ge({},Jr,{relatedTarget:0}),Ai=nt(gf),vf=ge({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),yf=nt(vf),xf=ge({},tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jf=nt(xf),wf=ge({},tr,{data:0}),da=nt(wf),kf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nf[e])?!!t[e]:!1}function mo(){return Cf}var _f=ge({},Jr,{key:function(e){if(e.key){var t=kf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(e){return e.type==="keypress"?ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ef=nt(_f),Pf=ge({},si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pa=nt(Pf),Rf=ge({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),zf=nt(Rf),Af=ge({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lf=nt(Af),$f=ge({},si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tf=nt($f),Mf=[9,13,27,32],go=Rt&&"CompositionEvent"in window,wr=null;Rt&&"documentMode"in document&&(wr=document.documentMode);var If=Rt&&"TextEvent"in window&&!wr,fc=Rt&&(!go||wr&&8<wr&&11>=wr),fa=" ",ha=!1;function hc(e,t){switch(e){case"keyup":return Mf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pn=!1;function Of(e,t){switch(e){case"compositionend":return mc(t);case"keypress":return t.which!==32?null:(ha=!0,fa);case"textInput":return e=t.data,e===fa&&ha?null:e;default:return null}}function Df(e,t){if(Pn)return e==="compositionend"||!go&&hc(e,t)?(e=pc(),ws=fo=Ut=null,Pn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fc&&t.locale!=="ko"?null:t.data;default:return null}}var Ff={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ff[e.type]:t==="textarea"}function gc(e,t,n,r){Qu(r),t=Os(t,"onChange"),0<t.length&&(n=new ho("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var kr=null,Tr=null;function bf(e){Ec(e,0)}function ii(e){var t=An(e);if(bu(t))return e}function Bf(e,t){if(e==="change")return t}var vc=!1;if(Rt){var Li;if(Rt){var $i="oninput"in document;if(!$i){var ga=document.createElement("div");ga.setAttribute("oninput","return;"),$i=typeof ga.oninput=="function"}Li=$i}else Li=!1;vc=Li&&(!document.documentMode||9<document.documentMode)}function va(){kr&&(kr.detachEvent("onpropertychange",yc),Tr=kr=null)}function yc(e){if(e.propertyName==="value"&&ii(Tr)){var t=[];gc(t,Tr,e,oo(e)),Ju(bf,t)}}function Uf(e,t,n){e==="focusin"?(va(),kr=t,Tr=n,kr.attachEvent("onpropertychange",yc)):e==="focusout"&&va()}function Wf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ii(Tr)}function Hf(e,t){if(e==="click")return ii(t)}function Vf(e,t){if(e==="input"||e==="change")return ii(t)}function Gf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mt=typeof Object.is=="function"?Object.is:Gf;function Mr(e,t){if(mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!el.call(t,s)||!mt(e[s],t[s]))return!1}return!0}function ya(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xa(e,t){var n=ya(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ya(n)}}function xc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?xc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jc(){for(var e=window,t=zs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zs(e.document)}return t}function vo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qf(e){var t=jc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&xc(n.ownerDocument.documentElement,n)){if(r!==null&&vo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=xa(n,i);var o=xa(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qf=Rt&&"documentMode"in document&&11>=document.documentMode,Rn=null,xl=null,Sr=null,jl=!1;function ja(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jl||Rn==null||Rn!==zs(r)||(r=Rn,"selectionStart"in r&&vo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sr&&Mr(Sr,r)||(Sr=r,r=Os(xl,"onSelect"),0<r.length&&(t=new ho("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Rn)))}function us(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zn={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},Ti={},wc={};Rt&&(wc=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function li(e){if(Ti[e])return Ti[e];if(!zn[e])return e;var t=zn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wc)return Ti[e]=t[n];return e}var kc=li("animationend"),Sc=li("animationiteration"),Nc=li("animationstart"),Cc=li("transitionend"),_c=new Map,wa="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nn(e,t){_c.set(e,t),jn(t,[e])}for(var Mi=0;Mi<wa.length;Mi++){var Ii=wa[Mi],Kf=Ii.toLowerCase(),Yf=Ii[0].toUpperCase()+Ii.slice(1);nn(Kf,"on"+Yf)}nn(kc,"onAnimationEnd");nn(Sc,"onAnimationIteration");nn(Nc,"onAnimationStart");nn("dblclick","onDoubleClick");nn("focusin","onFocus");nn("focusout","onBlur");nn(Cc,"onTransitionEnd");Hn("onMouseEnter",["mouseout","mouseover"]);Hn("onMouseLeave",["mouseout","mouseover"]);Hn("onPointerEnter",["pointerout","pointerover"]);Hn("onPointerLeave",["pointerout","pointerover"]);jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));jn("onBeforeInput",["compositionend","keypress","textInput","paste"]);jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jf=new Set("cancel close invalid load scroll toggle".split(" ").concat(yr));function ka(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qp(r,t,void 0,e),e.currentTarget=null}function Ec(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,d=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;ka(s,a,d),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,d=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;ka(s,a,d),i=u}}}if(Ls)throw e=ml,Ls=!1,ml=null,e}function oe(e,t){var n=t[Cl];n===void 0&&(n=t[Cl]=new Set);var r=e+"__bubble";n.has(r)||(Pc(t,e,2,!1),n.add(r))}function Oi(e,t,n){var r=0;t&&(r|=4),Pc(n,e,r,t)}var cs="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){if(!e[cs]){e[cs]=!0,Mu.forEach(function(n){n!=="selectionchange"&&(Jf.has(n)||Oi(n,!1,e),Oi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cs]||(t[cs]=!0,Oi("selectionchange",!1,t))}}function Pc(e,t,n,r){switch(dc(t)){case 1:var s=df;break;case 4:s=pf;break;default:s=po}n=s.bind(null,t,n,e),s=void 0,!hl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Di(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=cn(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Ju(function(){var d=i,p=oo(n),g=[];e:{var m=_c.get(e);if(m!==void 0){var v=ho,x=e;switch(e){case"keypress":if(ks(n)===0)break e;case"keydown":case"keyup":v=Ef;break;case"focusin":x="focus",v=Ai;break;case"focusout":x="blur",v=Ai;break;case"beforeblur":case"afterblur":v=Ai;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=zf;break;case kc:case Sc:case Nc:v=yf;break;case Cc:v=Lf;break;case"scroll":v=ff;break;case"wheel":v=Tf;break;case"copy":case"cut":case"paste":v=jf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=pa}var y=(t&4)!==0,j=!y&&e==="scroll",h=y?m!==null?m+"Capture":null:m;y=[];for(var c=d,f;c!==null;){f=c;var w=f.stateNode;if(f.tag===5&&w!==null&&(f=w,h!==null&&(w=zr(c,h),w!=null&&y.push(Or(c,w,f)))),j)break;c=c.return}0<y.length&&(m=new v(m,x,null,n,p),g.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==pl&&(x=n.relatedTarget||n.fromElement)&&(cn(x)||x[zt]))break e;if((v||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=d,x=x?cn(x):null,x!==null&&(j=wn(x),x!==j||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=d),v!==x)){if(y=ca,w="onMouseLeave",h="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(y=pa,w="onPointerLeave",h="onPointerEnter",c="pointer"),j=v==null?m:An(v),f=x==null?m:An(x),m=new y(w,c+"leave",v,n,p),m.target=j,m.relatedTarget=f,w=null,cn(p)===d&&(y=new y(h,c+"enter",x,n,p),y.target=f,y.relatedTarget=j,w=y),j=w,v&&x)t:{for(y=v,h=x,c=0,f=y;f;f=Sn(f))c++;for(f=0,w=h;w;w=Sn(w))f++;for(;0<c-f;)y=Sn(y),c--;for(;0<f-c;)h=Sn(h),f--;for(;c--;){if(y===h||h!==null&&y===h.alternate)break t;y=Sn(y),h=Sn(h)}y=null}else y=null;v!==null&&Sa(g,m,v,y,!1),x!==null&&j!==null&&Sa(g,j,x,y,!0)}}e:{if(m=d?An(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var k=Bf;else if(ma(m))if(vc)k=Vf;else{k=Wf;var _=Uf}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=Hf);if(k&&(k=k(e,d))){gc(g,k,n,p);break e}_&&_(e,m,d),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&ol(m,"number",m.value)}switch(_=d?An(d):window,e){case"focusin":(ma(_)||_.contentEditable==="true")&&(Rn=_,xl=d,Sr=null);break;case"focusout":Sr=xl=Rn=null;break;case"mousedown":jl=!0;break;case"contextmenu":case"mouseup":case"dragend":jl=!1,ja(g,n,p);break;case"selectionchange":if(qf)break;case"keydown":case"keyup":ja(g,n,p)}var C;if(go)e:{switch(e){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else Pn?hc(e,n)&&(L="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(L="onCompositionStart");L&&(fc&&n.locale!=="ko"&&(Pn||L!=="onCompositionStart"?L==="onCompositionEnd"&&Pn&&(C=pc()):(Ut=p,fo="value"in Ut?Ut.value:Ut.textContent,Pn=!0)),_=Os(d,L),0<_.length&&(L=new da(L,e,null,n,p),g.push({event:L,listeners:_}),C?L.data=C:(C=mc(n),C!==null&&(L.data=C)))),(C=If?Of(e,n):Df(e,n))&&(d=Os(d,"onBeforeInput"),0<d.length&&(p=new da("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:d}),p.data=C))}Ec(g,t)})}function Or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Os(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zr(e,n),i!=null&&r.unshift(Or(e,i,s)),i=zr(e,t),i!=null&&r.push(Or(e,i,s))),e=e.return}return r}function Sn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Sa(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,d=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&d!==null&&(a=d,s?(u=zr(n,i),u!=null&&o.unshift(Or(n,u,a))):s||(u=zr(n,i),u!=null&&o.push(Or(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Xf=/\r\n?/g,Zf=/\u0000|\uFFFD/g;function Na(e){return(typeof e=="string"?e:""+e).replace(Xf,`
`).replace(Zf,"")}function ds(e,t,n){if(t=Na(t),Na(e)!==t&&n)throw Error(z(425))}function Ds(){}var wl=null,kl=null;function Sl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nl=typeof setTimeout=="function"?setTimeout:void 0,eh=typeof clearTimeout=="function"?clearTimeout:void 0,Ca=typeof Promise=="function"?Promise:void 0,th=typeof queueMicrotask=="function"?queueMicrotask:typeof Ca<"u"?function(e){return Ca.resolve(null).then(e).catch(nh)}:Nl;function nh(e){setTimeout(function(){throw e})}function Fi(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),$r(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$r(t)}function qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function _a(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var nr=Math.random().toString(36).slice(2),xt="__reactFiber$"+nr,Dr="__reactProps$"+nr,zt="__reactContainer$"+nr,Cl="__reactEvents$"+nr,rh="__reactListeners$"+nr,sh="__reactHandles$"+nr;function cn(e){var t=e[xt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zt]||n[xt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=_a(e);e!==null;){if(n=e[xt])return n;e=_a(e)}return t}e=n,n=e.parentNode}return null}function Xr(e){return e=e[xt]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function An(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function oi(e){return e[Dr]||null}var _l=[],Ln=-1;function rn(e){return{current:e}}function ae(e){0>Ln||(e.current=_l[Ln],_l[Ln]=null,Ln--)}function ne(e,t){Ln++,_l[Ln]=e.current,e.current=t}var tn={},De=rn(tn),Qe=rn(!1),mn=tn;function Vn(e,t){var n=e.type.contextTypes;if(!n)return tn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qe(e){return e=e.childContextTypes,e!=null}function Fs(){ae(Qe),ae(De)}function Ea(e,t,n){if(De.current!==tn)throw Error(z(168));ne(De,t),ne(Qe,n)}function Rc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(z(108,Bp(e)||"Unknown",s));return ge({},n,r)}function bs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tn,mn=De.current,ne(De,e),ne(Qe,Qe.current),!0}function Pa(e,t,n){var r=e.stateNode;if(!r)throw Error(z(169));n?(e=Rc(e,t,mn),r.__reactInternalMemoizedMergedChildContext=e,ae(Qe),ae(De),ne(De,e)):ae(Qe),ne(Qe,n)}var Nt=null,ai=!1,bi=!1;function zc(e){Nt===null?Nt=[e]:Nt.push(e)}function ih(e){ai=!0,zc(e)}function sn(){if(!bi&&Nt!==null){bi=!0;var e=0,t=te;try{var n=Nt;for(te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Nt=null,ai=!1}catch(s){throw Nt!==null&&(Nt=Nt.slice(e+1)),tc(ao,sn),s}finally{te=t,bi=!1}}return null}var $n=[],Tn=0,Bs=null,Us=0,rt=[],st=0,gn=null,_t=1,Et="";function on(e,t){$n[Tn++]=Us,$n[Tn++]=Bs,Bs=e,Us=t}function Ac(e,t,n){rt[st++]=_t,rt[st++]=Et,rt[st++]=gn,gn=e;var r=_t;e=Et;var s=32-ft(r)-1;r&=~(1<<s),n+=1;var i=32-ft(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,_t=1<<32-ft(t)+s|n<<s|r,Et=i+e}else _t=1<<i|n<<s|r,Et=e}function yo(e){e.return!==null&&(on(e,1),Ac(e,1,0))}function xo(e){for(;e===Bs;)Bs=$n[--Tn],$n[Tn]=null,Us=$n[--Tn],$n[Tn]=null;for(;e===gn;)gn=rt[--st],rt[st]=null,Et=rt[--st],rt[st]=null,_t=rt[--st],rt[st]=null}var Ze=null,Xe=null,ce=!1,pt=null;function Lc(e,t){var n=it(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ra(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,Xe=qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=gn!==null?{id:_t,overflow:Et}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=it(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ze=e,Xe=null,!0):!1;default:return!1}}function El(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pl(e){if(ce){var t=Xe;if(t){var n=t;if(!Ra(e,t)){if(El(e))throw Error(z(418));t=qt(n.nextSibling);var r=Ze;t&&Ra(e,t)?Lc(r,n):(e.flags=e.flags&-4097|2,ce=!1,Ze=e)}}else{if(El(e))throw Error(z(418));e.flags=e.flags&-4097|2,ce=!1,Ze=e}}}function za(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function ps(e){if(e!==Ze)return!1;if(!ce)return za(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sl(e.type,e.memoizedProps)),t&&(t=Xe)){if(El(e))throw $c(),Error(z(418));for(;t;)Lc(e,t),t=qt(t.nextSibling)}if(za(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xe=qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=Ze?qt(e.stateNode.nextSibling):null;return!0}function $c(){for(var e=Xe;e;)e=qt(e.nextSibling)}function Gn(){Xe=Ze=null,ce=!1}function jo(e){pt===null?pt=[e]:pt.push(e)}var lh=$t.ReactCurrentBatchConfig;function dr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,e))}return e}function fs(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Aa(e){var t=e._init;return t(e._payload)}function Tc(e){function t(h,c){if(e){var f=h.deletions;f===null?(h.deletions=[c],h.flags|=16):f.push(c)}}function n(h,c){if(!e)return null;for(;c!==null;)t(h,c),c=c.sibling;return null}function r(h,c){for(h=new Map;c!==null;)c.key!==null?h.set(c.key,c):h.set(c.index,c),c=c.sibling;return h}function s(h,c){return h=Xt(h,c),h.index=0,h.sibling=null,h}function i(h,c,f){return h.index=f,e?(f=h.alternate,f!==null?(f=f.index,f<c?(h.flags|=2,c):f):(h.flags|=2,c)):(h.flags|=1048576,c)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,c,f,w){return c===null||c.tag!==6?(c=Qi(f,h.mode,w),c.return=h,c):(c=s(c,f),c.return=h,c)}function u(h,c,f,w){var k=f.type;return k===En?p(h,c,f.props.children,w,f.key):c!==null&&(c.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Dt&&Aa(k)===c.type)?(w=s(c,f.props),w.ref=dr(h,c,f),w.return=h,w):(w=Rs(f.type,f.key,f.props,null,h.mode,w),w.ref=dr(h,c,f),w.return=h,w)}function d(h,c,f,w){return c===null||c.tag!==4||c.stateNode.containerInfo!==f.containerInfo||c.stateNode.implementation!==f.implementation?(c=qi(f,h.mode,w),c.return=h,c):(c=s(c,f.children||[]),c.return=h,c)}function p(h,c,f,w,k){return c===null||c.tag!==7?(c=hn(f,h.mode,w,k),c.return=h,c):(c=s(c,f),c.return=h,c)}function g(h,c,f){if(typeof c=="string"&&c!==""||typeof c=="number")return c=Qi(""+c,h.mode,f),c.return=h,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case ns:return f=Rs(c.type,c.key,c.props,null,h.mode,f),f.ref=dr(h,null,c),f.return=h,f;case _n:return c=qi(c,h.mode,f),c.return=h,c;case Dt:var w=c._init;return g(h,w(c._payload),f)}if(gr(c)||lr(c))return c=hn(c,h.mode,f,null),c.return=h,c;fs(h,c)}return null}function m(h,c,f,w){var k=c!==null?c.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return k!==null?null:a(h,c,""+f,w);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ns:return f.key===k?u(h,c,f,w):null;case _n:return f.key===k?d(h,c,f,w):null;case Dt:return k=f._init,m(h,c,k(f._payload),w)}if(gr(f)||lr(f))return k!==null?null:p(h,c,f,w,null);fs(h,f)}return null}function v(h,c,f,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(f)||null,a(c,h,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ns:return h=h.get(w.key===null?f:w.key)||null,u(c,h,w,k);case _n:return h=h.get(w.key===null?f:w.key)||null,d(c,h,w,k);case Dt:var _=w._init;return v(h,c,f,_(w._payload),k)}if(gr(w)||lr(w))return h=h.get(f)||null,p(c,h,w,k,null);fs(c,w)}return null}function x(h,c,f,w){for(var k=null,_=null,C=c,L=c=0,T=null;C!==null&&L<f.length;L++){C.index>L?(T=C,C=null):T=C.sibling;var E=m(h,C,f[L],w);if(E===null){C===null&&(C=T);break}e&&C&&E.alternate===null&&t(h,C),c=i(E,c,L),_===null?k=E:_.sibling=E,_=E,C=T}if(L===f.length)return n(h,C),ce&&on(h,L),k;if(C===null){for(;L<f.length;L++)C=g(h,f[L],w),C!==null&&(c=i(C,c,L),_===null?k=C:_.sibling=C,_=C);return ce&&on(h,L),k}for(C=r(h,C);L<f.length;L++)T=v(C,h,L,f[L],w),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?L:T.key),c=i(T,c,L),_===null?k=T:_.sibling=T,_=T);return e&&C.forEach(function(K){return t(h,K)}),ce&&on(h,L),k}function y(h,c,f,w){var k=lr(f);if(typeof k!="function")throw Error(z(150));if(f=k.call(f),f==null)throw Error(z(151));for(var _=k=null,C=c,L=c=0,T=null,E=f.next();C!==null&&!E.done;L++,E=f.next()){C.index>L?(T=C,C=null):T=C.sibling;var K=m(h,C,E.value,w);if(K===null){C===null&&(C=T);break}e&&C&&K.alternate===null&&t(h,C),c=i(K,c,L),_===null?k=K:_.sibling=K,_=K,C=T}if(E.done)return n(h,C),ce&&on(h,L),k;if(C===null){for(;!E.done;L++,E=f.next())E=g(h,E.value,w),E!==null&&(c=i(E,c,L),_===null?k=E:_.sibling=E,_=E);return ce&&on(h,L),k}for(C=r(h,C);!E.done;L++,E=f.next())E=v(C,h,L,E.value,w),E!==null&&(e&&E.alternate!==null&&C.delete(E.key===null?L:E.key),c=i(E,c,L),_===null?k=E:_.sibling=E,_=E);return e&&C.forEach(function(re){return t(h,re)}),ce&&on(h,L),k}function j(h,c,f,w){if(typeof f=="object"&&f!==null&&f.type===En&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case ns:e:{for(var k=f.key,_=c;_!==null;){if(_.key===k){if(k=f.type,k===En){if(_.tag===7){n(h,_.sibling),c=s(_,f.props.children),c.return=h,h=c;break e}}else if(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Dt&&Aa(k)===_.type){n(h,_.sibling),c=s(_,f.props),c.ref=dr(h,_,f),c.return=h,h=c;break e}n(h,_);break}else t(h,_);_=_.sibling}f.type===En?(c=hn(f.props.children,h.mode,w,f.key),c.return=h,h=c):(w=Rs(f.type,f.key,f.props,null,h.mode,w),w.ref=dr(h,c,f),w.return=h,h=w)}return o(h);case _n:e:{for(_=f.key;c!==null;){if(c.key===_)if(c.tag===4&&c.stateNode.containerInfo===f.containerInfo&&c.stateNode.implementation===f.implementation){n(h,c.sibling),c=s(c,f.children||[]),c.return=h,h=c;break e}else{n(h,c);break}else t(h,c);c=c.sibling}c=qi(f,h.mode,w),c.return=h,h=c}return o(h);case Dt:return _=f._init,j(h,c,_(f._payload),w)}if(gr(f))return x(h,c,f,w);if(lr(f))return y(h,c,f,w);fs(h,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,c!==null&&c.tag===6?(n(h,c.sibling),c=s(c,f),c.return=h,h=c):(n(h,c),c=Qi(f,h.mode,w),c.return=h,h=c),o(h)):n(h,c)}return j}var Qn=Tc(!0),Mc=Tc(!1),Ws=rn(null),Hs=null,Mn=null,wo=null;function ko(){wo=Mn=Hs=null}function So(e){var t=Ws.current;ae(Ws),e._currentValue=t}function Rl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Un(e,t){Hs=e,wo=Mn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ge=!0),e.firstContext=null)}function ot(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},Mn===null){if(Hs===null)throw Error(z(308));Mn=e,Hs.dependencies={lanes:0,firstContext:e}}else Mn=Mn.next=e;return t}var dn=null;function No(e){dn===null?dn=[e]:dn.push(e)}function Ic(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,No(t)):(n.next=s.next,s.next=n),t.interleaved=n,At(e,r)}function At(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ft=!1;function Co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,At(e,n)}return s=r.interleaved,s===null?(t.next=t,No(r)):(t.next=s.next,s.next=t),r.interleaved=t,At(e,n)}function Ss(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,uo(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,r){var s=e.updateQueue;Ft=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=u))}if(i!==null){var g=s.baseState;o=0,p=d=u=null,a=i;do{var m=a.lane,v=a.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,y=a;switch(m=t,v=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){g=x.call(v,g,m);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(v,g,m):x,m==null)break e;g=ge({},g,m);break e;case 2:Ft=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=v,u=g):p=p.next=v,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(p===null&&(u=g),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);yn|=o,e.lanes=o,e.memoizedState=g}}function $a(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(z(191,s));s.call(r)}}}var Zr={},kt=rn(Zr),Fr=rn(Zr),br=rn(Zr);function pn(e){if(e===Zr)throw Error(z(174));return e}function _o(e,t){switch(ne(br,t),ne(Fr,e),ne(kt,Zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ul(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ul(t,e)}ae(kt),ne(kt,t)}function qn(){ae(kt),ae(Fr),ae(br)}function Dc(e){pn(br.current);var t=pn(kt.current),n=ul(t,e.type);t!==n&&(ne(Fr,e),ne(kt,n))}function Eo(e){Fr.current===e&&(ae(kt),ae(Fr))}var fe=rn(0);function Gs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bi=[];function Po(){for(var e=0;e<Bi.length;e++)Bi[e]._workInProgressVersionPrimary=null;Bi.length=0}var Ns=$t.ReactCurrentDispatcher,Ui=$t.ReactCurrentBatchConfig,vn=0,he=null,Ce=null,Ee=null,Qs=!1,Nr=!1,Br=0,oh=0;function Me(){throw Error(z(321))}function Ro(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mt(e[n],t[n]))return!1;return!0}function zo(e,t,n,r,s,i){if(vn=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ns.current=e===null||e.memoizedState===null?dh:ph,e=n(r,s),Nr){i=0;do{if(Nr=!1,Br=0,25<=i)throw Error(z(301));i+=1,Ee=Ce=null,t.updateQueue=null,Ns.current=fh,e=n(r,s)}while(Nr)}if(Ns.current=qs,t=Ce!==null&&Ce.next!==null,vn=0,Ee=Ce=he=null,Qs=!1,t)throw Error(z(300));return e}function Ao(){var e=Br!==0;return Br=0,e}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?he.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function at(){if(Ce===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Ee===null?he.memoizedState:Ee.next;if(t!==null)Ee=t,Ce=e;else{if(e===null)throw Error(z(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ee===null?he.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Ur(e,t){return typeof t=="function"?t(e):t}function Wi(e){var t=at(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=Ce,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,d=i;do{var p=d.lane;if((vn&p)===p)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var g={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(a=u=g,o=r):u=u.next=g,he.lanes|=p,yn|=p}d=d.next}while(d!==null&&d!==i);u===null?o=r:u.next=a,mt(r,t.memoizedState)||(Ge=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,he.lanes|=i,yn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hi(e){var t=at(),n=t.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);mt(i,t.memoizedState)||(Ge=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Fc(){}function bc(e,t){var n=he,r=at(),s=t(),i=!mt(r.memoizedState,s);if(i&&(r.memoizedState=s,Ge=!0),r=r.queue,Lo(Wc.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,Wr(9,Uc.bind(null,n,r,s,t),void 0,null),Pe===null)throw Error(z(349));vn&30||Bc(n,t,s)}return s}function Bc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uc(e,t,n,r){t.value=n,t.getSnapshot=r,Hc(t)&&Vc(e)}function Wc(e,t,n){return n(function(){Hc(t)&&Vc(e)})}function Hc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mt(e,n)}catch{return!0}}function Vc(e){var t=At(e,1);t!==null&&ht(t,e,1,-1)}function Ta(e){var t=vt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ur,lastRenderedState:e},t.queue=e,e=e.dispatch=ch.bind(null,he,e),[t.memoizedState,e]}function Wr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Gc(){return at().memoizedState}function Cs(e,t,n,r){var s=vt();he.flags|=e,s.memoizedState=Wr(1|t,n,void 0,r===void 0?null:r)}function ui(e,t,n,r){var s=at();r=r===void 0?null:r;var i=void 0;if(Ce!==null){var o=Ce.memoizedState;if(i=o.destroy,r!==null&&Ro(r,o.deps)){s.memoizedState=Wr(t,n,i,r);return}}he.flags|=e,s.memoizedState=Wr(1|t,n,i,r)}function Ma(e,t){return Cs(8390656,8,e,t)}function Lo(e,t){return ui(2048,8,e,t)}function Qc(e,t){return ui(4,2,e,t)}function qc(e,t){return ui(4,4,e,t)}function Kc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yc(e,t,n){return n=n!=null?n.concat([e]):null,ui(4,4,Kc.bind(null,t,e),n)}function $o(){}function Jc(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ro(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Xc(e,t){var n=at();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Ro(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zc(e,t,n){return vn&21?(mt(n,t)||(n=sc(),he.lanes|=n,yn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ge=!0),e.memoizedState=n)}function ah(e,t){var n=te;te=n!==0&&4>n?n:4,e(!0);var r=Ui.transition;Ui.transition={};try{e(!1),t()}finally{te=n,Ui.transition=r}}function ed(){return at().memoizedState}function uh(e,t,n){var r=Jt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},td(e))nd(t,n);else if(n=Ic(e,t,n,r),n!==null){var s=be();ht(n,e,r,s),rd(n,t,r)}}function ch(e,t,n){var r=Jt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(td(e))nd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,mt(a,o)){var u=t.interleaved;u===null?(s.next=s,No(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Ic(e,t,s,r),n!==null&&(s=be(),ht(n,e,r,s),rd(n,t,r))}}function td(e){var t=e.alternate;return e===he||t!==null&&t===he}function nd(e,t){Nr=Qs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function rd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,uo(e,n)}}var qs={readContext:ot,useCallback:Me,useContext:Me,useEffect:Me,useImperativeHandle:Me,useInsertionEffect:Me,useLayoutEffect:Me,useMemo:Me,useReducer:Me,useRef:Me,useState:Me,useDebugValue:Me,useDeferredValue:Me,useTransition:Me,useMutableSource:Me,useSyncExternalStore:Me,useId:Me,unstable_isNewReconciler:!1},dh={readContext:ot,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Cs(4194308,4,Kc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Cs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cs(4,2,e,t)},useMemo:function(e,t){var n=vt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=uh.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:Ta,useDebugValue:$o,useDeferredValue:function(e){return vt().memoizedState=e},useTransition:function(){var e=Ta(!1),t=e[0];return e=ah.bind(null,e[1]),vt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,s=vt();if(ce){if(n===void 0)throw Error(z(407));n=n()}else{if(n=t(),Pe===null)throw Error(z(349));vn&30||Bc(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ma(Wc.bind(null,r,i,e),[e]),r.flags|=2048,Wr(9,Uc.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=vt(),t=Pe.identifierPrefix;if(ce){var n=Et,r=_t;n=(r&~(1<<32-ft(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Br++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=oh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ph={readContext:ot,useCallback:Jc,useContext:ot,useEffect:Lo,useImperativeHandle:Yc,useInsertionEffect:Qc,useLayoutEffect:qc,useMemo:Xc,useReducer:Wi,useRef:Gc,useState:function(){return Wi(Ur)},useDebugValue:$o,useDeferredValue:function(e){var t=at();return Zc(t,Ce.memoizedState,e)},useTransition:function(){var e=Wi(Ur)[0],t=at().memoizedState;return[e,t]},useMutableSource:Fc,useSyncExternalStore:bc,useId:ed,unstable_isNewReconciler:!1},fh={readContext:ot,useCallback:Jc,useContext:ot,useEffect:Lo,useImperativeHandle:Yc,useInsertionEffect:Qc,useLayoutEffect:qc,useMemo:Xc,useReducer:Hi,useRef:Gc,useState:function(){return Hi(Ur)},useDebugValue:$o,useDeferredValue:function(e){var t=at();return Ce===null?t.memoizedState=e:Zc(t,Ce.memoizedState,e)},useTransition:function(){var e=Hi(Ur)[0],t=at().memoizedState;return[e,t]},useMutableSource:Fc,useSyncExternalStore:bc,useId:ed,unstable_isNewReconciler:!1};function ct(e,t){if(e&&e.defaultProps){t=ge({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function zl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ge({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ci={isMounted:function(e){return(e=e._reactInternals)?wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=be(),s=Jt(e),i=Pt(r,s);i.payload=t,n!=null&&(i.callback=n),t=Kt(e,i,s),t!==null&&(ht(t,e,s,r),Ss(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=be(),s=Jt(e),i=Pt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Kt(e,i,s),t!==null&&(ht(t,e,s,r),Ss(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=be(),r=Jt(e),s=Pt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Kt(e,s,r),t!==null&&(ht(t,e,r,n),Ss(t,e,r))}};function Ia(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,r)||!Mr(s,i):!0}function sd(e,t,n){var r=!1,s=tn,i=t.contextType;return typeof i=="object"&&i!==null?i=ot(i):(s=qe(t)?mn:De.current,r=t.contextTypes,i=(r=r!=null)?Vn(e,s):tn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ci,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Oa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ci.enqueueReplaceState(t,t.state,null)}function Al(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Co(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=ot(i):(i=qe(t)?mn:De.current,s.context=Vn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(zl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ci.enqueueReplaceState(s,s.state,null),Vs(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Kn(e,t){try{var n="",r=t;do n+=bp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Vi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ll(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hh=typeof WeakMap=="function"?WeakMap:Map;function id(e,t,n){n=Pt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Ul=r),Ll(e,t)},n}function ld(e,t,n){n=Pt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Ll(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ll(e,t),typeof r!="function"&&(Yt===null?Yt=new Set([this]):Yt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Da(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new hh;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Ph.bind(null,e,t,n),t.then(e,e))}function Fa(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ba(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pt(-1,1),t.tag=2,Kt(n,t,1))),n.lanes|=1),e)}var mh=$t.ReactCurrentOwner,Ge=!1;function Fe(e,t,n,r){t.child=e===null?Mc(t,null,n,r):Qn(t,e.child,n,r)}function Ba(e,t,n,r,s){n=n.render;var i=t.ref;return Un(t,s),r=zo(e,t,n,r,i,s),n=Ao(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lt(e,t,s)):(ce&&n&&yo(t),t.flags|=1,Fe(e,t,r,s),t.child)}function Ua(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Bo(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,od(e,t,i,r,s)):(e=Rs(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mr,n(o,r)&&e.ref===t.ref)return Lt(e,t,s)}return t.flags|=1,e=Xt(i,r),e.ref=t.ref,e.return=t,t.child=e}function od(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Mr(i,r)&&e.ref===t.ref)if(Ge=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Ge=!0);else return t.lanes=e.lanes,Lt(e,t,s)}return $l(e,t,n,r,s)}function ad(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ne(On,Je),Je|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ne(On,Je),Je|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ne(On,Je),Je|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,ne(On,Je),Je|=r;return Fe(e,t,s,n),t.child}function ud(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function $l(e,t,n,r,s){var i=qe(n)?mn:De.current;return i=Vn(t,i),Un(t,s),n=zo(e,t,n,r,i,s),r=Ao(),e!==null&&!Ge?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lt(e,t,s)):(ce&&r&&yo(t),t.flags|=1,Fe(e,t,n,s),t.child)}function Wa(e,t,n,r,s){if(qe(n)){var i=!0;bs(t)}else i=!1;if(Un(t,s),t.stateNode===null)_s(e,t),sd(t,n,r),Al(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=ot(d):(d=qe(n)?mn:De.current,d=Vn(t,d));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==d)&&Oa(t,o,r,d),Ft=!1;var m=t.memoizedState;o.state=m,Vs(t,r,o,s),u=t.memoizedState,a!==r||m!==u||Qe.current||Ft?(typeof p=="function"&&(zl(t,n,p,r),u=t.memoizedState),(a=Ft||Ia(t,n,a,r,m,u,d))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Oc(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:ct(t.type,a),o.props=d,g=t.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ot(u):(u=qe(n)?mn:De.current,u=Vn(t,u));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||m!==u)&&Oa(t,o,r,u),Ft=!1,m=t.memoizedState,o.state=m,Vs(t,r,o,s);var x=t.memoizedState;a!==g||m!==x||Qe.current||Ft?(typeof v=="function"&&(zl(t,n,v,r),x=t.memoizedState),(d=Ft||Ia(t,n,d,r,m,x,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Tl(e,t,n,r,i,s)}function Tl(e,t,n,r,s,i){ud(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Pa(t,n,!1),Lt(e,t,i);r=t.stateNode,mh.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Qn(t,e.child,null,i),t.child=Qn(t,null,a,i)):Fe(e,t,a,i),t.memoizedState=r.state,s&&Pa(t,n,!0),t.child}function cd(e){var t=e.stateNode;t.pendingContext?Ea(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ea(e,t.context,!1),_o(e,t.containerInfo)}function Ha(e,t,n,r,s){return Gn(),jo(s),t.flags|=256,Fe(e,t,n,r),t.child}var Ml={dehydrated:null,treeContext:null,retryLane:0};function Il(e){return{baseLanes:e,cachePool:null,transitions:null}}function dd(e,t,n){var r=t.pendingProps,s=fe.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ne(fe,s&1),e===null)return Pl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=fi(o,r,0,null),e=hn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Il(n),t.memoizedState=Ml,e):To(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return gh(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Xt(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Xt(a,i):(i=hn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Il(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=Ml,r}return i=e.child,e=i.sibling,r=Xt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function To(e,t){return t=fi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hs(e,t,n,r){return r!==null&&jo(r),Qn(t,e.child,null,n),e=To(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gh(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Vi(Error(z(422))),hs(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=fi({mode:"visible",children:r.children},s,0,null),i=hn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Qn(t,e.child,null,o),t.child.memoizedState=Il(o),t.memoizedState=Ml,i);if(!(t.mode&1))return hs(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(z(419)),r=Vi(i,r,void 0),hs(e,t,o,r)}if(a=(o&e.childLanes)!==0,Ge||a){if(r=Pe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,At(e,s),ht(r,e,s,-1))}return bo(),r=Vi(Error(z(421))),hs(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Rh.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Xe=qt(s.nextSibling),Ze=t,ce=!0,pt=null,e!==null&&(rt[st++]=_t,rt[st++]=Et,rt[st++]=gn,_t=e.id,Et=e.overflow,gn=t),t=To(t,r.children),t.flags|=4096,t)}function Va(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Rl(e.return,t,n)}function Gi(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function pd(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Fe(e,t,r.children,n),r=fe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Va(e,n,t);else if(e.tag===19)Va(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ne(fe,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Gs(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Gi(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gs(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Gi(t,!0,n,null,i);break;case"together":Gi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _s(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,n=Xt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Xt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vh(e,t,n){switch(t.tag){case 3:cd(t),Gn();break;case 5:Dc(t);break;case 1:qe(t.type)&&bs(t);break;case 4:_o(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ne(Ws,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ne(fe,fe.current&1),t.flags|=128,null):n&t.child.childLanes?dd(e,t,n):(ne(fe,fe.current&1),e=Lt(e,t,n),e!==null?e.sibling:null);ne(fe,fe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return pd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ne(fe,fe.current),r)break;return null;case 22:case 23:return t.lanes=0,ad(e,t,n)}return Lt(e,t,n)}var fd,Ol,hd,md;fd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ol=function(){};hd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,pn(kt.current);var i=null;switch(n){case"input":s=il(e,s),r=il(e,r),i=[];break;case"select":s=ge({},s,{value:void 0}),r=ge({},r,{value:void 0}),i=[];break;case"textarea":s=al(e,s),r=al(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ds)}cl(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Pr.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==a&&(u!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Pr.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&oe("scroll",e),i||a===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};md=function(e,t,n,r){n!==r&&(t.flags|=4)};function pr(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function yh(e,t,n){var r=t.pendingProps;switch(xo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return qe(t.type)&&Fs(),Ie(t),null;case 3:return r=t.stateNode,qn(),ae(Qe),ae(De),Po(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,pt!==null&&(Vl(pt),pt=null))),Ol(e,t),Ie(t),null;case 5:Eo(t);var s=pn(br.current);if(n=t.type,e!==null&&t.stateNode!=null)hd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(z(166));return Ie(t),null}if(e=pn(kt.current),ps(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[xt]=t,r[Dr]=i,e=(t.mode&1)!==0,n){case"dialog":oe("cancel",r),oe("close",r);break;case"iframe":case"object":case"embed":oe("load",r);break;case"video":case"audio":for(s=0;s<yr.length;s++)oe(yr[s],r);break;case"source":oe("error",r);break;case"img":case"image":case"link":oe("error",r),oe("load",r);break;case"details":oe("toggle",r);break;case"input":ea(r,i),oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},oe("invalid",r);break;case"textarea":na(r,i),oe("invalid",r)}cl(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ds(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ds(r.textContent,a,e),s=["children",""+a]):Pr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&oe("scroll",r)}switch(n){case"input":rs(r),ta(r,i,!0);break;case"textarea":rs(r),ra(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ds)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Wu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[xt]=t,e[Dr]=r,fd(e,t,!1,!1),t.stateNode=e;e:{switch(o=dl(n,r),n){case"dialog":oe("cancel",e),oe("close",e),s=r;break;case"iframe":case"object":case"embed":oe("load",e),s=r;break;case"video":case"audio":for(s=0;s<yr.length;s++)oe(yr[s],e);s=r;break;case"source":oe("error",e),s=r;break;case"img":case"image":case"link":oe("error",e),oe("load",e),s=r;break;case"details":oe("toggle",e),s=r;break;case"input":ea(e,r),s=il(e,r),oe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ge({},r,{value:void 0}),oe("invalid",e);break;case"textarea":na(e,r),s=al(e,r),oe("invalid",e);break;default:s=r}cl(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Gu(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Hu(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Rr(e,u):typeof u=="number"&&Rr(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Pr.hasOwnProperty(i)?u!=null&&i==="onScroll"&&oe("scroll",e):u!=null&&ro(e,i,u,o))}switch(n){case"input":rs(e),ta(e,r,!1);break;case"textarea":rs(e),ra(e);break;case"option":r.value!=null&&e.setAttribute("value",""+en(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Dn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Dn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ds)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)md(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(z(166));if(n=pn(br.current),pn(kt.current),ps(t)){if(r=t.stateNode,n=t.memoizedProps,r[xt]=t,(i=r.nodeValue!==n)&&(e=Ze,e!==null))switch(e.tag){case 3:ds(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ds(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xt]=t,t.stateNode=r}return Ie(t),null;case 13:if(ae(fe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&Xe!==null&&t.mode&1&&!(t.flags&128))$c(),Gn(),t.flags|=98560,i=!1;else if(i=ps(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(z(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(z(317));i[xt]=t}else Gn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),i=!1}else pt!==null&&(Vl(pt),pt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||fe.current&1?_e===0&&(_e=3):bo())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return qn(),Ol(e,t),e===null&&Ir(t.stateNode.containerInfo),Ie(t),null;case 10:return So(t.type._context),Ie(t),null;case 17:return qe(t.type)&&Fs(),Ie(t),null;case 19:if(ae(fe),i=t.memoizedState,i===null)return Ie(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)pr(i,!1);else{if(_e!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gs(e),o!==null){for(t.flags|=128,pr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ne(fe,fe.current&1|2),t.child}e=e.sibling}i.tail!==null&&je()>Yn&&(t.flags|=128,r=!0,pr(i,!1),t.lanes=4194304)}else{if(!r)if(e=Gs(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),pr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ce)return Ie(t),null}else 2*je()-i.renderingStartTime>Yn&&n!==1073741824&&(t.flags|=128,r=!0,pr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=je(),t.sibling=null,n=fe.current,ne(fe,r?n&1|2:n&1),t):(Ie(t),null);case 22:case 23:return Fo(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Je&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function xh(e,t){switch(xo(t),t.tag){case 1:return qe(t.type)&&Fs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qn(),ae(Qe),ae(De),Po(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Eo(t),null;case 13:if(ae(fe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));Gn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(fe),null;case 4:return qn(),null;case 10:return So(t.type._context),null;case 22:case 23:return Fo(),null;case 24:return null;default:return null}}var ms=!1,Oe=!1,jh=typeof WeakSet=="function"?WeakSet:Set,I=null;function In(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function Dl(e,t,n){try{n()}catch(r){ye(e,t,r)}}var Ga=!1;function wh(e,t){if(wl=Ms,e=jc(),vo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,d=0,p=0,g=e,m=null;t:for(;;){for(var v;g!==n||s!==0&&g.nodeType!==3||(a=o+s),g!==i||r!==0&&g.nodeType!==3||(u=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(v=g.firstChild)!==null;)m=g,g=v;for(;;){if(g===e)break t;if(m===n&&++d===s&&(a=o),m===i&&++p===r&&(u=o),(v=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(kl={focusedElem:e,selectionRange:n},Ms=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,j=x.memoizedState,h=t.stateNode,c=h.getSnapshotBeforeUpdate(t.elementType===t.type?y:ct(t.type,y),j);h.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(w){ye(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return x=Ga,Ga=!1,x}function Cr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Dl(t,n,i)}s=s.next}while(s!==r)}}function di(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Fl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function gd(e){var t=e.alternate;t!==null&&(e.alternate=null,gd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[xt],delete t[Dr],delete t[Cl],delete t[rh],delete t[sh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vd(e){return e.tag===5||e.tag===3||e.tag===4}function Qa(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function bl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ds));else if(r!==4&&(e=e.child,e!==null))for(bl(e,t,n),e=e.sibling;e!==null;)bl(e,t,n),e=e.sibling}function Bl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Bl(e,t,n),e=e.sibling;e!==null;)Bl(e,t,n),e=e.sibling}var Ae=null,dt=!1;function Mt(e,t,n){for(n=n.child;n!==null;)yd(e,t,n),n=n.sibling}function yd(e,t,n){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(ri,n)}catch{}switch(n.tag){case 5:Oe||In(n,t);case 6:var r=Ae,s=dt;Ae=null,Mt(e,t,n),Ae=r,dt=s,Ae!==null&&(dt?(e=Ae,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ae.removeChild(n.stateNode));break;case 18:Ae!==null&&(dt?(e=Ae,n=n.stateNode,e.nodeType===8?Fi(e.parentNode,n):e.nodeType===1&&Fi(e,n),$r(e)):Fi(Ae,n.stateNode));break;case 4:r=Ae,s=dt,Ae=n.stateNode.containerInfo,dt=!0,Mt(e,t,n),Ae=r,dt=s;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Dl(n,t,o),s=s.next}while(s!==r)}Mt(e,t,n);break;case 1:if(!Oe&&(In(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ye(n,t,a)}Mt(e,t,n);break;case 21:Mt(e,t,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,Mt(e,t,n),Oe=r):Mt(e,t,n);break;default:Mt(e,t,n)}}function qa(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jh),t.forEach(function(r){var s=zh.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ut(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ae=a.stateNode,dt=!1;break e;case 3:Ae=a.stateNode.containerInfo,dt=!0;break e;case 4:Ae=a.stateNode.containerInfo,dt=!0;break e}a=a.return}if(Ae===null)throw Error(z(160));yd(i,o,s),Ae=null,dt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){ye(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)xd(t,e),t=t.sibling}function xd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ut(t,e),gt(e),r&4){try{Cr(3,e,e.return),di(3,e)}catch(y){ye(e,e.return,y)}try{Cr(5,e,e.return)}catch(y){ye(e,e.return,y)}}break;case 1:ut(t,e),gt(e),r&512&&n!==null&&In(n,n.return);break;case 5:if(ut(t,e),gt(e),r&512&&n!==null&&In(n,n.return),e.flags&32){var s=e.stateNode;try{Rr(s,"")}catch(y){ye(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Bu(s,i),dl(a,o);var d=dl(a,i);for(o=0;o<u.length;o+=2){var p=u[o],g=u[o+1];p==="style"?Gu(s,g):p==="dangerouslySetInnerHTML"?Hu(s,g):p==="children"?Rr(s,g):ro(s,p,g,d)}switch(a){case"input":ll(s,i);break;case"textarea":Uu(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Dn(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Dn(s,!!i.multiple,i.defaultValue,!0):Dn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Dr]=i}catch(y){ye(e,e.return,y)}}break;case 6:if(ut(t,e),gt(e),r&4){if(e.stateNode===null)throw Error(z(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){ye(e,e.return,y)}}break;case 3:if(ut(t,e),gt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$r(t.containerInfo)}catch(y){ye(e,e.return,y)}break;case 4:ut(t,e),gt(e);break;case 13:ut(t,e),gt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Oo=je())),r&4&&qa(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(d=Oe)||p,ut(t,e),Oe=d):ut(t,e),gt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(I=e,p=e.child;p!==null;){for(g=I=p;I!==null;){switch(m=I,v=m.child,m.tag){case 0:case 11:case 14:case 15:Cr(4,m,m.return);break;case 1:In(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){ye(r,n,y)}}break;case 5:In(m,m.return);break;case 22:if(m.memoizedState!==null){Ya(g);continue}}v!==null?(v.return=m,I=v):Ya(g)}p=p.sibling}e:for(p=null,g=e;;){if(g.tag===5){if(p===null){p=g;try{s=g.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=g.stateNode,u=g.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Vu("display",o))}catch(y){ye(e,e.return,y)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(y){ye(e,e.return,y)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:ut(t,e),gt(e),r&4&&qa(e);break;case 21:break;default:ut(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(vd(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Rr(s,""),r.flags&=-33);var i=Qa(e);Bl(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Qa(e);bl(e,a,o);break;default:throw Error(z(161))}}catch(u){ye(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kh(e,t,n){I=e,jd(e)}function jd(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ms;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Oe;a=ms;var d=Oe;if(ms=o,(Oe=u)&&!d)for(I=s;I!==null;)o=I,u=o.child,o.tag===22&&o.memoizedState!==null?Ja(s):u!==null?(u.return=o,I=u):Ja(s);for(;i!==null;)I=i,jd(i),i=i.sibling;I=s,ms=a,Oe=d}Ka(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):Ka(e)}}function Ka(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||di(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ct(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&$a(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$a(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&$r(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Oe||t.flags&512&&Fl(t)}catch(m){ye(t,t.return,m)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function Ya(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function Ja(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{di(4,t)}catch(u){ye(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){ye(t,s,u)}}var i=t.return;try{Fl(t)}catch(u){ye(t,i,u)}break;case 5:var o=t.return;try{Fl(t)}catch(u){ye(t,o,u)}}}catch(u){ye(t,t.return,u)}if(t===e){I=null;break}var a=t.sibling;if(a!==null){a.return=t.return,I=a;break}I=t.return}}var Sh=Math.ceil,Ks=$t.ReactCurrentDispatcher,Mo=$t.ReactCurrentOwner,lt=$t.ReactCurrentBatchConfig,J=0,Pe=null,Se=null,Le=0,Je=0,On=rn(0),_e=0,Hr=null,yn=0,pi=0,Io=0,_r=null,Ve=null,Oo=0,Yn=1/0,St=null,Ys=!1,Ul=null,Yt=null,gs=!1,Wt=null,Js=0,Er=0,Wl=null,Es=-1,Ps=0;function be(){return J&6?je():Es!==-1?Es:Es=je()}function Jt(e){return e.mode&1?J&2&&Le!==0?Le&-Le:lh.transition!==null?(Ps===0&&(Ps=sc()),Ps):(e=te,e!==0||(e=window.event,e=e===void 0?16:dc(e.type)),e):1}function ht(e,t,n,r){if(50<Er)throw Er=0,Wl=null,Error(z(185));Yr(e,n,r),(!(J&2)||e!==Pe)&&(e===Pe&&(!(J&2)&&(pi|=n),_e===4&&Bt(e,Le)),Ke(e,r),n===1&&J===0&&!(t.mode&1)&&(Yn=je()+500,ai&&sn()))}function Ke(e,t){var n=e.callbackNode;lf(e,t);var r=Ts(e,e===Pe?Le:0);if(r===0)n!==null&&la(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&la(n),t===1)e.tag===0?ih(Xa.bind(null,e)):zc(Xa.bind(null,e)),th(function(){!(J&6)&&sn()}),n=null;else{switch(ic(r)){case 1:n=ao;break;case 4:n=nc;break;case 16:n=$s;break;case 536870912:n=rc;break;default:n=$s}n=Pd(n,wd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wd(e,t){if(Es=-1,Ps=0,J&6)throw Error(z(327));var n=e.callbackNode;if(Wn()&&e.callbackNode!==n)return null;var r=Ts(e,e===Pe?Le:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Xs(e,r);else{t=r;var s=J;J|=2;var i=Sd();(Pe!==e||Le!==t)&&(St=null,Yn=je()+500,fn(e,t));do try{_h();break}catch(a){kd(e,a)}while(!0);ko(),Ks.current=i,J=s,Se!==null?t=0:(Pe=null,Le=0,t=_e)}if(t!==0){if(t===2&&(s=gl(e),s!==0&&(r=s,t=Hl(e,s))),t===1)throw n=Hr,fn(e,0),Bt(e,r),Ke(e,je()),n;if(t===6)Bt(e,r);else{if(s=e.current.alternate,!(r&30)&&!Nh(s)&&(t=Xs(e,r),t===2&&(i=gl(e),i!==0&&(r=i,t=Hl(e,i))),t===1))throw n=Hr,fn(e,0),Bt(e,r),Ke(e,je()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(z(345));case 2:an(e,Ve,St);break;case 3:if(Bt(e,r),(r&130023424)===r&&(t=Oo+500-je(),10<t)){if(Ts(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){be(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Nl(an.bind(null,e,Ve,St),t);break}an(e,Ve,St);break;case 4:if(Bt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ft(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sh(r/1960))-r,10<r){e.timeoutHandle=Nl(an.bind(null,e,Ve,St),r);break}an(e,Ve,St);break;case 5:an(e,Ve,St);break;default:throw Error(z(329))}}}return Ke(e,je()),e.callbackNode===n?wd.bind(null,e):null}function Hl(e,t){var n=_r;return e.current.memoizedState.isDehydrated&&(fn(e,t).flags|=256),e=Xs(e,t),e!==2&&(t=Ve,Ve=n,t!==null&&Vl(t)),e}function Vl(e){Ve===null?Ve=e:Ve.push.apply(Ve,e)}function Nh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!mt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bt(e,t){for(t&=~Io,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ft(t),r=1<<n;e[n]=-1,t&=~r}}function Xa(e){if(J&6)throw Error(z(327));Wn();var t=Ts(e,0);if(!(t&1))return Ke(e,je()),null;var n=Xs(e,t);if(e.tag!==0&&n===2){var r=gl(e);r!==0&&(t=r,n=Hl(e,r))}if(n===1)throw n=Hr,fn(e,0),Bt(e,t),Ke(e,je()),n;if(n===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,an(e,Ve,St),Ke(e,je()),null}function Do(e,t){var n=J;J|=1;try{return e(t)}finally{J=n,J===0&&(Yn=je()+500,ai&&sn())}}function xn(e){Wt!==null&&Wt.tag===0&&!(J&6)&&Wn();var t=J;J|=1;var n=lt.transition,r=te;try{if(lt.transition=null,te=1,e)return e()}finally{te=r,lt.transition=n,J=t,!(J&6)&&sn()}}function Fo(){Je=On.current,ae(On)}function fn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,eh(n)),Se!==null)for(n=Se.return;n!==null;){var r=n;switch(xo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fs();break;case 3:qn(),ae(Qe),ae(De),Po();break;case 5:Eo(r);break;case 4:qn();break;case 13:ae(fe);break;case 19:ae(fe);break;case 10:So(r.type._context);break;case 22:case 23:Fo()}n=n.return}if(Pe=e,Se=e=Xt(e.current,null),Le=Je=t,_e=0,Hr=null,Io=pi=yn=0,Ve=_r=null,dn!==null){for(t=0;t<dn.length;t++)if(n=dn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}dn=null}return e}function kd(e,t){do{var n=Se;try{if(ko(),Ns.current=qs,Qs){for(var r=he.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qs=!1}if(vn=0,Ee=Ce=he=null,Nr=!1,Br=0,Mo.current=null,n===null||n.return===null){_e=1,Hr=t,Se=null;break}e:{var i=e,o=n.return,a=n,u=t;if(t=Le,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,p=a,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=Fa(o);if(v!==null){v.flags&=-257,ba(v,o,a,i,t),v.mode&1&&Da(i,d,t),t=v,u=d;var x=t.updateQueue;if(x===null){var y=new Set;y.add(u),t.updateQueue=y}else x.add(u);break e}else{if(!(t&1)){Da(i,d,t),bo();break e}u=Error(z(426))}}else if(ce&&a.mode&1){var j=Fa(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),ba(j,o,a,i,t),jo(Kn(u,a));break e}}i=u=Kn(u,a),_e!==4&&(_e=2),_r===null?_r=[i]:_r.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=id(i,u,t);La(i,h);break e;case 1:a=u;var c=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof c.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Yt===null||!Yt.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=ld(i,a,t);La(i,w);break e}}i=i.return}while(i!==null)}Cd(n)}catch(k){t=k,Se===n&&n!==null&&(Se=n=n.return);continue}break}while(!0)}function Sd(){var e=Ks.current;return Ks.current=qs,e===null?qs:e}function bo(){(_e===0||_e===3||_e===2)&&(_e=4),Pe===null||!(yn&268435455)&&!(pi&268435455)||Bt(Pe,Le)}function Xs(e,t){var n=J;J|=2;var r=Sd();(Pe!==e||Le!==t)&&(St=null,fn(e,t));do try{Ch();break}catch(s){kd(e,s)}while(!0);if(ko(),J=n,Ks.current=r,Se!==null)throw Error(z(261));return Pe=null,Le=0,_e}function Ch(){for(;Se!==null;)Nd(Se)}function _h(){for(;Se!==null&&!Yp();)Nd(Se)}function Nd(e){var t=Ed(e.alternate,e,Je);e.memoizedProps=e.pendingProps,t===null?Cd(e):Se=t,Mo.current=null}function Cd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=xh(n,t),n!==null){n.flags&=32767,Se=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_e=6,Se=null;return}}else if(n=yh(n,t,Je),n!==null){Se=n;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);_e===0&&(_e=5)}function an(e,t,n){var r=te,s=lt.transition;try{lt.transition=null,te=1,Eh(e,t,n,r)}finally{lt.transition=s,te=r}return null}function Eh(e,t,n,r){do Wn();while(Wt!==null);if(J&6)throw Error(z(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(of(e,i),e===Pe&&(Se=Pe=null,Le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gs||(gs=!0,Pd($s,function(){return Wn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=lt.transition,lt.transition=null;var o=te;te=1;var a=J;J|=4,Mo.current=null,wh(e,n),xd(n,e),Qf(kl),Ms=!!wl,kl=wl=null,e.current=n,kh(n),Jp(),J=a,te=o,lt.transition=i}else e.current=n;if(gs&&(gs=!1,Wt=e,Js=s),i=e.pendingLanes,i===0&&(Yt=null),ef(n.stateNode),Ke(e,je()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ys)throw Ys=!1,e=Ul,Ul=null,e;return Js&1&&e.tag!==0&&Wn(),i=e.pendingLanes,i&1?e===Wl?Er++:(Er=0,Wl=e):Er=0,sn(),null}function Wn(){if(Wt!==null){var e=ic(Js),t=lt.transition,n=te;try{if(lt.transition=null,te=16>e?16:e,Wt===null)var r=!1;else{if(e=Wt,Wt=null,Js=0,J&6)throw Error(z(331));var s=J;for(J|=4,I=e.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var d=a[u];for(I=d;I!==null;){var p=I;switch(p.tag){case 0:case 11:case 15:Cr(8,p,i)}var g=p.child;if(g!==null)g.return=p,I=g;else for(;I!==null;){p=I;var m=p.sibling,v=p.return;if(gd(p),p===d){I=null;break}if(m!==null){m.return=v,I=m;break}I=v}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var j=y.sibling;y.sibling=null,y=j}while(y!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,I=h;break e}I=i.return}}var c=e.current;for(I=c;I!==null;){o=I;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,I=f;else e:for(o=c;I!==null;){if(a=I,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:di(9,a)}}catch(k){ye(a,a.return,k)}if(a===o){I=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,I=w;break e}I=a.return}}if(J=s,sn(),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(ri,e)}catch{}r=!0}return r}finally{te=n,lt.transition=t}}return!1}function Za(e,t,n){t=Kn(n,t),t=id(e,t,1),e=Kt(e,t,1),t=be(),e!==null&&(Yr(e,1,t),Ke(e,t))}function ye(e,t,n){if(e.tag===3)Za(e,e,n);else for(;t!==null;){if(t.tag===3){Za(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yt===null||!Yt.has(r))){e=Kn(n,e),e=ld(t,e,1),t=Kt(t,e,1),e=be(),t!==null&&(Yr(t,1,e),Ke(t,e));break}}t=t.return}}function Ph(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=be(),e.pingedLanes|=e.suspendedLanes&n,Pe===e&&(Le&n)===n&&(_e===4||_e===3&&(Le&130023424)===Le&&500>je()-Oo?fn(e,0):Io|=n),Ke(e,t)}function _d(e,t){t===0&&(e.mode&1?(t=ls,ls<<=1,!(ls&130023424)&&(ls=4194304)):t=1);var n=be();e=At(e,t),e!==null&&(Yr(e,t,n),Ke(e,n))}function Rh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),_d(e,n)}function zh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(t),_d(e,n)}var Ed;Ed=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Ge=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ge=!1,vh(e,t,n);Ge=!!(e.flags&131072)}else Ge=!1,ce&&t.flags&1048576&&Ac(t,Us,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;_s(e,t),e=t.pendingProps;var s=Vn(t,De.current);Un(t,n),s=zo(null,t,r,e,s,n);var i=Ao();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(r)?(i=!0,bs(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Co(t),s.updater=ci,t.stateNode=s,s._reactInternals=t,Al(t,r,e,n),t=Tl(null,t,r,!0,i,n)):(t.tag=0,ce&&i&&yo(t),Fe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(_s(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Lh(r),e=ct(r,e),s){case 0:t=$l(null,t,r,e,n);break e;case 1:t=Wa(null,t,r,e,n);break e;case 11:t=Ba(null,t,r,e,n);break e;case 14:t=Ua(null,t,r,ct(r.type,e),n);break e}throw Error(z(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ct(r,s),$l(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ct(r,s),Wa(e,t,r,s,n);case 3:e:{if(cd(t),e===null)throw Error(z(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Oc(e,t),Vs(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Kn(Error(z(423)),t),t=Ha(e,t,r,n,s);break e}else if(r!==s){s=Kn(Error(z(424)),t),t=Ha(e,t,r,n,s);break e}else for(Xe=qt(t.stateNode.containerInfo.firstChild),Ze=t,ce=!0,pt=null,n=Mc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gn(),r===s){t=Lt(e,t,n);break e}Fe(e,t,r,n)}t=t.child}return t;case 5:return Dc(t),e===null&&Pl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Sl(r,s)?o=null:i!==null&&Sl(r,i)&&(t.flags|=32),ud(e,t),Fe(e,t,o,n),t.child;case 6:return e===null&&Pl(t),null;case 13:return dd(e,t,n);case 4:return _o(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qn(t,null,r,n):Fe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ct(r,s),Ba(e,t,r,s,n);case 7:return Fe(e,t,t.pendingProps,n),t.child;case 8:return Fe(e,t,t.pendingProps.children,n),t.child;case 12:return Fe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,ne(Ws,r._currentValue),r._currentValue=o,i!==null)if(mt(i.value,o)){if(i.children===s.children&&!Qe.current){t=Lt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=Pt(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Rl(i.return,n,t),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(z(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Rl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Fe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Un(t,n),s=ot(s),r=r(s),t.flags|=1,Fe(e,t,r,n),t.child;case 14:return r=t.type,s=ct(r,t.pendingProps),s=ct(r.type,s),Ua(e,t,r,s,n);case 15:return od(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ct(r,s),_s(e,t),t.tag=1,qe(r)?(e=!0,bs(t)):e=!1,Un(t,n),sd(t,r,s),Al(t,r,s,n),Tl(null,t,r,!0,e,n);case 19:return pd(e,t,n);case 22:return ad(e,t,n)}throw Error(z(156,t.tag))};function Pd(e,t){return tc(e,t)}function Ah(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(e,t,n,r){return new Ah(e,t,n,r)}function Bo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Lh(e){if(typeof e=="function")return Bo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===io)return 11;if(e===lo)return 14}return 2}function Xt(e,t){var n=e.alternate;return n===null?(n=it(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rs(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Bo(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case En:return hn(n.children,s,i,t);case so:o=8,s|=8;break;case tl:return e=it(12,n,t,s|2),e.elementType=tl,e.lanes=i,e;case nl:return e=it(13,n,t,s),e.elementType=nl,e.lanes=i,e;case rl:return e=it(19,n,t,s),e.elementType=rl,e.lanes=i,e;case Du:return fi(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Iu:o=10;break e;case Ou:o=9;break e;case io:o=11;break e;case lo:o=14;break e;case Dt:o=16,r=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=it(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function hn(e,t,n,r){return e=it(7,e,r,t),e.lanes=n,e}function fi(e,t,n,r){return e=it(22,e,r,t),e.elementType=Du,e.lanes=n,e.stateNode={isHidden:!1},e}function Qi(e,t,n){return e=it(6,e,null,t),e.lanes=n,e}function qi(e,t,n){return t=it(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $h(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pi(0),this.expirationTimes=Pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Uo(e,t,n,r,s,i,o,a,u){return e=new $h(e,t,n,a,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=it(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Co(i),e}function Th(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_n,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Rd(e){if(!e)return tn;e=e._reactInternals;e:{if(wn(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var n=e.type;if(qe(n))return Rc(e,n,t)}return t}function zd(e,t,n,r,s,i,o,a,u){return e=Uo(n,r,!0,e,s,i,o,a,u),e.context=Rd(null),n=e.current,r=be(),s=Jt(n),i=Pt(r,s),i.callback=t??null,Kt(n,i,s),e.current.lanes=s,Yr(e,s,r),Ke(e,r),e}function hi(e,t,n,r){var s=t.current,i=be(),o=Jt(s);return n=Rd(n),t.context===null?t.context=n:t.pendingContext=n,t=Pt(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kt(s,t,o),e!==null&&(ht(e,s,o,i),Ss(e,s,o)),o}function Zs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wo(e,t){eu(e,t),(e=e.alternate)&&eu(e,t)}function Mh(){return null}var Ad=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ho(e){this._internalRoot=e}mi.prototype.render=Ho.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));hi(e,t,null,null)};mi.prototype.unmount=Ho.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xn(function(){hi(null,e,null,null)}),t[zt]=null}};function mi(e){this._internalRoot=e}mi.prototype.unstable_scheduleHydration=function(e){if(e){var t=ac();e={blockedOn:null,target:e,priority:t};for(var n=0;n<bt.length&&t!==0&&t<bt[n].priority;n++);bt.splice(n,0,e),n===0&&cc(e)}};function Vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function tu(){}function Ih(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Zs(o);i.call(d)}}var o=zd(t,r,e,0,null,!1,!1,"",tu);return e._reactRootContainer=o,e[zt]=o.current,Ir(e.nodeType===8?e.parentNode:e),xn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Zs(u);a.call(d)}}var u=Uo(e,0,!1,null,null,!1,!1,"",tu);return e._reactRootContainer=u,e[zt]=u.current,Ir(e.nodeType===8?e.parentNode:e),xn(function(){hi(t,u,n,r)}),u}function vi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=Zs(o);a.call(u)}}hi(t,o,e,s)}else o=Ih(n,t,e,s,r);return Zs(o)}lc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vr(t.pendingLanes);n!==0&&(uo(t,n|1),Ke(t,je()),!(J&6)&&(Yn=je()+500,sn()))}break;case 13:xn(function(){var r=At(e,1);if(r!==null){var s=be();ht(r,e,1,s)}}),Wo(e,1)}};co=function(e){if(e.tag===13){var t=At(e,134217728);if(t!==null){var n=be();ht(t,e,134217728,n)}Wo(e,134217728)}};oc=function(e){if(e.tag===13){var t=Jt(e),n=At(e,t);if(n!==null){var r=be();ht(n,e,t,r)}Wo(e,t)}};ac=function(){return te};uc=function(e,t){var n=te;try{return te=e,t()}finally{te=n}};fl=function(e,t,n){switch(t){case"input":if(ll(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=oi(r);if(!s)throw Error(z(90));bu(r),ll(r,s)}}}break;case"textarea":Uu(e,n);break;case"select":t=n.value,t!=null&&Dn(e,!!n.multiple,t,!1)}};Ku=Do;Yu=xn;var Oh={usingClientEntryPoint:!1,Events:[Xr,An,oi,Qu,qu,Do]},fr={findFiberByHostInstance:cn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dh={bundleType:fr.bundleType,version:fr.version,rendererPackageName:fr.rendererPackageName,rendererConfig:fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$t.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Zu(e),e===null?null:e.stateNode},findFiberByHostInstance:fr.findFiberByHostInstance||Mh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vs.isDisabled&&vs.supportsFiber)try{ri=vs.inject(Dh),wt=vs}catch{}}tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Oh;tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vo(t))throw Error(z(200));return Th(e,t,null,n)};tt.createRoot=function(e,t){if(!Vo(e))throw Error(z(299));var n=!1,r="",s=Ad;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Uo(e,1,!1,null,null,n,!1,r,s),e[zt]=t.current,Ir(e.nodeType===8?e.parentNode:e),new Ho(t)};tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Zu(t),e=e===null?null:e.stateNode,e};tt.flushSync=function(e){return xn(e)};tt.hydrate=function(e,t,n){if(!gi(t))throw Error(z(200));return vi(null,e,t,!0,n)};tt.hydrateRoot=function(e,t,n){if(!Vo(e))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Ad;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=zd(t,null,e,1,n??null,s,!1,i,o),e[zt]=t.current,Ir(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new mi(t)};tt.render=function(e,t,n){if(!gi(t))throw Error(z(200));return vi(null,e,t,!1,n)};tt.unmountComponentAtNode=function(e){if(!gi(e))throw Error(z(40));return e._reactRootContainer?(xn(function(){vi(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};tt.unstable_batchedUpdates=Do;tt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!gi(n))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return vi(e,t,n,!1,r)};tt.version="18.3.1-next-f1338f8080-20240426";function Ld(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ld)}catch(e){console.error(e)}}Ld(),Lu.exports=tt;var Fh=Lu.exports,nu=Fh;Zi.createRoot=nu.createRoot,Zi.hydrateRoot=nu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vr.apply(this,arguments)}var Ht;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ht||(Ht={}));const ru="popstate";function bh(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return Gl("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ei(s)}return Uh(t,n,null,e)}function me(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function $d(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Bh(){return Math.random().toString(36).substr(2,8)}function su(e,t){return{usr:e.state,key:e.key,idx:t}}function Gl(e,t,n,r){return n===void 0&&(n=null),Vr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rr(t):t,{state:n,key:t&&t.key||r||Bh()})}function ei(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function rr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Uh(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Ht.Pop,u=null,d=p();d==null&&(d=0,o.replaceState(Vr({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function g(){a=Ht.Pop;let j=p(),h=j==null?null:j-d;d=j,u&&u({action:a,location:y.location,delta:h})}function m(j,h){a=Ht.Push;let c=Gl(y.location,j,h);d=p()+1;let f=su(c,d),w=y.createHref(c);try{o.pushState(f,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(w)}i&&u&&u({action:a,location:y.location,delta:1})}function v(j,h){a=Ht.Replace;let c=Gl(y.location,j,h);d=p();let f=su(c,d),w=y.createHref(c);o.replaceState(f,"",w),i&&u&&u({action:a,location:y.location,delta:0})}function x(j){let h=s.location.origin!=="null"?s.location.origin:s.location.href,c=typeof j=="string"?j:ei(j);return c=c.replace(/ $/,"%20"),me(h,"No window.location.(origin|href) available to create URL for href: "+c),new URL(c,h)}let y={get action(){return a},get location(){return e(s,o)},listen(j){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(ru,g),u=j,()=>{s.removeEventListener(ru,g),u=null}},createHref(j){return t(s,j)},createURL:x,encodeLocation(j){let h=x(j);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:m,replace:v,go(j){return o.go(j)}};return y}var iu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(iu||(iu={}));function Wh(e,t,n){return n===void 0&&(n="/"),Hh(e,t,n)}function Hh(e,t,n,r){let s=typeof t=="string"?rr(t):t,i=Jn(s.pathname||"/",n);if(i==null)return null;let o=Td(e);Vh(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let d=nm(i);a=em(o[u],d)}return a}function Td(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(me(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Zt([r,u.relativePath]),p=n.concat(u);i.children&&i.children.length>0&&(me(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Td(i.children,t,p,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Xh(d,i.index),routesMeta:p})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of Md(i.path))s(i,o,u)}),t}function Md(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Md(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function Vh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Zh(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Gh=/^:[\w-]+$/,Qh=3,qh=2,Kh=1,Yh=10,Jh=-2,lu=e=>e==="*";function Xh(e,t){let n=e.split("/"),r=n.length;return n.some(lu)&&(r+=Jh),t&&(r+=qh),n.filter(s=>!lu(s)).reduce((s,i)=>s+(Gh.test(i)?Qh:i===""?Kh:Yh),r)}function Zh(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function em(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],d=a===r.length-1,p=i==="/"?t:t.slice(i.length)||"/",g=Ql({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p),m=u.route;if(!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Zt([i,g.pathname]),pathnameBase:lm(Zt([i,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(i=Zt([i,g.pathnameBase]))}return o}function Ql(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=tm(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,p,g)=>{let{paramName:m,isOptional:v}=p;if(m==="*"){let y=a[g]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[g];return v&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function tm(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),$d(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function nm(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return $d(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function rm(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?rr(e):e;return{pathname:n?n.startsWith("/")?n:sm(n,t):t,search:om(r),hash:am(s)}}function sm(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ki(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function im(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Go(e,t){let n=im(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Qo(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=rr(e):(s=Vr({},e),me(!s.pathname||!s.pathname.includes("?"),Ki("?","pathname","search",s)),me(!s.pathname||!s.pathname.includes("#"),Ki("#","pathname","hash",s)),me(!s.search||!s.search.includes("#"),Ki("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let g=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),g-=1;s.pathname=m.join("/")}a=g>=0?t[g]:"/"}let u=rm(s,a),d=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}const Zt=e=>e.join("/").replace(/\/\/+/g,"/"),lm=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),om=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,am=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function um(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Id=["post","put","patch","delete"];new Set(Id);const cm=["get",...Id];new Set(cm);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gr(){return Gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gr.apply(this,arguments)}const yi=R.createContext(null),Od=R.createContext(null),Tt=R.createContext(null),xi=R.createContext(null),ln=R.createContext({outlet:null,matches:[],isDataRoute:!1}),Dd=R.createContext(null);function dm(e,t){let{relative:n}=t===void 0?{}:t;sr()||me(!1);let{basename:r,navigator:s}=R.useContext(Tt),{hash:i,pathname:o,search:a}=ji(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Zt([r,o])),s.createHref({pathname:u,search:a,hash:i})}function sr(){return R.useContext(xi)!=null}function ir(){return sr()||me(!1),R.useContext(xi).location}function Fd(e){R.useContext(Tt).static||R.useLayoutEffect(e)}function bd(){let{isDataRoute:e}=R.useContext(ln);return e?Nm():pm()}function pm(){sr()||me(!1);let e=R.useContext(yi),{basename:t,future:n,navigator:r}=R.useContext(Tt),{matches:s}=R.useContext(ln),{pathname:i}=ir(),o=JSON.stringify(Go(s,n.v7_relativeSplatPath)),a=R.useRef(!1);return Fd(()=>{a.current=!0}),R.useCallback(function(d,p){if(p===void 0&&(p={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let g=Qo(d,JSON.parse(o),i,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Zt([t,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[t,r,o,i,e])}function ji(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=R.useContext(Tt),{matches:s}=R.useContext(ln),{pathname:i}=ir(),o=JSON.stringify(Go(s,r.v7_relativeSplatPath));return R.useMemo(()=>Qo(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function fm(e,t){return hm(e,t)}function hm(e,t,n,r){sr()||me(!1);let{navigator:s}=R.useContext(Tt),{matches:i}=R.useContext(ln),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=ir(),p;if(t){var g;let j=typeof t=="string"?rr(t):t;u==="/"||(g=j.pathname)!=null&&g.startsWith(u)||me(!1),p=j}else p=d;let m=p.pathname||"/",v=m;if(u!=="/"){let j=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(j.length).join("/")}let x=Wh(e,{pathname:v}),y=xm(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},a,j.params),pathname:Zt([u,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?u:Zt([u,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,n,r);return t&&y?R.createElement(xi.Provider,{value:{location:Gr({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ht.Pop}},y):y}function mm(){let e=Sm(),t=um(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:s},n):null,null)}const gm=R.createElement(mm,null);class vm extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?R.createElement(ln.Provider,{value:this.props.routeContext},R.createElement(Dd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ym(e){let{routeContext:t,match:n,children:r}=e,s=R.useContext(yi);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(ln.Provider,{value:t},r)}function xm(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let p=o.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);p>=0||me(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:m,errors:v}=n,x=g.route.loader&&m[g.route.id]===void 0&&(!v||v[g.route.id]===void 0);if(g.route.lazy||x){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,m)=>{let v,x=!1,y=null,j=null;n&&(v=a&&g.route.id?a[g.route.id]:void 0,y=g.route.errorElement||gm,u&&(d<0&&m===0?(Cm("route-fallback"),x=!0,j=null):d===m&&(x=!0,j=g.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,m+1)),c=()=>{let f;return v?f=y:x?f=j:g.route.Component?f=R.createElement(g.route.Component,null):g.route.element?f=g.route.element:f=p,R.createElement(ym,{match:g,routeContext:{outlet:p,matches:h,isDataRoute:n!=null},children:f})};return n&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?R.createElement(vm,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:c(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):c()},null)}var Bd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Bd||{}),Ud=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ud||{});function jm(e){let t=R.useContext(yi);return t||me(!1),t}function wm(e){let t=R.useContext(Od);return t||me(!1),t}function km(e){let t=R.useContext(ln);return t||me(!1),t}function Wd(e){let t=km(),n=t.matches[t.matches.length-1];return n.route.id||me(!1),n.route.id}function Sm(){var e;let t=R.useContext(Dd),n=wm(),r=Wd();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Nm(){let{router:e}=jm(Bd.UseNavigateStable),t=Wd(Ud.UseNavigateStable),n=R.useRef(!1);return Fd(()=>{n.current=!0}),R.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Gr({fromRouteId:t},i)))},[e,t])}const ou={};function Cm(e,t,n){ou[e]||(ou[e]=!0)}function _m(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Em(e){let{to:t,replace:n,state:r,relative:s}=e;sr()||me(!1);let{future:i,static:o}=R.useContext(Tt),{matches:a}=R.useContext(ln),{pathname:u}=ir(),d=bd(),p=Qo(t,Go(a,i.v7_relativeSplatPath),u,s==="path"),g=JSON.stringify(p);return R.useEffect(()=>d(JSON.parse(g),{replace:n,state:r,relative:s}),[d,g,s,n,r]),null}function Nn(e){me(!1)}function Pm(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Ht.Pop,navigator:i,static:o=!1,future:a}=e;sr()&&me(!1);let u=t.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:u,navigator:i,static:o,future:Gr({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=rr(r));let{pathname:p="/",search:g="",hash:m="",state:v=null,key:x="default"}=r,y=R.useMemo(()=>{let j=Jn(p,u);return j==null?null:{location:{pathname:j,search:g,hash:m,state:v,key:x},navigationType:s}},[u,p,g,m,v,x,s]);return y==null?null:R.createElement(Tt.Provider,{value:d},R.createElement(xi.Provider,{children:n,value:y}))}function Rm(e){let{children:t,location:n}=e;return fm(ql(t),n)}new Promise(()=>{});function ql(e,t){t===void 0&&(t=[]);let n=[];return R.Children.forEach(e,(r,s)=>{if(!R.isValidElement(r))return;let i=[...t,s];if(r.type===R.Fragment){n.push.apply(n,ql(r.props.children,i));return}r.type!==Nn&&me(!1),!r.props.index||!r.props.children||me(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ql(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ti.apply(this,arguments)}function Hd(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function zm(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Am(e,t){return e.button===0&&(!t||t==="_self")&&!zm(e)}const Lm=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],$m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Tm="6";try{window.__reactRouterVersion=Tm}catch{}const Mm=R.createContext({isTransitioning:!1}),Im="startTransition",au=Ep[Im];function Om(e){let{basename:t,children:n,future:r,window:s}=e,i=R.useRef();i.current==null&&(i.current=bh({window:s,v5Compat:!0}));let o=i.current,[a,u]=R.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},p=R.useCallback(g=>{d&&au?au(()=>u(g)):u(g)},[u,d]);return R.useLayoutEffect(()=>o.listen(p),[o,p]),R.useEffect(()=>_m(r),[r]),R.createElement(Pm,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Dm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bm=R.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:d,preventScrollReset:p,viewTransition:g}=t,m=Hd(t,Lm),{basename:v}=R.useContext(Tt),x,y=!1;if(typeof d=="string"&&Fm.test(d)&&(x=d,Dm))try{let f=new URL(window.location.href),w=d.startsWith("//")?new URL(f.protocol+d):new URL(d),k=Jn(w.pathname,v);w.origin===f.origin&&k!=null?d=k+w.search+w.hash:y=!0}catch{}let j=dm(d,{relative:s}),h=Wm(d,{replace:o,state:a,target:u,preventScrollReset:p,relative:s,viewTransition:g});function c(f){r&&r(f),f.defaultPrevented||h(f)}return R.createElement("a",ti({},m,{href:x||j,onClick:y||i?r:c,ref:n,target:u}))}),Bm=R.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:d,children:p}=t,g=Hd(t,$m),m=ji(u,{relative:g.relative}),v=ir(),x=R.useContext(Od),{navigator:y,basename:j}=R.useContext(Tt),h=x!=null&&Hm(m)&&d===!0,c=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,f=v.pathname,w=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(f=f.toLowerCase(),w=w?w.toLowerCase():null,c=c.toLowerCase()),w&&j&&(w=Jn(w,j)||w);const k=c!=="/"&&c.endsWith("/")?c.length-1:c.length;let _=f===c||!o&&f.startsWith(c)&&f.charAt(k)==="/",C=w!=null&&(w===c||!o&&w.startsWith(c)&&w.charAt(c.length)==="/"),L={isActive:_,isPending:C,isTransitioning:h},T=_?r:void 0,E;typeof i=="function"?E=i(L):E=[i,_?"active":null,C?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let K=typeof a=="function"?a(L):a;return R.createElement(bm,ti({},g,{"aria-current":T,className:E,ref:n,style:K,to:u,viewTransition:d}),typeof p=="function"?p(L):p)});var Kl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Kl||(Kl={}));var uu;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uu||(uu={}));function Um(e){let t=R.useContext(yi);return t||me(!1),t}function Wm(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,u=bd(),d=ir(),p=ji(e,{relative:o});return R.useCallback(g=>{if(Am(g,n)){g.preventDefault();let m=r!==void 0?r:ei(d)===ei(p);u(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,u,p,r,s,n,e,i,o,a])}function Hm(e,t){t===void 0&&(t={});let n=R.useContext(Mm);n==null&&me(!1);let{basename:r}=Um(Kl.useViewTransitionState),s=ji(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Jn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Jn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ql(s.pathname,o)!=null||Ql(s.pathname,i)!=null}const Vm={},cu=e=>{let t;const n=new Set,r=(p,g)=>{const m=typeof p=="function"?p(t):p;if(!Object.is(m,t)){const v=t;t=g??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(x=>x(t,v))}},s=()=>t,u={setState:r,getState:s,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(Vm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,s,u);return u},Gm=e=>e?cu(e):cu;var Vd={exports:{}},Gd={},Qd={exports:{}},qd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xn=R;function Qm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qm=typeof Object.is=="function"?Object.is:Qm,Km=Xn.useState,Ym=Xn.useEffect,Jm=Xn.useLayoutEffect,Xm=Xn.useDebugValue;function Zm(e,t){var n=t(),r=Km({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return Jm(function(){s.value=n,s.getSnapshot=t,Yi(s)&&i({inst:s})},[e,n,t]),Ym(function(){return Yi(s)&&i({inst:s}),e(function(){Yi(s)&&i({inst:s})})},[e]),Xm(n),n}function Yi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!qm(e,n)}catch{return!0}}function eg(e,t){return t()}var tg=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eg:Zm;qd.useSyncExternalStore=Xn.useSyncExternalStore!==void 0?Xn.useSyncExternalStore:tg;Qd.exports=qd;var ng=Qd.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=R,rg=ng;function sg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ig=typeof Object.is=="function"?Object.is:sg,lg=rg.useSyncExternalStore,og=wi.useRef,ag=wi.useEffect,ug=wi.useMemo,cg=wi.useDebugValue;Gd.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=og(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=ug(function(){function u(v){if(!d){if(d=!0,p=v,v=r(v),s!==void 0&&o.hasValue){var x=o.value;if(s(x,v))return g=x}return g=v}if(x=g,ig(p,v))return x;var y=r(v);return s!==void 0&&s(x,y)?(p=v,x):(p=v,g=y)}var d=!1,p,g,m=n===void 0?null:n;return[function(){return u(t())},m===null?void 0:function(){return u(m())}]},[t,n,r,s]);var a=lg(e,i[0],i[1]);return ag(function(){o.hasValue=!0,o.value=a},[a]),cg(a),a};Vd.exports=Gd;var dg=Vd.exports;const pg=ju(dg),Kd={},{useDebugValue:fg}=eo,{useSyncExternalStoreWithSelector:hg}=pg;let du=!1;const mg=e=>e;function gg(e,t=mg,n){(Kd?"production":void 0)!=="production"&&n&&!du&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),du=!0);const r=hg(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return fg(r),r}const vg=e=>{(Kd?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Gm(e):e,n=(r,s)=>gg(t,r,s);return Object.assign(n,t),n},Yd=e=>vg,yg={};function xg(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=u=>u===null?null:JSON.parse(u,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Qr=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Qr(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Qr(r)(n)}}}},jg=(e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:j=>j,version:0,merge:(j,h)=>({...h,...j}),...t},o=!1;const a=new Set,u=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return e((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...j)},r,s);const p=Qr(i.serialize),g=()=>{const j=i.partialize({...r()});let h;const c=p({state:j,version:i.version}).then(f=>d.setItem(i.name,f)).catch(f=>{h=f});if(h)throw h;return c},m=s.setState;s.setState=(j,h)=>{m(j,h),g()};const v=e((...j)=>{n(...j),g()},r,s);let x;const y=()=>{var j;if(!d)return;o=!1,a.forEach(c=>c(r()));const h=((j=i.onRehydrateStorage)==null?void 0:j.call(i,r()))||void 0;return Qr(d.getItem.bind(d))(i.name).then(c=>{if(c)return i.deserialize(c)}).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==i.version){if(i.migrate)return i.migrate(c.state,c.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return c.state}).then(c=>{var f;return x=i.merge(c,(f=r())!=null?f:v),n(x,!0),g()}).then(()=>{h==null||h(x,void 0),o=!0,u.forEach(c=>c(x))}).catch(c=>{h==null||h(void 0,c)})};return s.persist={setOptions:j=>{i={...i,...j},j.getStorage&&(d=j.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:j=>(a.add(j),()=>{a.delete(j)}),onFinishHydration:j=>(u.add(j),()=>{u.delete(j)})},y(),x||v},wg=(e,t)=>(n,r,s)=>{let i={storage:xg(()=>localStorage),partialize:y=>y,version:0,merge:(y,j)=>({...j,...y}),...t},o=!1;const a=new Set,u=new Set;let d=i.storage;if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},r,s);const p=()=>{const y=i.partialize({...r()});return d.setItem(i.name,{state:y,version:i.version})},g=s.setState;s.setState=(y,j)=>{g(y,j),p()};const m=e((...y)=>{n(...y),p()},r,s);s.getInitialState=()=>m;let v;const x=()=>{var y,j;if(!d)return;o=!1,a.forEach(c=>{var f;return c((f=r())!=null?f:m)});const h=((j=i.onRehydrateStorage)==null?void 0:j.call(i,(y=r())!=null?y:m))||void 0;return Qr(d.getItem.bind(d))(i.name).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==i.version){if(i.migrate)return[!0,i.migrate(c.state,c.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,c.state];return[!1,void 0]}).then(c=>{var f;const[w,k]=c;if(v=i.merge(k,(f=r())!=null?f:m),n(v,!0),w)return p()}).then(()=>{h==null||h(v,void 0),v=r(),o=!0,u.forEach(c=>c(v))}).catch(c=>{h==null||h(void 0,c)})};return s.persist={setOptions:y=>{i={...i,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(u.add(y),()=>{u.delete(y)})},i.skipHydration||x(),v||m},kg=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((yg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),jg(e,t)):wg(e,t),Jd=kg;class Sg{constructor(){ki(this,"enabled",!1);ki(this,"storageKey","sidonia-analytics-buffer")}setEnabled(t){this.enabled=t,!(typeof window>"u")&&(t||this.clear())}track(t,n){if(typeof window>"u"||!this.enabled)return;const r={event:t,timestamp:new Date().toISOString(),data:n};try{const s=this.load();s.push(r),localStorage.setItem(this.storageKey,JSON.stringify(s)),console.info("[analytics]",r)}catch(s){console.warn("Analytics storage failed",s)}}getAll(){return typeof window>"u"?[]:this.load()}clear(){typeof window>"u"||localStorage.removeItem(this.storageKey)}load(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){return console.warn("Failed to read analytics buffer",t),[]}}}const Y=new Sg,Ng="CodexRules!!!!!",jt=Yd()(Jd((e,t)=>({gmUnlocked:!1,gmUnlockedAt:null,analyticsConsent:"unknown",analyticsNotified:!1,authenticateGm:n=>n.trim().toUpperCase()===Ng?(e({gmUnlocked:!0,gmUnlockedAt:new Date().toISOString()}),Y.track("gm.unlocked",{}),!0):(Y.track("gm.failed_auth",{attempt:n.trim().length}),!1),lockGm:()=>e({gmUnlocked:!1,gmUnlockedAt:null}),setAnalyticsConsent:n=>{e({analyticsConsent:n?"accepted":"declined"}),Y.setEnabled(n),Y.track("analytics.consent",{granted:n})},markAnalyticsNotified:()=>e({analyticsNotified:!0})}),{name:"sidonia-session-state",version:1,migrate:e=>({gmUnlocked:!1,gmUnlockedAt:null,analyticsConsent:(e==null?void 0:e.analyticsConsent)??"unknown",analyticsNotified:!1})}));function Cg(){const e=jt(s=>s.analyticsConsent),t=jt(s=>s.analyticsNotified),n=jt(s=>s.setAnalyticsConsent),r=jt(s=>s.markAnalyticsNotified);return e!=="unknown"||t?null:l.jsxs("aside",{className:"analytics-banner",role:"dialog","aria-live":"polite",children:[l.jsxs("div",{children:[l.jsx("h3",{children:"Help Improve Sidonia"}),l.jsx("p",{children:"We collect anonymous usage patterns (no personal data) to refine the priority flow and uncover confusing choices. You can opt out and still use the builderno pressure."})]}),l.jsxs("div",{className:"analytics-banner__actions",children:[l.jsx("button",{type:"button",onClick:()=>n(!0),children:"Share Anonymous Data"}),l.jsx("button",{type:"button",className:"secondary",onClick:()=>n(!1),children:"No Thanks"}),l.jsx("button",{type:"button",className:"dismiss",onClick:r,children:"Remind Me Later"})]})]})}async function yt(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.status} ${t.statusText}`);const n=await t.text();try{return JSON.parse(n)}catch(r){throw new Error(`Failed to parse JSON from ${e}: ${r.message}`)}}async function _g(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.status} ${t.statusText}`);return await t.text()}const Eg={automata:"/data/Sidonia-Powers-Schema-Automata.Json",chimera:"/data/Sidonia-Powers-Schema-Chimera.Json",espers:"/data/Sidonia-Powers-Schema-Espers.json",mentalists:"/data/Sidonia-Powers-Schema-Mentalists.json",neosapiens:"/data/Sidonia-Powers-Schema-NeoSapiens.Json",sorcery:"/data/Sidonia-Powers-Schema-Sorcery.Json"},Pg={automata:"/data/powers-automata.json",chimera:"/data/powers-chimera.json",esper:"/data/powers-esper.json",neosapien:"/data/powers-neosapien.json",sorcery:"/data/powers-sorcery.json"},Rg="/data/powers-mentalist.json",zg=[{id:"lineage-architecture",title:"Lineage Architecture",path:"/content/lineage-architecture.md"},{id:"design-philosophy",title:"Sidonia Design Philosophy",path:"/content/sidonia-design-philosophy.md"},{id:"resources-system",title:"Resources System Overview",path:"/content/sidonia-resources-system.md"}];async function Ag(){const[e,t,n,r,s,i,o,a,u,d]=await Promise.all([yt("/data/backgrounds.json"),yt("/data/Sidonia-Skills.Json"),yt("/data/resources-system.json"),yt("/data/resource-costs.json"),yt("/data/legal.json"),Lg(),$g(),yt("/data/attributes.json"),yt("/data/character-sheet-structure.json"),Dg()]),p=Ig(a),g=Og(u);return{backgrounds:e,skills:t,resources:n,resourceCosts:r,legal:s,powerSchemas:i,powerSets:o,attributes:p,characterSheet:g,designDocs:d}}async function Lg(){const e=await Promise.all(Object.entries(Eg).map(async([t,n])=>{const r=await yt(n);return[t,r]}));return Object.fromEntries(e)}async function $g(){const e=Object.entries(Pg).map(async([r,s])=>{const i=r;let o=await yt(s);return i==="esper"&&(o=await Tg(o)),[i,Mg(i,o)]}),t=await Promise.allSettled(e),n=[];return t.forEach(r=>{r.status==="fulfilled"?n.push(r.value):console.warn("[sidonia] Failed to load lineage power data:",r.reason)}),Object.fromEntries(n)}async function Tg(e){try{const t=await yt(Rg);return{...e,mentalist_data:t}}catch(t){return console.warn("[sidonia] Failed to load mentalist power data:",t),e}}function Mg(e,t){const n={...t};return"lineage"in n||(n.lineage=e),n.lineageId=e,n}function Ig(e){return e&&typeof e=="object"&&"attributes"in e?e.attributes:e}function Og(e){return e&&typeof e=="object"&&"characterSheet"in e?e.characterSheet:e}async function Dg(){return await Promise.all(zg.map(async t=>{const n=await _g(t.path);return{...t,content:n}}))}const Xd=R.createContext(void 0);function Fg({children:e}){const[t,n]=R.useState(null),[r,s]=R.useState("idle"),[i,o]=R.useState(null),a=R.useCallback(async()=>{s("loading"),o(null);try{const d=await Ag();n(d),s("ready")}catch(d){s("error"),o(d instanceof Error?d.message:"Unknown data loading error")}},[]);R.useEffect(()=>{a()},[a]);const u=R.useMemo(()=>({data:t,status:r,error:i,refresh:a}),[t,r,i,a]);return l.jsx(Xd.Provider,{value:u,children:e})}function es(){const e=R.useContext(Xd);if(!e)throw new Error("useCharacterData must be used within a DataProvider");return e}function bg(){var n,r;const{data:e}=es(),t=(n=e==null?void 0:e.legal)==null?void 0:n.copyright;return!t||((r=t.display)==null?void 0:r.footer)===!1?null:l.jsxs("footer",{className:"legal-footer","aria-label":"Legal notice",role:"contentinfo",children:[l.jsx("span",{className:"legal-footer__text",children:t.text}),t.licenseUrl?l.jsx("a",{href:t.licenseUrl,target:"_blank",rel:"noreferrer",className:"legal-footer__link",children:t.license}):l.jsx("span",{className:"legal-footer__link",children:t.license})]})}const Bg=[{to:"/",label:"Experience"},{to:"/builder",label:"Character Builder"},{to:"/management",label:"Character Management"},{to:"/gm",label:"GM Veil"}];function Ug({children:e}){return l.jsxs("div",{className:"app-shell",children:[l.jsx("header",{className:"app-shell__header",children:l.jsxs("nav",{className:"app-shell__nav",children:[l.jsx("span",{className:"brand",children:"Sidonia: The Long Night"}),l.jsx("div",{className:"nav-links",children:Bg.map(t=>l.jsx(Bm,{to:t.to,className:({isActive:n})=>n?"nav-link active":"nav-link",end:!0,children:t.label},t.to))}),l.jsx("span",{className:"nav-meta",children:"Every choice demands a sacrifice"})]})}),l.jsx("main",{className:"app-shell__main",children:e}),l.jsx(bg,{}),l.jsx(Cg,{})]})}function Wg(){return l.jsxs("section",{children:[l.jsxs("header",{children:[l.jsx("h1",{children:"Character Creation as Descent"}),l.jsx("p",{children:"Step through Sidonia's dark wards with a guide that teaches while it tempts. Assign priorities, face the consequences, and build a persona that balances humanity, power, and the whispers of corruption."})]}),l.jsxs("div",{children:[l.jsx("p",{children:"Begin with the priority grid, explore lineage aesthetics, and unlock deeper mechanical truths only when you are ready to commit. Every page layers narrative first and detail second, ensuring newcomers learn through meaningful choice."}),l.jsx("p",{children:"Continue to the Character Builder to start a new dossier or revisit existing souls you are shepherding through the night."})]})]})}const Zd=[{key:"neosapien",name:"NeoSapien",tagline:"Engineered evolution for those who can pay the tithe.",summary:"The Forge Syndicates will rebuild you into the perfect instrument. Slots determine just how much metal, muscle, and lore they lace into your bones.",priorityImpacts:{A:"Nine augmentation slots; enough to rebuild your body and soul with top-tier Forge miracles.",B:"Seven slots; you are an elite prototype with room to grow.",C:"Six slots; respectable upgrades with compromises lingering beneath the chrome.",D:"Four slots; hand-me-down mods and a favor owed to the Syndicate.",E:"Two slots; scrap work that barely keeps you alive."},narrativeHook:"NeoSapiens look immaculate, but every graft is a debt. Each upgrade ties you tighter to the Forge Families who own the patent on your blood.",gmWhisper:"Every augmentation has a corruption drip. Track how many slots are filled to calibrate the player-facing warning meter.",aesthetic:{accent:"#87f5ff",glow:"linear-gradient(135deg, rgba(120, 220, 255, 0.35), rgba(80, 140, 255, 0.2))",texture:"radial-gradient(circle at 50% 10%, rgba(120, 220, 255, 0.2), transparent 60%)"}},{key:"sorcery",name:"Sorcerer",tagline:"Scholar of the Veil, wielding codified miracles in whispers.",summary:"You read forbidden grimoires in the glow of dying streetlamps. Priorities determine how many spheres you command and how many moves you can safely inscribe.",priorityImpacts:{A:"Primary + 2 Secondary spheres, five total moves etched into your soul.",B:"Primary + Secondary pairing with four rote moves; the classic cabal initiate.",C:"Choose one Primary or two Secondary spheres, three moves scrawled in desperate ink.",D:"One secondary sphere and two moves; a dabbler who still owes their mentor.",E:"One secondary sphere, one move, hope you can bluff the rest."},narrativeHook:"Sorcerers hide sigils within noir newsprint and breathe equations of power. The more spheres you command, the more the city notices.",gmWhisper:"Each move should have a listed cost; use the assigned priority to determine how harsh to set complications.",aesthetic:{accent:"#ffb347",glow:"linear-gradient(160deg, rgba(255, 190, 92, 0.35), rgba(255, 80, 60, 0.25))",texture:"radial-gradient(circle at 70% 30%, rgba(255, 180, 90, 0.18), transparent 60%)"}},{key:"esper",name:"Esper",tagline:"Innate psionics that turn thought into weaponry.",summary:"Gifted at birth or cursed in the womb, Espers bend the city with their minds. Priority sets how refined the template becomes.",priorityImpacts:{A:"Esper Mentalist hybrid  access to both archetype trees from session one.",B:"Esper Prodigy template. Two evolutionary steps unlocked before play.",C:"Mentalist-only channel with powerful focus but brittle sanity.",D:"Gifted Esper who can evolve once with training.",E:"Base Esper template; raw talent that still sputters."},narrativeHook:"Their dreams leak into waking life. Neon bleeds, strangers hear your thoughts, and the city clerk who stamped your ID can suddenly smell the aether.",gmWhisper:"Corruption spikes when Espers overclock. Use template level to gauge safe usage before fractures appear.",aesthetic:{accent:"#f78bff",glow:"linear-gradient(120deg, rgba(255, 120, 220, 0.35), rgba(110, 90, 255, 0.25))",texture:"radial-gradient(circle at 20% 80%, rgba(255, 120, 220, 0.2), transparent 55%)"}},{key:"chimera",name:"Chimera",tagline:"Mutations granted by the citys warring ecosystems.",summary:"You trade humanity for adaptation. Mutation points dictate how many horrors you can graft into your flesh.",priorityImpacts:{A:"Seven mutation points. Become the chimera the wards whisper about.",B:"Five points. The change is obvious, but you can still pass after midnight.",C:"Four points. Enough to gain an edge while keeping a human silhouette.",D:"Three points. Side-effects and stigma follow closely.",E:"Two points. Tattoos of corruption hidden beneath borrowed coats."},narrativeHook:"Chimeras owe fealty to ward totems and feral ecologies. The more points you spend, the more the wild claims you.",gmWhisper:"Mutation tiers should map to resource availability; track total points for corruption bleed-through.",aesthetic:{accent:"#7cff91",glow:"linear-gradient(200deg, rgba(120, 255, 160, 0.35), rgba(40, 180, 120, 0.25))",texture:"radial-gradient(circle at 15% 20%, rgba(120, 255, 160, 0.18), transparent 60%)"}},{key:"automata",name:"Automata",tagline:"Synthetic souls housed in perfected shells.",summary:"You are a machine built for purpose. Priority sets the chassis quality and the branches unlocked.",priorityImpacts:{A:"Imperial chassis with Overseer/Soldier branches unlocked and sovereign protocols.",B:"Advanced military shell; twin branches with limited imperial overrides.",C:"Baseline chassis with soldier safeguards still intact.",D:"Advanced worker frame engineered for hazardous labor.",E:"Basic worker frame, easily replaced and easily overlooked."},narrativeHook:"Automata can swap plating like trench coats. Memory scrubbing is compulsory after each refit.",gmWhisper:"Track how many branches the player exposes. GM mode should reveal firmware locks hidden from the player view.",aesthetic:{accent:"#5ad1ff",glow:"linear-gradient(150deg, rgba(90, 210, 255, 0.35), rgba(40, 80, 200, 0.25))",texture:"radial-gradient(circle at 80% 20%, rgba(90, 210, 255, 0.2), transparent 60%)"}}];function ep(e){return e?Zd.find(t=>t.key===e)??null:null}function Hg({build:e,onUpdate:t}){if(!e)return null;const{profile:n,updatedAt:r}=e;return l.jsxs("section",{className:"profile-card",children:[l.jsxs("header",{children:[l.jsx("h2",{children:"Character Dossier"}),l.jsxs("span",{className:"profile-card__timestamp",children:["Auto-saved ",new Date(r).toLocaleString()]})]}),l.jsxs("div",{className:"profile-card__layout",children:[l.jsxs("div",{className:"profile-card__details",children:[l.jsxs("div",{className:"profile-card__grid",children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Name"}),l.jsx("input",{value:n.name,onChange:s=>t({name:s.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Alias"}),l.jsx("input",{value:n.alias,onChange:s=>t({alias:s.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Pronouns"}),l.jsx("input",{value:n.pronouns,onChange:s=>t({pronouns:s.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Concept"}),l.jsx("input",{value:n.concept,placeholder:"Ex: Disgraced sorcerer moonlighting as a fixer",onChange:s=>t({concept:s.target.value})})]})]}),l.jsxs("label",{className:"field profile-card__summary",children:[l.jsx("span",{children:"Summary"}),l.jsx("textarea",{value:n.summary,placeholder:"High-level summary you can hand to a new player or GM.",onChange:s=>t({summary:s.target.value})})]}),l.jsxs("label",{className:"field profile-card__textarea",children:[l.jsx("span",{children:"Physical Description"}),l.jsx("textarea",{value:n.physicalDescription,placeholder:"How do they carry themselves? Distinguishing features?",onChange:s=>t({physicalDescription:s.target.value})})]}),l.jsxs("label",{className:"field profile-card__textarea",children:[l.jsx("span",{children:"Code"}),l.jsx("textarea",{value:n.code,placeholder:"What guiding principle can they not compromise?",onChange:s=>t({code:s.target.value})})]}),l.jsxs("div",{className:"profile-card__duo",children:[l.jsxs("label",{className:"field profile-card__textarea",children:[l.jsx("span",{children:"Line They Will Not Cross"}),l.jsx("textarea",{value:n.lineNotCrossed,placeholder:"The red line that defines them.",onChange:s=>t({lineNotCrossed:s.target.value})})]}),l.jsxs("label",{className:"field profile-card__textarea",children:[l.jsx("span",{children:"Temptation"}),l.jsx("textarea",{value:n.temptation,placeholder:"The lure that could make them fall.",onChange:s=>t({temptation:s.target.value})})]})]})]}),l.jsxs("aside",{className:"profile-card__portrait",children:[l.jsx("div",{className:"profile-card__portrait-frame",children:n.portraitUrl?l.jsx("img",{src:n.portraitUrl,alt:`${n.name||"Character"} portrait`}):l.jsx("span",{children:"Portrait Pending"})}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Portrait URL (optional)"}),l.jsx("input",{value:n.portraitUrl,onChange:s=>t({portraitUrl:s.target.value}),placeholder:"Link to artwork or leave blank"})]})]})]})]})}const Ct=["priorities","lineage","resources","background","skills","attributes","narrative"],pu={head:"Head",torso:"Torso",leftArm:"Left Arm",rightArm:"Right Arm",leftLeg:"Left Leg",rightLeg:"Right Leg"},Vg=()=>({lineage:null,resources:null,background:null,skills:null,attributes:null}),Gg=()=>({physique:0,intellect:0,presence:0}),tp=()=>({physique:[],intellect:[],presence:[]}),Qg=()=>({head:{current:3,max:3,scar:""},torso:{current:5,max:5,scar:""},leftArm:{current:4,max:4,scar:""},rightArm:{current:4,max:4,scar:""},leftLeg:{current:4,max:4,scar:""},rightLeg:{current:4,max:4,scar:""}}),qg={A:3,B:2,C:2,D:1,E:0},Kg=e=>e?qg[e]:0,Yg=()=>({name:"",alias:"",pronouns:"",concept:"",summary:"",physicalDescription:"",code:"",lineNotCrossed:"",temptation:"",portraitUrl:""}),qr=()=>new Date().toISOString(),It=e=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${e}-${Math.random().toString(36).slice(2,9)}`,fu=e=>{const t=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`sidonia-${Math.random().toString(36).slice(2,9)}`,n=qr();return{id:t,label:e||"Unbound Persona",createdAt:n,updatedAt:n,stage:"priorities",profile:Yg(),priorities:Vg(),lineage:{key:null,notes:"",revealMechanics:!1,powers:[]},resources:{contacts:[],retainers:[],properties:[],goods:[],liquid:0,notes:""},background:{title:"",tierNotes:"",contacts:""},skills:{ratings:{},specializations:[],backgroundSpecialization:null,notes:""},attributes:{scores:Gg(),notes:"",specializations:tp()},corruption:{current:0,warning:6,notes:""},advancement:{experience:0,track:"",milestones:""},health:Qg(),narrative:{relationships:[],anchors:"",notes:""},gmNotes:""}},Jg=e=>{const t=Xg(e),n=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`sidonia-${Math.random().toString(36).slice(2,9)}`,r=qr();return{...t,id:n,label:`${e.label} (Copy)`,createdAt:r,updatedAt:r}},Xg=e=>typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e)),W=(e,t)=>{e(n=>{const r=n.activeBuildId;if(!r)return n;const s=n.builds[r];if(!s)return n;const i=t(s);return i.updatedAt=qr(),{...n,builds:{...n.builds,[r]:i}}})},F=Yd()(Jd((e,t)=>({builds:{},activeBuildId:null,createBuild:n=>{const r=fu(n);return e(s=>({builds:{...s.builds,[r.id]:r},activeBuildId:r.id})),r.id},ensureActiveBuild:()=>{const{activeBuildId:n}=t();return n&&t().builds[n]?n:t().createBuild()},setActiveBuild:n=>{t().builds[n]&&e({activeBuildId:n})},archiveBuild:n=>{e(r=>{const{[n]:s,...i}=r.builds;return{builds:i,activeBuildId:r.activeBuildId===n?null:r.activeBuildId}})},renameBuild:(n,r)=>{e(s=>{const i=s.builds[n];return i?{...s,builds:{...s.builds,[n]:{...i,label:r,updatedAt:qr()}}}:s})},duplicateBuild:n=>{const{builds:r}=t(),s=r[n];if(!s)return null;const i=Jg(s);return e(o=>({builds:{...o.builds,[i.id]:i},activeBuildId:i.id})),Y.track("build.duplicated",{}),i.id},resetActiveBuild:()=>{e(n=>{const r=n.activeBuildId;if(!r)return n;const s=n.builds[r];if(!s)return n;const o={...fu(s.label),id:r,createdAt:s.createdAt,updatedAt:qr()};return Y.track("build.reset",{}),{...n,builds:{...n.builds,[r]:o}}})},updateProfile:n=>{W(e,r=>({...r,profile:{...r.profile,...n}}))},assignPriority:(n,r)=>{W(e,s=>{const i={...s.priorities};return r&&Object.keys(i).forEach(o=>{o!==n&&i[o]===r&&(i[o]=null)}),i[n]=r,{...s,priorities:i}}),Y.track(r?"priority.assigned":"priority.cleared",{category:n,rank:r})},setStage:n=>{W(e,r=>({...r,stage:n})),Y.track("stage.changed",{stage:n})},nextStage:()=>{const{activeBuildId:n,builds:r}=t();if(!n)return;const s=r[n];if(!s)return;const i=Ct.indexOf(s.stage),o=Ct[Math.min(i+1,Ct.length-1)];t().setStage(o)},previousStage:()=>{const{activeBuildId:n,builds:r}=t();if(!n)return;const s=r[n];if(!s)return;const i=Ct.indexOf(s.stage),o=Ct[Math.max(i-1,0)];t().setStage(o)},selectLineage:n=>{W(e,r=>{const s=r.lineage.key===n&&n!==null;return{...r,lineage:{...r.lineage,key:n,revealMechanics:n?r.lineage.revealMechanics:!1,powers:s?r.lineage.powers:[]}}}),Y.track("lineage.selected",{lineage:n})},toggleLineageReveal:()=>{W(e,n=>({...n,lineage:{...n.lineage,revealMechanics:!n.lineage.revealMechanics}})),Y.track("lineage.reveal_toggled",{})},updateLineageNotes:n=>{W(e,r=>({...r,lineage:{...r.lineage,notes:n}}))},toggleLineagePower:n=>{W(e,r=>{var u,d;if(!r.lineage.key||r.lineage.key!==n.lineage)return r;const s=n.lineage==="esper",i=r.lineage.powers.some(p=>p.id===n.id),o=r.priorities.lineage??null;let a=r.lineage.powers;if(i){if(a=a.filter(p=>p.id!==n.id),s&&((u=n.meta)!=null&&u.root)){if(n.kind==="esper-archetype")a=a.filter(p=>{var g,m;return((g=p.meta)==null?void 0:g.root)!==((m=n.meta)==null?void 0:m.root)});else if((d=n.meta)!=null&&d.path){const p=n.meta.path.join("/");a=a.filter(g=>{var v,x,y,j;const m=((x=(v=g.meta)==null?void 0:v.path)==null?void 0:x.join("/"))??"";return((y=g.meta)==null?void 0:y.root)!==((j=n.meta)==null?void 0:j.root)||!m.startsWith(`${p}/`)})}}return{...r,lineage:{...r.lineage,powers:a}}}if(s){const p=n.meta??{},g=p.category;if(n.kind==="esper-archetype"){if(g==="esper-base"&&o==="C"||g==="esper-mentalist"&&!(o==="A"||o==="C"))return r;a=a.filter(m=>m.lineage!=="esper")}else{const m=p.root;if(!m)return r;const v=Kg(o);if((p.depth??0)>v||!a.some(j=>{var h;return j.kind==="esper-archetype"&&((h=j.meta)==null?void 0:h.root)===m}))return r}}return a=[...a,n],{...r,lineage:{...r.lineage,powers:a}}}),Y.track("lineage.power_toggled",{id:n.id,lineage:n.lineage})},clearLineagePowers:()=>{W(e,n=>({...n,lineage:{...n.lineage,powers:[]}})),Y.track("lineage.powers_cleared",{})},addContactResource:(n={})=>{const r={id:It("contact"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,reach:Math.min(Math.max(n.reach??0,0),10),influence:Math.min(Math.max(n.influence??0,0),10)};W(e,s=>({...s,resources:{...s.resources,contacts:[...s.resources.contacts,r]}})),Y.track("resources.contact_added",{})},updateContactResource:(n,r)=>{W(e,s=>({...s,resources:{...s.resources,contacts:s.resources.contacts.map(i=>i.id===n?{...i,...r,reach:r.reach!==void 0?Math.min(Math.max(r.reach,0),10):i.reach,influence:r.influence!==void 0?Math.min(Math.max(r.influence,0),10):i.influence}:i)}}))},removeContactResource:n=>{W(e,r=>({...r,resources:{...r.resources,contacts:r.resources.contacts.filter(s=>s.id!==n)}}))},addRetainerResource:(n={})=>{const r={id:It("retainer"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,loyalty:Math.min(Math.max(n.loyalty??0,0),10),competence:Math.min(Math.max(n.competence??0,0),10)};W(e,s=>({...s,resources:{...s.resources,retainers:[...s.resources.retainers,r]}})),Y.track("resources.retainer_added",{})},updateRetainerResource:(n,r)=>{W(e,s=>({...s,resources:{...s.resources,retainers:s.resources.retainers.map(i=>i.id===n?{...i,...r,loyalty:r.loyalty!==void 0?Math.min(Math.max(r.loyalty,0),10):i.loyalty,competence:r.competence!==void 0?Math.min(Math.max(r.competence,0),10):i.competence}:i)}}))},removeRetainerResource:n=>{W(e,r=>({...r,resources:{...r.resources,retainers:r.resources.retainers.filter(s=>s.id!==n)}}))},addPropertyResource:(n={})=>{const r={id:It("property"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,tenure:n.tenure??"",zoning:n.zoning??"",ward:n.ward??"",specialization:n.specialization??null};W(e,s=>({...s,resources:{...s.resources,properties:[...s.resources.properties,r]}})),Y.track("resources.property_added",{})},updatePropertyResource:(n,r)=>{W(e,s=>({...s,resources:{...s.resources,properties:s.resources.properties.map(i=>i.id===n?{...i,...r}:i)}}))},removePropertyResource:n=>{W(e,r=>({...r,resources:{...r.resources,properties:r.resources.properties.filter(s=>s.id!==n)}}))},addGoodsResource:(n={})=>{const r={id:It("goods"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,quality:Math.min(Math.max(n.quality??0,0),10)};W(e,s=>({...s,resources:{...s.resources,goods:[...s.resources.goods,r]}})),Y.track("resources.goods_added",{})},updateGoodsResource:(n,r)=>{W(e,s=>({...s,resources:{...s.resources,goods:s.resources.goods.map(i=>i.id===n?{...i,...r,quality:r.quality!==void 0?Math.min(Math.max(r.quality,0),10):i.quality}:i)}}))},removeGoodsResource:n=>{W(e,r=>({...r,resources:{...r.resources,goods:r.resources.goods.filter(s=>s.id!==n)}}))},setResourceLiquid:n=>{W(e,r=>({...r,resources:{...r.resources,liquid:Math.max(0,n)}})),Y.track("resources.liquid_set",{value:n})},updateResourceNotes:n=>{W(e,r=>({...r,resources:{...r.resources,notes:n}}))},updateBackground:n=>{W(e,r=>{const s={...r.background,...n},i=typeof n.title=="string"&&n.title!==r.background.title;return{...r,background:s,skills:i?{...r.skills,backgroundSpecialization:null}:r.skills}})},setSkillRating:(n,r)=>{W(e,s=>({...s,skills:{...s.skills,ratings:{...s.skills.ratings,[n]:Math.max(0,r)}}})),Y.track("skills.rating_set",{skillId:n,value:r})},toggleSkillSpecialization:n=>{W(e,r=>{const i=r.skills.specializations.some(o=>o.id===n.id)?r.skills.specializations.filter(o=>o.id!==n.id):[...r.skills.specializations,n];return{...r,skills:{...r.skills,specializations:i}}}),Y.track("skills.specialization_toggled",{id:n.id,type:n.type})},removeSkillSpecialization:n=>{W(e,r=>({...r,skills:{...r.skills,specializations:r.skills.specializations.filter(s=>s.id!==n)}}))},addCustomSkillSpecialization:n=>{const r=n.trim();if(!r)return;const s={id:`custom-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,label:r,type:"custom",gmApproved:!1};W(e,i=>({...i,skills:{...i.skills,specializations:[...i.skills.specializations,s]}})),Y.track("skills.custom_added",{})},markSkillSpecializationApproved:(n,r)=>{W(e,s=>({...s,skills:{...s.skills,specializations:s.skills.specializations.map(i=>i.id===n?{...i,gmApproved:r}:i)}}))},setBackgroundSkillSpecialization:n=>{W(e,r=>({...r,skills:{...r.skills,backgroundSpecialization:n}})),Y.track("skills.background_specialization",{option:n})},updateSkillNotes:n=>{W(e,r=>({...r,skills:{...r.skills,notes:n}}))},setAttributeScore:(n,r)=>{W(e,s=>({...s,attributes:{...s.attributes,scores:{...s.attributes.scores,[n]:Math.max(0,r)}}})),Y.track("attributes.updated",{attribute:n,value:r})},updateAttributeNotes:n=>{W(e,r=>({...r,attributes:{...r.attributes,notes:n}}))},toggleAttributeSpecialization:(n,r)=>{W(e,s=>{const i=s.attributes.specializations??tp(),o=i[n]??[],u=o.includes(r)?o.filter(d=>d!==r):[...o,r];return{...s,attributes:{...s.attributes,specializations:{...i,[n]:u}}}}),Y.track("attributes.specialization_toggled",{attribute:n,specialization:r})},adjustExperience:n=>{W(e,r=>({...r,advancement:{...r.advancement,experience:Math.max(0,r.advancement.experience+n)}})),Y.track("advancement.adjusted",{delta:n})},setExperience:n=>{W(e,r=>({...r,advancement:{...r.advancement,experience:Math.max(0,n)}})),Y.track("advancement.set",{value:n})},updateAdvancement:n=>{W(e,r=>({...r,advancement:{...r.advancement,...n}}))},adjustCorruption:n=>{W(e,r=>({...r,corruption:{...r.corruption,current:Math.max(0,r.corruption.current+n)}})),Y.track("corruption.adjusted",{delta:n})},setCorruption:n=>{W(e,r=>({...r,corruption:{...r.corruption,current:Math.max(0,n)}})),Y.track("corruption.set",{value:n})},updateCorruptionNotes:n=>{W(e,r=>({...r,corruption:{...r.corruption,notes:n}}))},adjustHealth:(n,r)=>{W(e,s=>{const i=s.health[n],o=Math.max(0,Math.min(i.max,i.current+r));return{...s,health:{...s.health,[n]:{...i,current:o}}}}),Y.track("health.adjusted",{location:n,delta:r})},setHealth:(n,r)=>{W(e,s=>{const i=s.health[n];return{...s,health:{...s.health,[n]:{...i,current:Math.max(0,Math.min(i.max,r))}}}}),Y.track("health.set",{location:n,value:r})},updateHealthScar:(n,r)=>{W(e,s=>({...s,health:{...s.health,[n]:{...s.health[n],scar:r}}}))},addRelationship:n=>{n.trim()&&(W(e,r=>({...r,narrative:{...r.narrative,relationships:Array.from(new Set([...r.narrative.relationships,n.trim()]))}})),Y.track("relationship.added",{}))},removeRelationship:n=>{W(e,r=>({...r,narrative:{...r.narrative,relationships:r.narrative.relationships.filter(s=>s!==n)}})),Y.track("relationship.removed",{})},updateAnchors:n=>{W(e,r=>({...r,narrative:{...r.narrative,anchors:n}}))},updateNarrativeNotes:n=>{W(e,r=>({...r,narrative:{...r.narrative,notes:n}}))},updateGmNotes:n=>{W(e,r=>({...r,gmNotes:n}))}}),{name:"sidonia-character-builder",version:5,migrate:(e,t)=>{if(!e||typeof e!="object")return e;const n=d=>{const p=d??{};return{physique:typeof p.physique=="number"?p.physique:typeof p.grit=="number"?p.grit:0,intellect:typeof p.intellect=="number"?p.intellect:typeof p.guile=="number"?p.guile:0,presence:typeof p.presence=="number"?p.presence:typeof p.gravitas=="number"?p.gravitas:0}},r=d=>{const p=d??{};return{physique:Array.isArray(p.physique)?p.physique:[],intellect:Array.isArray(p.intellect)?p.intellect:[],presence:Array.isArray(p.presence)?p.presence:[]}},s=d=>{const p=d??{};return{name:typeof p.name=="string"?p.name:"",alias:typeof p.alias=="string"?p.alias:"",pronouns:typeof p.pronouns=="string"?p.pronouns:"",concept:typeof p.concept=="string"?p.concept:"",summary:typeof p.summary=="string"?p.summary:"",physicalDescription:typeof p.physicalDescription=="string"?p.physicalDescription:"",code:typeof p.code=="string"?p.code:"",lineNotCrossed:typeof p.lineNotCrossed=="string"?p.lineNotCrossed:"",temptation:typeof p.temptation=="string"?p.temptation:"",portraitUrl:typeof p.portraitUrl=="string"?p.portraitUrl:""}},i=d=>{const p=d??{};return p.ratings&&p.specializations&&p.backgroundSpecialization!==void 0?{ratings:p.ratings,specializations:Array.isArray(p.specializations)?p.specializations:[],backgroundSpecialization:p.backgroundSpecialization??null,notes:typeof p.notes=="string"?p.notes:""}:{ratings:(Array.isArray(p.focus)?p.focus:[]).reduce((v,x)=>(v[x]=1,v),{}),specializations:[],backgroundSpecialization:null,notes:typeof p.notes=="string"?p.notes:""}},o=d=>{const p=d??{},g=Array.isArray(p.powers)?p.powers.filter(m=>!!m&&typeof m.id=="string"&&typeof m.lineage=="string"):[];return{key:p.key??null,notes:typeof p.notes=="string"?p.notes:"",revealMechanics:!!p.revealMechanics,powers:g}},a=d=>{var w;const p=d??{},g=(k,_)=>({id:k.id??It(`contact-${_}`),name:k.name??"",description:k.description??k.notes??"",gmApproved:k.gmApproved??!1,specialization:k.specialization??null,reach:typeof k.reach=="number"?k.reach:0,influence:typeof k.influence=="number"?k.influence:0}),m=(k,_)=>({id:k.id??It(`retainer-${_}`),name:k.name??"",description:k.description??k.notes??"",gmApproved:k.gmApproved??!1,specialization:k.specialization??null,loyalty:typeof k.loyalty=="number"?k.loyalty:0,competence:typeof k.competence=="number"?k.competence:0}),v=(k,_)=>({id:k.id??It(`property-${_}`),name:k.name??"",description:k.description??k.notes??"",gmApproved:k.gmApproved??!1,tenure:k.tenure??"",zoning:k.zoning??"",ward:k.ward??"",specialization:k.specialization??null}),x=(k,_)=>({id:k.id??It(`goods-${_}`),name:k.name??"",description:k.description??k.notes??"",gmApproved:k.gmApproved??!1,specialization:k.specialization??null,quality:typeof k.quality=="number"?k.quality:0}),y=Array.isArray(p.contacts)?p.contacts.map((k,_)=>g(k,_)):[],j=Array.isArray(p.retainers)?p.retainers.map((k,_)=>m(k,_)):[],h=Array.isArray(p.properties)?p.properties.map((k,_)=>v(k,_)):[],c=Array.isArray(p.goods)?p.goods.map((k,_)=>x(k,_)):[],f=typeof p.liquid=="number"?p.liquid:typeof((w=p.allocations)==null?void 0:w.liquid)=="number"?p.allocations.liquid:0;return{contacts:y,retainers:j,properties:h,goods:c,liquid:f,notes:typeof p.notes=="string"?p.notes:""}},u=Object.fromEntries(Object.entries(e.builds??{}).map(([d,p])=>{var h,c,f;const g=p,m={scores:n((h=g.attributes)==null?void 0:h.scores),notes:typeof((c=g.attributes)==null?void 0:c.notes)=="string"?g.attributes.notes:"",specializations:r((f=g.attributes)==null?void 0:f.specializations)},v=i(g.skills),x=o(g.lineage),y=a(g.resources),j={...g,profile:s(g.profile),lineage:x,resources:y,skills:v,attributes:m};return[d,j]}));return{...e,builds:u}}})),Zg={priorities:{label:"Priorities",description:"Assign each letter to a pillar to set your fate."},lineage:{label:"Lineage",description:"Choose what you are and reveal the aesthetic."},resources:{label:"Resources",description:"Distribute wealth, favors, and territory."},background:{label:"Background",description:"Capture the story that forged you."},skills:{label:"Skills",description:"Highlight expertise and specializations."},attributes:{label:"Attributes",description:"Split your innate edge across three pillars."},narrative:{label:"Narrative",description:"Track corruption, wounds, and relationships."}};function ev({current:e,onNavigate:t}){const n=Ct.indexOf(e),r=Math.round((n+1)/Ct.length*100);return l.jsxs("nav",{className:"stage-navigation","aria-label":"Character builder stages",children:[l.jsx("div",{className:"stage-navigation__progress",children:l.jsx("div",{className:"stage-navigation__progress-bar",style:{width:`${r}%`}})}),l.jsx("ul",{children:Ct.map(s=>{const i=Zg[s],o=Ct.indexOf(s),a=o===n?"current":o<n?"completed":"upcoming";return l.jsx("li",{className:`stage-navigation__item ${a}`,children:l.jsxs("button",{type:"button",onClick:()=>t(s),children:[l.jsx("span",{className:"stage-navigation__label",children:i.label}),l.jsx("span",{className:"stage-navigation__description",children:i.description})]})},s)})})]})}const hu=["A","B","C","D","E"],tv={lineage:{title:"Lineage",intro:"What are you? Determines the supernatural path and aesthetic layer.",detail:"Higher priority unlocks stronger chassis, spheres, mutation points, or Esper templates. Lower priority keeps you closer to human but limits your edge."},resources:{title:"Resources",intro:"What do you own? Contacts, territories, retainers, liquid wealth.",detail:"Priority sets your Resource Points pool and maximum quality. Use it to buy properties, networks, and gear. Higher ranks unlock elite holdings."},background:{title:"Background",intro:"Who were you? Establishes influence, narrative permissions, and synergies.",detail:"Higher priority backgrounds stretch across the city, offering automatic specializations and better resource synergies."},skills:{title:"Skills",intro:"What do you know? Disciplines and specializations that show lived experience.",detail:"Priority sets how many disciplines you master. Focus areas gain bonus dice and teach players where they shine."},attributes:{title:"Attributes",intro:"What is innate? Only three pillars define your core capability.",detail:"Allocate attribute dice based on priority. The higher the rank, the sharper your raw edge."}};function nv({priorities:e,onSelect:t,onClear:n}){const r=new Set(Object.values(e).filter(Boolean).map(s=>s));return l.jsxs("section",{className:"priority-matrix","aria-label":"Priority assignment grid",children:[l.jsxs("header",{className:"priority-matrix__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Priority Grid"}),l.jsx("p",{children:"Assign each letter exactly once. Sidonia rewards focus and makes you pay for it elsewhere. Tap a letter to slot it into a category; tap the category badge to clear it."})]}),l.jsx("ul",{className:"priority-matrix__legend",children:hu.map(s=>l.jsxs("li",{className:r.has(s)?"used":"",children:[l.jsx("span",{className:"priority-matrix__rank",children:s}),l.jsxs("span",{className:"priority-matrix__tag",children:[s==="A"&&"Signature move",s==="B"&&"Favored",s==="C"&&"Balanced",s==="D"&&"Compromised",s==="E"&&"Sacrifice"]})]},s))})]}),l.jsx("div",{className:"priority-matrix__grid",role:"table",children:Object.entries(tv).map(([s,i])=>{const o=s,a=e[o];return l.jsxs("article",{className:"priority-matrix__row",role:"row",children:[l.jsxs("div",{className:"priority-matrix__info",role:"cell",children:[l.jsxs("button",{type:"button",className:`priority-matrix__category ${a?"has-selection":""}`,onClick:()=>n==null?void 0:n(o),children:[l.jsx("span",{className:"priority-matrix__category-title",children:i.title}),l.jsx("span",{className:"priority-matrix__selection",children:a??""})]}),l.jsx("p",{className:"priority-matrix__intro",children:i.intro}),l.jsxs("details",{children:[l.jsx("summary",{children:"Why it matters"}),l.jsx("p",{children:i.detail})]})]}),l.jsx("div",{className:"priority-matrix__choices",role:"cell",children:hu.map(u=>{const d=a===u,p=!d&&r.has(u);return l.jsx("button",{type:"button",className:`priority-matrix__choice ${d?"selected":""}`,disabled:p,onClick:()=>t(o,u),children:u},u)})})]},o)})})]})}function rv({priorities:e,onSelect:t,onClear:n}){const s=Object.values(e).filter(Boolean).length===Object.keys(e).length;return l.jsxs("div",{className:"stage stage--priorities",children:[l.jsx(nv,{priorities:e,onSelect:t,onClear:n}),l.jsx("footer",{className:"stage__footer",children:l.jsx("p",{children:s?"Every letter is spoken for. Advance to Lineage to let the city brand you.":"You still have letters to place. Each sacrifice reveals a different facet of Sidonia."})})]})}const sv={A:9,B:7,C:6,D:4,E:2},iv={A:7,B:5,C:4,D:3,E:2},mu={A:{primary:1,secondary:2,moves:5},B:{primary:1,secondary:1,moves:4},C:{primary:1,secondary:2,moves:3,note:"Priority C may exchange the primary sphere for a second secondary sphere."},D:{primary:0,secondary:1,moves:2},E:{primary:0,secondary:1,moves:1}},lv={A:3,B:2,C:2,D:1,E:0},ov={A:"Priority A: Access to both Esper archetypes and full Mentalist framework.",B:"Priority B: Esper prodigy  evolve two steps beyond the baseline.",C:"Priority C: Begin as a Mentalist. Select framework paths to define focus.",D:"Priority D: Gifted Esper  evolve one step beyond baseline talents.",E:"Priority E: Base Esper talents unlocked."},We=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),Ji=(e,t,n)=>t?e[t]:n;function He(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function av(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"grades"in n)}function uv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"tiers"in n)}function cv(e){const t=e;return typeof t.spheres=="object"&&t.spheres!==null}function dv(e){const t=e;return typeof t.esper_archetypes=="object"&&t.esper_archetypes!==null}function pv(e){const t=e;return typeof t.chassis=="object"&&t.chassis!==null}function Xi(e,t){return e?l.jsxs("div",{className:"power-description",children:[e.short&&l.jsx("p",{children:e.short}),t&&e.player&&l.jsx("p",{className:"power-description__detail",children:e.player}),t&&e.flaw&&l.jsxs("p",{className:"power-description__detail flaw",children:["Flaw: ",e.flaw]}),e.outcomes&&l.jsx("ul",{className:"power-description__outcomes",children:Object.entries(e.outcomes).map(([n,r])=>l.jsxs("li",{children:[l.jsx("strong",{children:n}),l.jsx("span",{children:r})]},n))})]}):null}function gu(e,t){return!e||e.length===0?null:l.jsx("ul",{className:"power-list",children:e.map((n,r)=>l.jsxs("li",{children:[l.jsxs("div",{children:[l.jsx("strong",{children:n.name}),n.type&&l.jsx("span",{className:"badge badge--type",children:n.type}),typeof n.cost=="number"&&l.jsxs("span",{className:"badge badge--cost",children:["Cost ",n.cost]})]}),n.description&&l.jsx("p",{children:n.description})]},`${n.name}-${r}`))})}const un=e=>e.split(/[-_\s]/).filter(t=>t.length>0).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ");function Cn(e){return Array.isArray(e)?e.filter(t=>He(t)):He(e)?[e]:[]}function hr(e,t){return e.map((n,r)=>{const s=`${t}-${r}`,i=typeof n.id=="string"&&n.id.length>0?n.id:s,o=typeof n.name=="string"&&n.name.length>0?n.name:`Ability ${r+1}`,a=typeof n.type=="string"&&n.type.length>0?n.type:void 0,u=typeof n.description=="string"&&n.description.length>0?n.description:void 0,d=typeof n.cost=="string"&&n.cost.length>0?n.cost:void 0,p=typeof n.duration=="string"&&n.duration.length>0?n.duration:void 0,g=typeof n.scope=="string"&&n.scope.length>0?n.scope:void 0;return{id:i,name:o,type:a,description:u,cost:d,duration:p,scope:g}})}function vu(e){return e.reduce((t,n)=>{var s;const r=(s=n.type)==null?void 0:s.toLowerCase();return r==="move"?t.moves.push(n):r==="augment"?t.augments.push(n):t.other.push(n),t},{moves:[],augments:[],other:[]})}function Ot(e,t,n="h5",r){if(t.length===0)return null;const s=n;return l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx(s,{children:e}),l.jsx("ul",{className:"power-list",children:t.map(i=>l.jsxs("li",{className:"power-list__item",children:[l.jsxs("div",{children:[l.jsx("strong",{children:i.name}),i.type&&l.jsx("span",{className:"badge badge--type",children:un(i.type)}),i.cost&&l.jsx("span",{className:"badge badge--cost",children:i.cost}),i.duration&&l.jsx("span",{className:"badge",children:i.duration}),i.scope&&l.jsx("span",{className:"badge",children:i.scope})]}),i.description&&l.jsx("p",{children:i.description})]},i.id))})]},r)}function fv(e){return He(e)?Object.entries(e).filter(t=>typeof t[1]=="string").map(([t,n])=>({label:t,result:n})):[]}function hv(e,t){return Array.isArray(e)?e.filter(n=>He(n)).map((n,r)=>{const s=`${t}-${r}`,i=typeof n.roll=="number"?n.roll:void 0,o=typeof n.result=="string"?n.result:void 0;return{id:typeof n.id=="string"&&n.id.length>0?n.id:s,roll:i,result:o}}):[]}function mv(e,t){return Cn(e).map((n,r)=>{const s=`${t}-${r}`,i=typeof n.id=="string"&&n.id.length>0?n.id:s,o=typeof n.name=="string"&&n.name.length>0?n.name:`Trauma ${r+1}`,a=typeof n.prerequisite=="string"?n.prerequisite:void 0,u=typeof n.cost=="string"?n.cost:void 0,d=typeof n.effect=="string"?n.effect:void 0;return{id:i,name:o,prerequisite:a,cost:u,effect:d}})}function gv({lineage:e,powerData:t,gmEnabled:n,lineagePriority:r,selections:s,onToggleSelection:i,onClearSelections:o}){var p,g;if(!e)return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsx("h3",{children:"Lineage Powers"}),l.jsx("p",{children:"Select a lineage to preview its signature powers, moves, and upgrades."})]});if(!t)return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsx("h3",{children:"Lineage Powers"}),l.jsx("p",{children:"Power data for this lineage is not yet available."})]});const a=s.filter(m=>m.lineage===e),u=R.useMemo(()=>new Map(a.map(m=>[m.id,m])),[a]),d=new Set(a.map(m=>m.id));if(e==="neosapien"&&av(t)){const m=Ji(sv,r,0),v=a.reduce((j,h)=>{var c;return j+(((c=h.meta)==null?void 0:c.slots)??0)},0),x=a.reduce((j,h)=>{var c;return j+(((c=h.meta)==null?void 0:c.permanentCorruption)??0)},0),y=m>0&&v>m;return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Augment Catalog"}),l.jsx("p",{children:"Slot-based upgrades ranging from street scraps to imperial artistry."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Slots Used"}),l.jsxs("strong",{children:[v,m?` / ${m}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Permanent Corruption"}),l.jsx("strong",{children:x})]}),y&&l.jsx("p",{className:"lineage-power-summary__warning",children:"Slot budget exceeded. Adjust selections or raise lineage priority."}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),l.jsx("div",{className:"lineage-powers-grid",children:t.powers.map(j=>{const h=j.id??We(j.name??"augment");return l.jsxs("article",{className:"lineage-power-card",children:[l.jsxs("header",{children:[l.jsx("h4",{children:j.name}),j.category&&l.jsx("span",{className:"badge",children:j.category})]}),l.jsx("div",{className:"lineage-power-card__body",children:Object.entries(j.grades??{}).map(([c,f])=>{const w=f.name??c,k=f.id??`${h}-${We(c)}`,_={id:k,lineage:"neosapien",label:`${j.name}  ${w}`,kind:"neosapien-augment",meta:{root:h,parent:h,path:[h,c],depth:1,slots:typeof f.slots=="number"?f.slots:void 0,permanentCorruption:typeof f.permanentCorruption=="number"?f.permanentCorruption:void 0,category:j.category,tierLabel:w}},C=d.has(_.id),L=`lineage-power-grade${C?" lineage-power-grade--selected":""}`,T=`power-toggle${C?" power-toggle--active":""}`;return l.jsxs("section",{className:L,children:[l.jsxs("div",{className:"lineage-power-grade__header",children:[l.jsx("span",{className:"badge badge--grade",children:w}),l.jsxs("div",{className:"lineage-power-grade__meta",children:[typeof f.tier=="number"&&l.jsxs("span",{children:["Tier ",f.tier]}),typeof f.slots=="number"&&l.jsxs("span",{children:[f.slots," Slot",f.slots===1?"":"s"]}),typeof f.permanentCorruption=="number"&&l.jsxs("span",{children:[f.permanentCorruption," Permanent Corruption"]})]}),l.jsx("button",{type:"button",className:T,onClick:()=>i(_),children:C?"Selected":"Add"})]}),Xi(f.description,n)]},k)})})]},j.id??j.name)})})]})}if(e==="chimera"&&uv(t)){const m=Ji(iv,r,0),v=a.reduce((j,h)=>{var c;return j+(((c=h.meta)==null?void 0:c.mutationPoints)??0)},0),x=a.reduce((j,h)=>{var c;return j+(((c=h.meta)==null?void 0:c.permanentCorruption)??0)},0),y=m>0&&v>m;return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Mutation Catalogue"}),l.jsx("p",{children:"Spend mutation points to embrace the city's wild ecologies."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Mutation Points"}),l.jsxs("strong",{children:[v,m?` / ${m}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Permanent Corruption"}),l.jsx("strong",{children:x})]}),y&&l.jsx("p",{className:"lineage-power-summary__warning",children:"Mutation budget exceeded. Remove selections or adjust priority."}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),l.jsx("div",{className:"lineage-powers-grid",children:t.powers.map(j=>{const h=j.id??We(j.name??"mutation");return l.jsxs("article",{className:"lineage-power-card",children:[l.jsxs("header",{children:[l.jsx("h4",{children:j.name}),j.category&&l.jsx("span",{className:"badge",children:j.category})]}),l.jsx("div",{className:"lineage-power-card__body",children:Object.entries(j.tiers??{}).map(([c,f])=>{const w=f.name??c,k=f.id??`${h}-${We(c)}`,_={id:k,lineage:"chimera",label:`${j.name}  ${w}`,kind:"chimera-mutation",meta:{root:h,parent:h,path:[h,c],depth:1,mutationPoints:typeof f.mutationPoints=="number"?f.mutationPoints:void 0,permanentCorruption:typeof f.permanentCorruption=="number"?f.permanentCorruption:void 0,category:j.category,tierLabel:w}},C=d.has(_.id),L=`lineage-power-grade${C?" lineage-power-grade--selected":""}`,T=`power-toggle${C?" power-toggle--active":""}`;return l.jsxs("section",{className:L,children:[l.jsxs("div",{className:"lineage-power-grade__header",children:[l.jsx("span",{className:"badge badge--grade",children:w}),l.jsxs("div",{className:"lineage-power-grade__meta",children:[typeof f.tier=="number"&&l.jsxs("span",{children:["Tier ",f.tier]}),typeof f.mutationPoints=="number"&&l.jsxs("span",{children:[f.mutationPoints," Mutation Pts"]}),typeof f.permanentCorruption=="number"&&l.jsxs("span",{children:[f.permanentCorruption," Permanent Corruption"]})]}),l.jsx("button",{type:"button",className:T,onClick:()=>i(_),children:C?"Selected":"Add"})]}),Xi(f.description,n)]},k)})})]},j.id??j.name)})})]})}if(e==="sorcery"&&cv(t)){const{spheres:m}=t,v=Ji(mu,r,{primary:0,secondary:0,moves:0}),x=a.filter(c=>c.kind==="sorcery-sphere-primary").length,y=a.filter(c=>c.kind==="sorcery-sphere-secondary").length,j=a.filter(c=>c.kind==="sorcery-move").length,h=r?mu[r].note:void 0;return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Sphere Library"}),l.jsx("p",{children:"Primary and secondary spheres unlock ritual moves and narrative permissions."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Primary Spheres"}),l.jsxs("strong",{children:[x,v.primary?` / ${v.primary}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Secondary Spheres"}),l.jsxs("strong",{children:[y,v.secondary?` / ${v.secondary}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Moves"}),l.jsxs("strong",{children:[j,v.moves?` / ${v.moves}`:""]})]}),h&&l.jsx("p",{className:"lineage-power-summary__note",children:h}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),l.jsx("div",{className:"lineage-powers-columns",children:["primary","secondary"].map(c=>{const f=m==null?void 0:m[c];return f?l.jsxs("div",{className:"sphere-column",children:[l.jsx("h4",{className:"sphere-column__heading",children:c==="primary"?"Primary Spheres":"Secondary Spheres"}),Object.values(f).map((w,k)=>{var se;const _=w.name??`Sphere ${k+1}`,C=w.id??`${c}-${We(_)}`,L=c==="primary"?"sorcery-sphere-primary":"sorcery-sphere-secondary",T={id:C,lineage:"sorcery",label:`${c==="primary"?"Primary":"Secondary"} Sphere  ${_}`,kind:L,meta:{sphere:_,root:C,path:[C],depth:0,tierLabel:c==="primary"?"Primary Sphere":"Secondary Sphere"}},E=d.has(T.id),K=`sphere-card${E?" sphere-card--selected":""}`,re=`power-toggle${E?" power-toggle--active":""}`;return l.jsxs("details",{className:K,open:E,children:[l.jsx("summary",{children:l.jsxs("div",{className:"sphere-card__summary",children:[l.jsx("h5",{children:_}),l.jsx("button",{type:"button",className:re,onClick:Z=>{Z.preventDefault(),i(T)},children:E?"Selected":"Add"})]})}),l.jsx("ul",{className:"power-list",children:(se=w.moves)==null?void 0:se.map((Z,Re)=>{const ie=Z.id??`${C}-move-${Re}`,xe={id:ie,lineage:"sorcery",label:`${Z.name??"Move"} (${_})`,kind:"sorcery-move",meta:{moveType:Z.type,sphere:_,root:C,parent:C,path:[C,ie],depth:1}},A=d.has(xe.id),b=`power-list__item${A?" power-list__item--selected":""}`,U=`power-toggle${A?" power-toggle--active":""}`;return l.jsxs("li",{className:b,children:[l.jsxs("div",{className:"power-list__header",children:[l.jsxs("div",{children:[l.jsx("strong",{children:Z.name}),Z.type&&l.jsx("span",{className:"badge badge--type",children:Z.type})]}),l.jsx("button",{type:"button",className:U,onClick:()=>i(xe),children:A?"Selected":"Add"})]}),Xi(Z.description,n)]},ie)})})]},C)})]},c):null})})]})}if(e==="esper"&&dv(t)){const m=t.esper_archetypes??{},v=t.mentalist_data,x=v&&He(v.mentalist_archetypes)?v.mentalist_archetypes:{},y=(()=>{const P=x.foundational_augments;return He(P)?P:void 0})(),j=Object.entries(x).reduce((P,[$,O])=>($==="foundational_augments"||He(O)&&P.push([$,O]),P),[]),h=v&&He(v.trauma_mutations)?v.trauma_mutations:{},c=r!=="C",f=r==="A"||r==="C",w=r?ov[r]:void 0,k=r?lv[r]:0,_=a.find(P=>{var $;return P.kind==="esper-archetype"&&(($=P.meta)==null?void 0:$.category)==="esper-base"}),C=a.find(P=>{var $;return P.kind==="esper-archetype"&&(($=P.meta)==null?void 0:$.category)==="esper-mentalist"}),L=((p=_==null?void 0:_.meta)==null?void 0:p.root)??null,T=((g=C==null?void 0:C.meta)==null?void 0:g.root)??null,E=a.filter(P=>{var $;return P.kind==="esper-archetype"&&(($=P.meta)==null?void 0:$.category)==="esper-base"}).length,K=a.filter(P=>P.kind==="esper-focus").length,re=a.filter(P=>P.kind==="esper-framework-choice").length,se=a.filter(P=>P.kind==="esper-framework-path").length,Z=P=>{var B;const $=d.has(P.id),O=(B=P.meta)==null?void 0:B.category;if(!(O==="esper-base"&&!c)&&!(O==="esper-mentalist"&&!f)){if($){i(P);return}a.filter(Q=>{var q;return Q.kind==="esper-archetype"&&((q=Q.meta)==null?void 0:q.category)===O}).forEach(Q=>i(Q)),i(P)}},Re=P=>{var de,Ne,ke,ze;const $=(de=P.meta)==null?void 0:de.root;if(!$||$!==L&&$!==T)return;const O=((Ne=P.meta)==null?void 0:Ne.depth)??0;if(O>k)return;const B=(ke=P.meta)==null?void 0:ke.parent;if(O>0&&(!B||!u.has(B)))return;if(d.has(P.id)){i(P);return}const q=((ze=P.meta)==null?void 0:ze.path)??[P.id];a.filter(pe=>{var D,V,ee;if(pe.id===P.id||((D=pe.meta)==null?void 0:D.root)!==$)return!1;const ve=((V=pe.meta)==null?void 0:V.path)??[pe.id],Te=((ee=pe.meta)==null?void 0:ee.depth)??0;return Te<O?!1:Te===O?ve.length<=O||q.length<=O?!1:ve[O]!==q[O]:!q.every((M,le)=>ve[le]===M)}).forEach(pe=>i(pe)),i(P)},ie=P=>P===L||P===T,xe=(P,$)=>$<=k,A=(P,$,O,B)=>{const Q=typeof P.name=="string"&&P.name.length>0?P.name:$[$.length-1],q=typeof P.id=="string"&&P.id.length>0?P.id:$.join("-"),we=typeof P.path=="string"&&P.path.length>0?P.path:void 0,de={id:q,lineage:"esper",label:`Focus  ${Q}`,kind:"esper-focus",meta:{root:B,parent:$[$.length-2]??B,path:$,depth:O}},Ne=d.has(de.id),ke=!ie(B)||!xe(B,O),ze=`power-toggle${Ne?" power-toggle--active":""}`,pe=`focus-card${Ne?" focus-card--selected":""}`,ve=Cn(P.abilities),Te=hr(ve,`${q}-ability`),N=vu(Te),D=P.focuses,V=He(D)?D:void 0;return l.jsxs("details",{className:pe,open:Ne,children:[l.jsx("summary",{children:l.jsxs("div",{className:"focus-card__summary",children:[l.jsx("h6",{children:Q}),l.jsx("button",{type:"button",className:ze,disabled:ke,onClick:ee=>{ee.preventDefault(),ke||Re(de)},children:Ne?"Selected":"Add"})]})}),we&&l.jsx("p",{className:"power-description__detail",children:we}),typeof P.philosophy=="string"&&l.jsx("p",{children:P.philosophy}),Ot("Signature Moves",N.moves),Ot("Augments",N.augments),Ot("Psionic Abilities",N.other),V&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Advanced Paths"}),l.jsx("div",{className:"focus-grid",children:Object.values(V).map(ee=>{const M=ee,le=typeof M.name=="string"?M.name:`Focus ${O+1}`,X=typeof M.id=="string"&&M.id.length>0?M.id:We(le);return A(M,[...$,X],O+1,B)})})]})]},q)},b=P=>{const $=typeof P.name=="string"?P.name:"Archetype",O=typeof P.id=="string"?P.id:We($),B=Cn(P.abilities),Q=hr(B,`${O}-ability`),q=vu(Q),we={id:O,lineage:"esper",label:`Archetype  ${$}`,kind:"esper-archetype",meta:{root:O,path:[O],depth:0,category:"esper-base"}},de=d.has(we.id),Ne=`power-toggle${de?" power-toggle--active":""}`,ke=!c,ze=`lineage-power-card${de?" lineage-power-card--selected":""}`;return l.jsxs("details",{className:ze,open:de,children:[l.jsx("summary",{children:l.jsxs("div",{className:"lineage-power-card__summary",children:[l.jsx("h4",{children:$}),l.jsx("button",{type:"button",className:Ne,disabled:ke&&!de,onClick:pe=>{pe.preventDefault(),(!ke||de)&&Z(we)},children:de?"Selected":"Add"})]})}),typeof P.philosophy=="string"&&l.jsx("p",{className:"power-description__detail",children:P.philosophy}),Ot("Baseline Moves",q.moves),Ot("Baseline Augments",q.augments),Ot("Baseline Abilities",q.other),P.focuses&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Focus Paths"}),l.jsx("div",{className:"focus-grid",children:Object.values(P.focuses).map(pe=>{const ve=pe,Te=typeof ve.name=="string"?ve.name:"Focus",N=typeof ve.id=="string"&&ve.id.length>0?ve.id:We(`${O}-${Te}`);return A(ve,[O,N],1,O)})})]})]},O)},U=(P,$,O)=>{const B=typeof $.id=="string"&&$.id.length>0?$.id:We(P),Q=typeof $.name=="string"&&$.name.length>0?$.name:un(P),q=typeof $.philosophy=="string"?$.philosophy:void 0,we=typeof $.natural_lean=="string"?$.natural_lean:void 0,de=He($.power_selections)?$.power_selections:void 0,Ne=de?Object.entries(de).map(([H,S])=>{const ue=hr(Cn(S),`${B}-${H}`);return ue.length===0?null:{key:H,label:un(H),abilities:ue}}).filter(H=>H!==null):[],ke=hr(Cn($.powers),`${B}-power`),ze=He($.core_mechanics)?$.core_mechanics:void 0,pe=ze?Object.entries(ze).reduce((H,[S,ue])=>{if(!He(ue))return H;const kn=typeof ue.name=="string"&&ue.name.length>0?ue.name:un(S),op=typeof ue.description=="string"?ue.description:void 0,ap=fv(ue.outcomes);return H.push({key:S,name:kn,description:op,outcomes:ap}),H},[]):[],ve=He($.consequence_tables)?$.consequence_tables:void 0,Te=ve?Object.entries(ve).reduce((H,[S,ue])=>{const kn=hv(ue,`${B}-${S}`);return kn.length===0||H.push({key:S,label:un(S),entries:kn}),H},[]):[],N=mv(O,`${B}-trauma`),D=He($.focuses)?$.focuses:void 0,V={id:B,lineage:"esper",label:`Mentalist Path  ${Q}`,kind:"esper-archetype",meta:{root:B,path:[B],depth:0,category:"esper-mentalist"}},ee=d.has(V.id),M=`power-toggle${ee?" power-toggle--active":""}`,le=!f,X=`lineage-power-card${ee?" lineage-power-card--selected":""}`;return l.jsxs("details",{className:X,open:ee,children:[l.jsx("summary",{children:l.jsxs("div",{className:"lineage-power-card__summary",children:[l.jsx("h4",{children:Q}),l.jsx("button",{type:"button",className:M,disabled:le&&!ee,onClick:H=>{H.preventDefault(),(!le||ee)&&Z(V)},children:ee?"Selected":"Add"})]})}),we&&l.jsxs("p",{className:"power-description__detail",children:["Natural Lean: ",we]}),q&&l.jsx("p",{children:q}),Ne.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Power Selections"}),Ne.map(H=>Ot(H.label,H.abilities,"h6",`${B}-${H.key}`))]}),Ot("Path Powers",ke,"h5",`${B}-powers`),pe.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Core Mechanics"}),l.jsx("ul",{className:"power-list",children:pe.map(H=>l.jsxs("li",{className:"power-list__item",children:[l.jsx("strong",{children:H.name}),H.description&&l.jsx("p",{children:H.description}),H.outcomes.length>0&&l.jsx("ul",{className:"power-description__outcomes",children:H.outcomes.map(S=>l.jsxs("li",{children:[l.jsx("strong",{children:S.label}),l.jsx("span",{children:S.result})]},S.label))})]},H.key))})]}),Te.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Consequence Tables"}),l.jsx("div",{className:"focus-grid",children:Te.map(H=>l.jsxs("div",{className:"focus-card",children:[l.jsx("h6",{children:H.label}),l.jsx("ul",{className:"power-description__outcomes",children:H.entries.map(S=>l.jsxs("li",{children:[typeof S.roll=="number"&&l.jsxs("strong",{children:["Roll ",S.roll]}),S.result&&l.jsx("span",{children:S.result})]},S.id))})]},H.key))})]}),N.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Trauma Mutations"}),l.jsx("ul",{className:"power-list",children:N.map(H=>l.jsxs("li",{className:"power-list__item",children:[l.jsxs("div",{children:[l.jsx("strong",{children:H.name}),H.cost&&l.jsx("span",{className:"badge badge--cost",children:H.cost})]}),H.prerequisite&&l.jsxs("p",{children:[l.jsx("em",{children:"Prerequisite:"})," ",H.prerequisite]}),H.effect&&l.jsx("p",{children:H.effect})]},H.id))})]}),D&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Advanced Paths"}),l.jsx("div",{className:"focus-grid",children:Object.values(D).map(H=>{const S=H,ue=typeof S.name=="string"?S.name:"Focus",kn=typeof S.id=="string"&&S.id.length>0?S.id:We(`${B}-${ue}`);return A(S,[B,kn],1,B)})})]})]},B)};return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Esper / Mentalist Evolutions"}),l.jsx("p",{children:"Baseline talents and branching focuses define your psionic expression."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Archetypes Selected"}),l.jsx("strong",{children:E})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Focus Paths"}),l.jsx("strong",{children:K})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Framework Choices"}),l.jsx("strong",{children:re+se})]}),w&&l.jsx("p",{className:"lineage-power-summary__note",children:w}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),c&&l.jsx("div",{className:"lineage-powers-grid lineage-powers-grid--tall",children:Object.values(m).map(P=>b(P))}),!c&&l.jsx("p",{className:"lineage-note",children:"Priority C Espers begin as Mentalists. Select a path below."}),(()=>{const P=y?Object.entries(y).reduce((O,[B,Q])=>{const q=hr(Cn(Q),`${T??"mentalist"}-${B}`);return q.length>0&&O.push({key:B,label:un(B),abilities:q}),O},[]):[],$=P.length>0||j.length>0;return!f||!$?!f&&$&&r!==null&&l.jsx("p",{className:"lineage-note",children:"Mentalist paths unlock at Priority A or C."}):l.jsxs("article",{className:"lineage-power-card framework",children:[l.jsx("header",{children:l.jsx("h4",{children:"Mentalist Framework"})}),P.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Foundational Augments"}),P.map(O=>{const B=T??"mentalist";return l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h6",{children:O.label}),l.jsx("ul",{className:"power-list",children:O.abilities.map((Q,q)=>{const we=`${B}-${O.key}-${q}`,de=Q.id||we,Ne={id:de,lineage:"esper",label:`Foundational Augment  ${Q.name}`,kind:"esper-framework-choice",meta:{root:B,parent:B,path:[B,"foundational",O.key,de],depth:1,category:"esper-mentalist"}},ke=d.has(Ne.id),ze=!ie(B)||!xe(B,1),pe=`power-list__item${ke?" power-list__item--selected":""}`,ve=`power-toggle${ke?" power-toggle--active":""}`;return l.jsxs("li",{className:pe,children:[l.jsxs("div",{className:"power-list__header",children:[l.jsxs("div",{children:[l.jsx("strong",{children:Q.name}),Q.type&&l.jsx("span",{className:"badge badge--type",children:un(Q.type)}),Q.cost&&l.jsx("span",{className:"badge badge--cost",children:Q.cost}),Q.duration&&l.jsx("span",{className:"badge",children:Q.duration}),Q.scope&&l.jsx("span",{className:"badge",children:Q.scope})]}),l.jsx("button",{type:"button",className:ve,disabled:ze&&!ke,onClick:()=>{(!ze||ke)&&Re(Ne)},children:ke?"Selected":"Add"})]}),Q.description&&l.jsx("p",{children:Q.description})]},de)})})]},O.key)})]}),j.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Paths"}),l.jsx("div",{className:"lineage-powers-grid lineage-powers-grid--tall",children:j.map(([O,B])=>U(O,B,h[O]))})]})]})})()]})}if(e==="automata"&&pv(t)){const m=a.filter(x=>x.kind==="automata-capability").length,v=a.filter(x=>x.kind==="automata-model").length;return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Chassis & Branches"}),l.jsx("p",{children:"Choose a chassis, explore its branches, and escalate from basic to imperial protocols."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Capabilities"}),l.jsx("strong",{children:m})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Models"}),l.jsx("strong",{children:v})]}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),l.jsx("div",{className:"chassis-grid",children:Object.values(t.chassis).map(x=>l.jsxs("details",{className:"lineage-power-card",open:!0,children:[l.jsx("summary",{children:l.jsx("div",{className:"lineage-power-card__summary",children:l.jsx("h4",{children:x.name})})}),x.branches&&l.jsx("div",{className:"branch-grid",children:Object.values(x.branches).map(y=>{const j=y.name??"Branch",h=y.id??`${x.id??We(x.name??"chassis")}-${We(j)}`,c=y.general_capabilities??[];return l.jsxs("details",{className:"branch-card",open:!0,children:[l.jsx("summary",{children:l.jsxs("div",{className:"branch-card__summary",children:[l.jsx("h5",{children:j}),y.focus&&l.jsx("span",{children:y.focus})]})}),c.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h6",{children:"General Capabilities"}),l.jsx("ul",{className:"power-list",children:c.map((f,w)=>{const k=f.name??"Capability",_=`${h}-cap-${w}-${We(k)}`,C={id:_,lineage:"automata",label:`Capability  ${k}`,kind:"automata-capability",meta:{branch:j,chassis:x.name,category:f.type}},L=d.has(C.id),T=`power-list__item${L?" power-list__item--selected":""}`,E=`power-toggle${L?" power-toggle--active":""}`;return l.jsxs("li",{className:T,children:[l.jsxs("div",{className:"power-list__header",children:[l.jsxs("div",{children:[l.jsx("strong",{children:k}),f.type&&l.jsx("span",{className:"badge badge--type",children:f.type}),typeof f.cost=="number"&&l.jsxs("span",{className:"badge badge--cost",children:["Cost ",f.cost]})]}),l.jsx("button",{type:"button",className:E,onClick:()=>i(C),children:L?"Selected":"Add"})]}),f.description&&l.jsx("p",{children:f.description})]},_)})})]}),y.models&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h6",{children:"Models"}),l.jsx("div",{className:"model-grid",children:Object.values(y.models).map(f=>{const w=f.name??"Model",k=`${h}-model-${We(w)}`,_={id:k,lineage:"automata",label:`Model  ${w}`,kind:"automata-model",meta:{branch:j,chassis:x.name,category:f.tier}},C=d.has(_.id),L=`model-card${f.available===!1?" model-card--locked":""}${C?" model-card--selected":""}`,T=`power-toggle${C?" power-toggle--active":""}`;return l.jsxs("div",{className:L,children:[l.jsxs("div",{className:"model-card__header",children:[l.jsx("strong",{children:w}),f.tier&&l.jsx("span",{className:"badge badge--tier",children:f.tier}),f.available===!1&&l.jsx("span",{className:"badge badge--locked",children:"Locked"}),l.jsx("button",{type:"button",className:T,onClick:()=>i(_),children:C?"Selected":"Add"})]}),gu(f.augments),gu(f.moves)]},k)})})]})]},h)})})]},x.id??x.name))})]})}return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsx("h3",{children:"Lineage Powers"}),l.jsx("p",{children:"Power data structure for this lineage is not recognized. Check the source files for updates."})]})}function vv({priorities:e,selected:t,onSelect:n,canReveal:r,revealMechanics:s,onToggleReveal:i,notes:o,onUpdateNotes:a,powerSet:u,powers:d,onTogglePower:p,onClearPowers:g}){const m=e.lineage,v=R.useMemo(()=>ep(t),[t]),x=r&&s;return l.jsxs("div",{className:"stage stage--lineage",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Lineage"}),l.jsx("p",{children:"The letter you assign to Lineage defines how far from humanity you step. Explore each lineage's aesthetic, pick the one that sings to your table, then reveal mechanics when ready."})]}),l.jsx("div",{className:"stage__actions",children:l.jsx("button",{type:"button",onClick:i,className:`reveal-toggle ${s?"active":""}`,disabled:!r,children:r?s?"Hide mechanical truths":"Reveal mechanical truths":"GM access required"})})]}),l.jsx("section",{className:"lineage-grid",children:Zd.map(y=>{const j=y.key===t,h=m?y.priorityImpacts[m]:null;return l.jsxs("article",{className:`lineage-card ${j?"is-active":""}`,style:{borderColor:j?y.aesthetic.accent:"rgba(255,255,255,0.08)",boxShadow:j?`0 12px 32px ${y.aesthetic.accent}40`:void 0,backgroundImage:y.aesthetic.texture},children:[l.jsxs("header",{children:[l.jsx("h3",{children:y.name}),l.jsx("p",{className:"lineage-card__tagline",children:y.tagline})]}),l.jsx("p",{children:y.summary}),l.jsxs("div",{className:"lineage-card__priority",children:[l.jsxs("span",{children:["With Priority ",m??"",":"]}),l.jsx("p",{children:h??"Assign a priority letter to see what changes."})]}),l.jsxs("details",{children:[l.jsx("summary",{children:"First impressions"}),l.jsx("p",{children:y.narrativeHook})]}),s&&r&&l.jsxs("details",{open:!0,children:[l.jsx("summary",{children:"GM Whisper"}),l.jsx("p",{children:y.gmWhisper})]}),l.jsx("footer",{children:l.jsx("button",{type:"button",className:"lineage-card__choose",onClick:()=>n(y.key),children:j?"Selected":"Choose Lineage"})})]},y.key)})}),l.jsx(gv,{lineage:t,lineagePriority:m,powerData:u,gmEnabled:x,selections:d,onToggleSelection:p,onClearSelections:g}),l.jsx("section",{className:"lineage-notes",children:l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Lineage Notes & Promises"}),l.jsx("textarea",{value:o,onChange:y=>a(y.target.value),placeholder:"Record patron obligations, corruption tells, and aesthetic cues for later sessions."})]})}),v&&l.jsxs("aside",{className:"lineage-highlight",style:{borderColor:v.aesthetic.accent},children:[l.jsxs("h4",{children:["Echos of ",v.name]}),l.jsxs("p",{children:["Layer the UI palette with ",v.aesthetic.accent,". Consider swapping ambient sound or card frames to mirror the lineage vibe when this character is active at the table."]})]})]})}function np(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=np(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ye(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=np(e))&&(r&&(r+=" "),r+=t);return r}const yu=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return Number.POSITIVE_INFINITY},Zn=e=>Number.isFinite(e)?e:0,yv=e=>Zn(e.reach)+Zn(e.influence),xv=e=>Zn(e.loyalty)+Zn(e.competence),jv=e=>Zn(e.quality),wv=(e,t)=>Number.isFinite(e)?e:t,kv=(e,t,n,r)=>{var a,u;if(!e)return{value:0,requiresApproval:!1};const s=(a=n.properties.tenure)==null?void 0:a[e],i=(u=t.properties.tenure)==null?void 0:u[e];if(s!=null&&s.cost)return{value:r,requiresApproval:!0,note:s.cost};const o=typeof(s==null?void 0:s.multiplier)=="number"?s.multiplier:typeof(i==null?void 0:i.costMultiplier)=="number"?i.costMultiplier:null;return typeof o=="number"&&Number.isFinite(o)&&o>0?{value:Math.max(1,Math.round(o)),requiresApproval:!!(i!=null&&i.special)}:{value:0,requiresApproval:!0}},Sv=(e,t,n,r)=>{var u,d;if(!e)return{value:0,requiresApproval:!1};const s=(u=n.properties.zoning)==null?void 0:u[e],i=(d=t.properties.zoning)==null?void 0:d[e],o=typeof(s==null?void 0:s.baseCost)=="number"?s.baseCost:typeof(i==null?void 0:i.baseCost)=="number"?i.baseCost:null;if(typeof o=="number"&&Number.isFinite(o)&&o>0)return{value:o,requiresApproval:!1};const a=typeof(s==null?void 0:s.baseCost)=="string"?s.baseCost:typeof(i==null?void 0:i.baseCost)=="string"?i.baseCost:null;return{value:r,requiresApproval:!0,note:a}};function Nv({priority:e,system:t,costs:n,contacts:r,retainers:s,properties:i,goods:o,liquid:a,onAddContact:u,onUpdateContact:d,onRemoveContact:p,onAddRetainer:g,onUpdateRetainer:m,onRemoveRetainer:v,onAddProperty:x,onUpdateProperty:y,onRemoveProperty:j,onAddGoods:h,onUpdateGoods:c,onRemoveGoods:f,onUpdateLiquid:w,notes:k,onUpdateNotes:_}){var ze,pe,ve,Te;const C=e?t.resourcePoints[e]:null,L=(C==null?void 0:C.points)??0,T=yu(C==null?void 0:C.maxQuality),E=yu(C==null?void 0:C.maxCombined),K=(C==null?void 0:C.specializations)??0,re=wv(E,(C==null?void 0:C.points)??10),se=Array.isArray(r)?r:[],Z=Array.isArray(s)?s:[],Re=Array.isArray(i)?i:[],ie=Array.isArray(o)?o:[],xe=se.map(N=>{const D=yv(N),V=[];return Number.isFinite(T)&&N.reach>T&&V.push(`Reach exceeds max quality ${T}`),Number.isFinite(T)&&N.influence>T&&V.push(`Influence exceeds max quality ${T}`),Number.isFinite(E)&&D>E&&V.push(`Total reach + influence exceeds combined maximum ${E}`),{entry:N,cost:D,issues:V}}),A=Z.map(N=>{const D=xv(N),V=[];return Number.isFinite(T)&&N.competence>T&&V.push(`Competence exceeds max quality ${T}`),Number.isFinite(T)&&N.loyalty>T&&V.push(`Loyalty exceeds max quality ${T}`),Number.isFinite(E)&&D>E&&V.push(`Total loyalty + competence exceeds combined maximum ${E}`),{entry:N,cost:D,issues:V}}),b=Re.map(N=>{const D=kv(N.tenure,t,n,re),V=Sv(N.zoning,t,n,re),ee=D.value+V.value,M=[];return(D.requiresApproval||V.requiresApproval)&&M.push("Selection requires GM approval."),D.note&&M.push(D.note),V.note&&M.push(V.note),Number.isFinite(T)&&D.value>T&&M.push(`Tenure rating exceeds max quality ${T}`),Number.isFinite(T)&&V.value>T&&M.push(`Zoning rating exceeds max quality ${T}`),Number.isFinite(E)&&ee>E&&M.push(`Total tenure + zoning exceeds combined maximum ${E}`),{entry:N,cost:ee,issues:M,tenureValue:D.value,zoningValue:V.value}}),U=ie.map(N=>{const D=jv(N),V=[];return Number.isFinite(T)&&N.quality>T&&V.push(`Quality exceeds max quality ${T}`),Number.isFinite(E)&&N.quality>E&&V.push(`Quality exceeds combined maximum ${E}`),{entry:N,cost:D,issues:V}}),P=xe.reduce((N,D)=>N+D.cost,0)+A.reduce((N,D)=>N+D.cost,0)+b.reduce((N,D)=>N+D.cost,0)+U.reduce((N,D)=>N+D.cost,0)+Zn(a),$=L-P,O=C?$<0:P>0,B=xe.filter(({entry:N})=>!!N.specialization).length+A.filter(({entry:N})=>!!N.specialization).length+b.filter(({entry:N})=>!!N.specialization).length+U.filter(({entry:N})=>!!N.specialization).length,q=K-B<0,we=((ze=t.contacts)==null?void 0:ze.specializations)??[],de=((pe=t.retainers)==null?void 0:pe.specializations)??[],Ne=((ve=t.properties)==null?void 0:ve.specializations)??[],ke=((Te=t.goods)==null?void 0:Te.specializations)??[];return l.jsxs("div",{className:"stage stage--resources",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Resources"}),l.jsx("p",{children:"Spend your Resource Points to define the allies, havens, and gear that keep you alive. Balance reach and quality carefully  every edge requires upkeep and trust."})]}),l.jsxs("aside",{className:"resource-summary",children:[l.jsxs("span",{className:"resource-summary__label",children:["Priority ",e??""]}),C?l.jsxs("dl",{children:[l.jsxs("div",{children:[l.jsx("dt",{children:"Available Points"}),l.jsx("dd",{children:L})]}),l.jsxs("div",{className:Ye({"resource-summary__warning":O}),children:[l.jsx("dt",{children:"Spent"}),l.jsx("dd",{children:P})]}),l.jsxs("div",{className:Ye({"resource-summary__warning":O}),children:[l.jsx("dt",{children:"Remaining"}),l.jsx("dd",{children:Math.max(0,$)})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Quality Cap"}),l.jsx("dd",{children:Number.isFinite(T)?T:""})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Combined Cap"}),l.jsx("dd",{children:Number.isFinite(E)?E:""})]}),l.jsxs("div",{className:Ye({"resource-summary__warning":q}),children:[l.jsx("dt",{children:"Specializations"}),l.jsxs("dd",{children:[B," / ",K]})]})]}):l.jsx("p",{children:"Assign a resources priority to unlock your pool."})]})]}),l.jsxs("div",{className:Ye("resource-ledger",{"resource-ledger--warning":O}),children:[l.jsx("strong",{children:P})," resource points allocated",C?` of ${L}`:"",".",O&&l.jsx("span",{className:"resource-ledger__warning",children:"You are overspending. Adjust your assets or raise your priority."})]}),l.jsxs("div",{className:Ye("resource-ledger",{"resource-ledger--warning":q}),children:["Specializations used: ",l.jsx("strong",{children:B})," of ",K,".",q&&l.jsx("span",{className:"resource-ledger__warning",children:"Only one specialization per asset until the limit is raised."})]}),l.jsxs("div",{className:"resource-grid",children:[l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Contacts"}),l.jsx("button",{type:"button",onClick:u,children:"Add Contact"})]}),xe.length===0?l.jsx("p",{className:"resource-section__empty",children:"No contacts recorded. Add a fixer, broker, or confidant."}):xe.map(({entry:N,cost:D,issues:V})=>{const ee=!N.gmApproved;return l.jsxs("article",{className:Ye("resource-card",{"resource-card--flagged":ee}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:N.name,onChange:M=>d(N.id,{name:M.target.value}),placeholder:"Contact name"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",D]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Profile"}),l.jsx("textarea",{value:N.description,onChange:M=>d(N.id,{description:M.target.value}),placeholder:"Why does this person answer your call?"})]}),l.jsxs("div",{className:"resource-card__grid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Reach"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(T)?T:void 0,value:N.reach,onChange:M=>d(N.id,{reach:Number(M.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Influence"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(T)?T:void 0,value:N.influence,onChange:M=>d(N.id,{influence:Number(M.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:N.specialization??"",onChange:M=>d(N.id,{specialization:M.target.value?M.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),we.map(M=>l.jsx("option",{value:M,children:M},M))]})]})]}),V.length>0&&l.jsx("ul",{className:"resource-card__issues",children:V.map((M,le)=>l.jsx("li",{children:M},le))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>p(N.id),className:"link",children:"Remove Contact"}),l.jsx("button",{type:"button",onClick:()=>d(N.id,{gmApproved:!N.gmApproved}),className:Ye("badge",{"badge--attention":ee}),children:N.gmApproved?"GM Approved":"GM Approval Required"})]})]},N.id)})]}),l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Retainers"}),l.jsx("button",{type:"button",onClick:g,children:"Add Retainer"})]}),A.length===0?l.jsx("p",{className:"resource-section__empty",children:"No retainers enlisted. Secure a loyal operator."}):A.map(({entry:N,cost:D,issues:V})=>{const ee=!N.gmApproved;return l.jsxs("article",{className:Ye("resource-card",{"resource-card--flagged":ee}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:N.name,onChange:M=>m(N.id,{name:M.target.value}),placeholder:"Retainer name"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",D]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Role"}),l.jsx("textarea",{value:N.description,onChange:M=>m(N.id,{description:M.target.value}),placeholder:"What do they handle for you?"})]}),l.jsxs("div",{className:"resource-card__grid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Competence"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(T)?T:void 0,value:N.competence,onChange:M=>m(N.id,{competence:Number(M.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Loyalty"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(T)?T:void 0,value:N.loyalty,onChange:M=>m(N.id,{loyalty:Number(M.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:N.specialization??"",onChange:M=>m(N.id,{specialization:M.target.value?M.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),de.map(M=>l.jsx("option",{value:M,children:M},M))]})]})]}),V.length>0&&l.jsx("ul",{className:"resource-card__issues",children:V.map((M,le)=>l.jsx("li",{children:M},le))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>v(N.id),className:"link",children:"Remove Retainer"}),l.jsx("button",{type:"button",onClick:()=>m(N.id,{gmApproved:!N.gmApproved}),className:Ye("badge",{"badge--attention":ee}),children:N.gmApproved?"GM Approved":"GM Approval Required"})]})]},N.id)})]}),l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Properties"}),l.jsx("button",{type:"button",onClick:x,children:"Add Property"})]}),b.length===0?l.jsx("p",{className:"resource-section__empty",children:"No safehouses or fronts secured. Stake your claim."}):b.map(({entry:N,cost:D,issues:V,tenureValue:ee,zoningValue:M})=>{const le=!N.gmApproved;return l.jsxs("article",{className:Ye("resource-card",{"resource-card--flagged":le}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:N.name,onChange:X=>y(N.id,{name:X.target.value}),placeholder:"Property name"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",D]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Description"}),l.jsx("textarea",{value:N.description,onChange:X=>y(N.id,{description:X.target.value}),placeholder:"What makes this space yours?"})]}),l.jsxs("div",{className:"resource-card__grid resource-card__grid--wide",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Tenure"}),l.jsxs("select",{value:N.tenure,onChange:X=>y(N.id,{tenure:X.target.value}),children:[l.jsx("option",{value:"",children:"Select tenure"}),Object.keys(t.properties.tenure).map(X=>l.jsx("option",{value:X,children:X},X))]}),l.jsx("small",{children:ee?`Value ${ee}`:"Pick a claim type"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Zoning"}),l.jsxs("select",{value:N.zoning,onChange:X=>y(N.id,{zoning:X.target.value}),children:[l.jsx("option",{value:"",children:"Select function"}),Object.keys(t.properties.zoning).map(X=>l.jsx("option",{value:X,children:X},X))]}),l.jsx("small",{children:M?`Value ${M}`:"Pick a function"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Ward"}),l.jsx("input",{value:N.ward,onChange:X=>y(N.id,{ward:X.target.value}),placeholder:"Ward or district"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:N.specialization??"",onChange:X=>y(N.id,{specialization:X.target.value?X.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),Ne.map(X=>l.jsx("option",{value:X,children:X},X))]})]})]}),V.length>0&&l.jsx("ul",{className:"resource-card__issues",children:V.map((X,H)=>l.jsx("li",{children:X},H))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>j(N.id),className:"link",children:"Remove Property"}),l.jsx("button",{type:"button",onClick:()=>y(N.id,{gmApproved:!N.gmApproved}),className:Ye("badge",{"badge--attention":le}),children:N.gmApproved?"GM Approved":"GM Approval Required"})]})]},N.id)})]}),l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Goods & Stockpiles"}),l.jsx("button",{type:"button",onClick:h,children:"Add Goods"})]}),U.length===0?l.jsx("p",{className:"resource-section__empty",children:"No caches documented. Set aside kit or contraband."}):U.map(({entry:N,cost:D,issues:V})=>{const ee=!N.gmApproved;return l.jsxs("article",{className:Ye("resource-card",{"resource-card--flagged":ee}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:N.name,onChange:M=>c(N.id,{name:M.target.value}),placeholder:"Goods cache"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",D]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Contents"}),l.jsx("textarea",{value:N.description,onChange:M=>c(N.id,{description:M.target.value}),placeholder:"Describe the stash, weaponry, or leverage."})]}),l.jsxs("div",{className:"resource-card__grid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Quality"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(T)?T:void 0,value:N.quality,onChange:M=>c(N.id,{quality:Number(M.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:N.specialization??"",onChange:M=>c(N.id,{specialization:M.target.value?M.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),ke.map(M=>l.jsx("option",{value:M,children:M},M))]})]})]}),V.length>0&&l.jsx("ul",{className:"resource-card__issues",children:V.map((M,le)=>l.jsx("li",{children:M},le))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>f(N.id),className:"link",children:"Remove Goods"}),l.jsx("button",{type:"button",onClick:()=>c(N.id,{gmApproved:!N.gmApproved}),className:Ye("badge",{"badge--attention":ee}),children:N.gmApproved?"GM Approved":"GM Approval Required"})]})]},N.id)})]})]}),l.jsxs("section",{className:"resource-liquid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Liquid Assets"}),l.jsx("input",{type:"number",min:0,value:a,onChange:N=>w(Number(N.target.value)||0)})]}),l.jsx("p",{children:"Reserve unassigned points for cash, favors, or future acquisitions."})]}),l.jsx("section",{children:l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Resource Stories"}),l.jsx("textarea",{value:k,onChange:N=>_(N.target.value),placeholder:"Record fronts, debts, leverage, and the strings attached to each asset."})]})}),l.jsxs("section",{className:"resource-reference",children:[l.jsxs("article",{children:[l.jsx("h4",{children:"Contact Scales"}),l.jsxs("div",{className:"resource-reference__grid",children:[l.jsxs("div",{children:[l.jsx("h5",{children:"Reach"}),l.jsx("ul",{children:Object.entries(t.contacts.reachScale).map(([N,D])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:N}),l.jsx("span",{children:D})]},N))})]}),l.jsxs("div",{children:[l.jsx("h5",{children:"Influence"}),l.jsx("ul",{children:Object.entries(t.contacts.influenceScale).map(([N,D])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:N}),l.jsx("span",{children:D})]},N))})]})]})]}),l.jsxs("article",{children:[l.jsx("h4",{children:"Retainer Scales"}),l.jsxs("div",{className:"resource-reference__grid",children:[l.jsxs("div",{children:[l.jsx("h5",{children:"Competence"}),l.jsx("ul",{children:Object.entries(t.retainers.competenceScale).map(([N,D])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:N}),l.jsx("span",{children:D})]},N))})]}),l.jsxs("div",{children:[l.jsx("h5",{children:"Loyalty"}),l.jsx("ul",{children:Object.entries(t.retainers.loyaltyScale).map(([N,D])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:N}),l.jsx("span",{children:D})]},N))})]})]})]}),l.jsxs("article",{children:[l.jsx("h4",{children:"Tenure Reference"}),l.jsx("ul",{className:"resource-reference__list",children:Object.entries(t.properties.tenure).map(([N,D])=>l.jsxs("li",{children:[l.jsx("strong",{children:N}),D.description&&l.jsxs("span",{children:["  ",D.description]})]},N))})]})]})]})}function Cv({priority:e,background:t,onUpdate:n,data:r}){const s=R.useMemo(()=>Object.entries(r),[r]),i=t.title&&r[t.title]?r[t.title]:void 0,o=R.useMemo(()=>i!=null&&i.professions?new Map(i.professions.map(v=>[v.priority,v])):new Map,[i==null?void 0:i.professions]),a=e?o.get(e):void 0,u=t.title||"Choose a background",d=(a==null?void 0:a.description)||(i==null?void 0:i.description)||"Select a background below to load its story, talents, and contacts.",p=(i==null?void 0:i.skillSpecializationOptions)??[],g=(i==null?void 0:i.resourceSynergyExamples)??[],m=v=>{var j;const x=r[v],y={title:v};x&&(!t.tierNotes&&x.description&&(y.tierNotes=x.description),!t.contacts&&((j=x.resourceSynergyExamples)!=null&&j.length)&&(y.contacts=x.resourceSynergyExamples.join(`
`))),n(y)};return l.jsxs("div",{className:"stage stage--background",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Background"}),l.jsx("p",{children:"Backgrounds tell the table who you were before the Long Night took hold. Use the narrative scope guidance to outline your reach and obligations."})]}),l.jsxs("aside",{className:"background-callout",children:[l.jsxs("div",{className:"background-callout__header",children:[l.jsxs("span",{className:"background-callout__label",children:["Priority ",e??""]}),l.jsx("h3",{children:u})]}),l.jsx("p",{className:"background-callout__body",children:d}),(p.length>0||g.length>0)&&l.jsxs("div",{className:"background-callout__tags",children:[p.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"background-callout__tag-label",children:"Signature Skills"}),l.jsx("ul",{children:p.map(v=>l.jsx("li",{children:v},v))})]}),g.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"background-callout__tag-label",children:"Resource Synergies"}),l.jsx("ul",{children:g.map(v=>l.jsx("li",{children:v},v))})]})]})]})]}),l.jsxs("section",{className:"background-form",children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Background Title"}),l.jsx("input",{value:t.title,placeholder:"Ex: Harrowed Detective of Ward 13",onChange:v=>n({title:v.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Background Details"}),l.jsx("textarea",{value:t.tierNotes,placeholder:"What power structure do you belong to? Who do you owe? How far does your influence reach?",onChange:v=>n({tierNotes:v.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Contacts Born From This Life"}),l.jsx("textarea",{value:t.contacts,placeholder:"List guaranteed contacts, safehouses, or automatic skill specializations.",onChange:v=>n({contacts:v.target.value})})]})]}),l.jsx("section",{className:"background-catalog",children:s.map(([v,x])=>{var j,h,c;const y=v===t.title;return l.jsxs("article",{className:`background-card ${y?"active":""}`,children:[l.jsxs("header",{className:"background-card__header",children:[l.jsxs("div",{children:[l.jsx("h3",{children:v}),l.jsx("p",{children:x.description})]}),l.jsx("button",{type:"button",onClick:()=>m(v),children:y?"Selected":"Adopt Background"})]}),(((j=x.skillSpecializationOptions)==null?void 0:j.length)??0)>0&&l.jsxs("section",{className:"background-card__section",children:[l.jsx("h4",{children:"Skill Specializations"}),l.jsx("ul",{children:x.skillSpecializationOptions.map(f=>l.jsx("li",{children:f},f))})]}),(((h=x.resourceSynergyExamples)==null?void 0:h.length)??0)>0&&l.jsxs("section",{className:"background-card__section",children:[l.jsx("h4",{children:"Resource Synergies"}),l.jsx("ul",{children:x.resourceSynergyExamples.map(f=>l.jsx("li",{children:f},f))})]}),(((c=x.professions)==null?void 0:c.length)??0)>0&&l.jsxs("section",{className:"background-card__section",children:[l.jsx("h4",{children:"Profession Ladder"}),l.jsx("div",{className:"background-card__professions",children:x.professions.map(f=>l.jsxs("div",{className:`background-card__profession ${f.priority===e?"highlight":""}`,children:[l.jsxs("div",{className:"background-card__profession-header",children:[l.jsx("span",{className:"badge",children:f.priority}),l.jsx("strong",{children:f.title})]}),l.jsx("p",{children:f.description})]},`${f.priority}-${f.title}`))})]})]},v)})})]})}const _v={A:{maxRank:5,points:10,specializations:2},B:{maxRank:4,points:14,specializations:2},C:{maxRank:3,points:10,specializations:1},D:{maxRank:3,points:8,specializations:1},E:{maxRank:2,points:4,specializations:0}},Ev="Custom options are provisional until your GM approves them.";function Pv({priority:e,data:t,ratings:n,onChangeRating:r,specializations:s,onToggleSpecialization:i,onRemoveSpecialization:o,onAddCustomSpecialization:a,backgroundSpecialization:u,backgroundOptions:d,onSetBackgroundSpecialization:p,notes:g,onUpdateNotes:m}){const[v,x]=R.useState(""),y=e?_v[e]:null,j=R.useMemo(()=>Object.values(n).reduce((E,K)=>E+K,0),[n]),h=y?Math.max(y.points-j,0):0,c=s.filter(E=>E.type!=="background"),f=y?Math.max(y.specializations-c.length,0):0,w=R.useMemo(()=>new Map(s.map(E=>[E.id,E])),[s]),k=(E,K)=>re=>{const se=Number(re.target.value);if(!y)return;const Z=Math.max(0,Math.min(se,y.maxRank)),Re=j-K+Z;let ie=Z;if(Re>y.points){const xe=Re-y.points;ie=Math.max(0,Z-xe)}ie!==K&&r(E,ie)},_=()=>{if(!y)return;const E=v.trim();E&&y.specializations!==0&&f!==0&&(a(E),x(""))},C=(E,K,re,se)=>{if(!y)return;const Z=`pre:${E}:${re??se}`;if(!w.has(Z)&&y.specializations>0&&f===0)return;const Re={id:Z,label:`${K}  ${se}`,type:"predefined",skillId:E,gmApproved:!0};i(Re)},L=y?y.specializations>0&&f>0:!1,T=d.filter(Boolean);return l.jsxs("div",{className:"stage stage--skills",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Skills & Disciplines"}),l.jsx("p",{children:"Allocate your skill points, respecting the maximum rank for your priority. Claim a handful of specializations to spotlight signature movescustom picks stay flagged until your GM approves them."})]}),l.jsxs("aside",{className:"skills-limit",children:[l.jsxs("span",{children:["Priority ",e??""]}),y?l.jsxs(l.Fragment,{children:[l.jsx("p",{children:`${h} of ${y.points} skill points remaining`}),l.jsxs("p",{children:["Specializations: ",`${Math.max(f,0)} of ${y.specializations} remaining`]})]}):l.jsx("p",{children:"Assign a priority letter to unlock your allocation."})]})]}),l.jsx("section",{className:"skills-grid",children:Object.entries(t.skills).map(([E,K])=>l.jsxs("article",{className:"skills-discipline",children:[l.jsxs("header",{children:[l.jsx("h3",{children:Rv(E)}),l.jsxs("p",{children:[K.length," core skills"]})]}),l.jsx("ul",{children:K.map(re=>{const se=`${E}:${re.id}`,Z=n[se]??0,Re=(y==null?void 0:y.maxRank)??0;return l.jsxs("li",{children:[l.jsxs("div",{className:"skills-item__header",children:[l.jsxs("label",{className:"skills-rating",children:[l.jsx("span",{children:"Rating"}),l.jsx("input",{type:"range",min:0,max:Re,step:1,value:Z,disabled:!y,onChange:k(se,Z)}),l.jsx("span",{className:"skills-rating__value",children:Z})]}),l.jsxs("div",{children:[l.jsx("h4",{children:re.name}),l.jsx("p",{children:re.description})]})]}),re.specializations.length>0&&l.jsxs("details",{children:[l.jsx("summary",{children:"Specializations"}),l.jsx("ul",{className:"skills-specializations",children:re.specializations.map(ie=>{const xe=`pre:${se}:${ie.id??ie.name}`,A=w.has(xe),b=!y||y.specializations===0&&!A||y.specializations>0&&f===0&&!A;return l.jsx("li",{children:l.jsxs("button",{type:"button",className:`skills-specialization__toggle ${A?"selected":""}`,onClick:()=>C(se,re.name,ie.id,ie.name),disabled:b,children:[l.jsx("strong",{children:ie.name}),l.jsx("span",{children:ie.description})]})},xe)})})]})]},se)})})]},E))}),T.length>0&&l.jsxs("section",{className:"skills-background",children:[l.jsx("h3",{children:"Background Specialization"}),l.jsx("p",{children:"Select one of the options granted by your background."}),l.jsxs("div",{className:"skills-background__options",children:[T.map(E=>l.jsxs("label",{className:"skills-background__option",children:[l.jsx("input",{type:"radio",name:"background-specialization",value:E,checked:u===E,onChange:()=>p(E)}),l.jsx("span",{children:E})]},E)),l.jsx("button",{type:"button",className:"skills-background__clear",onClick:()=>p(null),children:"Clear Background Choice"})]})]}),l.jsxs("section",{className:"skills-selected",children:[l.jsx("h3",{children:"Selected Specializations"}),s.length===0&&!u?l.jsx("p",{children:"No specializations chosen yet."}):l.jsxs("ul",{children:[s.map(E=>l.jsxs("li",{children:[l.jsxs("div",{children:[l.jsx("strong",{children:E.label}),E.type==="custom"&&!E.gmApproved&&l.jsx("span",{className:"gm-tag",children:"Pending GM Approval"})]}),l.jsx("button",{type:"button",onClick:()=>o(E.id),"aria-label":`Remove ${E.label}`,children:"Remove"})]},E.id)),u&&l.jsxs("li",{children:[l.jsxs("div",{children:[l.jsx("strong",{children:u}),l.jsx("span",{className:"gm-tag gm-tag--background",children:"Background"})]}),l.jsx("button",{type:"button",onClick:()=>p(null),"aria-label":"Clear background specialization",children:"Remove"})]})]})]}),l.jsxs("section",{className:"skills-footer",children:[l.jsxs("div",{children:[l.jsx("h3",{children:"Custom Specialization"}),l.jsxs("div",{className:"skills-custom",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Describe your custom edge"}),l.jsxs("div",{className:"skills-custom__controls",children:[l.jsx("input",{value:v,onChange:E=>x(E.target.value),placeholder:"Ex: Underworld Etiquette",disabled:y?!L:!0}),l.jsx("button",{type:"button",onClick:_,disabled:!L||!v.trim(),children:"Add"})]})]}),l.jsxs("p",{className:"skills-custom__hint",children:[Ev,y?` Slots remaining: ${Math.max(f,0)}.`:""]})]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Skill Notes"}),l.jsx("textarea",{value:g,onChange:E=>m(E.target.value),placeholder:"Record signature moves, training montages, and promised stunts."})]})]})]})}function Rv(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}const zv={Physique:"physique",Intellect:"intellect",Presence:"presence"};function Av({priority:e,scores:t,onUpdateScore:n,notes:r,onUpdateNotes:s,data:i,selectedSpecializations:o,onToggleSpecialization:a}){var j;if(!i||!Array.isArray(i.pointBuy)||!i.definitions)return l.jsx("div",{className:"stage stage--attributes",children:l.jsx("p",{children:"Attribute data failed to load. Please refresh."})});const u=R.useMemo(()=>e?i.pointBuy.find(h=>h.priority===e)??null:null,[i.pointBuy,e]),d=R.useMemo(()=>Object.entries(i.definitions).map(([h,c])=>{const f=zv[h];return f?{key:f,displayName:h,description:c.description,specializations:c.specializations??[]}:null}).filter(h=>h!==null),[i.definitions]),p=(u==null?void 0:u.attributePoints)??0,g=Object.values(t).reduce((h,c)=>h+c,0),m=p-g,v=(u==null?void 0:u.specializations)??0,x=R.useMemo(()=>Object.values(o).reduce((h,c)=>h+(Array.isArray(c)?c.length:0),0),[o]),y=Math.max(v-x,0);return l.jsxs("div",{className:"stage stage--attributes",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Attributes"}),l.jsx("p",{children:"Only three pillars define your raw capability. Split your dice pool to show which part of their soul still shines and which has already been sold to the city."})]}),l.jsxs("aside",{className:"attribute-pool",children:[l.jsxs("span",{children:["Priority ",e??""]}),e?l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:["Pool ",p,"  Remaining ",m]}),l.jsxs("p",{className:"attribute-pool__detail",children:["Specializations: ",v>0?`${y} of ${v} remaining`:"None available"]})]}):l.jsx("p",{children:"Assign a priority letter to calculate your attribute pool."})]})]}),l.jsx("section",{className:"attributes-grid",children:d.map(h=>{var c;return l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h3",{children:h.displayName}),l.jsx("p",{children:h.description})]}),l.jsxs("div",{className:"attribute-control",children:[l.jsx("input",{type:"range",min:0,max:p,value:t[h.key]??0,onChange:f=>n(h.key,Number(f.target.value))}),l.jsx("span",{className:"attribute-value",children:t[h.key]??0})]}),((c=h.specializations)==null?void 0:c.length)>0&&l.jsxs("div",{className:"attribute-specializations",children:[l.jsx("h4",{children:"Specializations"}),l.jsx("ul",{children:h.specializations.map(f=>{const k=(o[h.key]??[]).includes(f.name),_=v===0&&!k||v>0&&y===0&&!k;return l.jsx("li",{children:l.jsxs("button",{type:"button",className:`attribute-specialization__toggle ${k?"selected":""}`,onClick:()=>a(h.key,f.name),disabled:_,children:[l.jsx("strong",{children:f.name}),l.jsx("span",{children:f.description})]})},f.name)})})]})]},h.key)})}),m<0&&l.jsx("p",{className:"attribute-warning",children:"You are overspending your pool. Reduce a score or raise your priority."}),((j=i.ratings)==null?void 0:j.length)>0&&l.jsxs("section",{className:"attribute-ratings",children:[l.jsx("h3",{children:"Rating Benchmarks"}),l.jsx("ul",{children:i.ratings.map(h=>l.jsxs("li",{children:[l.jsx("span",{className:"attribute-rating__score",children:h.score}),l.jsx("span",{children:h.label})]},h.score))})]}),l.jsx("section",{children:l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Attribute Notes"}),l.jsx("textarea",{value:r,onChange:h=>s(h.target.value),placeholder:"What scars or tells explain these strengths and weaknesses?"})]})})]})}function Lv({corruption:e,onAdjustCorruption:t,onSetCorruption:n,onUpdateCorruptionNotes:r,advancement:s,onAdjustExperience:i,onSetExperience:o,onUpdateAdvancement:a,health:u,onAdjustHealth:d,onSetHealth:p,onUpdateScar:g,narrative:m,onAddRelationship:v,onRemoveRelationship:x,onUpdateAnchors:y,onUpdateNarrativeNotes:j}){const[h,c]=R.useState(""),f=()=>{h.trim()&&(v(h.trim()),c(""))};return l.jsxs("div",{className:"stage stage--narrative",children:[l.jsx("header",{className:"stage__header",children:l.jsxs("div",{children:[l.jsx("h2",{children:"Narrative, Corruption & Wounds"}),l.jsx("p",{children:"Record the scars the city has already carved. Corruption is front-and-center for players, while hidden notes can foreshadow GM complications."})]})}),l.jsxs("section",{className:"advancement-panel",children:[l.jsxs("div",{className:"experience-meter",children:[l.jsx("div",{className:"experience-value",children:s.experience}),l.jsx("span",{children:"Experience"}),l.jsxs("div",{className:"experience-controls",children:[l.jsx("button",{type:"button",onClick:()=>i(-1),children:"-1"}),l.jsx("button",{type:"button",onClick:()=>o(0),children:"Reset"}),l.jsx("button",{type:"button",onClick:()=>i(1),children:"+1"})]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Advancement Track"}),l.jsx("textarea",{value:s.track,onChange:w=>a({track:w.target.value}),placeholder:"What does advancement look like for this character? Training regimens, resources, oaths."})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Milestones"}),l.jsx("textarea",{value:s.milestones,onChange:w=>a({milestones:w.target.value}),placeholder:"Log beats completed, debts paid, or corruption bargains accepted."})]})]}),l.jsxs("section",{className:"corruption-panel",children:[l.jsxs("div",{className:"corruption-meter",children:[l.jsx("div",{className:"corruption-value",children:e.current}),l.jsxs("span",{children:["Threshold ",e.warning]}),l.jsxs("div",{className:"corruption-controls",children:[l.jsx("button",{type:"button",onClick:()=>t(-1),children:"-1"}),l.jsx("button",{type:"button",onClick:()=>n(0),children:"Reset"}),l.jsx("button",{type:"button",onClick:()=>t(1),children:"+1"})]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Corruption Notes"}),l.jsx("textarea",{value:e.notes,onChange:w=>r(w.target.value),placeholder:"Describe what corruption looks like for this character."})]})]}),l.jsxs("section",{className:"health-grid",children:[l.jsx("h3",{children:"Health by Body Location"}),l.jsx("div",{className:"health-cards",children:Object.keys(pu).map(w=>{const k=u[w],_=pu[w];return l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h4",{children:_}),l.jsxs("span",{children:[k.current," / ",k.max]})]}),l.jsxs("div",{className:"health-controls",children:[l.jsx("button",{type:"button",onClick:()=>d(w,-1),children:"-"}),l.jsx("input",{type:"number",min:0,max:k.max,value:k.current,onChange:C=>p(w,Number(C.target.value))}),l.jsx("button",{type:"button",onClick:()=>d(w,1),children:"+"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Scars & Notes"}),l.jsx("textarea",{value:k.scar,onChange:C=>g(w,C.target.value),placeholder:"Visible injuries, lingering trauma, prosthetics."})]})]},w)})})]}),l.jsxs("section",{className:"relationships-panel",children:[l.jsxs("div",{className:"relationships-list",children:[l.jsx("h3",{children:"Relationships"}),l.jsxs("div",{className:"relationship-input",children:[l.jsx("input",{value:h,onChange:w=>c(w.target.value),placeholder:"Name  why they matter  leverage"}),l.jsx("button",{type:"button",onClick:f,children:"Add"})]}),m.relationships.length===0?l.jsx("p",{children:"No relationships logged yet."}):l.jsx("ul",{children:m.relationships.map(w=>l.jsxs("li",{children:[l.jsx("span",{children:w}),l.jsx("button",{type:"button",onClick:()=>x(w),children:"Remove"})]},w))})]}),l.jsxs("div",{className:"anchors",children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Anchors"}),l.jsx("textarea",{value:m.anchors,onChange:w=>y(w.target.value),placeholder:"What keeps them tethered to humanity?"})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Other Notes"}),l.jsx("textarea",{value:m.notes,onChange:w=>j(w.target.value),placeholder:"Foreshadow upcoming arcs, unresolved debts, or metaphysical tells."})]})]})]})]})}function $v(){var H;const{data:e}=es(),t=F(S=>S.ensureActiveBuild),n=F(S=>S.activeBuildId?S.builds[S.activeBuildId]:null),r=F(S=>S.setStage),s=F(S=>S.updateProfile),i=F(S=>S.assignPriority),o=F(S=>S.selectLineage),a=F(S=>S.toggleLineageReveal),u=F(S=>S.updateLineageNotes),d=F(S=>S.toggleLineagePower),p=F(S=>S.clearLineagePowers),g=F(S=>S.updateResourceNotes),m=F(S=>S.updateBackground),v=F(S=>S.addContactResource),x=F(S=>S.updateContactResource),y=F(S=>S.removeContactResource),j=F(S=>S.addRetainerResource),h=F(S=>S.updateRetainerResource),c=F(S=>S.removeRetainerResource),f=F(S=>S.addPropertyResource),w=F(S=>S.updatePropertyResource),k=F(S=>S.removePropertyResource),_=F(S=>S.addGoodsResource),C=F(S=>S.updateGoodsResource),L=F(S=>S.removeGoodsResource),T=F(S=>S.setResourceLiquid),E=F(S=>S.setSkillRating),K=F(S=>S.toggleSkillSpecialization),re=F(S=>S.removeSkillSpecialization),se=F(S=>S.addCustomSkillSpecialization),Z=F(S=>S.setBackgroundSkillSpecialization),Re=F(S=>S.updateSkillNotes),ie=F(S=>S.setAttributeScore),xe=F(S=>S.updateAttributeNotes),A=F(S=>S.toggleAttributeSpecialization),b=F(S=>S.resetActiveBuild),U=F(S=>S.adjustExperience),P=F(S=>S.setExperience),$=F(S=>S.updateAdvancement),O=F(S=>S.adjustCorruption),B=F(S=>S.setCorruption),Q=F(S=>S.updateCorruptionNotes),q=F(S=>S.adjustHealth),we=F(S=>S.setHealth),de=F(S=>S.updateHealthScar),Ne=F(S=>S.addRelationship),ke=F(S=>S.removeRelationship),ze=F(S=>S.updateAnchors),pe=F(S=>S.updateNarrativeNotes),ve=jt(S=>S.gmUnlocked);R.useEffect(()=>{t()},[t]);const Te=R.useMemo(()=>ep((n==null?void 0:n.lineage.key)??null),[n==null?void 0:n.lineage.key]);if(!e||!n)return null;const N=n.lineage.key?(H=e.powerSets)==null?void 0:H[n.lineage.key]:void 0,D=n.background.title?e.backgrounds[n.background.title]:void 0,V=Array.isArray(D==null?void 0:D.skillSpecializationOptions)?D.skillSpecializationOptions:[],ee=(S,ue)=>i(S,ue),M=S=>i(S,null);let le;switch(n.stage){case"priorities":le=l.jsx(rv,{priorities:n.priorities,onSelect:ee,onClear:M});break;case"lineage":le=l.jsx(vv,{priorities:n.priorities,selected:n.lineage.key,onSelect:S=>o(S),canReveal:ve,revealMechanics:n.lineage.revealMechanics,onToggleReveal:a,notes:n.lineage.notes,onUpdateNotes:u,powerSet:N,powers:n.lineage.powers,onTogglePower:d,onClearPowers:p});break;case"resources":le=l.jsx(Nv,{priority:n.priorities.resources,system:e.resources,costs:e.resourceCosts,contacts:n.resources.contacts,retainers:n.resources.retainers,properties:n.resources.properties,goods:n.resources.goods,liquid:n.resources.liquid,onAddContact:v,onUpdateContact:x,onRemoveContact:y,onAddRetainer:j,onUpdateRetainer:h,onRemoveRetainer:c,onAddProperty:f,onUpdateProperty:w,onRemoveProperty:k,onAddGoods:_,onUpdateGoods:C,onRemoveGoods:L,onUpdateLiquid:T,notes:n.resources.notes,onUpdateNotes:g});break;case"background":le=l.jsx(Cv,{priority:n.priorities.background,background:n.background,onUpdate:m,data:e.backgrounds});break;case"skills":le=l.jsx(Pv,{priority:n.priorities.skills,data:e.skills,ratings:n.skills.ratings,onChangeRating:E,specializations:n.skills.specializations,onToggleSpecialization:K,onRemoveSpecialization:re,onAddCustomSpecialization:se,backgroundSpecialization:n.skills.backgroundSpecialization,backgroundOptions:V,onSetBackgroundSpecialization:Z,notes:n.skills.notes,onUpdateNotes:Re});break;case"attributes":le=l.jsx(Av,{priority:n.priorities.attributes,scores:n.attributes.scores,onUpdateScore:(S,ue)=>ie(S,ue),notes:n.attributes.notes,onUpdateNotes:xe,data:e.attributes,selectedSpecializations:n.attributes.specializations,onToggleSpecialization:A});break;case"narrative":le=l.jsx(Lv,{corruption:n.corruption,onAdjustCorruption:O,onSetCorruption:B,onUpdateCorruptionNotes:Q,advancement:n.advancement,onAdjustExperience:U,onSetExperience:P,onUpdateAdvancement:$,health:n.health,onAdjustHealth:(S,ue)=>q(S,ue),onSetHealth:(S,ue)=>we(S,ue),onUpdateScar:(S,ue)=>de(S,ue),narrative:n.narrative,onAddRelationship:Ne,onRemoveRelationship:ke,onUpdateAnchors:ze,onUpdateNarrativeNotes:pe});break;default:le=null}const X=Te?{"--lineage-accent":Te.aesthetic.accent,"--lineage-glow":Te.aesthetic.glow}:void 0;return l.jsxs("div",{className:"builder-screen",style:X,children:[l.jsx(Hg,{build:n,onUpdate:s}),l.jsx("div",{className:"builder-actions",children:l.jsx("button",{type:"button",onClick:b,children:"Reset Character"})}),l.jsx(ev,{current:n.stage,onNavigate:r}),le]})}function Tv(e,t){const n=e.background.title?t.backgrounds[e.background.title]??null:null;return{version:"0.1.0",generatedAt:new Date().toISOString(),profile:e.profile,priorities:e.priorities,lineage:e.lineage,resources:e.resources,background:e.background,skills:e.skills,attributes:e.attributes,corruption:e.corruption,health:e.health,narrative:e.narrative,gmNotes:e.gmNotes,reference:{resources:t.resources,resourceCosts:t.resourceCosts,powerSchemas:t.powerSchemas,attributes:t.attributes,backgrounds:t.backgrounds,selectedBackgroundTemplate:n,characterSheet:t.characterSheet}}}function Mv(e,t){const n=Tv(e,t),r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"});rp(`${sp(e.profile.name||e.label)}.json`,r)}function Iv(e){const t=Ov(e),n=new Blob([t],{type:"text/plain"});rp(`${sp(e.profile.name||e.label)}.txt`,n)}function Ov(e){const t=[];t.push(`SIDONIA DOSSIER :: ${e.profile.name||e.label}`),t.push(`Concept: ${e.profile.concept}`),t.push(`Pronouns: ${e.profile.pronouns}`),t.push(`Summary: ${e.profile.summary}`),e.profile.alias&&t.push(`Alias: ${e.profile.alias}`),e.profile.physicalDescription&&t.push(`Physical Description: ${e.profile.physicalDescription}`),e.profile.code&&t.push(`Code: ${e.profile.code}`),e.profile.lineNotCrossed&&t.push(`Line Not Crossed: ${e.profile.lineNotCrossed}`),e.profile.temptation&&t.push(`Temptation: ${e.profile.temptation}`),t.push(""),t.push("Priorities:"),Object.entries(e.priorities).forEach(([s,i])=>{t.push(`  ${s.toUpperCase()}: ${i??"-"}`)}),t.push(""),t.push(`Lineage: ${e.lineage.key??"Unchosen"}`),t.push(`Lineage Notes: ${e.lineage.notes}`),e.lineage.powers.length>0&&(t.push("Selected Lineage Powers:"),e.lineage.powers.forEach(s=>{var a,u,d,p,g,m;const i=[];(a=s.meta)!=null&&a.tierLabel&&i.push(s.meta.tierLabel),(u=s.meta)!=null&&u.sphere&&i.push(s.meta.sphere),(d=s.meta)!=null&&d.moveType&&i.push(s.meta.moveType),(p=s.meta)!=null&&p.branch&&i.push(s.meta.branch),(g=s.meta)!=null&&g.chassis&&i.push(s.meta.chassis),(m=s.meta)!=null&&m.category&&!["esper-base","esper-mentalist"].includes(s.meta.category)&&i.push(s.meta.category);const o=i.length>0?` (${i.join(", ")})`:"";t.push(`  - ${s.label}${o}`)})),t.push(""),t.push("Resources:"),e.resources.contacts.length>0&&(t.push("  Contacts:"),e.resources.contacts.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Contact";t.push(`    - ${a}${o}${i}`),t.push(`      Reach ${s.reach} / Influence ${s.influence}`),s.description&&t.push(`      ${s.description}`)})),e.resources.retainers.length>0&&(t.push("  Retainers:"),e.resources.retainers.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Retainer";t.push(`    - ${a}${o}${i}`),t.push(`      Competence ${s.competence} / Loyalty ${s.loyalty}`),s.description&&t.push(`      ${s.description}`)})),e.resources.properties.length>0&&(t.push("  Properties:"),e.resources.properties.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Property";t.push(`    - ${a}${o}${i}`),t.push(`      Tenure: ${s.tenure||""}  Zoning: ${s.zoning||""}`),s.ward&&t.push(`      Ward: ${s.ward}`),s.description&&t.push(`      ${s.description}`)})),e.resources.goods.length>0&&(t.push("  Goods & Stockpiles:"),e.resources.goods.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Cache";t.push(`    - ${a}${o}${i}`),t.push(`      Quality ${s.quality}`),s.description&&t.push(`      ${s.description}`)})),t.push(`  Liquid Assets: ${e.resources.liquid}`),t.push(`Resource Notes: ${e.resources.notes}`),t.push(""),t.push(`Background: ${e.background.title}`),t.push(`Details: ${e.background.tierNotes}`),t.push(`Contacts: ${e.background.contacts}`),t.push(""),t.push("Skills:"),Object.entries(e.skills.ratings).forEach(([s,i])=>{i>0&&t.push(`  ${Dv(s)}: ${i}`)});const n=e.skills.specializations.filter(s=>s.type!=="background");n.length>0&&(t.push("Specializations:"),n.forEach(s=>{const i=s.type==="custom"&&!s.gmApproved?" (Pending GM Approval)":"";t.push(`  - ${s.label}${i}`)})),e.skills.backgroundSpecialization&&t.push(`Background Specialization: ${e.skills.backgroundSpecialization}`),t.push(`Skill Notes: ${e.skills.notes}`),t.push(""),t.push("Attributes:"),Object.entries(e.attributes.scores).forEach(([s,i])=>{t.push(`  ${s}: ${i}`)});const r=Object.entries(e.attributes.specializations).filter(([,s])=>s.length>0);return r.length>0&&(t.push("Attribute Specializations:"),r.forEach(([s,i])=>{t.push(`  ${s}: ${i.join(", ")}`)})),t.push(`Attribute Notes: ${e.attributes.notes}`),t.push(""),t.push(`Corruption: ${e.corruption.current} / ${e.corruption.warning}`),t.push(`Corruption Notes: ${e.corruption.notes}`),t.push(""),t.push("Health:"),Object.entries(e.health).forEach(([s,i])=>{t.push(`  ${s}: ${i.current}/${i.max} :: ${i.scar}`)}),t.push(""),t.push("Relationships:"),e.narrative.relationships.forEach(s=>t.push(`  - ${s}`)),t.push(`Anchors: ${e.narrative.anchors}`),t.push(`Notes: ${e.narrative.notes}`),e.gmNotes&&(t.push(""),t.push("GM Notes:"),t.push(e.gmNotes)),t.join(`
`)}function rp(e,t){const n=document.createElement("a"),r=URL.createObjectURL(t);n.href=r,n.download=e,n.click(),URL.revokeObjectURL(r)}function sp(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"sidonia-character"}function Dv(e){const[t,n]=e.split(":");return`${xu(t)}  ${xu((n??"").replace(/-/g," "))}`}function xu(e){return e.split(/\s+/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ").trim()}function Fv(){const{data:e}=es(),t=F(m=>m.builds),n=F(m=>m.activeBuildId),r=F(m=>m.createBuild),s=F(m=>m.setActiveBuild),i=F(m=>m.archiveBuild),o=F(m=>m.renameBuild),a=F(m=>m.duplicateBuild),[u,d]=R.useState(""),p=R.useMemo(()=>Object.values(t).sort((m,v)=>m.updatedAt<v.updatedAt?1:-1),[t]),g=()=>{const m=r(u.trim()||void 0);d(""),s(m)};return e?l.jsxs("section",{className:"management",children:[l.jsxs("header",{children:[l.jsx("h1",{children:"Character Management"}),l.jsx("p",{children:"Spin up new dossiers, duplicate existing ones, and export packages for your virtual tabletop or print."})]}),l.jsxs("div",{className:"management__actions",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Name your new dossier"}),l.jsx("input",{value:u,onChange:m=>d(m.target.value),placeholder:"Untitled Operative"})]}),l.jsx("button",{type:"button",onClick:g,children:"Create Character"})]}),p.length===0&&l.jsx("p",{children:"No builds yet. Start by creating a new dossier."}),l.jsx("div",{className:"management__grid",children:p.map(m=>{const v=m.id===n;return l.jsxs("article",{className:`management-card ${v?"active":""}`,children:[l.jsxs("header",{children:[l.jsx("input",{value:m.label,onChange:x=>o(m.id,x.target.value),"aria-label":"Character label"}),v?l.jsx("span",{className:"badge",children:"Active"}):l.jsx("button",{onClick:()=>s(m.id),children:"Set Active"})]}),l.jsxs("dl",{children:[l.jsxs("div",{children:[l.jsx("dt",{children:"Name"}),l.jsx("dd",{children:m.profile.name||""})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Concept"}),l.jsx("dd",{children:m.profile.concept||""})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Updated"}),l.jsx("dd",{children:new Date(m.updatedAt).toLocaleString()})]})]}),l.jsxs("footer",{children:[l.jsx("button",{type:"button",onClick:()=>a(m.id),children:"Duplicate"}),l.jsx("button",{type:"button",onClick:()=>Mv(m,e),children:"Export JSON"}),l.jsx("button",{type:"button",onClick:()=>Iv(m),children:"Printable Sheet"}),l.jsx("button",{type:"button",className:"danger",onClick:()=>bv(m.id,m.label,i),children:"Delete"})]})]},m.id)})})]}):null}function bv(e,t,n){window.confirm(`Delete ${t}? This action cannot be undone.`)&&n(e)}function Bv(){const{data:e}=es(),t=jt(v=>v.gmUnlocked),n=jt(v=>v.authenticateGm),r=jt(v=>v.lockGm),s=jt(v=>v.gmUnlockedAt),[i,o]=R.useState(""),[a,u]=R.useState(null),d=(e==null?void 0:e.designDocs)??[],p=(e==null?void 0:e.powerSchemas)??{},g=v=>{v.preventDefault(),n(i)?(u(null),o("")):(u("Access denied. Double-check the veil phrase."),Y.track("gm.invalid_passphrase",{}))},m=R.useMemo(()=>Object.entries(p),[p]);return l.jsxs("section",{className:"gm-portal",children:[l.jsxs("header",{children:[l.jsx("h1",{children:"GM Veil"}),l.jsx("p",{children:"Hidden truths live here. Only game masters with the veil phrase may cross. Player tables should never see the material below."})]}),!t&&l.jsxs("form",{className:"gm-form",onSubmit:g,children:[l.jsxs("label",{children:[l.jsx("span",{children:"Veil Phrase"}),l.jsx("input",{value:i,onChange:v=>o(v.target.value),placeholder:"Enter the GM veil phrase",autoComplete:"off"})]}),l.jsx("button",{type:"submit",children:"Slip Behind the Veil"}),a&&l.jsx("p",{className:"gm-error",children:a})]}),t&&l.jsxs("div",{className:"gm-content",children:[l.jsxs("section",{className:"gm-status",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Veil Raised"}),l.jsxs("p",{children:["Unlocked ",s?new Date(s).toLocaleString():"just now","."]})]}),l.jsx("button",{type:"button",onClick:r,children:"Re-engage Safety"})]}),l.jsxs("section",{children:[l.jsx("h2",{children:"Power Schemas"}),l.jsx("p",{children:"Raw schema data for powers, lineages, and their restrictions. Export directly for system reference."}),l.jsx("div",{className:"schema-grid",children:m.map(([v,x])=>l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h3",{children:Uv(v)}),l.jsx("button",{type:"button",onClick:()=>ip(`${v}-schema.json`,x),children:"Download JSON"})]}),l.jsxs("pre",{children:[JSON.stringify(x,null,2).slice(0,400),""]})]},v))})]}),l.jsxs("section",{children:[l.jsx("h2",{children:"Design Documents"}),l.jsx("p",{children:"Reference briefs written for GM eyes. Share selectively with players as the narrative reveals itself."}),l.jsx("div",{className:"doc-grid",children:d.map(v=>l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h3",{children:v.title}),l.jsx("button",{type:"button",onClick:()=>Wv(`${v.id}.md`,v.content),children:"Download Markdown"})]}),l.jsxs("pre",{children:[v.content.slice(0,400),""]})]},v.id))})]}),l.jsxs("section",{children:[l.jsx("h2",{children:"Analytics Buffer"}),l.jsx("p",{children:"Inspect anonymized analytics currently stored locally. Export before sharing with designers."}),l.jsx(Hv,{})]})]})]})}function Uv(e){return e.split(/[-_]/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function ip(e,t){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"});lp(e,n)}function Wv(e,t){const n=new Blob([t],{type:"text/plain"});lp(e,n)}function lp(e,t){const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,r.click(),URL.revokeObjectURL(n)}function Hv(){const e=jt(n=>n.analyticsConsent),t=Y.getAll();return e!=="accepted"?l.jsx("p",{children:"Analytics collection is currently disabled or declined."}):t.length===0?l.jsx("p",{children:"No analytics entries recorded yet."}):l.jsxs("div",{className:"analytics-log",children:[l.jsx("button",{type:"button",onClick:()=>ip("sidonia-analytics.json",t),children:"Export Analytics Buffer"}),l.jsx("ul",{children:t.map(n=>l.jsxs("li",{children:[l.jsx("strong",{children:n.event}),l.jsx("span",{children:new Date(n.timestamp).toLocaleTimeString()}),n.data&&l.jsx("code",{children:JSON.stringify(n.data)})]},`${n.event}-${n.timestamp}`))})]})}function Vv(){return l.jsxs("div",{className:"loading-spinner",role:"status","aria-live":"polite",children:[l.jsx("div",{className:"loading-spinner__glow"}),l.jsx("span",{className:"loading-spinner__label",children:"Loading the Veil"})]})}function Gv(){const{status:e,error:t,refresh:n}=es();let r;return e==="idle"||e==="loading"?r=l.jsx(Vv,{}):e==="error"?r=l.jsxs("div",{children:[l.jsx("h2",{children:"We lost the signal."}),l.jsxs("p",{children:["Character data failed to load. ",t]}),l.jsx("button",{type:"button",onClick:n,children:"Retry"})]}):r=l.jsxs(Rm,{children:[l.jsx(Nn,{path:"/",element:l.jsx(Wg,{})}),l.jsx(Nn,{path:"/builder",element:l.jsx($v,{})}),l.jsx(Nn,{path:"/management",element:l.jsx(Fv,{})}),l.jsx(Nn,{path:"/gm",element:l.jsx(Bv,{})}),l.jsx(Nn,{path:"*",element:l.jsx(Em,{to:"/",replace:!0})})]}),l.jsx(Ug,{children:r})}Zi.createRoot(document.getElementById("root")).render(l.jsx(eo.StrictMode,{children:l.jsx(Om,{children:l.jsx(Fg,{children:l.jsx(Gv,{})})})}));
