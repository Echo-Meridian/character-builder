var cp=Object.defineProperty;var up=(e,t,n)=>t in e?cp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Si=(e,t,n)=>up(e,typeof t!="symbol"?t+"":t,n);function dp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function kc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var wc={exports:{}},ri={},Sc={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yr=Symbol.for("react.element"),pp=Symbol.for("react.portal"),hp=Symbol.for("react.fragment"),fp=Symbol.for("react.strict_mode"),mp=Symbol.for("react.profiler"),gp=Symbol.for("react.provider"),vp=Symbol.for("react.context"),xp=Symbol.for("react.forward_ref"),yp=Symbol.for("react.suspense"),jp=Symbol.for("react.memo"),kp=Symbol.for("react.lazy"),Jl=Symbol.iterator;function wp(e){return e===null||typeof e!="object"?null:(e=Jl&&e[Jl]||e["@@iterator"],typeof e=="function"?e:null)}var Nc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cc=Object.assign,_c={};function er(e,t,n){this.props=e,this.context=t,this.refs=_c,this.updater=n||Nc}er.prototype.isReactComponent={};er.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};er.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ec(){}Ec.prototype=er.prototype;function Ja(e,t,n){this.props=e,this.context=t,this.refs=_c,this.updater=n||Nc}var Xa=Ja.prototype=new Ec;Xa.constructor=Ja;Cc(Xa,er.prototype);Xa.isPureReactComponent=!0;var Xl=Array.isArray,bc=Object.prototype.hasOwnProperty,Za={current:null},Pc={key:!0,ref:!0,__self:!0,__source:!0};function zc(e,t,n){var r,s={},a=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)bc.call(t,r)&&!Pc.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Yr,type:e,key:a,ref:l,props:s,_owner:Za.current}}function Sp(e,t){return{$$typeof:Yr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function el(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yr}function Np(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Zl=/\/+/g;function Ni(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Np(""+e.key):t.toString(36)}function vs(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Yr:case pp:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+Ni(l,0):r,Xl(s)?(n="",e!=null&&(n=e.replace(Zl,"$&/")+"/"),vs(s,t,n,"",function(d){return d})):s!=null&&(el(s)&&(s=Sp(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Zl,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",Xl(e))for(var o=0;o<e.length;o++){a=e[o];var c=r+Ni(a,o);l+=vs(a,t,n,c,s)}else if(c=wp(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=r+Ni(a,o++),l+=vs(a,t,n,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function es(e,t,n){if(e==null)return e;var r=[],s=0;return vs(e,r,"","",function(a){return t.call(n,a,s++)}),r}function Cp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},xs={transition:null},_p={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:xs,ReactCurrentOwner:Za};function Ac(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:es,forEach:function(e,t,n){es(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return es(e,function(){t++}),t},toArray:function(e){return es(e,function(t){return t})||[]},only:function(e){if(!el(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=er;ne.Fragment=hp;ne.Profiler=mp;ne.PureComponent=Ja;ne.StrictMode=fp;ne.Suspense=yp;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_p;ne.act=Ac;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Cc({},e.props),s=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=Za.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)bc.call(t,c)&&!Pc.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:Yr,type:e.type,key:s,ref:a,props:r,_owner:l}};ne.createContext=function(e){return e={$$typeof:vp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gp,_context:e},e.Consumer=e};ne.createElement=zc;ne.createFactory=function(e){var t=zc.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:xp,render:e}};ne.isValidElement=el;ne.lazy=function(e){return{$$typeof:kp,_payload:{_status:-1,_result:e},_init:Cp}};ne.memo=function(e,t){return{$$typeof:jp,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=xs.transition;xs.transition={};try{e()}finally{xs.transition=t}};ne.unstable_act=Ac;ne.useCallback=function(e,t){return Oe.current.useCallback(e,t)};ne.useContext=function(e){return Oe.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};ne.useEffect=function(e,t){return Oe.current.useEffect(e,t)};ne.useId=function(){return Oe.current.useId()};ne.useImperativeHandle=function(e,t,n){return Oe.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return Oe.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return Oe.current.useReducer(e,t,n)};ne.useRef=function(e){return Oe.current.useRef(e)};ne.useState=function(e){return Oe.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return Oe.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return Oe.current.useTransition()};ne.version="18.3.1";Sc.exports=ne;var z=Sc.exports;const tl=kc(z),Ep=dp({__proto__:null,default:tl},[z]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp=z,Pp=Symbol.for("react.element"),zp=Symbol.for("react.fragment"),Ap=Object.prototype.hasOwnProperty,Rp=bp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lp={key:!0,ref:!0,__self:!0,__source:!0};function Rc(e,t,n){var r,s={},a=null,l=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Ap.call(t,r)&&!Lp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Pp,type:e,key:a,ref:l,props:s,_owner:Rp.current}}ri.Fragment=zp;ri.jsx=Rc;ri.jsxs=Rc;wc.exports=ri;var i=wc.exports,ea={},Lc={exports:{}},Je={},Tc={exports:{}},Mc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,D){var I=A.length;A.push(D);e:for(;0<I;){var B=I-1>>>1,U=A[B];if(0<s(U,D))A[B]=D,A[I]=U,I=B;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var D=A[0],I=A.pop();if(I!==D){A[0]=I;e:for(var B=0,U=A.length,te=U>>>1;B<te;){var J=2*(B+1)-1,ee=A[J],G=J+1,q=A[G];if(0>s(ee,I))G<U&&0>s(q,ee)?(A[B]=q,A[G]=I,B=G):(A[B]=ee,A[J]=I,B=J);else if(G<U&&0>s(q,I))A[B]=q,A[G]=I,B=G;else break e}}return D}function s(A,D){var I=A.sortIndex-D.sortIndex;return I!==0?I:A.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var c=[],d=[],p=1,g=null,m=3,v=!1,x=!1,j=!1,k=typeof setTimeout=="function"?setTimeout:null,f=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(A){for(var D=n(d);D!==null;){if(D.callback===null)r(d);else if(D.startTime<=A)r(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(d)}}function S(A){if(j=!1,h(A),!x)if(n(c)!==null)x=!0,O(y);else{var D=n(d);D!==null&&V(S,D.startTime-A)}}function y(A,D){x=!1,j&&(j=!1,f(E),E=-1),v=!0;var I=m;try{for(h(D),g=n(c);g!==null&&(!(g.expirationTime>D)||A&&!L());){var B=g.callback;if(typeof B=="function"){g.callback=null,m=g.priorityLevel;var U=B(g.expirationTime<=D);D=e.unstable_now(),typeof U=="function"?g.callback=U:g===n(c)&&r(c),h(D)}else r(c);g=n(c)}if(g!==null)var te=!0;else{var J=n(d);J!==null&&V(S,J.startTime-D),te=!1}return te}finally{g=null,m=I,v=!1}}var N=!1,_=null,E=-1,C=5,b=-1;function L(){return!(e.unstable_now()-b<C)}function K(){if(_!==null){var A=e.unstable_now();b=A;var D=!0;try{D=_(!0,A)}finally{D?M():(N=!1,_=null)}}else N=!1}var M;if(typeof u=="function")M=function(){u(K)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,$=R.port2;R.port1.onmessage=K,M=function(){$.postMessage(null)}}else M=function(){k(K,0)};function O(A){_=A,N||(N=!0,M())}function V(A,D){E=k(function(){A(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,O(y))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(A){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var I=m;m=D;try{return A()}finally{m=I}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,D){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var I=m;m=A;try{return D()}finally{m=I}},e.unstable_scheduleCallback=function(A,D,I){var B=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?B+I:B):I=B,A){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=I+U,A={id:p++,callback:D,priorityLevel:A,startTime:I,expirationTime:U,sortIndex:-1},I>B?(A.sortIndex=I,t(d,A),n(c)===null&&A===n(d)&&(j?(f(E),E=-1):j=!0,V(S,I-B))):(A.sortIndex=U,t(c,A),x||v||(x=!0,O(y))),A},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(A){var D=m;return function(){var I=m;m=D;try{return A.apply(this,arguments)}finally{m=I}}}})(Mc);Tc.exports=Mc;var Tp=Tc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mp=z,Ke=Tp;function T(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $c=new Set,br={};function kn(e,t){Hn(e,t),Hn(e+"Capture",t)}function Hn(e,t){for(br[e]=t,e=0;e<t.length;e++)$c.add(t[e])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ta=Object.prototype.hasOwnProperty,$p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eo={},to={};function Ip(e){return ta.call(to,e)?!0:ta.call(eo,e)?!1:$p.test(e)?to[e]=!0:(eo[e]=!0,!1)}function Op(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dp(e,t,n,r){if(t===null||typeof t>"u"||Op(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function De(e,t,n,r,s,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Ae={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ae[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ae[t]=new De(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ae[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ae[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ae[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ae[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ae[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ae[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ae[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var nl=/[\-:]([a-z])/g;function rl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(nl,rl);Ae[t]=new De(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(nl,rl);Ae[t]=new De(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(nl,rl);Ae[t]=new De(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ae[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});Ae.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ae[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function sl(e,t,n,r){var s=Ae.hasOwnProperty(t)?Ae[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dp(t,n,s,r)&&(n=null),r||s===null?Ip(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lt=Mp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ts=Symbol.for("react.element"),Cn=Symbol.for("react.portal"),_n=Symbol.for("react.fragment"),il=Symbol.for("react.strict_mode"),na=Symbol.for("react.profiler"),Ic=Symbol.for("react.provider"),Oc=Symbol.for("react.context"),al=Symbol.for("react.forward_ref"),ra=Symbol.for("react.suspense"),sa=Symbol.for("react.suspense_list"),ll=Symbol.for("react.memo"),Dt=Symbol.for("react.lazy"),Dc=Symbol.for("react.offscreen"),no=Symbol.iterator;function lr(e){return e===null||typeof e!="object"?null:(e=no&&e[no]||e["@@iterator"],typeof e=="function"?e:null)}var xe=Object.assign,Ci;function mr(e){if(Ci===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ci=t&&t[1]||""}return`
`+Ci+e}var _i=!1;function Ei(e,t){if(!e||_i)return"";_i=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),a=r.stack.split(`
`),l=s.length-1,o=a.length-1;1<=l&&0<=o&&s[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==a[o]){var c=`
`+s[l].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=l&&0<=o);break}}}finally{_i=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?mr(e):""}function Bp(e){switch(e.tag){case 5:return mr(e.type);case 16:return mr("Lazy");case 13:return mr("Suspense");case 19:return mr("SuspenseList");case 0:case 2:case 15:return e=Ei(e.type,!1),e;case 11:return e=Ei(e.type.render,!1),e;case 1:return e=Ei(e.type,!0),e;default:return""}}function ia(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _n:return"Fragment";case Cn:return"Portal";case na:return"Profiler";case il:return"StrictMode";case ra:return"Suspense";case sa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Oc:return(e.displayName||"Context")+".Consumer";case Ic:return(e._context.displayName||"Context")+".Provider";case al:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ll:return t=e.displayName||null,t!==null?t:ia(e.type)||"Memo";case Dt:t=e._payload,e=e._init;try{return ia(e(t))}catch{}}return null}function Up(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ia(t);case 8:return t===il?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fp(e){var t=Bc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ns(e){e._valueTracker||(e._valueTracker=Fp(e))}function Uc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Bc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function zs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function aa(e,t){var n=t.checked;return xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ro(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fc(e,t){t=t.checked,t!=null&&sl(e,"checked",t,!1)}function la(e,t){Fc(e,t);var n=nn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?oa(e,t.type,n):t.hasOwnProperty("defaultValue")&&oa(e,t.type,nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function so(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function oa(e,t,n){(t!=="number"||zs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var gr=Array.isArray;function In(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+nn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function ca(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(T(91));return xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function io(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(T(92));if(gr(n)){if(1<n.length)throw Error(T(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:nn(n)}}function Wc(e,t){var n=nn(t.value),r=nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ao(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ua(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rs,Vc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wp=["Webkit","ms","Moz","O"];Object.keys(yr).forEach(function(e){Wp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),yr[t]=yr[e]})});function Gc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||yr.hasOwnProperty(e)&&yr[e]?(""+t).trim():t+"px"}function Qc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Gc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Hp=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function da(e,t){if(t){if(Hp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(T(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(T(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(T(61))}if(t.style!=null&&typeof t.style!="object")throw Error(T(62))}}function pa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ha=null;function ol(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fa=null,On=null,Dn=null;function lo(e){if(e=Xr(e)){if(typeof fa!="function")throw Error(T(280));var t=e.stateNode;t&&(t=oi(t),fa(e.stateNode,e.type,t))}}function qc(e){On?Dn?Dn.push(e):Dn=[e]:On=e}function Yc(){if(On){var e=On,t=Dn;if(Dn=On=null,lo(e),t)for(e=0;e<t.length;e++)lo(t[e])}}function Kc(e,t){return e(t)}function Jc(){}var bi=!1;function Xc(e,t,n){if(bi)return e(t,n);bi=!0;try{return Kc(e,t,n)}finally{bi=!1,(On!==null||Dn!==null)&&(Jc(),Yc())}}function zr(e,t){var n=e.stateNode;if(n===null)return null;var r=oi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(T(231,t,typeof n));return n}var ma=!1;if(Pt)try{var or={};Object.defineProperty(or,"passive",{get:function(){ma=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{ma=!1}function Vp(e,t,n,r,s,a,l,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var jr=!1,As=null,Rs=!1,ga=null,Gp={onError:function(e){jr=!0,As=e}};function Qp(e,t,n,r,s,a,l,o,c){jr=!1,As=null,Vp.apply(Gp,arguments)}function qp(e,t,n,r,s,a,l,o,c){if(Qp.apply(this,arguments),jr){if(jr){var d=As;jr=!1,As=null}else throw Error(T(198));Rs||(Rs=!0,ga=d)}}function wn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Zc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function oo(e){if(wn(e)!==e)throw Error(T(188))}function Yp(e){var t=e.alternate;if(!t){if(t=wn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return oo(s),e;if(a===r)return oo(s),t;a=a.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=a;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=a;break}if(o===r){l=!0,r=s,n=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===n){l=!0,n=a,r=s;break}if(o===r){l=!0,r=a,n=s;break}o=o.sibling}if(!l)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?e:t}function eu(e){return e=Yp(e),e!==null?tu(e):null}function tu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tu(e);if(t!==null)return t;e=e.sibling}return null}var nu=Ke.unstable_scheduleCallback,co=Ke.unstable_cancelCallback,Kp=Ke.unstable_shouldYield,Jp=Ke.unstable_requestPaint,ke=Ke.unstable_now,Xp=Ke.unstable_getCurrentPriorityLevel,cl=Ke.unstable_ImmediatePriority,ru=Ke.unstable_UserBlockingPriority,Ls=Ke.unstable_NormalPriority,Zp=Ke.unstable_LowPriority,su=Ke.unstable_IdlePriority,si=null,yt=null;function eh(e){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(si,e,void 0,(e.current.flags&128)===128)}catch{}}var dt=Math.clz32?Math.clz32:rh,th=Math.log,nh=Math.LN2;function rh(e){return e>>>=0,e===0?32:31-(th(e)/nh|0)|0}var ss=64,is=4194304;function vr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ts(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=vr(o):(a&=l,a!==0&&(r=vr(a)))}else l=n&~s,l!==0?r=vr(l):a!==0&&(r=vr(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-dt(t),s=1<<n,r|=e[n],t&=~s;return r}function sh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ih(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-dt(a),o=1<<l,c=s[l];c===-1?(!(o&n)||o&r)&&(s[l]=sh(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function iu(){var e=ss;return ss<<=1,!(ss&4194240)&&(ss=64),e}function Pi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Kr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dt(t),e[t]=n}function ah(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-dt(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function ul(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-dt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ce=0;function au(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var lu,dl,ou,cu,uu,xa=!1,as=[],Qt=null,qt=null,Yt=null,Ar=new Map,Rr=new Map,Ut=[],lh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function uo(e,t){switch(e){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":qt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":Ar.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(t.pointerId)}}function cr(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Xr(t),t!==null&&dl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function oh(e,t,n,r,s){switch(t){case"focusin":return Qt=cr(Qt,e,t,n,r,s),!0;case"dragenter":return qt=cr(qt,e,t,n,r,s),!0;case"mouseover":return Yt=cr(Yt,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Ar.set(a,cr(Ar.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Rr.set(a,cr(Rr.get(a)||null,e,t,n,r,s)),!0}return!1}function du(e){var t=dn(e.target);if(t!==null){var n=wn(t);if(n!==null){if(t=n.tag,t===13){if(t=Zc(n),t!==null){e.blockedOn=t,uu(e.priority,function(){ou(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ya(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ha=r,n.target.dispatchEvent(r),ha=null}else return t=Xr(n),t!==null&&dl(t),e.blockedOn=n,!1;t.shift()}return!0}function po(e,t,n){ys(e)&&n.delete(t)}function ch(){xa=!1,Qt!==null&&ys(Qt)&&(Qt=null),qt!==null&&ys(qt)&&(qt=null),Yt!==null&&ys(Yt)&&(Yt=null),Ar.forEach(po),Rr.forEach(po)}function ur(e,t){e.blockedOn===t&&(e.blockedOn=null,xa||(xa=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,ch)))}function Lr(e){function t(s){return ur(s,e)}if(0<as.length){ur(as[0],e);for(var n=1;n<as.length;n++){var r=as[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qt!==null&&ur(Qt,e),qt!==null&&ur(qt,e),Yt!==null&&ur(Yt,e),Ar.forEach(t),Rr.forEach(t),n=0;n<Ut.length;n++)r=Ut[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ut.length&&(n=Ut[0],n.blockedOn===null);)du(n),n.blockedOn===null&&Ut.shift()}var Bn=Lt.ReactCurrentBatchConfig,Ms=!0;function uh(e,t,n,r){var s=ce,a=Bn.transition;Bn.transition=null;try{ce=1,pl(e,t,n,r)}finally{ce=s,Bn.transition=a}}function dh(e,t,n,r){var s=ce,a=Bn.transition;Bn.transition=null;try{ce=4,pl(e,t,n,r)}finally{ce=s,Bn.transition=a}}function pl(e,t,n,r){if(Ms){var s=ya(e,t,n,r);if(s===null)Di(e,t,r,$s,n),uo(e,r);else if(oh(s,e,t,n,r))r.stopPropagation();else if(uo(e,r),t&4&&-1<lh.indexOf(e)){for(;s!==null;){var a=Xr(s);if(a!==null&&lu(a),a=ya(e,t,n,r),a===null&&Di(e,t,r,$s,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else Di(e,t,r,null,n)}}var $s=null;function ya(e,t,n,r){if($s=null,e=ol(r),e=dn(e),e!==null)if(t=wn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Zc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $s=e,null}function pu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xp()){case cl:return 1;case ru:return 4;case Ls:case Zp:return 16;case su:return 536870912;default:return 16}default:return 16}}var Ht=null,hl=null,js=null;function hu(){if(js)return js;var e,t=hl,n=t.length,r,s="value"in Ht?Ht.value:Ht.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[a-r];r++);return js=s.slice(e,1<r?1-r:void 0)}function ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function ho(){return!1}function Xe(e){function t(n,r,s,a,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ls:ho,this.isPropagationStopped=ho,this}return xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),t}var tr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fl=Xe(tr),Jr=xe({},tr,{view:0,detail:0}),ph=Xe(Jr),zi,Ai,dr,ii=xe({},Jr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ml,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==dr&&(dr&&e.type==="mousemove"?(zi=e.screenX-dr.screenX,Ai=e.screenY-dr.screenY):Ai=zi=0,dr=e),zi)},movementY:function(e){return"movementY"in e?e.movementY:Ai}}),fo=Xe(ii),hh=xe({},ii,{dataTransfer:0}),fh=Xe(hh),mh=xe({},Jr,{relatedTarget:0}),Ri=Xe(mh),gh=xe({},tr,{animationName:0,elapsedTime:0,pseudoElement:0}),vh=Xe(gh),xh=xe({},tr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yh=Xe(xh),jh=xe({},tr,{data:0}),mo=Xe(jh),kh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Sh[e])?!!t[e]:!1}function ml(){return Nh}var Ch=xe({},Jr,{key:function(e){if(e.key){var t=kh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ml,charCode:function(e){return e.type==="keypress"?ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_h=Xe(Ch),Eh=xe({},ii,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),go=Xe(Eh),bh=xe({},Jr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ml}),Ph=Xe(bh),zh=xe({},tr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ah=Xe(zh),Rh=xe({},ii,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Lh=Xe(Rh),Th=[9,13,27,32],gl=Pt&&"CompositionEvent"in window,kr=null;Pt&&"documentMode"in document&&(kr=document.documentMode);var Mh=Pt&&"TextEvent"in window&&!kr,fu=Pt&&(!gl||kr&&8<kr&&11>=kr),vo=" ",xo=!1;function mu(e,t){switch(e){case"keyup":return Th.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var En=!1;function $h(e,t){switch(e){case"compositionend":return gu(t);case"keypress":return t.which!==32?null:(xo=!0,vo);case"textInput":return e=t.data,e===vo&&xo?null:e;default:return null}}function Ih(e,t){if(En)return e==="compositionend"||!gl&&mu(e,t)?(e=hu(),js=hl=Ht=null,En=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return fu&&t.locale!=="ko"?null:t.data;default:return null}}var Oh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Oh[e.type]:t==="textarea"}function vu(e,t,n,r){qc(r),t=Is(t,"onChange"),0<t.length&&(n=new fl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wr=null,Tr=null;function Dh(e){bu(e,0)}function ai(e){var t=zn(e);if(Uc(t))return e}function Bh(e,t){if(e==="change")return t}var xu=!1;if(Pt){var Li;if(Pt){var Ti="oninput"in document;if(!Ti){var jo=document.createElement("div");jo.setAttribute("oninput","return;"),Ti=typeof jo.oninput=="function"}Li=Ti}else Li=!1;xu=Li&&(!document.documentMode||9<document.documentMode)}function ko(){wr&&(wr.detachEvent("onpropertychange",yu),Tr=wr=null)}function yu(e){if(e.propertyName==="value"&&ai(Tr)){var t=[];vu(t,Tr,e,ol(e)),Xc(Dh,t)}}function Uh(e,t,n){e==="focusin"?(ko(),wr=t,Tr=n,wr.attachEvent("onpropertychange",yu)):e==="focusout"&&ko()}function Fh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ai(Tr)}function Wh(e,t){if(e==="click")return ai(t)}function Hh(e,t){if(e==="input"||e==="change")return ai(t)}function Vh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ht=typeof Object.is=="function"?Object.is:Vh;function Mr(e,t){if(ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ta.call(t,s)||!ht(e[s],t[s]))return!1}return!0}function wo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function So(e,t){var n=wo(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wo(n)}}function ju(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ju(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ku(){for(var e=window,t=zs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=zs(e.document)}return t}function vl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gh(e){var t=ku(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ju(n.ownerDocument.documentElement,n)){if(r!==null&&vl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=So(n,a);var l=So(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Qh=Pt&&"documentMode"in document&&11>=document.documentMode,bn=null,ja=null,Sr=null,ka=!1;function No(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ka||bn==null||bn!==zs(r)||(r=bn,"selectionStart"in r&&vl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sr&&Mr(Sr,r)||(Sr=r,r=Is(ja,"onSelect"),0<r.length&&(t=new fl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=bn)))}function os(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pn={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},Mi={},wu={};Pt&&(wu=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);function li(e){if(Mi[e])return Mi[e];if(!Pn[e])return e;var t=Pn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in wu)return Mi[e]=t[n];return e}var Su=li("animationend"),Nu=li("animationiteration"),Cu=li("animationstart"),_u=li("transitionend"),Eu=new Map,Co="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sn(e,t){Eu.set(e,t),kn(t,[e])}for(var $i=0;$i<Co.length;$i++){var Ii=Co[$i],qh=Ii.toLowerCase(),Yh=Ii[0].toUpperCase()+Ii.slice(1);sn(qh,"on"+Yh)}sn(Su,"onAnimationEnd");sn(Nu,"onAnimationIteration");sn(Cu,"onAnimationStart");sn("dblclick","onDoubleClick");sn("focusin","onFocus");sn("focusout","onBlur");sn(_u,"onTransitionEnd");Hn("onMouseEnter",["mouseout","mouseover"]);Hn("onMouseLeave",["mouseout","mouseover"]);Hn("onPointerEnter",["pointerout","pointerover"]);Hn("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kh=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function _o(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qp(r,t,void 0,e),e.currentTarget=null}function bu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==a&&s.isPropagationStopped())break e;_o(s,o,d),a=c}else for(l=0;l<r.length;l++){if(o=r[l],c=o.instance,d=o.currentTarget,o=o.listener,c!==a&&s.isPropagationStopped())break e;_o(s,o,d),a=c}}}if(Rs)throw e=ga,Rs=!1,ga=null,e}function pe(e,t){var n=t[_a];n===void 0&&(n=t[_a]=new Set);var r=e+"__bubble";n.has(r)||(Pu(t,e,2,!1),n.add(r))}function Oi(e,t,n){var r=0;t&&(r|=4),Pu(n,e,r,t)}var cs="_reactListening"+Math.random().toString(36).slice(2);function $r(e){if(!e[cs]){e[cs]=!0,$c.forEach(function(n){n!=="selectionchange"&&(Kh.has(n)||Oi(n,!1,e),Oi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cs]||(t[cs]=!0,Oi("selectionchange",!1,t))}}function Pu(e,t,n,r){switch(pu(t)){case 1:var s=uh;break;case 4:s=dh;break;default:s=pl}n=s.bind(null,t,n,e),s=void 0,!ma||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Di(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;o!==null;){if(l=dn(o),l===null)return;if(c=l.tag,c===5||c===6){r=a=l;continue e}o=o.parentNode}}r=r.return}Xc(function(){var d=a,p=ol(n),g=[];e:{var m=Eu.get(e);if(m!==void 0){var v=fl,x=e;switch(e){case"keypress":if(ks(n)===0)break e;case"keydown":case"keyup":v=_h;break;case"focusin":x="focus",v=Ri;break;case"focusout":x="blur",v=Ri;break;case"beforeblur":case"afterblur":v=Ri;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=fh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Ph;break;case Su:case Nu:case Cu:v=vh;break;case _u:v=Ah;break;case"scroll":v=ph;break;case"wheel":v=Lh;break;case"copy":case"cut":case"paste":v=yh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=go}var j=(t&4)!==0,k=!j&&e==="scroll",f=j?m!==null?m+"Capture":null:m;j=[];for(var u=d,h;u!==null;){h=u;var S=h.stateNode;if(h.tag===5&&S!==null&&(h=S,f!==null&&(S=zr(u,f),S!=null&&j.push(Ir(u,S,h)))),k)break;u=u.return}0<j.length&&(m=new v(m,x,null,n,p),g.push({event:m,listeners:j}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==ha&&(x=n.relatedTarget||n.fromElement)&&(dn(x)||x[zt]))break e;if((v||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=d,x=x?dn(x):null,x!==null&&(k=wn(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=d),v!==x)){if(j=fo,S="onMouseLeave",f="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(j=go,S="onPointerLeave",f="onPointerEnter",u="pointer"),k=v==null?m:zn(v),h=x==null?m:zn(x),m=new j(S,u+"leave",v,n,p),m.target=k,m.relatedTarget=h,S=null,dn(p)===d&&(j=new j(f,u+"enter",x,n,p),j.target=h,j.relatedTarget=k,S=j),k=S,v&&x)t:{for(j=v,f=x,u=0,h=j;h;h=Sn(h))u++;for(h=0,S=f;S;S=Sn(S))h++;for(;0<u-h;)j=Sn(j),u--;for(;0<h-u;)f=Sn(f),h--;for(;u--;){if(j===f||f!==null&&j===f.alternate)break t;j=Sn(j),f=Sn(f)}j=null}else j=null;v!==null&&Eo(g,m,v,j,!1),x!==null&&k!==null&&Eo(g,k,x,j,!0)}}e:{if(m=d?zn(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var y=Bh;else if(yo(m))if(xu)y=Hh;else{y=Fh;var N=Uh}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(y=Wh);if(y&&(y=y(e,d))){vu(g,y,n,p);break e}N&&N(e,m,d),e==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&oa(m,"number",m.value)}switch(N=d?zn(d):window,e){case"focusin":(yo(N)||N.contentEditable==="true")&&(bn=N,ja=d,Sr=null);break;case"focusout":Sr=ja=bn=null;break;case"mousedown":ka=!0;break;case"contextmenu":case"mouseup":case"dragend":ka=!1,No(g,n,p);break;case"selectionchange":if(Qh)break;case"keydown":case"keyup":No(g,n,p)}var _;if(gl)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else En?mu(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(fu&&n.locale!=="ko"&&(En||E!=="onCompositionStart"?E==="onCompositionEnd"&&En&&(_=hu()):(Ht=p,hl="value"in Ht?Ht.value:Ht.textContent,En=!0)),N=Is(d,E),0<N.length&&(E=new mo(E,e,null,n,p),g.push({event:E,listeners:N}),_?E.data=_:(_=gu(n),_!==null&&(E.data=_)))),(_=Mh?$h(e,n):Ih(e,n))&&(d=Is(d,"onBeforeInput"),0<d.length&&(p=new mo("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:d}),p.data=_))}bu(g,t)})}function Ir(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Is(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=zr(e,n),a!=null&&r.unshift(Ir(e,a,s)),a=zr(e,t),a!=null&&r.push(Ir(e,a,s))),e=e.return}return r}function Sn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Eo(e,t,n,r,s){for(var a=t._reactName,l=[];n!==null&&n!==r;){var o=n,c=o.alternate,d=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&d!==null&&(o=d,s?(c=zr(n,a),c!=null&&l.unshift(Ir(n,c,o))):s||(c=zr(n,a),c!=null&&l.push(Ir(n,c,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var Jh=/\r\n?/g,Xh=/\u0000|\uFFFD/g;function bo(e){return(typeof e=="string"?e:""+e).replace(Jh,`
`).replace(Xh,"")}function us(e,t,n){if(t=bo(t),bo(e)!==t&&n)throw Error(T(425))}function Os(){}var wa=null,Sa=null;function Na(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ca=typeof setTimeout=="function"?setTimeout:void 0,Zh=typeof clearTimeout=="function"?clearTimeout:void 0,Po=typeof Promise=="function"?Promise:void 0,ef=typeof queueMicrotask=="function"?queueMicrotask:typeof Po<"u"?function(e){return Po.resolve(null).then(e).catch(tf)}:Ca;function tf(e){setTimeout(function(){throw e})}function Bi(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Lr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Lr(t)}function Kt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function zo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var nr=Math.random().toString(36).slice(2),vt="__reactFiber$"+nr,Or="__reactProps$"+nr,zt="__reactContainer$"+nr,_a="__reactEvents$"+nr,nf="__reactListeners$"+nr,rf="__reactHandles$"+nr;function dn(e){var t=e[vt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[zt]||n[vt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=zo(e);e!==null;){if(n=e[vt])return n;e=zo(e)}return t}e=n,n=e.parentNode}return null}function Xr(e){return e=e[vt]||e[zt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function zn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(T(33))}function oi(e){return e[Or]||null}var Ea=[],An=-1;function an(e){return{current:e}}function he(e){0>An||(e.current=Ea[An],Ea[An]=null,An--)}function de(e,t){An++,Ea[An]=e.current,e.current=t}var rn={},Me=an(rn),He=an(!1),gn=rn;function Vn(e,t){var n=e.type.contextTypes;if(!n)return rn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ve(e){return e=e.childContextTypes,e!=null}function Ds(){he(He),he(Me)}function Ao(e,t,n){if(Me.current!==rn)throw Error(T(168));de(Me,t),de(He,n)}function zu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(T(108,Up(e)||"Unknown",s));return xe({},n,r)}function Bs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rn,gn=Me.current,de(Me,e),de(He,He.current),!0}function Ro(e,t,n){var r=e.stateNode;if(!r)throw Error(T(169));n?(e=zu(e,t,gn),r.__reactInternalMemoizedMergedChildContext=e,he(He),he(Me),de(Me,e)):he(He),de(He,n)}var Nt=null,ci=!1,Ui=!1;function Au(e){Nt===null?Nt=[e]:Nt.push(e)}function sf(e){ci=!0,Au(e)}function ln(){if(!Ui&&Nt!==null){Ui=!0;var e=0,t=ce;try{var n=Nt;for(ce=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Nt=null,ci=!1}catch(s){throw Nt!==null&&(Nt=Nt.slice(e+1)),nu(cl,ln),s}finally{ce=t,Ui=!1}}return null}var Rn=[],Ln=0,Us=null,Fs=0,et=[],tt=0,vn=null,_t=1,Et="";function on(e,t){Rn[Ln++]=Fs,Rn[Ln++]=Us,Us=e,Fs=t}function Ru(e,t,n){et[tt++]=_t,et[tt++]=Et,et[tt++]=vn,vn=e;var r=_t;e=Et;var s=32-dt(r)-1;r&=~(1<<s),n+=1;var a=32-dt(t)+s;if(30<a){var l=s-s%5;a=(r&(1<<l)-1).toString(32),r>>=l,s-=l,_t=1<<32-dt(t)+s|n<<s|r,Et=a+e}else _t=1<<a|n<<s|r,Et=e}function xl(e){e.return!==null&&(on(e,1),Ru(e,1,0))}function yl(e){for(;e===Us;)Us=Rn[--Ln],Rn[Ln]=null,Fs=Rn[--Ln],Rn[Ln]=null;for(;e===vn;)vn=et[--tt],et[tt]=null,Et=et[--tt],et[tt]=null,_t=et[--tt],et[tt]=null}var Ye=null,qe=null,fe=!1,ut=null;function Lu(e,t){var n=nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ye=e,qe=Kt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ye=e,qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vn!==null?{id:_t,overflow:Et}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ye=e,qe=null,!0):!1;default:return!1}}function ba(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pa(e){if(fe){var t=qe;if(t){var n=t;if(!Lo(e,t)){if(ba(e))throw Error(T(418));t=Kt(n.nextSibling);var r=Ye;t&&Lo(e,t)?Lu(r,n):(e.flags=e.flags&-4097|2,fe=!1,Ye=e)}}else{if(ba(e))throw Error(T(418));e.flags=e.flags&-4097|2,fe=!1,Ye=e}}}function To(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ye=e}function ds(e){if(e!==Ye)return!1;if(!fe)return To(e),fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Na(e.type,e.memoizedProps)),t&&(t=qe)){if(ba(e))throw Tu(),Error(T(418));for(;t;)Lu(e,t),t=Kt(t.nextSibling)}if(To(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){qe=Kt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}qe=null}}else qe=Ye?Kt(e.stateNode.nextSibling):null;return!0}function Tu(){for(var e=qe;e;)e=Kt(e.nextSibling)}function Gn(){qe=Ye=null,fe=!1}function jl(e){ut===null?ut=[e]:ut.push(e)}var af=Lt.ReactCurrentBatchConfig;function pr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var o=s.refs;l===null?delete o[a]:o[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,e))}return e}function ps(e,t){throw e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mo(e){var t=e._init;return t(e._payload)}function Mu(e){function t(f,u){if(e){var h=f.deletions;h===null?(f.deletions=[u],f.flags|=16):h.push(u)}}function n(f,u){if(!e)return null;for(;u!==null;)t(f,u),u=u.sibling;return null}function r(f,u){for(f=new Map;u!==null;)u.key!==null?f.set(u.key,u):f.set(u.index,u),u=u.sibling;return f}function s(f,u){return f=en(f,u),f.index=0,f.sibling=null,f}function a(f,u,h){return f.index=h,e?(h=f.alternate,h!==null?(h=h.index,h<u?(f.flags|=2,u):h):(f.flags|=2,u)):(f.flags|=1048576,u)}function l(f){return e&&f.alternate===null&&(f.flags|=2),f}function o(f,u,h,S){return u===null||u.tag!==6?(u=qi(h,f.mode,S),u.return=f,u):(u=s(u,h),u.return=f,u)}function c(f,u,h,S){var y=h.type;return y===_n?p(f,u,h.props.children,S,h.key):u!==null&&(u.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===Dt&&Mo(y)===u.type)?(S=s(u,h.props),S.ref=pr(f,u,h),S.return=f,S):(S=bs(h.type,h.key,h.props,null,f.mode,S),S.ref=pr(f,u,h),S.return=f,S)}function d(f,u,h,S){return u===null||u.tag!==4||u.stateNode.containerInfo!==h.containerInfo||u.stateNode.implementation!==h.implementation?(u=Yi(h,f.mode,S),u.return=f,u):(u=s(u,h.children||[]),u.return=f,u)}function p(f,u,h,S,y){return u===null||u.tag!==7?(u=mn(h,f.mode,S,y),u.return=f,u):(u=s(u,h),u.return=f,u)}function g(f,u,h){if(typeof u=="string"&&u!==""||typeof u=="number")return u=qi(""+u,f.mode,h),u.return=f,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case ts:return h=bs(u.type,u.key,u.props,null,f.mode,h),h.ref=pr(f,null,u),h.return=f,h;case Cn:return u=Yi(u,f.mode,h),u.return=f,u;case Dt:var S=u._init;return g(f,S(u._payload),h)}if(gr(u)||lr(u))return u=mn(u,f.mode,h,null),u.return=f,u;ps(f,u)}return null}function m(f,u,h,S){var y=u!==null?u.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return y!==null?null:o(f,u,""+h,S);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case ts:return h.key===y?c(f,u,h,S):null;case Cn:return h.key===y?d(f,u,h,S):null;case Dt:return y=h._init,m(f,u,y(h._payload),S)}if(gr(h)||lr(h))return y!==null?null:p(f,u,h,S,null);ps(f,h)}return null}function v(f,u,h,S,y){if(typeof S=="string"&&S!==""||typeof S=="number")return f=f.get(h)||null,o(u,f,""+S,y);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ts:return f=f.get(S.key===null?h:S.key)||null,c(u,f,S,y);case Cn:return f=f.get(S.key===null?h:S.key)||null,d(u,f,S,y);case Dt:var N=S._init;return v(f,u,h,N(S._payload),y)}if(gr(S)||lr(S))return f=f.get(h)||null,p(u,f,S,y,null);ps(u,S)}return null}function x(f,u,h,S){for(var y=null,N=null,_=u,E=u=0,C=null;_!==null&&E<h.length;E++){_.index>E?(C=_,_=null):C=_.sibling;var b=m(f,_,h[E],S);if(b===null){_===null&&(_=C);break}e&&_&&b.alternate===null&&t(f,_),u=a(b,u,E),N===null?y=b:N.sibling=b,N=b,_=C}if(E===h.length)return n(f,_),fe&&on(f,E),y;if(_===null){for(;E<h.length;E++)_=g(f,h[E],S),_!==null&&(u=a(_,u,E),N===null?y=_:N.sibling=_,N=_);return fe&&on(f,E),y}for(_=r(f,_);E<h.length;E++)C=v(_,f,E,h[E],S),C!==null&&(e&&C.alternate!==null&&_.delete(C.key===null?E:C.key),u=a(C,u,E),N===null?y=C:N.sibling=C,N=C);return e&&_.forEach(function(L){return t(f,L)}),fe&&on(f,E),y}function j(f,u,h,S){var y=lr(h);if(typeof y!="function")throw Error(T(150));if(h=y.call(h),h==null)throw Error(T(151));for(var N=y=null,_=u,E=u=0,C=null,b=h.next();_!==null&&!b.done;E++,b=h.next()){_.index>E?(C=_,_=null):C=_.sibling;var L=m(f,_,b.value,S);if(L===null){_===null&&(_=C);break}e&&_&&L.alternate===null&&t(f,_),u=a(L,u,E),N===null?y=L:N.sibling=L,N=L,_=C}if(b.done)return n(f,_),fe&&on(f,E),y;if(_===null){for(;!b.done;E++,b=h.next())b=g(f,b.value,S),b!==null&&(u=a(b,u,E),N===null?y=b:N.sibling=b,N=b);return fe&&on(f,E),y}for(_=r(f,_);!b.done;E++,b=h.next())b=v(_,f,E,b.value,S),b!==null&&(e&&b.alternate!==null&&_.delete(b.key===null?E:b.key),u=a(b,u,E),N===null?y=b:N.sibling=b,N=b);return e&&_.forEach(function(K){return t(f,K)}),fe&&on(f,E),y}function k(f,u,h,S){if(typeof h=="object"&&h!==null&&h.type===_n&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case ts:e:{for(var y=h.key,N=u;N!==null;){if(N.key===y){if(y=h.type,y===_n){if(N.tag===7){n(f,N.sibling),u=s(N,h.props.children),u.return=f,f=u;break e}}else if(N.elementType===y||typeof y=="object"&&y!==null&&y.$$typeof===Dt&&Mo(y)===N.type){n(f,N.sibling),u=s(N,h.props),u.ref=pr(f,N,h),u.return=f,f=u;break e}n(f,N);break}else t(f,N);N=N.sibling}h.type===_n?(u=mn(h.props.children,f.mode,S,h.key),u.return=f,f=u):(S=bs(h.type,h.key,h.props,null,f.mode,S),S.ref=pr(f,u,h),S.return=f,f=S)}return l(f);case Cn:e:{for(N=h.key;u!==null;){if(u.key===N)if(u.tag===4&&u.stateNode.containerInfo===h.containerInfo&&u.stateNode.implementation===h.implementation){n(f,u.sibling),u=s(u,h.children||[]),u.return=f,f=u;break e}else{n(f,u);break}else t(f,u);u=u.sibling}u=Yi(h,f.mode,S),u.return=f,f=u}return l(f);case Dt:return N=h._init,k(f,u,N(h._payload),S)}if(gr(h))return x(f,u,h,S);if(lr(h))return j(f,u,h,S);ps(f,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,u!==null&&u.tag===6?(n(f,u.sibling),u=s(u,h),u.return=f,f=u):(n(f,u),u=qi(h,f.mode,S),u.return=f,f=u),l(f)):n(f,u)}return k}var Qn=Mu(!0),$u=Mu(!1),Ws=an(null),Hs=null,Tn=null,kl=null;function wl(){kl=Tn=Hs=null}function Sl(e){var t=Ws.current;he(Ws),e._currentValue=t}function za(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Un(e,t){Hs=e,kl=Tn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function st(e){var t=e._currentValue;if(kl!==e)if(e={context:e,memoizedValue:t,next:null},Tn===null){if(Hs===null)throw Error(T(308));Tn=e,Hs.dependencies={lanes:0,firstContext:e}}else Tn=Tn.next=e;return t}var pn=null;function Nl(e){pn===null?pn=[e]:pn.push(e)}function Iu(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Nl(t)):(n.next=s.next,s.next=n),t.interleaved=n,At(e,r)}function At(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bt=!1;function Cl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ou(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Jt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,At(e,n)}return s=r.interleaved,s===null?(t.next=t,Nl(r)):(t.next=s.next,s.next=t),r.interleaved=t,At(e,n)}function ws(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ul(e,n)}}function $o(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,r){var s=e.updateQueue;Bt=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var c=o,d=c.next;c.next=null,l===null?a=d:l.next=d,l=c;var p=e.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==l&&(o===null?p.firstBaseUpdate=d:o.next=d,p.lastBaseUpdate=c))}if(a!==null){var g=s.baseState;l=0,p=d=c=null,o=a;do{var m=o.lane,v=o.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,j=o;switch(m=t,v=n,j.tag){case 1:if(x=j.payload,typeof x=="function"){g=x.call(v,g,m);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=j.payload,m=typeof x=="function"?x.call(v,g,m):x,m==null)break e;g=xe({},g,m);break e;case 2:Bt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[o]:m.push(o))}else v={eventTime:v,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(d=p=v,c=g):p=p.next=v,l|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(p===null&&(c=g),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);yn|=l,e.lanes=l,e.memoizedState=g}}function Io(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var Zr={},jt=an(Zr),Dr=an(Zr),Br=an(Zr);function hn(e){if(e===Zr)throw Error(T(174));return e}function _l(e,t){switch(de(Br,t),de(Dr,e),de(jt,Zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ua(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ua(t,e)}he(jt),de(jt,t)}function qn(){he(jt),he(Dr),he(Br)}function Du(e){hn(Br.current);var t=hn(jt.current),n=ua(t,e.type);t!==n&&(de(Dr,e),de(jt,n))}function El(e){Dr.current===e&&(he(jt),he(Dr))}var me=an(0);function Gs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fi=[];function bl(){for(var e=0;e<Fi.length;e++)Fi[e]._workInProgressVersionPrimary=null;Fi.length=0}var Ss=Lt.ReactCurrentDispatcher,Wi=Lt.ReactCurrentBatchConfig,xn=0,ge=null,Ne=null,Ee=null,Qs=!1,Nr=!1,Ur=0,lf=0;function Re(){throw Error(T(321))}function Pl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ht(e[n],t[n]))return!1;return!0}function zl(e,t,n,r,s,a){if(xn=a,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ss.current=e===null||e.memoizedState===null?df:pf,e=n(r,s),Nr){a=0;do{if(Nr=!1,Ur=0,25<=a)throw Error(T(301));a+=1,Ee=Ne=null,t.updateQueue=null,Ss.current=hf,e=n(r,s)}while(Nr)}if(Ss.current=qs,t=Ne!==null&&Ne.next!==null,xn=0,Ee=Ne=ge=null,Qs=!1,t)throw Error(T(300));return e}function Al(){var e=Ur!==0;return Ur=0,e}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ee===null?ge.memoizedState=Ee=e:Ee=Ee.next=e,Ee}function it(){if(Ne===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ee===null?ge.memoizedState:Ee.next;if(t!==null)Ee=t,Ne=e;else{if(e===null)throw Error(T(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ee===null?ge.memoizedState=Ee=e:Ee=Ee.next=e}return Ee}function Fr(e,t){return typeof t=="function"?t(e):t}function Hi(e){var t=it(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=Ne,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var l=s.next;s.next=a.next,a.next=l}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var o=l=null,c=null,d=a;do{var p=d.lane;if((xn&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var g={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=g,l=r):c=c.next=g,ge.lanes|=p,yn|=p}d=d.next}while(d!==null&&d!==a);c===null?l=r:c.next=o,ht(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,ge.lanes|=a,yn|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vi(e){var t=it(),n=t.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do a=e(a,l.action),l=l.next;while(l!==s);ht(a,t.memoizedState)||(We=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Bu(){}function Uu(e,t){var n=ge,r=it(),s=t(),a=!ht(r.memoizedState,s);if(a&&(r.memoizedState=s,We=!0),r=r.queue,Rl(Hu.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Ee!==null&&Ee.memoizedState.tag&1){if(n.flags|=2048,Wr(9,Wu.bind(null,n,r,s,t),void 0,null),be===null)throw Error(T(349));xn&30||Fu(n,t,s)}return s}function Fu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Wu(e,t,n,r){t.value=n,t.getSnapshot=r,Vu(t)&&Gu(e)}function Hu(e,t,n){return n(function(){Vu(t)&&Gu(e)})}function Vu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ht(e,n)}catch{return!0}}function Gu(e){var t=At(e,1);t!==null&&pt(t,e,1,-1)}function Oo(e){var t=gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fr,lastRenderedState:e},t.queue=e,e=e.dispatch=uf.bind(null,ge,e),[t.memoizedState,e]}function Wr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Qu(){return it().memoizedState}function Ns(e,t,n,r){var s=gt();ge.flags|=e,s.memoizedState=Wr(1|t,n,void 0,r===void 0?null:r)}function ui(e,t,n,r){var s=it();r=r===void 0?null:r;var a=void 0;if(Ne!==null){var l=Ne.memoizedState;if(a=l.destroy,r!==null&&Pl(r,l.deps)){s.memoizedState=Wr(t,n,a,r);return}}ge.flags|=e,s.memoizedState=Wr(1|t,n,a,r)}function Do(e,t){return Ns(8390656,8,e,t)}function Rl(e,t){return ui(2048,8,e,t)}function qu(e,t){return ui(4,2,e,t)}function Yu(e,t){return ui(4,4,e,t)}function Ku(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ju(e,t,n){return n=n!=null?n.concat([e]):null,ui(4,4,Ku.bind(null,t,e),n)}function Ll(){}function Xu(e,t){var n=it();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Zu(e,t){var n=it();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Pl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ed(e,t,n){return xn&21?(ht(n,t)||(n=iu(),ge.lanes|=n,yn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function of(e,t){var n=ce;ce=n!==0&&4>n?n:4,e(!0);var r=Wi.transition;Wi.transition={};try{e(!1),t()}finally{ce=n,Wi.transition=r}}function td(){return it().memoizedState}function cf(e,t,n){var r=Zt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nd(e))rd(t,n);else if(n=Iu(e,t,n,r),n!==null){var s=Ie();pt(n,e,r,s),sd(n,t,r)}}function uf(e,t,n){var r=Zt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nd(e))rd(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,n);if(s.hasEagerState=!0,s.eagerState=o,ht(o,l)){var c=t.interleaved;c===null?(s.next=s,Nl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Iu(e,t,s,r),n!==null&&(s=Ie(),pt(n,e,r,s),sd(n,t,r))}}function nd(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function rd(e,t){Nr=Qs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ul(e,n)}}var qs={readContext:st,useCallback:Re,useContext:Re,useEffect:Re,useImperativeHandle:Re,useInsertionEffect:Re,useLayoutEffect:Re,useMemo:Re,useReducer:Re,useRef:Re,useState:Re,useDebugValue:Re,useDeferredValue:Re,useTransition:Re,useMutableSource:Re,useSyncExternalStore:Re,useId:Re,unstable_isNewReconciler:!1},df={readContext:st,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:Do,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ns(4194308,4,Ku.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ns(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ns(4,2,e,t)},useMemo:function(e,t){var n=gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=cf.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:Oo,useDebugValue:Ll,useDeferredValue:function(e){return gt().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=of.bind(null,e[1]),gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,s=gt();if(fe){if(n===void 0)throw Error(T(407));n=n()}else{if(n=t(),be===null)throw Error(T(349));xn&30||Fu(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,Do(Hu.bind(null,r,a,e),[e]),r.flags|=2048,Wr(9,Wu.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=gt(),t=be.identifierPrefix;if(fe){var n=Et,r=_t;n=(r&~(1<<32-dt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ur++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},pf={readContext:st,useCallback:Xu,useContext:st,useEffect:Rl,useImperativeHandle:Ju,useInsertionEffect:qu,useLayoutEffect:Yu,useMemo:Zu,useReducer:Hi,useRef:Qu,useState:function(){return Hi(Fr)},useDebugValue:Ll,useDeferredValue:function(e){var t=it();return ed(t,Ne.memoizedState,e)},useTransition:function(){var e=Hi(Fr)[0],t=it().memoizedState;return[e,t]},useMutableSource:Bu,useSyncExternalStore:Uu,useId:td,unstable_isNewReconciler:!1},hf={readContext:st,useCallback:Xu,useContext:st,useEffect:Rl,useImperativeHandle:Ju,useInsertionEffect:qu,useLayoutEffect:Yu,useMemo:Zu,useReducer:Vi,useRef:Qu,useState:function(){return Vi(Fr)},useDebugValue:Ll,useDeferredValue:function(e){var t=it();return Ne===null?t.memoizedState=e:ed(t,Ne.memoizedState,e)},useTransition:function(){var e=Vi(Fr)[0],t=it().memoizedState;return[e,t]},useMutableSource:Bu,useSyncExternalStore:Uu,useId:td,unstable_isNewReconciler:!1};function ot(e,t){if(e&&e.defaultProps){t=xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Aa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var di={isMounted:function(e){return(e=e._reactInternals)?wn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=Zt(e),a=bt(r,s);a.payload=t,n!=null&&(a.callback=n),t=Jt(e,a,s),t!==null&&(pt(t,e,s,r),ws(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=Zt(e),a=bt(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Jt(e,a,s),t!==null&&(pt(t,e,s,r),ws(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=Zt(e),s=bt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Jt(e,s,r),t!==null&&(pt(t,e,r,n),ws(t,e,r))}};function Bo(e,t,n,r,s,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,l):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,r)||!Mr(s,a):!0}function id(e,t,n){var r=!1,s=rn,a=t.contextType;return typeof a=="object"&&a!==null?a=st(a):(s=Ve(t)?gn:Me.current,r=t.contextTypes,a=(r=r!=null)?Vn(e,s):rn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=di,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Uo(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&di.enqueueReplaceState(t,t.state,null)}function Ra(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Cl(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=st(a):(a=Ve(t)?gn:Me.current,s.context=Vn(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Aa(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&di.enqueueReplaceState(s,s.state,null),Vs(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Yn(e,t){try{var n="",r=t;do n+=Bp(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Gi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function La(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ff=typeof WeakMap=="function"?WeakMap:Map;function ad(e,t,n){n=bt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Wa=r),La(e,t)},n}function ld(e,t,n){n=bt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){La(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){La(e,t),typeof r!="function"&&(Xt===null?Xt=new Set([this]):Xt.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Fo(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ff;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=bf.bind(null,e,t,n),t.then(e,e))}function Wo(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ho(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=bt(-1,1),t.tag=2,Jt(n,t,1))),n.lanes|=1),e)}var mf=Lt.ReactCurrentOwner,We=!1;function $e(e,t,n,r){t.child=e===null?$u(t,null,n,r):Qn(t,e.child,n,r)}function Vo(e,t,n,r,s){n=n.render;var a=t.ref;return Un(t,s),r=zl(e,t,n,r,a,s),n=Al(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rt(e,t,s)):(fe&&n&&xl(t),t.flags|=1,$e(e,t,r,s),t.child)}function Go(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!Ul(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,od(e,t,a,r,s)):(e=bs(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:Mr,n(l,r)&&e.ref===t.ref)return Rt(e,t,s)}return t.flags|=1,e=en(a,r),e.ref=t.ref,e.return=t,t.child=e}function od(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Mr(a,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,Rt(e,t,s)}return Ta(e,t,n,r,s)}function cd(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},de($n,Qe),Qe|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,de($n,Qe),Qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,de($n,Qe),Qe|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,de($n,Qe),Qe|=r;return $e(e,t,s,n),t.child}function ud(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,s){var a=Ve(n)?gn:Me.current;return a=Vn(t,a),Un(t,s),n=zl(e,t,n,r,a,s),r=Al(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Rt(e,t,s)):(fe&&r&&xl(t),t.flags|=1,$e(e,t,n,s),t.child)}function Qo(e,t,n,r,s){if(Ve(n)){var a=!0;Bs(t)}else a=!1;if(Un(t,s),t.stateNode===null)Cs(e,t),id(t,n,r),Ra(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=st(d):(d=Ve(n)?gn:Me.current,d=Vn(t,d));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||c!==d)&&Uo(t,l,r,d),Bt=!1;var m=t.memoizedState;l.state=m,Vs(t,r,l,s),c=t.memoizedState,o!==r||m!==c||He.current||Bt?(typeof p=="function"&&(Aa(t,n,p,r),c=t.memoizedState),(o=Bt||Bo(t,n,o,r,m,c,d))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),l.props=r,l.state=c,l.context=d,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,Ou(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:ot(t.type,o),l.props=d,g=t.pendingProps,m=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=st(c):(c=Ve(n)?gn:Me.current,c=Vn(t,c));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==g||m!==c)&&Uo(t,l,r,c),Bt=!1,m=t.memoizedState,l.state=m,Vs(t,r,l,s);var x=t.memoizedState;o!==g||m!==x||He.current||Bt?(typeof v=="function"&&(Aa(t,n,v,r),x=t.memoizedState),(d=Bt||Bo(t,n,d,r,m,x,c)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,x,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,x,c)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),l.props=r,l.state=x,l.context=c,r=d):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Ma(e,t,n,r,a,s)}function Ma(e,t,n,r,s,a){ud(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&Ro(t,n,!1),Rt(e,t,a);r=t.stateNode,mf.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Qn(t,e.child,null,a),t.child=Qn(t,null,o,a)):$e(e,t,o,a),t.memoizedState=r.state,s&&Ro(t,n,!0),t.child}function dd(e){var t=e.stateNode;t.pendingContext?Ao(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ao(e,t.context,!1),_l(e,t.containerInfo)}function qo(e,t,n,r,s){return Gn(),jl(s),t.flags|=256,$e(e,t,n,r),t.child}var $a={dehydrated:null,treeContext:null,retryLane:0};function Ia(e){return{baseLanes:e,cachePool:null,transitions:null}}function pd(e,t,n){var r=t.pendingProps,s=me.current,a=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),de(me,s&1),e===null)return Pa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=fi(l,r,0,null),e=mn(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ia(n),t.memoizedState=$a,e):Tl(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return gf(e,t,l,r,o,s,n);if(a){a=r.fallback,l=t.mode,s=e.child,o=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=en(s,c),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=en(o,a):(a=mn(a,l,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=e.child.memoizedState,l=l===null?Ia(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=$a,r}return a=e.child,e=a.sibling,r=en(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Tl(e,t){return t=fi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hs(e,t,n,r){return r!==null&&jl(r),Qn(t,e.child,null,n),e=Tl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gf(e,t,n,r,s,a,l){if(n)return t.flags&256?(t.flags&=-257,r=Gi(Error(T(422))),hs(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=fi({mode:"visible",children:r.children},s,0,null),a=mn(a,s,l,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Qn(t,e.child,null,l),t.child.memoizedState=Ia(l),t.memoizedState=$a,a);if(!(t.mode&1))return hs(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(T(419)),r=Gi(a,r,void 0),hs(e,t,l,r)}if(o=(l&e.childLanes)!==0,We||o){if(r=be,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,At(e,s),pt(r,e,s,-1))}return Bl(),r=Gi(Error(T(421))),hs(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Pf.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,qe=Kt(s.nextSibling),Ye=t,fe=!0,ut=null,e!==null&&(et[tt++]=_t,et[tt++]=Et,et[tt++]=vn,_t=e.id,Et=e.overflow,vn=t),t=Tl(t,r.children),t.flags|=4096,t)}function Yo(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),za(e.return,t,n)}function Qi(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function hd(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if($e(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yo(e,n,t);else if(e.tag===19)Yo(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(de(me,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Gs(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Qi(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gs(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Qi(t,!0,n,null,a);break;case"together":Qi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Rt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),yn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,n=en(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=en(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vf(e,t,n){switch(t.tag){case 3:dd(t),Gn();break;case 5:Du(t);break;case 1:Ve(t.type)&&Bs(t);break;case 4:_l(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;de(Ws,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(de(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?pd(e,t,n):(de(me,me.current&1),e=Rt(e,t,n),e!==null?e.sibling:null);de(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return hd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),de(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,cd(e,t,n)}return Rt(e,t,n)}var fd,Oa,md,gd;fd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Oa=function(){};md=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,hn(jt.current);var a=null;switch(n){case"input":s=aa(e,s),r=aa(e,r),a=[];break;case"select":s=xe({},s,{value:void 0}),r=xe({},r,{value:void 0}),a=[];break;case"textarea":s=ca(e,s),r=ca(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Os)}da(n,r);var l;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var o=s[d];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(br.hasOwnProperty(d)?a||(a=[]):(a=a||[]).push(d,null));for(d in r){var c=r[d];if(o=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(l in o)!o.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&o[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(a||(a=[]),a.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(br.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&pe("scroll",e),a||o===c||(a=[])):(a=a||[]).push(d,c))}n&&(a=a||[]).push("style",n);var d=a;(t.updateQueue=d)&&(t.flags|=4)}};gd=function(e,t,n,r){n!==r&&(t.flags|=4)};function hr(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xf(e,t,n){var r=t.pendingProps;switch(yl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return Ve(t.type)&&Ds(),Le(t),null;case 3:return r=t.stateNode,qn(),he(He),he(Me),bl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ds(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ut!==null&&(Ga(ut),ut=null))),Oa(e,t),Le(t),null;case 5:El(t);var s=hn(Br.current);if(n=t.type,e!==null&&t.stateNode!=null)md(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(T(166));return Le(t),null}if(e=hn(jt.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[vt]=t,r[Or]=a,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(s=0;s<xr.length;s++)pe(xr[s],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":ro(r,a),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},pe("invalid",r);break;case"textarea":io(r,a),pe("invalid",r)}da(n,a),s=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&us(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&us(r.textContent,o,e),s=["children",""+o]):br.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&pe("scroll",r)}switch(n){case"input":ns(r),so(r,a,!0);break;case"textarea":ns(r),ao(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Os)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[vt]=t,e[Or]=r,fd(e,t,!1,!1),t.stateNode=e;e:{switch(l=pa(n,r),n){case"dialog":pe("cancel",e),pe("close",e),s=r;break;case"iframe":case"object":case"embed":pe("load",e),s=r;break;case"video":case"audio":for(s=0;s<xr.length;s++)pe(xr[s],e);s=r;break;case"source":pe("error",e),s=r;break;case"img":case"image":case"link":pe("error",e),pe("load",e),s=r;break;case"details":pe("toggle",e),s=r;break;case"input":ro(e,r),s=aa(e,r),pe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=xe({},r,{value:void 0}),pe("invalid",e);break;case"textarea":io(e,r),s=ca(e,r),pe("invalid",e);break;default:s=r}da(n,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?Qc(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Vc(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Pr(e,c):typeof c=="number"&&Pr(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(br.hasOwnProperty(a)?c!=null&&a==="onScroll"&&pe("scroll",e):c!=null&&sl(e,a,c,l))}switch(n){case"input":ns(e),so(e,r,!1);break;case"textarea":ns(e),ao(e);break;case"option":r.value!=null&&e.setAttribute("value",""+nn(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?In(e,!!r.multiple,a,!1):r.defaultValue!=null&&In(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Os)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)gd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(T(166));if(n=hn(Br.current),hn(jt.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[vt]=t,(a=r.nodeValue!==n)&&(e=Ye,e!==null))switch(e.tag){case 3:us(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&us(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vt]=t,t.stateNode=r}return Le(t),null;case 13:if(he(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(fe&&qe!==null&&t.mode&1&&!(t.flags&128))Tu(),Gn(),t.flags|=98560,a=!1;else if(a=ds(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(T(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(T(317));a[vt]=t}else Gn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),a=!1}else ut!==null&&(Ga(ut),ut=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Ce===0&&(Ce=3):Bl())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return qn(),Oa(e,t),e===null&&$r(t.stateNode.containerInfo),Le(t),null;case 10:return Sl(t.type._context),Le(t),null;case 17:return Ve(t.type)&&Ds(),Le(t),null;case 19:if(he(me),a=t.memoizedState,a===null)return Le(t),null;if(r=(t.flags&128)!==0,l=a.rendering,l===null)if(r)hr(a,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Gs(e),l!==null){for(t.flags|=128,hr(a,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return de(me,me.current&1|2),t.child}e=e.sibling}a.tail!==null&&ke()>Kn&&(t.flags|=128,r=!0,hr(a,!1),t.lanes=4194304)}else{if(!r)if(e=Gs(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!fe)return Le(t),null}else 2*ke()-a.renderingStartTime>Kn&&n!==1073741824&&(t.flags|=128,r=!0,hr(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(n=a.last,n!==null?n.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ke(),t.sibling=null,n=me.current,de(me,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return Dl(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Qe&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(T(156,t.tag))}function yf(e,t){switch(yl(t),t.tag){case 1:return Ve(t.type)&&Ds(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qn(),he(He),he(Me),bl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return El(t),null;case 13:if(he(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Gn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(me),null;case 4:return qn(),null;case 10:return Sl(t.type._context),null;case 22:case 23:return Dl(),null;case 24:return null;default:return null}}var fs=!1,Te=!1,jf=typeof WeakSet=="function"?WeakSet:Set,W=null;function Mn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function Da(e,t,n){try{n()}catch(r){ye(e,t,r)}}var Ko=!1;function kf(e,t){if(wa=Ms,e=ku(),vl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,o=-1,c=-1,d=0,p=0,g=e,m=null;t:for(;;){for(var v;g!==n||s!==0&&g.nodeType!==3||(o=l+s),g!==a||r!==0&&g.nodeType!==3||(c=l+r),g.nodeType===3&&(l+=g.nodeValue.length),(v=g.firstChild)!==null;)m=g,g=v;for(;;){if(g===e)break t;if(m===n&&++d===s&&(o=l),m===a&&++p===r&&(c=l),(v=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=v}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sa={focusedElem:e,selectionRange:n},Ms=!1,W=t;W!==null;)if(t=W,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,W=e;else for(;W!==null;){t=W;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var j=x.memoizedProps,k=x.memoizedState,f=t.stateNode,u=f.getSnapshotBeforeUpdate(t.elementType===t.type?j:ot(t.type,j),k);f.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(S){ye(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,W=e;break}W=t.return}return x=Ko,Ko=!1,x}function Cr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Da(t,n,a)}s=s.next}while(s!==r)}}function pi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ba(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function vd(e){var t=e.alternate;t!==null&&(e.alternate=null,vd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vt],delete t[Or],delete t[_a],delete t[nf],delete t[rf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xd(e){return e.tag===5||e.tag===3||e.tag===4}function Jo(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ua(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Os));else if(r!==4&&(e=e.child,e!==null))for(Ua(e,t,n),e=e.sibling;e!==null;)Ua(e,t,n),e=e.sibling}function Fa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Fa(e,t,n),e=e.sibling;e!==null;)Fa(e,t,n),e=e.sibling}var Pe=null,ct=!1;function $t(e,t,n){for(n=n.child;n!==null;)yd(e,t,n),n=n.sibling}function yd(e,t,n){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(si,n)}catch{}switch(n.tag){case 5:Te||Mn(n,t);case 6:var r=Pe,s=ct;Pe=null,$t(e,t,n),Pe=r,ct=s,Pe!==null&&(ct?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(ct?(e=Pe,n=n.stateNode,e.nodeType===8?Bi(e.parentNode,n):e.nodeType===1&&Bi(e,n),Lr(e)):Bi(Pe,n.stateNode));break;case 4:r=Pe,s=ct,Pe=n.stateNode.containerInfo,ct=!0,$t(e,t,n),Pe=r,ct=s;break;case 0:case 11:case 14:case 15:if(!Te&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Da(n,t,l),s=s.next}while(s!==r)}$t(e,t,n);break;case 1:if(!Te&&(Mn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ye(n,t,o)}$t(e,t,n);break;case 21:$t(e,t,n);break;case 22:n.mode&1?(Te=(r=Te)||n.memoizedState!==null,$t(e,t,n),Te=r):$t(e,t,n);break;default:$t(e,t,n)}}function Xo(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new jf),t.forEach(function(r){var s=zf.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:Pe=o.stateNode,ct=!1;break e;case 3:Pe=o.stateNode.containerInfo,ct=!0;break e;case 4:Pe=o.stateNode.containerInfo,ct=!0;break e}o=o.return}if(Pe===null)throw Error(T(160));yd(a,l,s),Pe=null,ct=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ye(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jd(t,e),t=t.sibling}function jd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),ft(e),r&4){try{Cr(3,e,e.return),pi(3,e)}catch(j){ye(e,e.return,j)}try{Cr(5,e,e.return)}catch(j){ye(e,e.return,j)}}break;case 1:lt(t,e),ft(e),r&512&&n!==null&&Mn(n,n.return);break;case 5:if(lt(t,e),ft(e),r&512&&n!==null&&Mn(n,n.return),e.flags&32){var s=e.stateNode;try{Pr(s,"")}catch(j){ye(e,e.return,j)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,l=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Fc(s,a),pa(o,l);var d=pa(o,a);for(l=0;l<c.length;l+=2){var p=c[l],g=c[l+1];p==="style"?Qc(s,g):p==="dangerouslySetInnerHTML"?Vc(s,g):p==="children"?Pr(s,g):sl(s,p,g,d)}switch(o){case"input":la(s,a);break;case"textarea":Wc(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var v=a.value;v!=null?In(s,!!a.multiple,v,!1):m!==!!a.multiple&&(a.defaultValue!=null?In(s,!!a.multiple,a.defaultValue,!0):In(s,!!a.multiple,a.multiple?[]:"",!1))}s[Or]=a}catch(j){ye(e,e.return,j)}}break;case 6:if(lt(t,e),ft(e),r&4){if(e.stateNode===null)throw Error(T(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(j){ye(e,e.return,j)}}break;case 3:if(lt(t,e),ft(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Lr(t.containerInfo)}catch(j){ye(e,e.return,j)}break;case 4:lt(t,e),ft(e);break;case 13:lt(t,e),ft(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Il=ke())),r&4&&Xo(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Te=(d=Te)||p,lt(t,e),Te=d):lt(t,e),ft(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(W=e,p=e.child;p!==null;){for(g=W=p;W!==null;){switch(m=W,v=m.child,m.tag){case 0:case 11:case 14:case 15:Cr(4,m,m.return);break;case 1:Mn(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(j){ye(r,n,j)}}break;case 5:Mn(m,m.return);break;case 22:if(m.memoizedState!==null){ec(g);continue}}v!==null?(v.return=m,W=v):ec(g)}p=p.sibling}e:for(p=null,g=e;;){if(g.tag===5){if(p===null){p=g;try{s=g.stateNode,d?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=g.stateNode,c=g.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Gc("display",l))}catch(j){ye(e,e.return,j)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(j){ye(e,e.return,j)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:lt(t,e),ft(e),r&4&&Xo(e);break;case 21:break;default:lt(t,e),ft(e)}}function ft(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xd(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pr(s,""),r.flags&=-33);var a=Jo(e);Fa(e,a,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=Jo(e);Ua(e,o,l);break;default:throw Error(T(161))}}catch(c){ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wf(e,t,n){W=e,kd(e)}function kd(e,t,n){for(var r=(e.mode&1)!==0;W!==null;){var s=W,a=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||fs;if(!l){var o=s.alternate,c=o!==null&&o.memoizedState!==null||Te;o=fs;var d=Te;if(fs=l,(Te=c)&&!d)for(W=s;W!==null;)l=W,c=l.child,l.tag===22&&l.memoizedState!==null?tc(s):c!==null?(c.return=l,W=c):tc(s);for(;a!==null;)W=a,kd(a),a=a.sibling;W=s,fs=o,Te=d}Zo(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,W=a):Zo(e)}}function Zo(e){for(;W!==null;){var t=W;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||pi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Te)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ot(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Io(t,a,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Io(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Lr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Te||t.flags&512&&Ba(t)}catch(m){ye(t,t.return,m)}}if(t===e){W=null;break}if(n=t.sibling,n!==null){n.return=t.return,W=n;break}W=t.return}}function ec(e){for(;W!==null;){var t=W;if(t===e){W=null;break}var n=t.sibling;if(n!==null){n.return=t.return,W=n;break}W=t.return}}function tc(e){for(;W!==null;){var t=W;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{pi(4,t)}catch(c){ye(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ye(t,s,c)}}var a=t.return;try{Ba(t)}catch(c){ye(t,a,c)}break;case 5:var l=t.return;try{Ba(t)}catch(c){ye(t,l,c)}}}catch(c){ye(t,t.return,c)}if(t===e){W=null;break}var o=t.sibling;if(o!==null){o.return=t.return,W=o;break}W=t.return}}var Sf=Math.ceil,Ys=Lt.ReactCurrentDispatcher,Ml=Lt.ReactCurrentOwner,rt=Lt.ReactCurrentBatchConfig,se=0,be=null,we=null,ze=0,Qe=0,$n=an(0),Ce=0,Hr=null,yn=0,hi=0,$l=0,_r=null,Ue=null,Il=0,Kn=1/0,wt=null,Ks=!1,Wa=null,Xt=null,ms=!1,Vt=null,Js=0,Er=0,Ha=null,_s=-1,Es=0;function Ie(){return se&6?ke():_s!==-1?_s:_s=ke()}function Zt(e){return e.mode&1?se&2&&ze!==0?ze&-ze:af.transition!==null?(Es===0&&(Es=iu()),Es):(e=ce,e!==0||(e=window.event,e=e===void 0?16:pu(e.type)),e):1}function pt(e,t,n,r){if(50<Er)throw Er=0,Ha=null,Error(T(185));Kr(e,n,r),(!(se&2)||e!==be)&&(e===be&&(!(se&2)&&(hi|=n),Ce===4&&Ft(e,ze)),Ge(e,r),n===1&&se===0&&!(t.mode&1)&&(Kn=ke()+500,ci&&ln()))}function Ge(e,t){var n=e.callbackNode;ih(e,t);var r=Ts(e,e===be?ze:0);if(r===0)n!==null&&co(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&co(n),t===1)e.tag===0?sf(nc.bind(null,e)):Au(nc.bind(null,e)),ef(function(){!(se&6)&&ln()}),n=null;else{switch(au(r)){case 1:n=cl;break;case 4:n=ru;break;case 16:n=Ls;break;case 536870912:n=su;break;default:n=Ls}n=Pd(n,wd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function wd(e,t){if(_s=-1,Es=0,se&6)throw Error(T(327));var n=e.callbackNode;if(Fn()&&e.callbackNode!==n)return null;var r=Ts(e,e===be?ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Xs(e,r);else{t=r;var s=se;se|=2;var a=Nd();(be!==e||ze!==t)&&(wt=null,Kn=ke()+500,fn(e,t));do try{_f();break}catch(o){Sd(e,o)}while(!0);wl(),Ys.current=a,se=s,we!==null?t=0:(be=null,ze=0,t=Ce)}if(t!==0){if(t===2&&(s=va(e),s!==0&&(r=s,t=Va(e,s))),t===1)throw n=Hr,fn(e,0),Ft(e,r),Ge(e,ke()),n;if(t===6)Ft(e,r);else{if(s=e.current.alternate,!(r&30)&&!Nf(s)&&(t=Xs(e,r),t===2&&(a=va(e),a!==0&&(r=a,t=Va(e,a))),t===1))throw n=Hr,fn(e,0),Ft(e,r),Ge(e,ke()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(T(345));case 2:cn(e,Ue,wt);break;case 3:if(Ft(e,r),(r&130023424)===r&&(t=Il+500-ke(),10<t)){if(Ts(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ca(cn.bind(null,e,Ue,wt),t);break}cn(e,Ue,wt);break;case 4:if(Ft(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-dt(r);a=1<<l,l=t[l],l>s&&(s=l),r&=~a}if(r=s,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sf(r/1960))-r,10<r){e.timeoutHandle=Ca(cn.bind(null,e,Ue,wt),r);break}cn(e,Ue,wt);break;case 5:cn(e,Ue,wt);break;default:throw Error(T(329))}}}return Ge(e,ke()),e.callbackNode===n?wd.bind(null,e):null}function Va(e,t){var n=_r;return e.current.memoizedState.isDehydrated&&(fn(e,t).flags|=256),e=Xs(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&Ga(t)),e}function Ga(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function Nf(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!ht(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ft(e,t){for(t&=~$l,t&=~hi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-dt(t),r=1<<n;e[n]=-1,t&=~r}}function nc(e){if(se&6)throw Error(T(327));Fn();var t=Ts(e,0);if(!(t&1))return Ge(e,ke()),null;var n=Xs(e,t);if(e.tag!==0&&n===2){var r=va(e);r!==0&&(t=r,n=Va(e,r))}if(n===1)throw n=Hr,fn(e,0),Ft(e,t),Ge(e,ke()),n;if(n===6)throw Error(T(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cn(e,Ue,wt),Ge(e,ke()),null}function Ol(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Kn=ke()+500,ci&&ln())}}function jn(e){Vt!==null&&Vt.tag===0&&!(se&6)&&Fn();var t=se;se|=1;var n=rt.transition,r=ce;try{if(rt.transition=null,ce=1,e)return e()}finally{ce=r,rt.transition=n,se=t,!(se&6)&&ln()}}function Dl(){Qe=$n.current,he($n)}function fn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Zh(n)),we!==null)for(n=we.return;n!==null;){var r=n;switch(yl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ds();break;case 3:qn(),he(He),he(Me),bl();break;case 5:El(r);break;case 4:qn();break;case 13:he(me);break;case 19:he(me);break;case 10:Sl(r.type._context);break;case 22:case 23:Dl()}n=n.return}if(be=e,we=e=en(e.current,null),ze=Qe=t,Ce=0,Hr=null,$l=hi=yn=0,Ue=_r=null,pn!==null){for(t=0;t<pn.length;t++)if(n=pn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=s,r.next=l}n.pending=r}pn=null}return e}function Sd(e,t){do{var n=we;try{if(wl(),Ss.current=qs,Qs){for(var r=ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qs=!1}if(xn=0,Ee=Ne=ge=null,Nr=!1,Ur=0,Ml.current=null,n===null||n.return===null){Ce=1,Hr=t,we=null;break}e:{var a=e,l=n.return,o=n,c=t;if(t=ze,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=o,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=Wo(l);if(v!==null){v.flags&=-257,Ho(v,l,o,a,t),v.mode&1&&Fo(a,d,t),t=v,c=d;var x=t.updateQueue;if(x===null){var j=new Set;j.add(c),t.updateQueue=j}else x.add(c);break e}else{if(!(t&1)){Fo(a,d,t),Bl();break e}c=Error(T(426))}}else if(fe&&o.mode&1){var k=Wo(l);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ho(k,l,o,a,t),jl(Yn(c,o));break e}}a=c=Yn(c,o),Ce!==4&&(Ce=2),_r===null?_r=[a]:_r.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var f=ad(a,c,t);$o(a,f);break e;case 1:o=c;var u=a.type,h=a.stateNode;if(!(a.flags&128)&&(typeof u.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Xt===null||!Xt.has(h)))){a.flags|=65536,t&=-t,a.lanes|=t;var S=ld(a,o,t);$o(a,S);break e}}a=a.return}while(a!==null)}_d(n)}catch(y){t=y,we===n&&n!==null&&(we=n=n.return);continue}break}while(!0)}function Nd(){var e=Ys.current;return Ys.current=qs,e===null?qs:e}function Bl(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),be===null||!(yn&268435455)&&!(hi&268435455)||Ft(be,ze)}function Xs(e,t){var n=se;se|=2;var r=Nd();(be!==e||ze!==t)&&(wt=null,fn(e,t));do try{Cf();break}catch(s){Sd(e,s)}while(!0);if(wl(),se=n,Ys.current=r,we!==null)throw Error(T(261));return be=null,ze=0,Ce}function Cf(){for(;we!==null;)Cd(we)}function _f(){for(;we!==null&&!Kp();)Cd(we)}function Cd(e){var t=bd(e.alternate,e,Qe);e.memoizedProps=e.pendingProps,t===null?_d(e):we=t,Ml.current=null}function _d(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=yf(n,t),n!==null){n.flags&=32767,we=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,we=null;return}}else if(n=xf(n,t,Qe),n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);Ce===0&&(Ce=5)}function cn(e,t,n){var r=ce,s=rt.transition;try{rt.transition=null,ce=1,Ef(e,t,n,r)}finally{rt.transition=s,ce=r}return null}function Ef(e,t,n,r){do Fn();while(Vt!==null);if(se&6)throw Error(T(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(T(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(ah(e,a),e===be&&(we=be=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ms||(ms=!0,Pd(Ls,function(){return Fn(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=rt.transition,rt.transition=null;var l=ce;ce=1;var o=se;se|=4,Ml.current=null,kf(e,n),jd(n,e),Gh(Sa),Ms=!!wa,Sa=wa=null,e.current=n,wf(n),Jp(),se=o,ce=l,rt.transition=a}else e.current=n;if(ms&&(ms=!1,Vt=e,Js=s),a=e.pendingLanes,a===0&&(Xt=null),eh(n.stateNode),Ge(e,ke()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ks)throw Ks=!1,e=Wa,Wa=null,e;return Js&1&&e.tag!==0&&Fn(),a=e.pendingLanes,a&1?e===Ha?Er++:(Er=0,Ha=e):Er=0,ln(),null}function Fn(){if(Vt!==null){var e=au(Js),t=rt.transition,n=ce;try{if(rt.transition=null,ce=16>e?16:e,Vt===null)var r=!1;else{if(e=Vt,Vt=null,Js=0,se&6)throw Error(T(331));var s=se;for(se|=4,W=e.current;W!==null;){var a=W,l=a.child;if(W.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(W=d;W!==null;){var p=W;switch(p.tag){case 0:case 11:case 15:Cr(8,p,a)}var g=p.child;if(g!==null)g.return=p,W=g;else for(;W!==null;){p=W;var m=p.sibling,v=p.return;if(vd(p),p===d){W=null;break}if(m!==null){m.return=v,W=m;break}W=v}}}var x=a.alternate;if(x!==null){var j=x.child;if(j!==null){x.child=null;do{var k=j.sibling;j.sibling=null,j=k}while(j!==null)}}W=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,W=l;else e:for(;W!==null;){if(a=W,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Cr(9,a,a.return)}var f=a.sibling;if(f!==null){f.return=a.return,W=f;break e}W=a.return}}var u=e.current;for(W=u;W!==null;){l=W;var h=l.child;if(l.subtreeFlags&2064&&h!==null)h.return=l,W=h;else e:for(l=u;W!==null;){if(o=W,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:pi(9,o)}}catch(y){ye(o,o.return,y)}if(o===l){W=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,W=S;break e}W=o.return}}if(se=s,ln(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(si,e)}catch{}r=!0}return r}finally{ce=n,rt.transition=t}}return!1}function rc(e,t,n){t=Yn(n,t),t=ad(e,t,1),e=Jt(e,t,1),t=Ie(),e!==null&&(Kr(e,1,t),Ge(e,t))}function ye(e,t,n){if(e.tag===3)rc(e,e,n);else for(;t!==null;){if(t.tag===3){rc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Xt===null||!Xt.has(r))){e=Yn(n,e),e=ld(t,e,1),t=Jt(t,e,1),e=Ie(),t!==null&&(Kr(t,1,e),Ge(t,e));break}}t=t.return}}function bf(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,be===e&&(ze&n)===n&&(Ce===4||Ce===3&&(ze&130023424)===ze&&500>ke()-Il?fn(e,0):$l|=n),Ge(e,t)}function Ed(e,t){t===0&&(e.mode&1?(t=is,is<<=1,!(is&130023424)&&(is=4194304)):t=1);var n=Ie();e=At(e,t),e!==null&&(Kr(e,t,n),Ge(e,n))}function Pf(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ed(e,n)}function zf(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(t),Ed(e,n)}var bd;bd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,vf(e,t,n);We=!!(e.flags&131072)}else We=!1,fe&&t.flags&1048576&&Ru(t,Fs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Cs(e,t),e=t.pendingProps;var s=Vn(t,Me.current);Un(t,n),s=zl(null,t,r,e,s,n);var a=Al();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(r)?(a=!0,Bs(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Cl(t),s.updater=di,t.stateNode=s,s._reactInternals=t,Ra(t,r,e,n),t=Ma(null,t,r,!0,a,n)):(t.tag=0,fe&&a&&xl(t),$e(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Cs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Rf(r),e=ot(r,e),s){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Qo(null,t,r,e,n);break e;case 11:t=Vo(null,t,r,e,n);break e;case 14:t=Go(null,t,r,ot(r.type,e),n);break e}throw Error(T(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),Ta(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),Qo(e,t,r,s,n);case 3:e:{if(dd(t),e===null)throw Error(T(387));r=t.pendingProps,a=t.memoizedState,s=a.element,Ou(e,t),Vs(t,r,null,n);var l=t.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Yn(Error(T(423)),t),t=qo(e,t,r,n,s);break e}else if(r!==s){s=Yn(Error(T(424)),t),t=qo(e,t,r,n,s);break e}else for(qe=Kt(t.stateNode.containerInfo.firstChild),Ye=t,fe=!0,ut=null,n=$u(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gn(),r===s){t=Rt(e,t,n);break e}$e(e,t,r,n)}t=t.child}return t;case 5:return Du(t),e===null&&Pa(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,l=s.children,Na(r,s)?l=null:a!==null&&Na(r,a)&&(t.flags|=32),ud(e,t),$e(e,t,l,n),t.child;case 6:return e===null&&Pa(t),null;case 13:return pd(e,t,n);case 4:return _l(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qn(t,null,r,n):$e(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),Vo(e,t,r,s,n);case 7:return $e(e,t,t.pendingProps,n),t.child;case 8:return $e(e,t,t.pendingProps.children,n),t.child;case 12:return $e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,l=s.value,de(Ws,r._currentValue),r._currentValue=l,a!==null)if(ht(a.value,l)){if(a.children===s.children&&!He.current){t=Rt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=bt(-1,n&-n),c.tag=2;var d=a.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),za(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(T(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),za(l,n,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}$e(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Un(t,n),s=st(s),r=r(s),t.flags|=1,$e(e,t,r,n),t.child;case 14:return r=t.type,s=ot(r,t.pendingProps),s=ot(r.type,s),Go(e,t,r,s,n);case 15:return od(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),Cs(e,t),t.tag=1,Ve(r)?(e=!0,Bs(t)):e=!1,Un(t,n),id(t,r,s),Ra(t,r,s,n),Ma(null,t,r,!0,e,n);case 19:return hd(e,t,n);case 22:return cd(e,t,n)}throw Error(T(156,t.tag))};function Pd(e,t){return nu(e,t)}function Af(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(e,t,n,r){return new Af(e,t,n,r)}function Ul(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rf(e){if(typeof e=="function")return Ul(e)?1:0;if(e!=null){if(e=e.$$typeof,e===al)return 11;if(e===ll)return 14}return 2}function en(e,t){var n=e.alternate;return n===null?(n=nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function bs(e,t,n,r,s,a){var l=2;if(r=e,typeof e=="function")Ul(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case _n:return mn(n.children,s,a,t);case il:l=8,s|=8;break;case na:return e=nt(12,n,t,s|2),e.elementType=na,e.lanes=a,e;case ra:return e=nt(13,n,t,s),e.elementType=ra,e.lanes=a,e;case sa:return e=nt(19,n,t,s),e.elementType=sa,e.lanes=a,e;case Dc:return fi(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ic:l=10;break e;case Oc:l=9;break e;case al:l=11;break e;case ll:l=14;break e;case Dt:l=16,r=null;break e}throw Error(T(130,e==null?e:typeof e,""))}return t=nt(l,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function mn(e,t,n,r){return e=nt(7,e,r,t),e.lanes=n,e}function fi(e,t,n,r){return e=nt(22,e,r,t),e.elementType=Dc,e.lanes=n,e.stateNode={isHidden:!1},e}function qi(e,t,n){return e=nt(6,e,null,t),e.lanes=n,e}function Yi(e,t,n){return t=nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lf(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pi(0),this.expirationTimes=Pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fl(e,t,n,r,s,a,l,o,c){return e=new Lf(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=nt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cl(a),e}function Tf(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function zd(e){if(!e)return rn;e=e._reactInternals;e:{if(wn(e)!==e||e.tag!==1)throw Error(T(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(T(171))}if(e.tag===1){var n=e.type;if(Ve(n))return zu(e,n,t)}return t}function Ad(e,t,n,r,s,a,l,o,c){return e=Fl(n,r,!0,e,s,a,l,o,c),e.context=zd(null),n=e.current,r=Ie(),s=Zt(n),a=bt(r,s),a.callback=t??null,Jt(n,a,s),e.current.lanes=s,Kr(e,s,r),Ge(e,r),e}function mi(e,t,n,r){var s=t.current,a=Ie(),l=Zt(s);return n=zd(n),t.context===null?t.context=n:t.pendingContext=n,t=bt(a,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Jt(s,t,l),e!==null&&(pt(e,s,l,a),ws(e,s,l)),l}function Zs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function sc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wl(e,t){sc(e,t),(e=e.alternate)&&sc(e,t)}function Mf(){return null}var Rd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hl(e){this._internalRoot=e}gi.prototype.render=Hl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));mi(e,t,null,null)};gi.prototype.unmount=Hl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jn(function(){mi(null,e,null,null)}),t[zt]=null}};function gi(e){this._internalRoot=e}gi.prototype.unstable_scheduleHydration=function(e){if(e){var t=cu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ut.length&&t!==0&&t<Ut[n].priority;n++);Ut.splice(n,0,e),n===0&&du(e)}};function Vl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function vi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ic(){}function $f(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var d=Zs(l);a.call(d)}}var l=Ad(t,r,e,0,null,!1,!1,"",ic);return e._reactRootContainer=l,e[zt]=l.current,$r(e.nodeType===8?e.parentNode:e),jn(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var d=Zs(c);o.call(d)}}var c=Fl(e,0,!1,null,null,!1,!1,"",ic);return e._reactRootContainer=c,e[zt]=c.current,$r(e.nodeType===8?e.parentNode:e),jn(function(){mi(t,c,n,r)}),c}function xi(e,t,n,r,s){var a=n._reactRootContainer;if(a){var l=a;if(typeof s=="function"){var o=s;s=function(){var c=Zs(l);o.call(c)}}mi(t,l,e,s)}else l=$f(n,t,e,s,r);return Zs(l)}lu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=vr(t.pendingLanes);n!==0&&(ul(t,n|1),Ge(t,ke()),!(se&6)&&(Kn=ke()+500,ln()))}break;case 13:jn(function(){var r=At(e,1);if(r!==null){var s=Ie();pt(r,e,1,s)}}),Wl(e,1)}};dl=function(e){if(e.tag===13){var t=At(e,134217728);if(t!==null){var n=Ie();pt(t,e,134217728,n)}Wl(e,134217728)}};ou=function(e){if(e.tag===13){var t=Zt(e),n=At(e,t);if(n!==null){var r=Ie();pt(n,e,t,r)}Wl(e,t)}};cu=function(){return ce};uu=function(e,t){var n=ce;try{return ce=e,t()}finally{ce=n}};fa=function(e,t,n){switch(t){case"input":if(la(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=oi(r);if(!s)throw Error(T(90));Uc(r),la(r,s)}}}break;case"textarea":Wc(e,n);break;case"select":t=n.value,t!=null&&In(e,!!n.multiple,t,!1)}};Kc=Ol;Jc=jn;var If={usingClientEntryPoint:!1,Events:[Xr,zn,oi,qc,Yc,Ol]},fr={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Of={bundleType:fr.bundleType,version:fr.version,rendererPackageName:fr.rendererPackageName,rendererConfig:fr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=eu(e),e===null?null:e.stateNode},findFiberByHostInstance:fr.findFiberByHostInstance||Mf,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gs.isDisabled&&gs.supportsFiber)try{si=gs.inject(Of),yt=gs}catch{}}Je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=If;Je.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vl(t))throw Error(T(200));return Tf(e,t,null,n)};Je.createRoot=function(e,t){if(!Vl(e))throw Error(T(299));var n=!1,r="",s=Rd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Fl(e,1,!1,null,null,n,!1,r,s),e[zt]=t.current,$r(e.nodeType===8?e.parentNode:e),new Hl(t)};Je.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=eu(t),e=e===null?null:e.stateNode,e};Je.flushSync=function(e){return jn(e)};Je.hydrate=function(e,t,n){if(!vi(t))throw Error(T(200));return xi(null,e,t,!0,n)};Je.hydrateRoot=function(e,t,n){if(!Vl(e))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",l=Rd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Ad(t,null,e,1,n??null,s,!1,a,l),e[zt]=t.current,$r(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new gi(t)};Je.render=function(e,t,n){if(!vi(t))throw Error(T(200));return xi(null,e,t,!1,n)};Je.unmountComponentAtNode=function(e){if(!vi(e))throw Error(T(40));return e._reactRootContainer?(jn(function(){xi(null,null,e,!1,function(){e._reactRootContainer=null,e[zt]=null})}),!0):!1};Je.unstable_batchedUpdates=Ol;Je.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!vi(n))throw Error(T(200));if(e==null||e._reactInternals===void 0)throw Error(T(38));return xi(e,t,n,!1,r)};Je.version="18.3.1-next-f1338f8080-20240426";function Ld(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ld)}catch(e){console.error(e)}}Ld(),Lc.exports=Je;var Df=Lc.exports,ac=Df;ea.createRoot=ac.createRoot,ea.hydrateRoot=ac.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vr(){return Vr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vr.apply(this,arguments)}var Gt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Gt||(Gt={}));const lc="popstate";function Bf(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:l,hash:o}=r.location;return Qa("",{pathname:a,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ei(s)}return Ff(t,n,null,e)}function ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Td(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Uf(){return Math.random().toString(36).substr(2,8)}function oc(e,t){return{usr:e.state,key:e.key,idx:t}}function Qa(e,t,n,r){return n===void 0&&(n=null),Vr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?rr(t):t,{state:n,key:t&&t.key||r||Uf()})}function ei(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function rr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ff(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,o=Gt.Pop,c=null,d=p();d==null&&(d=0,l.replaceState(Vr({},l.state,{idx:d}),""));function p(){return(l.state||{idx:null}).idx}function g(){o=Gt.Pop;let k=p(),f=k==null?null:k-d;d=k,c&&c({action:o,location:j.location,delta:f})}function m(k,f){o=Gt.Push;let u=Qa(j.location,k,f);d=p()+1;let h=oc(u,d),S=j.createHref(u);try{l.pushState(h,"",S)}catch(y){if(y instanceof DOMException&&y.name==="DataCloneError")throw y;s.location.assign(S)}a&&c&&c({action:o,location:j.location,delta:1})}function v(k,f){o=Gt.Replace;let u=Qa(j.location,k,f);d=p();let h=oc(u,d),S=j.createHref(u);l.replaceState(h,"",S),a&&c&&c({action:o,location:j.location,delta:0})}function x(k){let f=s.location.origin!=="null"?s.location.origin:s.location.href,u=typeof k=="string"?k:ei(k);return u=u.replace(/ $/,"%20"),ve(f,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,f)}let j={get action(){return o},get location(){return e(s,l)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(lc,g),c=k,()=>{s.removeEventListener(lc,g),c=null}},createHref(k){return t(s,k)},createURL:x,encodeLocation(k){let f=x(k);return{pathname:f.pathname,search:f.search,hash:f.hash}},push:m,replace:v,go(k){return l.go(k)}};return j}var cc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cc||(cc={}));function Wf(e,t,n){return n===void 0&&(n="/"),Hf(e,t,n)}function Hf(e,t,n,r){let s=typeof t=="string"?rr(t):t,a=Jn(s.pathname||"/",n);if(a==null)return null;let l=Md(e);Vf(l);let o=null;for(let c=0;o==null&&c<l.length;++c){let d=nm(a);o=em(l[c],d)}return o}function Md(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,l,o)=>{let c={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};c.relativePath.startsWith("/")&&(ve(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=tn([r,c.relativePath]),p=n.concat(c);a.children&&a.children.length>0&&(ve(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Md(a.children,t,p,d)),!(a.path==null&&!a.index)&&t.push({path:d,score:Xf(d,a.index),routesMeta:p})};return e.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,l);else for(let c of $d(a.path))s(a,l,c)}),t}function $d(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=$d(r.join("/")),o=[];return o.push(...l.map(c=>c===""?a:[a,c].join("/"))),s&&o.push(...l),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Vf(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Zf(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Gf=/^:[\w-]+$/,Qf=3,qf=2,Yf=1,Kf=10,Jf=-2,uc=e=>e==="*";function Xf(e,t){let n=e.split("/"),r=n.length;return n.some(uc)&&(r+=Jf),t&&(r+=qf),n.filter(s=>!uc(s)).reduce((s,a)=>s+(Gf.test(a)?Qf:a===""?Yf:Kf),r)}function Zf(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function em(e,t,n){let{routesMeta:r}=e,s={},a="/",l=[];for(let o=0;o<r.length;++o){let c=r[o],d=o===r.length-1,p=a==="/"?t:t.slice(a.length)||"/",g=qa({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),m=c.route;if(!g)return null;Object.assign(s,g.params),l.push({params:s,pathname:tn([a,g.pathname]),pathnameBase:am(tn([a,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(a=tn([a,g.pathnameBase]))}return l}function qa(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=tm(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((d,p,g)=>{let{paramName:m,isOptional:v}=p;if(m==="*"){let j=o[g]||"";l=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const x=o[g];return v&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:l,pattern:e}}function tm(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Td(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,c)=>(r.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function nm(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Td(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function rm(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?rr(e):e;return{pathname:n?n.startsWith("/")?n:sm(n,t):t,search:lm(r),hash:om(s)}}function sm(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ki(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function im(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Gl(e,t){let n=im(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ql(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=rr(e):(s=Vr({},e),ve(!s.pathname||!s.pathname.includes("?"),Ki("?","pathname","search",s)),ve(!s.pathname||!s.pathname.includes("#"),Ki("#","pathname","hash",s)),ve(!s.search||!s.search.includes("#"),Ki("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,o;if(l==null)o=n;else{let g=t.length-1;if(!r&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),g-=1;s.pathname=m.join("/")}o=g>=0?t[g]:"/"}let c=rm(s,o),d=l&&l!=="/"&&l.endsWith("/"),p=(a||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const tn=e=>e.join("/").replace(/\/\/+/g,"/"),am=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),lm=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,om=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function cm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Id=["post","put","patch","delete"];new Set(Id);const um=["get",...Id];new Set(um);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gr(){return Gr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gr.apply(this,arguments)}const yi=z.createContext(null),Od=z.createContext(null),Tt=z.createContext(null),ji=z.createContext(null),Mt=z.createContext({outlet:null,matches:[],isDataRoute:!1}),Dd=z.createContext(null);function dm(e,t){let{relative:n}=t===void 0?{}:t;sr()||ve(!1);let{basename:r,navigator:s}=z.useContext(Tt),{hash:a,pathname:l,search:o}=ki(e,{relative:n}),c=l;return r!=="/"&&(c=l==="/"?r:tn([r,l])),s.createHref({pathname:c,search:o,hash:a})}function sr(){return z.useContext(ji)!=null}function ir(){return sr()||ve(!1),z.useContext(ji).location}function Bd(e){z.useContext(Tt).static||z.useLayoutEffect(e)}function Ud(){let{isDataRoute:e}=z.useContext(Mt);return e?Cm():pm()}function pm(){sr()||ve(!1);let e=z.useContext(yi),{basename:t,future:n,navigator:r}=z.useContext(Tt),{matches:s}=z.useContext(Mt),{pathname:a}=ir(),l=JSON.stringify(Gl(s,n.v7_relativeSplatPath)),o=z.useRef(!1);return Bd(()=>{o.current=!0}),z.useCallback(function(d,p){if(p===void 0&&(p={}),!o.current)return;if(typeof d=="number"){r.go(d);return}let g=Ql(d,JSON.parse(l),a,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:tn([t,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[t,r,l,a,e])}function hm(){let{matches:e}=z.useContext(Mt),t=e[e.length-1];return t?t.params:{}}function ki(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=z.useContext(Tt),{matches:s}=z.useContext(Mt),{pathname:a}=ir(),l=JSON.stringify(Gl(s,r.v7_relativeSplatPath));return z.useMemo(()=>Ql(e,JSON.parse(l),a,n==="path"),[e,l,a,n])}function fm(e,t){return mm(e,t)}function mm(e,t,n,r){sr()||ve(!1);let{navigator:s}=z.useContext(Tt),{matches:a}=z.useContext(Mt),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let c=l?l.pathnameBase:"/";l&&l.route;let d=ir(),p;if(t){var g;let k=typeof t=="string"?rr(t):t;c==="/"||(g=k.pathname)!=null&&g.startsWith(c)||ve(!1),p=k}else p=d;let m=p.pathname||"/",v=m;if(c!=="/"){let k=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(k.length).join("/")}let x=Wf(e,{pathname:v}),j=jm(x&&x.map(k=>Object.assign({},k,{params:Object.assign({},o,k.params),pathname:tn([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:tn([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),a,n,r);return t&&j?z.createElement(ji.Provider,{value:{location:Gr({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Gt.Pop}},j):j}function gm(){let e=Nm(),t=cm(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},t),n?z.createElement("pre",{style:s},n):null,null)}const vm=z.createElement(gm,null);class xm extends z.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?z.createElement(Mt.Provider,{value:this.props.routeContext},z.createElement(Dd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ym(e){let{routeContext:t,match:n,children:r}=e,s=z.useContext(yi);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),z.createElement(Mt.Provider,{value:t},r)}function jm(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let p=l.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);p>=0||ve(!1),l=l.slice(0,Math.min(l.length,p+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<l.length;p++){let g=l[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:m,errors:v}=n,x=g.route.loader&&m[g.route.id]===void 0&&(!v||v[g.route.id]===void 0);if(g.route.lazy||x){c=!0,d>=0?l=l.slice(0,d+1):l=[l[0]];break}}}return l.reduceRight((p,g,m)=>{let v,x=!1,j=null,k=null;n&&(v=o&&g.route.id?o[g.route.id]:void 0,j=g.route.errorElement||vm,c&&(d<0&&m===0?(_m("route-fallback"),x=!0,k=null):d===m&&(x=!0,k=g.route.hydrateFallbackElement||null)));let f=t.concat(l.slice(0,m+1)),u=()=>{let h;return v?h=j:x?h=k:g.route.Component?h=z.createElement(g.route.Component,null):g.route.element?h=g.route.element:h=p,z.createElement(ym,{match:g,routeContext:{outlet:p,matches:f,isDataRoute:n!=null},children:h})};return n&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?z.createElement(xm,{location:n.location,revalidation:n.revalidation,component:j,error:v,children:u(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):u()},null)}var Fd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Fd||{}),Wd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Wd||{});function km(e){let t=z.useContext(yi);return t||ve(!1),t}function wm(e){let t=z.useContext(Od);return t||ve(!1),t}function Sm(e){let t=z.useContext(Mt);return t||ve(!1),t}function Hd(e){let t=Sm(),n=t.matches[t.matches.length-1];return n.route.id||ve(!1),n.route.id}function Nm(){var e;let t=z.useContext(Dd),n=wm(),r=Hd();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Cm(){let{router:e}=km(Fd.UseNavigateStable),t=Hd(Wd.UseNavigateStable),n=z.useRef(!1);return Bd(()=>{n.current=!0}),z.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Gr({fromRouteId:t},a)))},[e,t])}const dc={};function _m(e,t,n){dc[e]||(dc[e]=!0)}function Em(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Vd(e){let{to:t,replace:n,state:r,relative:s}=e;sr()||ve(!1);let{future:a,static:l}=z.useContext(Tt),{matches:o}=z.useContext(Mt),{pathname:c}=ir(),d=Ud(),p=Ql(t,Gl(o,a.v7_relativeSplatPath),c,s==="path"),g=JSON.stringify(p);return z.useEffect(()=>d(JSON.parse(g),{replace:n,state:r,relative:s}),[d,g,s,n,r]),null}function un(e){ve(!1)}function bm(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Gt.Pop,navigator:a,static:l=!1,future:o}=e;sr()&&ve(!1);let c=t.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:c,navigator:a,static:l,future:Gr({v7_relativeSplatPath:!1},o)}),[c,o,a,l]);typeof r=="string"&&(r=rr(r));let{pathname:p="/",search:g="",hash:m="",state:v=null,key:x="default"}=r,j=z.useMemo(()=>{let k=Jn(p,c);return k==null?null:{location:{pathname:k,search:g,hash:m,state:v,key:x},navigationType:s}},[c,p,g,m,v,x,s]);return j==null?null:z.createElement(Tt.Provider,{value:d},z.createElement(ji.Provider,{children:n,value:j}))}function Pm(e){let{children:t,location:n}=e;return fm(Ya(t),n)}new Promise(()=>{});function Ya(e,t){t===void 0&&(t=[]);let n=[];return z.Children.forEach(e,(r,s)=>{if(!z.isValidElement(r))return;let a=[...t,s];if(r.type===z.Fragment){n.push.apply(n,Ya(r.props.children,a));return}r.type!==un&&ve(!1),!r.props.index||!r.props.children||ve(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Ya(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ti.apply(this,arguments)}function Gd(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function zm(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Am(e,t){return e.button===0&&(!t||t==="_self")&&!zm(e)}const Rm=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Lm=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Tm="6";try{window.__reactRouterVersion=Tm}catch{}const Mm=z.createContext({isTransitioning:!1}),$m="startTransition",pc=Ep[$m];function Im(e){let{basename:t,children:n,future:r,window:s}=e,a=z.useRef();a.current==null&&(a.current=Bf({window:s,v5Compat:!0}));let l=a.current,[o,c]=z.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},p=z.useCallback(g=>{d&&pc?pc(()=>c(g)):c(g)},[c,d]);return z.useLayoutEffect(()=>l.listen(p),[l,p]),z.useEffect(()=>Em(r),[r]),z.createElement(bm,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:l,future:r})}const Om=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Wn=z.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:o,target:c,to:d,preventScrollReset:p,viewTransition:g}=t,m=Gd(t,Rm),{basename:v}=z.useContext(Tt),x,j=!1;if(typeof d=="string"&&Dm.test(d)&&(x=d,Om))try{let h=new URL(window.location.href),S=d.startsWith("//")?new URL(h.protocol+d):new URL(d),y=Jn(S.pathname,v);S.origin===h.origin&&y!=null?d=y+S.search+S.hash:j=!0}catch{}let k=dm(d,{relative:s}),f=Fm(d,{replace:l,state:o,target:c,preventScrollReset:p,relative:s,viewTransition:g});function u(h){r&&r(h),h.defaultPrevented||f(h)}return z.createElement("a",ti({},m,{href:x||k,onClick:j||a?r:u,ref:n,target:c}))}),Bm=z.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:l=!1,style:o,to:c,viewTransition:d,children:p}=t,g=Gd(t,Lm),m=ki(c,{relative:g.relative}),v=ir(),x=z.useContext(Od),{navigator:j,basename:k}=z.useContext(Tt),f=x!=null&&Wm(m)&&d===!0,u=j.encodeLocation?j.encodeLocation(m).pathname:m.pathname,h=v.pathname,S=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(h=h.toLowerCase(),S=S?S.toLowerCase():null,u=u.toLowerCase()),S&&k&&(S=Jn(S,k)||S);const y=u!=="/"&&u.endsWith("/")?u.length-1:u.length;let N=h===u||!l&&h.startsWith(u)&&h.charAt(y)==="/",_=S!=null&&(S===u||!l&&S.startsWith(u)&&S.charAt(u.length)==="/"),E={isActive:N,isPending:_,isTransitioning:f},C=N?r:void 0,b;typeof a=="function"?b=a(E):b=[a,N?"active":null,_?"pending":null,f?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(E):o;return z.createElement(Wn,ti({},g,{"aria-current":C,className:b,ref:n,style:L,to:c,viewTransition:d}),typeof p=="function"?p(E):p)});var Ka;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ka||(Ka={}));var hc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(hc||(hc={}));function Um(e){let t=z.useContext(yi);return t||ve(!1),t}function Fm(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:o}=t===void 0?{}:t,c=Ud(),d=ir(),p=ki(e,{relative:l});return z.useCallback(g=>{if(Am(g,n)){g.preventDefault();let m=r!==void 0?r:ei(d)===ei(p);c(e,{replace:m,state:s,preventScrollReset:a,relative:l,viewTransition:o})}},[d,c,p,r,s,n,e,a,l,o])}function Wm(e,t){t===void 0&&(t={});let n=z.useContext(Mm);n==null&&ve(!1);let{basename:r}=Um(Ka.useViewTransitionState),s=ki(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Jn(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Jn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return qa(s.pathname,l)!=null||qa(s.pathname,a)!=null}const Hm={},fc=e=>{let t;const n=new Set,r=(p,g)=>{const m=typeof p=="function"?p(t):p;if(!Object.is(m,t)){const v=t;t=g??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(x=>x(t,v))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(Hm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,s,c);return c},Vm=e=>e?fc(e):fc;var Qd={exports:{}},qd={},Yd={exports:{}},Kd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xn=z;function Gm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qm=typeof Object.is=="function"?Object.is:Gm,qm=Xn.useState,Ym=Xn.useEffect,Km=Xn.useLayoutEffect,Jm=Xn.useDebugValue;function Xm(e,t){var n=t(),r=qm({inst:{value:n,getSnapshot:t}}),s=r[0].inst,a=r[1];return Km(function(){s.value=n,s.getSnapshot=t,Ji(s)&&a({inst:s})},[e,n,t]),Ym(function(){return Ji(s)&&a({inst:s}),e(function(){Ji(s)&&a({inst:s})})},[e]),Jm(n),n}function Ji(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Qm(e,n)}catch{return!0}}function Zm(e,t){return t()}var eg=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Zm:Xm;Kd.useSyncExternalStore=Xn.useSyncExternalStore!==void 0?Xn.useSyncExternalStore:eg;Yd.exports=Kd;var tg=Yd.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=z,ng=tg;function rg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var sg=typeof Object.is=="function"?Object.is:rg,ig=ng.useSyncExternalStore,ag=wi.useRef,lg=wi.useEffect,og=wi.useMemo,cg=wi.useDebugValue;qd.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var a=ag(null);if(a.current===null){var l={hasValue:!1,value:null};a.current=l}else l=a.current;a=og(function(){function c(v){if(!d){if(d=!0,p=v,v=r(v),s!==void 0&&l.hasValue){var x=l.value;if(s(x,v))return g=x}return g=v}if(x=g,sg(p,v))return x;var j=r(v);return s!==void 0&&s(x,j)?(p=v,x):(p=v,g=j)}var d=!1,p,g,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,s]);var o=ig(e,a[0],a[1]);return lg(function(){l.hasValue=!0,l.value=o},[o]),cg(o),o};Qd.exports=qd;var ug=Qd.exports;const dg=kc(ug),Jd={},{useDebugValue:pg}=tl,{useSyncExternalStoreWithSelector:hg}=dg;let mc=!1;const fg=e=>e;function mg(e,t=fg,n){(Jd?"production":void 0)!=="production"&&n&&!mc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),mc=!0);const r=hg(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return pg(r),r}const gg=e=>{(Jd?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Vm(e):e,n=(r,s)=>mg(t,r,s);return Object.assign(n,t),n},Xd=e=>gg,vg={};function xg(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var a;const l=c=>c===null?null:JSON.parse(c,void 0),o=(a=n.getItem(s))!=null?a:null;return o instanceof Promise?o.then(l):l(o)},setItem:(s,a)=>n.setItem(s,JSON.stringify(a,void 0)),removeItem:s=>n.removeItem(s)}}const Qr=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Qr(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Qr(r)(n)}}}},yg=(e,t)=>(n,r,s)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,f)=>({...f,...k}),...t},l=!1;const o=new Set,c=new Set;let d;try{d=a.getStorage()}catch{}if(!d)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...k)},r,s);const p=Qr(a.serialize),g=()=>{const k=a.partialize({...r()});let f;const u=p({state:k,version:a.version}).then(h=>d.setItem(a.name,h)).catch(h=>{f=h});if(f)throw f;return u},m=s.setState;s.setState=(k,f)=>{m(k,f),g()};const v=e((...k)=>{n(...k),g()},r,s);let x;const j=()=>{var k;if(!d)return;l=!1,o.forEach(u=>u(r()));const f=((k=a.onRehydrateStorage)==null?void 0:k.call(a,r()))||void 0;return Qr(d.getItem.bind(d))(a.name).then(u=>{if(u)return a.deserialize(u)}).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==a.version){if(a.migrate)return a.migrate(u.state,u.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return u.state}).then(u=>{var h;return x=a.merge(u,(h=r())!=null?h:v),n(x,!0),g()}).then(()=>{f==null||f(x,void 0),l=!0,c.forEach(u=>u(x))}).catch(u=>{f==null||f(void 0,u)})};return s.persist={setOptions:k=>{a={...a,...k},k.getStorage&&(d=k.getStorage())},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>j(),hasHydrated:()=>l,onHydrate:k=>(o.add(k),()=>{o.delete(k)}),onFinishHydration:k=>(c.add(k),()=>{c.delete(k)})},j(),x||v},jg=(e,t)=>(n,r,s)=>{let a={storage:xg(()=>localStorage),partialize:j=>j,version:0,merge:(j,k)=>({...k,...j}),...t},l=!1;const o=new Set,c=new Set;let d=a.storage;if(!d)return e((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...j)},r,s);const p=()=>{const j=a.partialize({...r()});return d.setItem(a.name,{state:j,version:a.version})},g=s.setState;s.setState=(j,k)=>{g(j,k),p()};const m=e((...j)=>{n(...j),p()},r,s);s.getInitialState=()=>m;let v;const x=()=>{var j,k;if(!d)return;l=!1,o.forEach(u=>{var h;return u((h=r())!=null?h:m)});const f=((k=a.onRehydrateStorage)==null?void 0:k.call(a,(j=r())!=null?j:m))||void 0;return Qr(d.getItem.bind(d))(a.name).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==a.version){if(a.migrate)return[!0,a.migrate(u.state,u.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,u.state];return[!1,void 0]}).then(u=>{var h;const[S,y]=u;if(v=a.merge(y,(h=r())!=null?h:m),n(v,!0),S)return p()}).then(()=>{f==null||f(v,void 0),v=r(),l=!0,c.forEach(u=>u(v))}).catch(u=>{f==null||f(void 0,u)})};return s.persist={setOptions:j=>{a={...a,...j},j.storage&&(d=j.storage)},clearStorage:()=>{d==null||d.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>x(),hasHydrated:()=>l,onHydrate:j=>(o.add(j),()=>{o.delete(j)}),onFinishHydration:j=>(c.add(j),()=>{c.delete(j)})},a.skipHydration||x(),v||m},kg=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((vg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),yg(e,t)):jg(e,t),Zd=kg;class wg{constructor(){Si(this,"enabled",!1);Si(this,"storageKey","sidonia-analytics-buffer")}setEnabled(t){this.enabled=t,!(typeof window>"u")&&(t||this.clear())}track(t,n){if(typeof window>"u"||!this.enabled)return;const r={event:t,timestamp:new Date().toISOString(),data:n};try{const s=this.load();s.push(r),localStorage.setItem(this.storageKey,JSON.stringify(s)),console.info("[analytics]",r)}catch(s){console.warn("Analytics storage failed",s)}}getAll(){return typeof window>"u"?[]:this.load()}clear(){typeof window>"u"||localStorage.removeItem(this.storageKey)}load(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){return console.warn("Failed to read analytics buffer",t),[]}}}const re=new wg,Sg="CodexRules!!!!!",xt=Xd()(Zd((e,t)=>({gmUnlocked:!1,gmUnlockedAt:null,analyticsConsent:"unknown",analyticsNotified:!1,authenticateGm:n=>n.trim().toUpperCase()===Sg?(e({gmUnlocked:!0,gmUnlockedAt:new Date().toISOString()}),re.track("gm.unlocked",{}),!0):(re.track("gm.failed_auth",{attempt:n.trim().length}),!1),lockGm:()=>e({gmUnlocked:!1,gmUnlockedAt:null}),setAnalyticsConsent:n=>{e({analyticsConsent:n?"accepted":"declined"}),re.setEnabled(n),re.track("analytics.consent",{granted:n})},markAnalyticsNotified:()=>e({analyticsNotified:!0})}),{name:"sidonia-session-state",version:1,migrate:e=>({gmUnlocked:!1,gmUnlockedAt:null,analyticsConsent:(e==null?void 0:e.analyticsConsent)??"unknown",analyticsNotified:!1})}));function Ng(){const e=xt(s=>s.analyticsConsent),t=xt(s=>s.analyticsNotified),n=xt(s=>s.setAnalyticsConsent),r=xt(s=>s.markAnalyticsNotified);return e!=="unknown"||t?null:i.jsxs("aside",{className:"analytics-banner",role:"dialog","aria-live":"polite",children:[i.jsxs("div",{children:[i.jsx("h3",{children:"Help Improve Sidonia"}),i.jsx("p",{children:"We collect anonymous usage patterns (no personal data) to refine the priority flow and uncover confusing choices. You can opt out and still use the builderno pressure."})]}),i.jsxs("div",{className:"analytics-banner__actions",children:[i.jsx("button",{type:"button",onClick:()=>n(!0),children:"Share Anonymous Data"}),i.jsx("button",{type:"button",className:"secondary",onClick:()=>n(!1),children:"No Thanks"}),i.jsx("button",{type:"button",className:"dismiss",onClick:r,children:"Remind Me Later"})]})]})}async function St(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.status} ${t.statusText}`);const n=await t.text();try{return JSON.parse(n)}catch(r){throw new Error(`Failed to parse JSON from ${e}: ${r.message}`)}}async function Cg(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.status} ${t.statusText}`);return await t.text()}const _g={automata:"/data/Sidonia-Powers-Schema-Automata.Json",chimera:"/data/Sidonia-Powers-Schema-Chimera.Json",espers:"/data/Sidonia-Powers-Schema-Espers.json",neosapiens:"/data/Sidonia-Powers-Schema-NeoSapiens.Json",sorcery:"/data/Sidonia-Powers-Schema-Sorcery.Json"},Eg={automata:"/data/powers-automata.json",chimera:"/data/powers-chimera.json",esper:"/data/powers-esper.json",neosapien:"/data/powers-neosapien.json",sorcery:"/data/powers-sorcery.json"},bg=[{id:"lineage-architecture",title:"Lineage Architecture",path:"/content/lineage-architecture.md"},{id:"design-philosophy",title:"Sidonia Design Philosophy",path:"/content/sidonia-design-philosophy.md"},{id:"resources-system",title:"Resources System Overview",path:"/content/sidonia-resources-system.md"}];async function Pg(){const[e,t,n,r,s,a,l,o,c,d]=await Promise.all([St("/data/backgrounds.json"),St("/data/Sidonia-Skills.Json"),St("/data/resources-system.json"),St("/data/resource-costs.json"),St("/data/legal.json"),zg(),Ag(),St("/data/attributes.json"),St("/data/character-sheet-structure.json"),Mg()]),p=Lg(o),g=Tg(c);return{backgrounds:e,skills:t,resources:n,resourceCosts:r,legal:s,powerSchemas:a,powerSets:l,attributes:p,characterSheet:g,designDocs:d}}async function zg(){const e=await Promise.all(Object.entries(_g).map(async([t,n])=>{const r=await St(n);return[t,r]}));return Object.fromEntries(e)}async function Ag(){const e=Object.entries(Eg).map(async([r,s])=>{const a=r,l=await St(s);return[a,Rg(a,l)]}),t=await Promise.allSettled(e),n=[];return t.forEach(r=>{r.status==="fulfilled"?n.push(r.value):console.warn("[sidonia] Failed to load lineage power data:",r.reason)}),Object.fromEntries(n)}function Rg(e,t){const n={...t};return"lineage"in n||(n.lineage=e),n.lineageId=e,n}function Lg(e){return e&&typeof e=="object"&&"attributes"in e?e.attributes:e}function Tg(e){return e&&typeof e=="object"&&"characterSheet"in e?e.characterSheet:e}async function Mg(){return await Promise.all(bg.map(async t=>{const n=await Cg(t.path);return{...t,content:n}}))}const ep=z.createContext(void 0);function $g({children:e}){const[t,n]=z.useState(null),[r,s]=z.useState("idle"),[a,l]=z.useState(null),o=z.useCallback(async()=>{s("loading"),l(null);try{const d=await Pg();n(d),s("ready")}catch(d){s("error"),l(d instanceof Error?d.message:"Unknown data loading error")}},[]);z.useEffect(()=>{o()},[o]);const c=z.useMemo(()=>({data:t,status:r,error:a,refresh:o}),[t,r,a,o]);return i.jsx(ep.Provider,{value:c,children:e})}function ar(){const e=z.useContext(ep);if(!e)throw new Error("useCharacterData must be used within a DataProvider");return e}function Ig(){var n,r;const{data:e}=ar(),t=(n=e==null?void 0:e.legal)==null?void 0:n.copyright;return!t||((r=t.display)==null?void 0:r.footer)===!1?null:i.jsxs("footer",{className:"legal-footer","aria-label":"Legal notice",role:"contentinfo",children:[i.jsx("span",{className:"legal-footer__text",children:t.text}),t.licenseUrl?i.jsx("a",{href:t.licenseUrl,target:"_blank",rel:"noreferrer",className:"legal-footer__link",children:t.license}):i.jsx("span",{className:"legal-footer__link",children:t.license})]})}function Og(){const[e,t]=z.useState(!1);z.useEffect(()=>{const r=()=>{window.scrollY>300?t(!0):t(!1)};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return i.jsx("button",{className:`back-to-top ${e?"back-to-top--visible":""}`,onClick:n,"aria-label":"Back to top",type:"button",children:i.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:i.jsx("path",{d:"M10 4L10 16M10 4L4 10M10 4L16 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}const Dg=[{to:"/",label:"Experience"},{to:"/builder",label:"Character Builder"},{to:"/management",label:"Character Management"},{to:"/gm",label:"GM Veil"}];function Bg({children:e}){return i.jsxs("div",{className:"app-shell",children:[i.jsx("header",{className:"app-shell__header",children:i.jsxs("nav",{className:"app-shell__nav",children:[i.jsx("span",{className:"brand",children:"Sidonia: The Long Night"}),i.jsx("div",{className:"nav-links",children:Dg.map(t=>i.jsx(Bm,{to:t.to,className:({isActive:n})=>n?"nav-link active":"nav-link",end:!0,children:t.label},t.to))}),i.jsx("span",{className:"nav-meta",children:"Every choice demands a sacrifice"})]})}),i.jsx("main",{className:"app-shell__main",children:e}),i.jsx(Ig,{}),i.jsx(Ng,{}),i.jsx(Og,{})]})}function tp(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=tp(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function oe(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=tp(e))&&(r&&(r+=" "),r+=t);return r}const Fe=({variant:e="primary",size:t="md",lineage:n,corrupted:r=!1,className:s,children:a,...l})=>{const o=oe("relative font-display tracking-wider uppercase","transition-all duration-300","border-2","hover:shadow-lg active:scale-95","disabled:opacity-50 disabled:cursor-not-allowed","before:absolute before:inset-0","before:bg-gradient-to-r before:from-transparent before:to-transparent","before:opacity-0 hover:before:opacity-10 before:pointer-events-none"),c={primary:oe("bg-sidonia-black text-sidonia-gold",n?`border-lineage-${n}`:"border-sidonia-gold",n?`hover:bg-lineage-${n}/10`:"hover:bg-sidonia-gold/10",n?`hover:shadow-lineage-${n}/20`:"hover:shadow-sidonia-gold/20"),secondary:oe("bg-sidonia-dark border-sidonia-brass text-sidonia-brass","hover:bg-sidonia-brass/10"),danger:oe("bg-sidonia-black border-corruption-red text-corruption-red","hover:bg-corruption-red/10"),ghost:oe("bg-transparent border-transparent text-sidonia-text","hover:border-sidonia-gold/50")},d={sm:"px-deco-sm py-1 text-sm",md:"px-deco-md py-2 text-base",lg:"px-deco-lg py-3 text-lg"},p=r?"animate-corruption-glow":"";return i.jsx("button",{className:oe(o,c[e],d[t],p,s),...l,children:a})},Wt=({children:e,className:t,title:n,lineage:r,corrupted:s=!1})=>{const a=r?`border-lineage-${r}/60`:"border-sidonia-gold/60",l=r?`hover:border-lineage-${r}`:"hover:border-sidonia-gold",o=r?`border-lineage-${r}`:"border-sidonia-gold";return i.jsxs("div",{className:oe("relative bg-sidonia-dark border-2 p-deco-md overflow-hidden","transition-all duration-300",a,l,"before:absolute before:top-0 before:left-0","before:w-deco-md before:h-deco-md","before:border-t-2 before:border-l-2",`before:${o}`,"after:absolute after:bottom-0 after:right-0","after:w-deco-md after:h-deco-md","after:border-b-2 after:border-r-2",`after:${o}`,s&&"corruption-medium",t),children:[n&&i.jsx("h2",{className:oe("font-display text-2xl tracking-[0.2em] uppercase text-center mb-deco-sm relative",r?`text-lineage-${r}`:"text-sidonia-gold",'after:content-[""] after:absolute after:bottom-0 after:left-1/2',"after:transform after:-translate-x-1/2","after:w-16 after:h-px",r?`after:bg-lineage-${r}`:"after:bg-sidonia-gold"),children:n}),e]})};function Ug(){return i.jsx("div",{className:"min-h-screen flex items-center justify-center px-deco-md py-deco-xl",children:i.jsxs("div",{className:"max-w-4xl w-full space-y-deco-lg",children:[i.jsxs("header",{className:"text-center space-y-deco-md mb-deco-xl",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-display-lg text-shadow-gold px-4",children:"Character Creation as Descent"}),i.jsx("div",{className:"h-px w-32 mx-auto bg-gradient-to-r from-transparent via-sidonia-gold to-transparent"}),i.jsx("p",{className:"text-body-lg text-sidonia-text max-w-2xl mx-auto leading-relaxed",children:"Step through Sidonia's dark wards with a guide that teaches while it tempts. Assign priorities, face the consequences, and build a persona that balances humanity, power, and the whispers of corruption."})]}),i.jsxs(Wt,{className:"space-y-deco-md",children:[i.jsxs("div",{className:"space-y-deco-sm",children:[i.jsx("p",{className:"text-body text-sidonia-text/90 leading-relaxed",children:"Begin with the priority grid, explore lineage aesthetics, and unlock deeper mechanical truths only when you are ready to commit. Every page layers narrative first and detail second, ensuring newcomers learn through meaningful choice."}),i.jsx("p",{className:"text-body text-sidonia-text/90 leading-relaxed",children:"Continue to the Character Builder to start a new dossier or revisit existing souls you are shepherding through the night."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-deco-sm pt-deco-md border-t border-sidonia-gold/60",children:[i.jsx(Wn,{to:"/builder",className:"block",children:i.jsx(Fe,{variant:"primary",size:"lg",className:"w-full",children:"New Character"})}),i.jsx(Wn,{to:"/management",className:"block",children:i.jsx(Fe,{variant:"secondary",size:"lg",className:"w-full",children:"Manage Characters"})}),i.jsx(Wn,{to:"/gm",className:"block",children:i.jsx(Fe,{variant:"ghost",size:"lg",className:"w-full",children:"GM Portal"})})]})]}),i.jsxs("blockquote",{className:"text-center",children:[i.jsx("p",{className:"font-display text-xl tracking-wider text-sidonia-muted italic",children:'"Every power has a price. Every choice leaves its mark."'}),i.jsx("footer",{className:"mt-2 text-label",children:" The Republic Archives"})]})]})})}const np=[{key:"neosapien",name:"NeoSapien",tagline:"The Pinnacle of Human Potential",summary:"Humanity unbound by natural limitations. Through masterful bio-artistry and flesh-grafting, the Red Sentinels' Forge Program creates living weapons and paragons of human potential. To receive Forge augments is to transcend the fleshan opportunity for those with the right connections or deep pockets to become more.",priorityImpacts:{A:"Nine augmentation slots; enough to rebuild your body and soul with top-tier Forge miracles.",B:"Seven slots; you are an elite prototype with room to grow.",C:"Six slots; respectable upgrades with compromises lingering beneath the chrome.",D:"Four slots; hand-me-down mods and a favor owed to the Syndicate.",E:"Two slots; scrap work that barely keeps you alive."},narrativeHook:"More than human, huh? That's the sales pitch. The Forge Program sells transcendence, but what they're really building are better soldiers. Priority A or B gets you that top-tier military hardware. Below that? You're getting street-level junk or corporate knock-offs. Every product has a warranty that's shorter than you think.",gmWhisper:"Every augmentation has a corruption drip. Track how many slots are filled to calibrate the player-facing warning meter.",aesthetic:{accent:"#87f5ff",glow:"linear-gradient(135deg, rgba(120, 220, 255, 0.35), rgba(80, 140, 255, 0.2))",texture:"radial-gradient(circle at 50% 10%, rgba(120, 220, 255, 0.2), transparent 60%)"}},{key:"sorcery",name:"Sorcerer",tagline:"The Architect of Reality",summary:"Supreme intellectual discipline. Through grueling study and flawless memorization, Sorcerers petition the Aether to reshape the world. Not a gift, but an achievement earned through tireless dedication. They see the elegant, immutable mathematics of existence, and possess the will to solve its most challenging equations.",priorityImpacts:{A:"Primary + 2 Secondary spheres, five total moves etched into your soul.",B:"Primary + Secondary pairing with four rote moves; the classic cabal initiate.",C:"Choose one Primary or two Secondary spheres, three moves scrawled in desperate ink.",D:"One secondary sphere and two moves; a dabbler who still owes their mentor.",E:"One secondary sphere, one move, hope you can bluff the rest."},narrativeHook:"Architects of Reality... right. They're librarians, kid. The most dangerous kind. They spend their whole lives learning a language that can set the air on fire. One wrong thought, one slip of the tongue, and that 'elegant equation' goes catastrophically sideways. Never trust a person whose main occupational hazard is accidentally turning their breakfast into a pile of spiders.",gmWhisper:"Each move should have a listed cost; use the assigned priority to determine how harsh to set complications.",aesthetic:{accent:"#ffb347",glow:"linear-gradient(160deg, rgba(255, 190, 92, 0.35), rgba(255, 80, 60, 0.25))",texture:"radial-gradient(circle at 70% 30%, rgba(255, 180, 90, 0.18), transparent 60%)"}},{key:"esper",name:"Esper",tagline:"The Natural Talent",summary:"The Esper's connection to the Aether is an innate biological fact. Their abilities emerge from a unique, mutated organ within their brain that resonates with the psycho-reactive field around us. Their power is intuitive, emotional, and deeply personal. They do not calculate; they feel. A natural channel for the world's hidden energies.",priorityImpacts:{A:"Esper Mentalist hybrid  access to both archetype trees from session one.",B:"Esper Prodigy template. Two evolutionary steps unlocked before play.",C:"Mentalist-only channel with powerful focus but brittle sanity.",D:"Gifted Esper who can evolve once with training.",E:"Base Esper template; raw talent that still sputters."},narrativeHook:"A 'living conduit' is a nice way of saying 'a walking fuse box.' Their power is tied to their gut, which means a bad mood can sour the milk and a really bad day can buckle the walls. They're powerful, no doubt, but they're also unpredictable. Trusting an Esper is trusting a lightning storm to miss your house.",gmWhisper:"Corruption spikes when Espers overclock. Use template level to gauge safe usage before fractures appear.",aesthetic:{accent:"#f78bff",glow:"linear-gradient(120deg, rgba(255, 120, 220, 0.35), rgba(110, 90, 255, 0.25))",texture:"radial-gradient(circle at 20% 80%, rgba(255, 120, 220, 0.2), transparent 55%)"}},{key:"chimera",name:"Chimera",tagline:"The Unstable Genome",summary:`The most potent expression of humanity's unstable genome. Possessing non-human traits, they represent life's chaotic and tenacious will to survive. From those who can pass as human with minor mutations (the "Kimmie"), to those whose altered forms are part of their daily identity, to the overtly alien (the "Under-Kin"), the Chimera embodies a vast spectrum of biological diversity.`,priorityImpacts:{A:"Seven mutation points. Become the chimera the wards whisper about.",B:"Five points. The change is obvious, but you can still pass after midnight.",C:"Four points. Enough to gain an edge while keeping a human silhouette.",D:"Three points. Side-effects and stigma follow closely.",E:"Two points. Tattoos of corruption hidden beneath borrowed coats."},narrativeHook:"Here's the only thing you need to know about being a Chimera: this city will judge you by how well you can hide what you are. If you can pass for human, you're a Kimmie, living a lie. If you can't, you're just another freak trying to get by. Their 'resilience' is just a pretty word for being too damn stubborn to die in a world that wishes they'd just go away.",gmWhisper:"Mutation tiers should map to resource availability; track total points for corruption bleed-through.",aesthetic:{accent:"#7cff91",glow:"linear-gradient(200deg, rgba(120, 255, 160, 0.35), rgba(40, 180, 120, 0.25))",texture:"radial-gradient(circle at 15% 20%, rgba(120, 255, 160, 0.18), transparent 60%)"}},{key:"automata",name:"Automata",tagline:"The Ghosts of Yesterday",summary:"Marvels of a bygone Imperial age, their crystalline consciousnesses representing a unique form of sentient life. After centuries of dormancy, they are being reactivated to once again serve Sidonia in an era of rebuilding. Each Automata is a living repository of history, their mindsshaped by a millennium of silent, dream-like evolution or ceaseless laboroffering a perspective wholly alien to our own.",priorityImpacts:{A:"Imperial chassis with Overseer/Soldier branches unlocked and sovereign protocols.",B:"Advanced military shell; twin branches with limited imperial overrides.",C:"Baseline chassis with soldier safeguards still intact.",D:"Advanced worker frame engineered for hazardous labor.",E:"Basic worker frame, easily replaced and easily overlooked."},narrativeHook:"A 'new dawn' of partnership? We're digging up old tools because we're too lazy to make new ones. These things went to sleep a thousand years ago. Nobody knows what a millennium of dreaming does to a mind, machine or otherwise. Are they the same loyal servants that got shelved? Or are they something new? Something broken? Everyone's trying to figure out if they're people or property, and my gut tells me that answer's gonna come the hard way.",gmWhisper:"Track how many branches the player exposes. GM mode should reveal firmware locks hidden from the player view.",aesthetic:{accent:"#5ad1ff",glow:"linear-gradient(150deg, rgba(90, 210, 255, 0.35), rgba(40, 80, 200, 0.25))",texture:"radial-gradient(circle at 80% 20%, rgba(90, 210, 255, 0.2), transparent 60%)"}}];function ql(e){return e?np.find(t=>t.key===e)??null:null}const Yl=({label:e,error:t,className:n,id:r,...s})=>{const a=r||(e==null?void 0:e.toLowerCase().replace(/\s+/g,"-"));return i.jsxs("div",{className:"flex flex-col gap-1",children:[e&&i.jsx("label",{htmlFor:a,className:"text-label",children:e}),i.jsx("input",{id:a,className:oe("bg-sidonia-black border-2 text-sidonia-text px-deco-sm py-2 rounded","font-body placeholder:text-sidonia-muted","transition-all duration-300","focus:outline-none focus:ring-1",t?"border-corruption-red focus:border-corruption-red focus:ring-corruption-red/20":"border-sidonia-gold/60 focus:border-sidonia-gold focus:ring-sidonia-gold/20",n),...s}),t&&i.jsx("span",{className:"text-corruption-red text-sm font-body",children:t})]})};function Fg({build:e,onUpdate:t}){if(!e)return null;const{profile:n,updatedAt:r}=e;return i.jsxs(Wt,{children:[i.jsxs("header",{className:"flex justify-between items-baseline mb-deco-md pb-deco-sm border-b border-sidonia-gold/60",children:[i.jsx("h2",{className:"font-display text-2xl tracking-wider uppercase text-sidonia-gold",children:"Character Identity"}),i.jsxs("span",{className:"text-label text-sidonia-muted",children:["Auto-saved ",new Date(r).toLocaleString()]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-deco-md",children:[i.jsx(Yl,{label:"Name",value:n.name,onChange:s=>t({name:s.target.value}),placeholder:"What do they call themselves?"}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-label",children:"Concept"}),i.jsx("input",{type:"text",value:n.concept,placeholder:"Ex: Vengeful corporate spy, Corrupted street medic, etc.",onChange:s=>t({concept:s.target.value}),className:`bg-sidonia-black border-2 border-sidonia-gold/60 text-sidonia-text
                     px-deco-sm py-2 font-body placeholder:text-sidonia-muted rounded
                     focus:outline-none focus:ring-1 focus:border-sidonia-gold focus:ring-sidonia-gold/20
                     transition-all duration-300`}),i.jsx("p",{className:"text-xs text-sidonia-muted mt-1 italic",children:"A one-line vision for your character. This will help guide your build decisions."})]})]})]})}const Wg=["lineage","background","resources","skills","attributes"],Ct=["priorities","lineage","background","resources","skills","attributes","narrative"],Ps=5,Xi=e=>Array.isArray(e)?e.filter(t=>{if(!t||typeof t!="object")return!1;const n=t;return typeof n.id=="string"&&typeof n.lineage=="string"}):[],ni={head:"Head",torso:"Torso",leftArm:"Left Arm",rightArm:"Right Arm",leftLeg:"Left Leg",rightLeg:"Right Leg"},Hg=()=>({lineage:null,resources:null,background:null,skills:null,attributes:null}),Vg=()=>({physique:0,intellect:0,presence:0}),rp=()=>({physique:[],intellect:[],presence:[]}),Gg=()=>({head:{current:3,max:3,scar:""},torso:{current:5,max:5,scar:""},leftArm:{current:4,max:4,scar:""},rightArm:{current:4,max:4,scar:""},leftLeg:{current:4,max:4,scar:""},rightLeg:{current:4,max:4,scar:""}}),Qg={A:3,B:2,C:2,D:1,E:0},qg=e=>e?Qg[e]:0,Yg=()=>({name:"",concept:"",alias:"",currentProfession:"",wardOfResidence:"",backstory:"",physicalDescription:"",code:"",lineNotCrossed:"",temptation:"",portraitUrl:""}),qr=()=>new Date().toISOString(),It=e=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${e}-${Math.random().toString(36).slice(2,9)}`,gc=e=>{const t=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`sidonia-${Math.random().toString(36).slice(2,9)}`,n=qr();return{id:t,label:e||"Unbound Persona",createdAt:n,updatedAt:n,stage:"priorities",profile:Yg(),priorities:Hg(),lineage:{key:null,notes:"",revealMechanics:!1,powers:[]},resources:{contacts:[],retainers:[],properties:[],goods:[],liquid:0,notes:""},background:{title:"",tierNotes:"",contacts:""},skills:{ratings:{},specializations:[],backgroundSpecializations:[],backgroundCustomSpecializations:[],notes:""},attributes:{scores:Vg(),notes:"",specializations:rp()},corruption:{current:0,warning:6,notes:""},advancement:{experience:0,track:"",milestones:""},health:Gg(),narrative:{relationships:[],anchors:"",notes:""},gmNotes:""}},Kg=e=>{const t=Jg(e),n=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`sidonia-${Math.random().toString(36).slice(2,9)}`,r=qr();return{...t,id:n,label:`${e.label} (Copy)`,createdAt:r,updatedAt:r}},Jg=e=>typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e)),Z=(e,t)=>{e(n=>{const r=n.activeBuildId;if(!r)return n;const s=n.builds[r];if(!s)return n;const a=t(s);return a.updatedAt=qr(),{...n,builds:{...n.builds,[r]:a}}})},Y=Xd()(Zd((e,t)=>({builds:{},activeBuildId:null,createBuild:n=>{const r=gc(n);return e(s=>({builds:{...s.builds,[r.id]:r},activeBuildId:r.id})),r.id},ensureActiveBuild:()=>{const{activeBuildId:n}=t();return n&&t().builds[n]?n:t().createBuild()},setActiveBuild:n=>{t().builds[n]&&e({activeBuildId:n})},archiveBuild:n=>{e(r=>{const{[n]:s,...a}=r.builds;return{builds:a,activeBuildId:r.activeBuildId===n?null:r.activeBuildId}})},renameBuild:(n,r)=>{e(s=>{const a=s.builds[n];return a?{...s,builds:{...s.builds,[n]:{...a,label:r,updatedAt:qr()}}}:s})},duplicateBuild:n=>{const{builds:r}=t(),s=r[n];if(!s)return null;const a=Kg(s);return e(l=>({builds:{...l.builds,[a.id]:a},activeBuildId:a.id})),re.track("build.duplicated",{}),a.id},resetActiveBuild:()=>{e(n=>{const r=n.activeBuildId;if(!r)return n;const s=n.builds[r];if(!s)return n;const l={...gc(s.label),id:r,createdAt:s.createdAt,updatedAt:qr()};return re.track("build.reset",{}),{...n,builds:{...n.builds,[r]:l}}})},updateProfile:n=>{Z(e,r=>({...r,profile:{...r.profile,...n}}))},assignPriority:(n,r)=>{Z(e,s=>{const a={...s.priorities};return r&&Object.keys(a).forEach(l=>{l!==n&&a[l]===r&&(a[l]=null)}),a[n]=r,{...s,priorities:a}}),re.track(r?"priority.assigned":"priority.cleared",{category:n,rank:r})},setStage:n=>{Z(e,r=>({...r,stage:n})),re.track("stage.changed",{stage:n})},nextStage:()=>{const{activeBuildId:n,builds:r}=t();if(!n)return;const s=r[n];if(!s)return;const a=Ct.indexOf(s.stage),l=Ct[Math.min(a+1,Ct.length-1)];t().setStage(l)},previousStage:()=>{const{activeBuildId:n,builds:r}=t();if(!n)return;const s=r[n];if(!s)return;const a=Ct.indexOf(s.stage),l=Ct[Math.max(a-1,0)];t().setStage(l)},selectLineage:n=>{Z(e,r=>{const s=r.lineage.key===n&&n!==null,a=Xi(r.lineage.powers);return{...r,lineage:{...r.lineage,key:n,revealMechanics:n?r.lineage.revealMechanics:!1,powers:s?a:[]}}}),re.track("lineage.selected",{lineage:n})},toggleLineageReveal:()=>{Z(e,n=>({...n,lineage:{...n.lineage,revealMechanics:!n.lineage.revealMechanics}})),re.track("lineage.reveal_toggled",{})},updateLineageNotes:n=>{Z(e,r=>({...r,lineage:{...r.lineage,notes:n}}))},toggleLineagePower:n=>{Z(e,r=>{var d,p,g,m;if(!r.lineage.key||r.lineage.key!==n.lineage)return r;const s=Xi(r.lineage.powers),a=n.lineage==="esper",l=s.some(v=>v.id===n.id),o=r.priorities.lineage??null;let c=s;if(l){if(c=c.filter(v=>v.id!==n.id),a&&((d=n.meta)!=null&&d.root)){if(n.kind==="esper-archetype")c=c.filter(v=>{var x,j;return((x=v.meta)==null?void 0:x.root)!==((j=n.meta)==null?void 0:j.root)});else if((p=n.meta)!=null&&p.path){const v=n.meta.path.join("/");c=c.filter(x=>{var k,f,u,h;const j=((f=(k=x.meta)==null?void 0:k.path)==null?void 0:f.join("/"))??"";return((u=x.meta)==null?void 0:u.root)!==((h=n.meta)==null?void 0:h.root)||!j.startsWith(`${v}/`)})}}return{...r,lineage:{...r.lineage,powers:c}}}if(a){const v=n.meta??{},x=v.category;if(n.kind!=="esper-framework-choice")if(n.kind==="esper-archetype"){if(x==="esper-base"&&o==="C"||x==="esper-mentalist"&&!(o==="A"||o==="C"))return r;const j=["sentinel","median","weaver","summoner","linker"],k=["empath","mesmer","siren","dreamer","meta-mind"],f=v.archetype,u=j.includes(f||""),h=k.includes(f||"");o==="A"?u?c=c.filter(S=>{var y;return!j.includes(((y=S.meta)==null?void 0:y.archetype)||"")&&S.kind!=="esper-focus"&&S.kind!=="esper-framework-path"}):h&&(c=c.filter(S=>{var y;return!k.includes(((y=S.meta)==null?void 0:y.archetype)||"")&&S.kind!=="esper-framework-choice"})):c=c.filter(S=>S.lineage!=="esper")}else{const j=["empath","mesmer","siren","dreamer","meta-mind"];if(!(n.kind==="esper-focus"&&j.includes(v.archetype||""))){const f=v.root;if(!f)return r;const u=qg(o);if((v.depth??0)>u||!c.some(y=>{var N;return y.kind==="esper-archetype"&&((N=y.meta)==null?void 0:N.root)===f}))return r}}}if(n.lineage==="neosapien"){const x=o?{A:9,B:7,C:6,D:4,E:2}[o]:0,j=c.reduce((f,u)=>{var h;return f+(((h=u.meta)==null?void 0:h.slots)??0)},0),k=((g=n.meta)==null?void 0:g.slots)??0;if(x>0&&j+k>x)return r}if(n.lineage==="chimera"){const x=o?{A:7,B:5,C:4,D:3,E:2}[o]:0,j=c.reduce((f,u)=>{var h;return f+(((h=u.meta)==null?void 0:h.mutationPoints)??0)},0),k=((m=n.meta)==null?void 0:m.mutationPoints)??0;if(x>0&&j+k>x)return r}if(n.lineage==="sorcery"){const x=o?{A:{primary:1,secondary:2,moves:5},B:{primary:1,secondary:1,moves:4},C:{primary:1,secondary:2,moves:3},D:{primary:0,secondary:1,moves:2},E:{primary:0,secondary:1,moves:1}}[o]:{primary:0,secondary:0,moves:0},j=c.filter(u=>u.kind==="sorcery-sphere-primary").length,k=c.filter(u=>u.kind==="sorcery-sphere-secondary").length,f=c.filter(u=>u.kind==="sorcery-move").length;if(n.kind==="sorcery-sphere-primary"&&j>=x.primary||n.kind==="sorcery-sphere-secondary"&&k>=x.secondary||n.kind==="sorcery-move"&&f>=x.moves)return r}return c=[...c,n],{...r,lineage:{...r.lineage,powers:c}}}),re.track("lineage.power_toggled",{id:n.id,lineage:n.lineage})},clearLineagePowers:()=>{Z(e,n=>({...n,lineage:{...n.lineage,powers:[]}})),re.track("lineage.powers_cleared",{})},addContactResource:(n={})=>{const r={id:It("contact"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,backgroundSynergy:n.backgroundSynergy??!1,specialization:n.specialization??null,reach:Math.min(Math.max(n.reach??0,0),10),influence:Math.min(Math.max(n.influence??0,0),10)};Z(e,s=>({...s,resources:{...s.resources,contacts:[...s.resources.contacts,r]}})),re.track("resources.contact_added",{})},updateContactResource:(n,r)=>{Z(e,s=>({...s,resources:{...s.resources,contacts:s.resources.contacts.map(a=>a.id===n?{...a,...r,reach:r.reach!==void 0?Math.min(Math.max(r.reach,0),10):a.reach,influence:r.influence!==void 0?Math.min(Math.max(r.influence,0),10):a.influence}:a)}}))},removeContactResource:n=>{Z(e,r=>({...r,resources:{...r.resources,contacts:r.resources.contacts.filter(s=>s.id!==n)}}))},addRetainerResource:(n={})=>{const r={id:It("retainer"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,backgroundSynergy:n.backgroundSynergy??!1,specialization:n.specialization??null,loyalty:Math.min(Math.max(n.loyalty??0,0),10),competence:Math.min(Math.max(n.competence??0,0),10)};Z(e,s=>({...s,resources:{...s.resources,retainers:[...s.resources.retainers,r]}})),re.track("resources.retainer_added",{})},updateRetainerResource:(n,r)=>{Z(e,s=>({...s,resources:{...s.resources,retainers:s.resources.retainers.map(a=>a.id===n?{...a,...r,loyalty:r.loyalty!==void 0?Math.min(Math.max(r.loyalty,0),10):a.loyalty,competence:r.competence!==void 0?Math.min(Math.max(r.competence,0),10):a.competence}:a)}}))},removeRetainerResource:n=>{Z(e,r=>({...r,resources:{...r.resources,retainers:r.resources.retainers.filter(s=>s.id!==n)}}))},addPropertyResource:(n={})=>{const r={id:It("property"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,backgroundSynergy:n.backgroundSynergy??!1,tenure:n.tenure??"",zoning:n.zoning??"",ward:n.ward??"",specialization:n.specialization??null};Z(e,s=>({...s,resources:{...s.resources,properties:[...s.resources.properties,r]}})),re.track("resources.property_added",{})},updatePropertyResource:(n,r)=>{Z(e,s=>({...s,resources:{...s.resources,properties:s.resources.properties.map(a=>a.id===n?{...a,...r}:a)}}))},removePropertyResource:n=>{Z(e,r=>({...r,resources:{...r.resources,properties:r.resources.properties.filter(s=>s.id!==n)}}))},addGoodsResource:(n={})=>{const r={id:It("goods"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,backgroundSynergy:n.backgroundSynergy??!1,specialization:n.specialization??null,quality:Math.min(Math.max(n.quality??0,0),10)};Z(e,s=>({...s,resources:{...s.resources,goods:[...s.resources.goods,r]}})),re.track("resources.goods_added",{})},updateGoodsResource:(n,r)=>{Z(e,s=>({...s,resources:{...s.resources,goods:s.resources.goods.map(a=>a.id===n?{...a,...r,quality:r.quality!==void 0?Math.min(Math.max(r.quality,0),10):a.quality}:a)}}))},removeGoodsResource:n=>{Z(e,r=>({...r,resources:{...r.resources,goods:r.resources.goods.filter(s=>s.id!==n)}}))},setResourceLiquid:n=>{Z(e,r=>({...r,resources:{...r.resources,liquid:Math.max(0,n)}})),re.track("resources.liquid_set",{value:n})},updateResourceNotes:n=>{Z(e,r=>({...r,resources:{...r.resources,notes:n}}))},updateBackground:n=>{Z(e,r=>{const s={...r.background,...n},a=typeof n.title=="string"&&n.title!==r.background.title;return{...r,background:s,skills:a?{...r.skills,backgroundSpecializations:[],backgroundCustomSpecializations:[]}:r.skills}})},setSkillRating:(n,r)=>{Z(e,s=>({...s,skills:{...s.skills,ratings:{...s.skills.ratings,[n]:Math.max(0,r)}}})),re.track("skills.rating_set",{skillId:n,value:r})},toggleSkillSpecialization:n=>{Z(e,r=>{const a=r.skills.specializations.some(l=>l.id===n.id)?r.skills.specializations.filter(l=>l.id!==n.id):[...r.skills.specializations,n];return{...r,skills:{...r.skills,specializations:a}}}),re.track("skills.specialization_toggled",{id:n.id,type:n.type})},removeSkillSpecialization:n=>{Z(e,r=>({...r,skills:{...r.skills,specializations:r.skills.specializations.filter(s=>s.id!==n)}}))},addCustomSkillSpecialization:n=>{const r=n.trim();if(!r)return;const s={id:`custom-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,label:r,type:"custom",gmApproved:!1};Z(e,a=>({...a,skills:{...a.skills,specializations:[...a.skills.specializations,s]}})),re.track("skills.custom_added",{})},markSkillSpecializationApproved:(n,r)=>{Z(e,s=>({...s,skills:{...s.skills,specializations:s.skills.specializations.map(a=>a.id===n?{...a,gmApproved:r}:a)}}))},setBackgroundSkillSpecializations:n=>{Z(e,r=>({...r,skills:{...r.skills,backgroundSpecializations:n}})),re.track("skills.background_specializations",{count:n.length})},setBackgroundCustomSpecializations:n=>{Z(e,r=>({...r,skills:{...r.skills,backgroundCustomSpecializations:n}})),re.track("skills.background_custom_specializations",{count:n.length})},updateSkillNotes:n=>{Z(e,r=>({...r,skills:{...r.skills,notes:n}}))},setAttributeScore:(n,r)=>{Z(e,s=>({...s,attributes:{...s.attributes,scores:{...s.attributes.scores,[n]:Math.min(Ps,Math.max(0,r))}}})),re.track("attributes.updated",{attribute:n,value:r})},updateAttributeNotes:n=>{Z(e,r=>({...r,attributes:{...r.attributes,notes:n}}))},toggleAttributeSpecialization:(n,r)=>{Z(e,s=>{const a=s.attributes.specializations??rp(),l=a[n]??[],c=l.includes(r)?l.filter(d=>d!==r):[...l,r];return{...s,attributes:{...s.attributes,specializations:{...a,[n]:c}}}}),re.track("attributes.specialization_toggled",{attribute:n,specialization:r})},adjustExperience:n=>{Z(e,r=>({...r,advancement:{...r.advancement,experience:Math.max(0,r.advancement.experience+n)}})),re.track("advancement.adjusted",{delta:n})},setExperience:n=>{Z(e,r=>({...r,advancement:{...r.advancement,experience:Math.max(0,n)}})),re.track("advancement.set",{value:n})},updateAdvancement:n=>{Z(e,r=>({...r,advancement:{...r.advancement,...n}}))},adjustCorruption:n=>{Z(e,r=>({...r,corruption:{...r.corruption,current:Math.max(0,r.corruption.current+n)}})),re.track("corruption.adjusted",{delta:n})},setCorruption:n=>{Z(e,r=>({...r,corruption:{...r.corruption,current:Math.max(0,n)}})),re.track("corruption.set",{value:n})},updateCorruptionNotes:n=>{Z(e,r=>({...r,corruption:{...r.corruption,notes:n}}))},adjustHealth:(n,r)=>{Z(e,s=>{const a=s.health[n],l=Math.max(0,Math.min(a.max,a.current+r));return{...s,health:{...s.health,[n]:{...a,current:l}}}}),re.track("health.adjusted",{location:n,delta:r})},setHealth:(n,r)=>{Z(e,s=>{const a=s.health[n];return{...s,health:{...s.health,[n]:{...a,current:Math.max(0,Math.min(a.max,r))}}}}),re.track("health.set",{location:n,value:r})},updateHealthScar:(n,r)=>{Z(e,s=>({...s,health:{...s.health,[n]:{...s.health[n],scar:r}}}))},addRelationship:n=>{n.trim()&&(Z(e,r=>({...r,narrative:{...r.narrative,relationships:Array.from(new Set([...r.narrative.relationships,n.trim()]))}})),re.track("relationship.added",{}))},removeRelationship:n=>{Z(e,r=>({...r,narrative:{...r.narrative,relationships:r.narrative.relationships.filter(s=>s!==n)}})),re.track("relationship.removed",{})},updateAnchors:n=>{Z(e,r=>({...r,narrative:{...r.narrative,anchors:n}}))},updateNarrativeNotes:n=>{Z(e,r=>({...r,narrative:{...r.narrative,notes:n}}))},updateGmNotes:n=>{Z(e,r=>({...r,gmNotes:n}))}}),{name:"sidonia-character-builder",version:7,migrate:(e,t)=>{if(!e||typeof e!="object")return e;const n=d=>{const p=d??{};return{physique:typeof p.physique=="number"?p.physique:typeof p.grit=="number"?p.grit:0,intellect:typeof p.intellect=="number"?p.intellect:typeof p.guile=="number"?p.guile:0,presence:typeof p.presence=="number"?p.presence:typeof p.gravitas=="number"?p.gravitas:0}},r=d=>{const p=d??{};return{physique:Array.isArray(p.physique)?p.physique:[],intellect:Array.isArray(p.intellect)?p.intellect:[],presence:Array.isArray(p.presence)?p.presence:[]}},s=d=>{const p=d??{};return{name:typeof p.name=="string"?p.name:"",concept:"",alias:typeof p.alias=="string"?p.alias:"",currentProfession:typeof p.currentProfession=="string"?p.currentProfession:typeof p.pronouns=="string"?p.pronouns:"",wardOfResidence:typeof p.wardOfResidence=="string"?p.wardOfResidence:typeof p.concept=="string"?p.concept:"",backstory:typeof p.backstory=="string"?p.backstory:typeof p.summary=="string"?p.summary:"",physicalDescription:typeof p.physicalDescription=="string"?p.physicalDescription:"",code:typeof p.code=="string"?p.code:"",lineNotCrossed:typeof p.lineNotCrossed=="string"?p.lineNotCrossed:"",temptation:typeof p.temptation=="string"?p.temptation:"",portraitUrl:typeof p.portraitUrl=="string"?p.portraitUrl:""}},a=d=>{const p=d??{};if(p.ratings&&p.specializations){const v=p.backgroundSpecialization&&typeof p.backgroundSpecialization=="string"?[p.backgroundSpecialization]:p.backgroundSpecializations??[],x=[];return p.backgroundCustomSpecialization&&typeof p.backgroundCustomSpecialization=="string"?x.push(p.backgroundCustomSpecialization):Array.isArray(p.backgroundCustomSpecializations)&&x.push(...p.backgroundCustomSpecializations),{ratings:p.ratings,specializations:Array.isArray(p.specializations)?p.specializations:[],backgroundSpecializations:Array.isArray(v)?v:[],backgroundCustomSpecializations:x,notes:typeof p.notes=="string"?p.notes:""}}return{ratings:(Array.isArray(p.focus)?p.focus:[]).reduce((v,x)=>(v[x]=1,v),{}),specializations:[],backgroundSpecializations:[],backgroundCustomSpecializations:[],notes:typeof p.notes=="string"?p.notes:""}},l=d=>{const p=d??{},g=Xi(p.powers);return{key:p.key??null,notes:typeof p.notes=="string"?p.notes:"",revealMechanics:!!p.revealMechanics,powers:g}},o=d=>{var S;const p=d??{},g=(y,N)=>({id:y.id??It(`contact-${N}`),name:y.name??"",description:y.description??y.notes??"",gmApproved:y.gmApproved??!1,backgroundSynergy:y.backgroundSynergy??!1,specialization:y.specialization??null,reach:typeof y.reach=="number"?y.reach:0,influence:typeof y.influence=="number"?y.influence:0}),m=(y,N)=>({id:y.id??It(`retainer-${N}`),name:y.name??"",description:y.description??y.notes??"",gmApproved:y.gmApproved??!1,backgroundSynergy:y.backgroundSynergy??!1,specialization:y.specialization??null,loyalty:typeof y.loyalty=="number"?y.loyalty:0,competence:typeof y.competence=="number"?y.competence:0}),v=(y,N)=>({id:y.id??It(`property-${N}`),name:y.name??"",description:y.description??y.notes??"",gmApproved:y.gmApproved??!1,backgroundSynergy:y.backgroundSynergy??!1,tenure:y.tenure??"",zoning:y.zoning??"",ward:y.ward??"",specialization:y.specialization??null}),x=(y,N)=>({id:y.id??It(`goods-${N}`),name:y.name??"",description:y.description??y.notes??"",gmApproved:y.gmApproved??!1,backgroundSynergy:y.backgroundSynergy??!1,specialization:y.specialization??null,quality:typeof y.quality=="number"?y.quality:0}),j=Array.isArray(p.contacts)?p.contacts.map((y,N)=>g(y,N)):[],k=Array.isArray(p.retainers)?p.retainers.map((y,N)=>m(y,N)):[],f=Array.isArray(p.properties)?p.properties.map((y,N)=>v(y,N)):[],u=Array.isArray(p.goods)?p.goods.map((y,N)=>x(y,N)):[],h=typeof p.liquid=="number"?p.liquid:typeof((S=p.allocations)==null?void 0:S.liquid)=="number"?p.allocations.liquid:0;return{contacts:j,retainers:k,properties:f,goods:u,liquid:h,notes:typeof p.notes=="string"?p.notes:""}},c=Object.fromEntries(Object.entries(e.builds??{}).map(([d,p])=>{var f,u,h;const g=p,m={scores:n((f=g.attributes)==null?void 0:f.scores),notes:typeof((u=g.attributes)==null?void 0:u.notes)=="string"?g.attributes.notes:"",specializations:r((h=g.attributes)==null?void 0:h.specializations)},v=a(g.skills),x=l(g.lineage),j=o(g.resources),k={...g,profile:s(g.profile),lineage:x,resources:j,skills:v,attributes:m};return[d,k]}));return{...e,builds:c}}})),Xg={priorities:{label:"Priorities",description:"Assign each letter to a pillar to set your fate."},lineage:{label:"Lineage",description:"Choose what you are and reveal the aesthetic."},resources:{label:"Resources",description:"Distribute wealth, favors, and territory."},background:{label:"Background",description:"Capture the story that forged you."},skills:{label:"Skills",description:"Highlight expertise and specializations."},attributes:{label:"Attributes",description:"Split your innate edge across three pillars."},narrative:{label:"Narrative",description:"Track corruption, wounds, and relationships."}};function Zg({current:e,onNavigate:t}){const n=Ct.indexOf(e),r=Math.round((n+1)/Ct.length*100);return i.jsxs("nav",{className:"flex flex-col gap-deco-sm mb-deco-md","aria-label":"Character builder stages",children:[i.jsx("div",{className:"h-1.5 rounded-full bg-sidonia-dark/50 overflow-hidden border border-sidonia-gold/20",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-sidonia-gold to-sidonia-brass transition-all duration-500 ease-out",style:{width:`${r}%`}})}),i.jsx("ul",{className:"flex flex-wrap gap-3 list-none p-0 m-0",children:Ct.map(s=>{const a=Xg[s],l=Ct.indexOf(s),o=l===n,c=l<n,d=l>n;return i.jsx("li",{className:"flex-1 min-w-[180px]",children:i.jsxs("button",{type:"button",onClick:()=>t(s),className:oe("w-full px-deco-sm py-3 rounded-lg border-2 text-left","flex flex-col gap-1 transition-all duration-300","bg-sidonia-dark/75 backdrop-blur-sm",o&&"border-sidonia-gold shadow-lg shadow-sidonia-gold/20 -translate-y-0.5",c&&"border-sidonia-gold/40 hover:border-sidonia-gold/60",d&&"border-sidonia-muted/30 hover:border-sidonia-muted/50","hover:bg-sidonia-dark"),children:[i.jsx("span",{className:oe("font-display text-sm tracking-wider uppercase",o&&"text-sidonia-gold",c&&"text-sidonia-brass",d&&"text-sidonia-muted"),children:a.label}),i.jsx("span",{className:"text-xs text-sidonia-text/70 font-body",children:a.description})]})},s)})})]})}const vc=["A","B","C","D","E"],ev={lineage:{title:"Lineage",intro:"What are you? Determines the supernatural path and aesthetic layer.",detail:"Higher priority unlocks stronger chassis, spheres, mutation points, or Esper templates. Lower priority keeps you closer to human but limits your edge."},resources:{title:"Resources",intro:"What do you own? Contacts, territories, retainers, liquid wealth.",detail:"Priority sets your Resource Points pool and maximum quality. Use it to buy properties, networks, and gear. Higher ranks unlock elite holdings."},background:{title:"Background",intro:"Who were you? Establishes influence, narrative permissions, and synergies.",detail:"Higher priority backgrounds stretch across the city, offering automatic specializations and better resource synergies."},skills:{title:"Skills",intro:"What do you know? Disciplines and specializations that show lived experience.",detail:"Priority sets how many disciplines you master. Focus areas gain bonus dice and teach players where they shine."},attributes:{title:"Attributes",intro:"What is innate? Only three pillars define your core capability.",detail:"Allocate attribute dice based on priority. The higher the rank, the sharper your raw edge."}};function tv({priorities:e,onSelect:t,onClear:n}){const r=new Set(Object.values(e).filter(Boolean).map(s=>s));return i.jsxs("section",{className:"priority-matrix","aria-label":"Priority assignment grid",children:[i.jsxs("header",{className:"priority-matrix__header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Priority Grid"}),i.jsx("p",{children:"Assign each letter exactly once. Sidonia rewards focus and makes you pay for it elsewhere. Tap a letter to slot it into a category; tap the category badge to clear it."})]}),i.jsx("ul",{className:"priority-matrix__legend",children:vc.map(s=>i.jsxs("li",{className:r.has(s)?"used":"",children:[i.jsx("span",{className:"priority-matrix__rank",children:s}),i.jsxs("span",{className:"priority-matrix__tag",children:[s==="A"&&"Signature move",s==="B"&&"Favored",s==="C"&&"Balanced",s==="D"&&"Compromised",s==="E"&&"Sacrifice"]})]},s))})]}),i.jsx("div",{className:"priority-matrix__grid",role:"table",children:Wg.map(s=>{const a=ev[s],l=e[s];return i.jsxs("article",{className:"priority-matrix__row",role:"row",children:[i.jsxs("div",{className:"priority-matrix__info",role:"cell",children:[i.jsxs("button",{type:"button",className:`priority-matrix__category ${l?"has-selection":""}`,onClick:()=>n==null?void 0:n(s),children:[i.jsx("span",{className:"priority-matrix__category-title",children:a.title}),i.jsx("span",{className:"priority-matrix__selection",children:l??""})]}),i.jsx("p",{className:"priority-matrix__intro",children:a.intro}),i.jsxs("details",{children:[i.jsx("summary",{children:"Why it matters"}),i.jsx("p",{children:a.detail})]})]}),i.jsx("div",{className:"priority-matrix__choices",role:"cell",children:vc.map(o=>{const c=l===o,d=!c&&r.has(o);return i.jsx("button",{type:"button",className:`priority-matrix__choice ${c?"selected":""}`,disabled:d,onClick:()=>t(s,o),children:o},o)})})]},s)})})]})}function nv({priorities:e,onSelect:t,onClear:n}){const s=Object.values(e).filter(Boolean).length===Object.keys(e).length;return i.jsxs("div",{className:"stage stage--priorities",children:[i.jsx(tv,{priorities:e,onSelect:t,onClear:n}),i.jsx("footer",{className:"stage__footer",children:i.jsx("p",{children:s?"Every letter is spoken for. Advance to Lineage to let the city brand you.":"You still have letters to place. Each sacrifice reveals a different facet of Sidonia."})})]})}const rv={A:9,B:7,C:6,D:4,E:2},sv={A:7,B:5,C:4,D:3,E:2},xc={A:{primary:1,secondary:2,moves:5},B:{primary:1,secondary:1,moves:4},C:{primary:1,secondary:2,moves:3,note:"Priority C may exchange the primary sphere for a second secondary sphere."},D:{primary:0,secondary:1,moves:2},E:{primary:0,secondary:1,moves:1}},iv={A:0,B:2,C:2,D:1,E:0},av={A:"Priority A: Choose one Esper archetype (base only) and one Mentalist archetype with full framework.",B:"Priority B: Esper prodigy  evolve two steps beyond the baseline.",C:"Priority C: Begin as a Mentalist. Select framework paths to define focus.",D:"Priority D: Gifted Esper  evolve one step beyond baseline talents.",E:"Priority E: Base Esper talents unlocked."},mt=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),Zi=(e,t,n)=>t?e[t]:n;function lv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"tiers"in n)}function ov(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"tiers"in n)}function cv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"sphere"in n)}function uv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"archetype"in n)}function dv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"chassis"in n)}function Ot(e,t){return e?i.jsxs("div",{className:"power-description",children:[e.player&&i.jsx("p",{className:"power-description__flavor",children:e.player}),e.short&&i.jsx("p",{className:"power-description__mechanics",children:e.short}),e.flaw&&i.jsxs("p",{className:"power-description__detail power-description__flaw",children:["Flaw: ",e.flaw]}),t&&e.gm&&i.jsxs("p",{className:"power-description__detail power-description__gm",children:["GM: ",e.gm]}),e.outcomes&&i.jsx("ul",{className:"power-description__outcomes",children:Object.entries(e.outcomes).map(([n,r])=>i.jsxs("li",{children:[i.jsx("strong",{children:n}),i.jsx("span",{children:r})]},n))})]}):null}function pv({lineage:e,powerData:t,gmEnabled:n,lineagePriority:r,selections:s,onToggleSelection:a,onClearSelections:l}){var d,p,g,m,v,x,j;if(!e)return i.jsxs("section",{className:"lineage-powers-panel",children:[i.jsx("h3",{children:"Lineage Powers"}),i.jsx("p",{children:"Select a lineage to preview its signature powers, moves, and upgrades."})]});if(!t)return i.jsxs("section",{className:"lineage-powers-panel",children:[i.jsx("h3",{children:"Lineage Powers"}),i.jsx("p",{children:"Power data for this lineage is not yet available."})]});const o=s.filter(k=>k.lineage===e);z.useMemo(()=>new Map(o.map(k=>[k.id,k])),[o]);const c=new Set(o.map(k=>k.id));if(e==="neosapien"&&lv(t)){const k=Zi(rv,r,0),f=o.reduce((y,N)=>{var _;return y+(((_=N.meta)==null?void 0:_.slots)??0)},0),u=o.reduce((y,N)=>{var _;return y+(((_=N.meta)==null?void 0:_.permanentCorruption)??0)},0),h=k>0&&f>k,S=y=>{var E;const N=c.has(y.id),_=(E=y.meta)==null?void 0:E.root;!N&&_&&o.filter(b=>{var L;return((L=b.meta)==null?void 0:L.root)===_&&b.id!==y.id}).forEach(b=>{a(b)}),a(y)};return i.jsxs("section",{className:"lineage-powers-panel",children:[i.jsxs("header",{children:[i.jsx("h3",{children:"Augment Catalog"}),i.jsx("p",{children:"Slot-based upgrades ranging from street scraps to imperial artistry."})]}),i.jsxs("aside",{className:"lineage-power-summary",children:[i.jsxs("div",{children:[i.jsx("span",{children:"Slots Used"}),i.jsxs("strong",{children:[f,k?` / ${k}`:""]})]}),i.jsxs("div",{children:[i.jsx("span",{children:"Permanent Corruption"}),i.jsx("strong",{children:u})]}),h&&i.jsx("p",{className:"lineage-power-summary__warning",children:"Slot budget exceeded. Adjust selections or raise lineage priority."}),o.length>0&&i.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:l,children:"Clear selections"})]}),i.jsx("div",{className:"lineage-powers-grid",children:t.powers.map(y=>{const N=y.id??mt(y.name??"augment"),_=o.some(E=>{var C;return((C=E.meta)==null?void 0:C.root)===N});return i.jsxs("details",{className:`lineage-power-card${_?" lineage-power-card--has-selection":""}`,open:_,children:[i.jsx("summary",{children:i.jsx("div",{className:"lineage-power-card__summary",children:i.jsx("h4",{children:y.name})})}),i.jsx("div",{className:"lineage-power-card__body",children:Object.entries(y.tiers??{}).map(([E,C])=>{const b=C.id??`${N}-${mt(E)}`,L=C.tier??1,K={id:b,lineage:"neosapien",label:`${y.name}  Tier ${L}`,kind:"neosapien-augment",meta:{root:N,parent:N,path:[N,E],depth:1,slots:L,permanentCorruption:L,category:y.category,tierLabel:`Tier ${L}`}},M=c.has(K.id),$=!M&&k>0&&f+L>k,O=`lineage-power-tier${M?" lineage-power-tier--selected":""}${$?" lineage-power-tier--disabled":""}`,V=`power-toggle power-toggle--radio${M?" power-toggle--active":""}`;return i.jsxs("div",{className:O,children:[i.jsx("div",{className:"lineage-power-tier__header",children:i.jsxs("div",{className:"lineage-power-tier__info",children:[i.jsx("h5",{className:"lineage-power-tier__name",children:C.name??`Tier ${L}`}),i.jsxs("div",{className:"lineage-power-tier__meta",children:[i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Augment.png",alt:""}),i.jsx("span",{className:"badge__text",children:"Augment"})]}),i.jsx("span",{className:"badge badge--icon",children:i.jsx("img",{src:`/icons/Tier-${L}.png`,alt:""})})]})]})}),Ot(C.description,n),i.jsxs("div",{className:"lineage-power-tier__footer",children:[i.jsx("button",{type:"button",className:V,onClick:()=>S(K),disabled:$,title:$?`Would exceed slot limit (${f+L}/${k})`:void 0,"aria-label":M?`Deselect ${C.name??`Tier ${L}`}`:`Select ${C.name??`Tier ${L}`}`,children:M?"Selected":$?"Exceeds Limit":"Select"}),i.jsxs("div",{className:"lineage-power-tier__cost",children:[i.jsxs("span",{children:[L," Slot",L===1?"":"s"]}),i.jsxs("span",{children:[L," Corruption"]})]})]})]},b)})})]},y.id??y.name)})})]})}if(e==="chimera"&&ov(t)){const k=Zi(sv,r,0),f=o.reduce((_,E)=>{var C;return _+(((C=E.meta)==null?void 0:C.mutationPoints)??0)},0),u=o.reduce((_,E)=>{var C;return _+(((C=E.meta)==null?void 0:C.permanentCorruption)??0)},0),h=k>0&&f>k,S=t.powers.filter(_=>{var E;return(E=_.tags)==null?void 0:E.includes("core")}),y=t.powers.filter(_=>{var E;return!((E=_.tags)!=null&&E.includes("core"))}),N=_=>{var b;const E=c.has(_.id),C=(b=_.meta)==null?void 0:b.root;!E&&C&&o.filter(K=>{var M;return((M=K.meta)==null?void 0:M.root)===C&&K.id!==_.id}).forEach(K=>{a(K)}),a(_)};return i.jsxs("section",{className:"lineage-powers-panel",children:[i.jsxs("header",{children:[i.jsx("h3",{children:"Mutation Catalogue"}),i.jsx("p",{children:"Spend mutation points to embrace the city's wild ecologies."})]}),i.jsxs("aside",{className:"lineage-power-summary",children:[i.jsxs("div",{children:[i.jsx("span",{children:"Mutation Points"}),i.jsxs("strong",{children:[f,k?` / ${k}`:""]})]}),i.jsxs("div",{children:[i.jsx("span",{children:"Permanent Corruption"}),i.jsx("strong",{children:u})]}),h&&i.jsx("p",{className:"lineage-power-summary__warning",children:"Mutation budget exceeded. Remove selections or adjust priority."}),o.length>0&&i.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:l,children:"Clear selections"})]}),S.length>0&&i.jsxs("section",{className:"lineage-core-mutations",children:[i.jsx("h4",{children:"Core Mutations"}),i.jsx("p",{className:"lineage-core-mutations__subtitle",children:"All Chimera possess these"}),i.jsx("div",{className:"lineage-core-mutations-list",children:S.map(_=>{var C,b,L,K,M;const E=((L=(b=(C=_.tiers)==null?void 0:C.tier1)==null?void 0:b.description)==null?void 0:L.short)??((M=(K=Object.values(_.tiers??{})[0])==null?void 0:K.description)==null?void 0:M.short)??"Core mutation";return i.jsxs("details",{className:"core-mutation-card",children:[i.jsx("summary",{children:i.jsx("h5",{children:_.name})}),i.jsx("p",{children:E})]},_.id??_.name)})})]}),i.jsx("div",{className:"lineage-powers-grid",children:y.map(_=>{const E=_.id??mt(_.name??"mutation"),C=o.some(b=>{var L;return((L=b.meta)==null?void 0:L.root)===E});return i.jsxs("details",{className:`lineage-power-card${C?" lineage-power-card--has-selection":""}`,open:C,children:[i.jsx("summary",{children:i.jsx("div",{className:"lineage-power-card__summary",children:i.jsx("h4",{children:_.name})})}),i.jsx("div",{className:"lineage-power-card__body",children:Object.entries(_.tiers??{}).map(([b,L])=>{const K=L.id??`${E}-${mt(b)}`,M=L.tier??1,R={id:K,lineage:"chimera",label:`${_.name}  Tier ${M}`,kind:"chimera-mutation",meta:{root:E,parent:E,path:[E,b],depth:1,mutationPoints:M,permanentCorruption:M,category:_.category,tierLabel:`Tier ${M}`}},$=c.has(R.id),V=!$&&k>0&&f+M>k,A=`lineage-power-tier${$?" lineage-power-tier--selected":""}${V?" lineage-power-tier--disabled":""}`,D=`power-toggle power-toggle--radio${$?" power-toggle--active":""}`;return i.jsxs("div",{className:A,children:[i.jsx("div",{className:"lineage-power-tier__header",children:i.jsxs("div",{className:"lineage-power-tier__info",children:[i.jsx("h5",{className:"lineage-power-tier__name",children:L.name??`Tier ${M}`}),i.jsxs("div",{className:"lineage-power-tier__meta",children:[i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Augment.png",alt:""}),i.jsx("span",{className:"badge__text",children:"Mutation"})]}),i.jsx("span",{className:"badge badge--icon",children:i.jsx("img",{src:`/icons/Tier-${M}.png`,alt:""})})]})]})}),Ot(L.description,n),i.jsxs("div",{className:"lineage-power-tier__footer",children:[i.jsx("button",{type:"button",className:D,onClick:()=>N(R),disabled:V,title:V?`Would exceed mutation point limit (${f+M}/${k})`:void 0,"aria-label":$?`Deselect ${L.name??`Tier ${M}`}`:`Select ${L.name??`Tier ${M}`}`,children:$?"Selected":V?"Exceeds Limit":"Select"}),i.jsxs("div",{className:"lineage-power-tier__cost",children:[i.jsxs("span",{children:[M," Mutation Point",M===1?"":"s"]}),i.jsxs("span",{children:[M," Corruption"]})]})]})]},K)})})]},_.id??_.name)})})]})}if(e==="sorcery"&&cv(t)){const k=Zi(xc,r,{primary:0,secondary:0,moves:0}),f=o.filter(C=>C.kind==="sorcery-sphere-primary").length,u=o.filter(C=>C.kind==="sorcery-sphere-secondary").length,h=o.filter(C=>C.kind==="sorcery-move").length,S=r?xc[r].note:void 0,y=new Set(o.filter(C=>C.kind==="sorcery-sphere-primary"||C.kind==="sorcery-sphere-secondary").map(C=>{var b;return(b=C.meta)==null?void 0:b.sphere}).filter(C=>!!C)),N=C=>{var K;const b=c.has(C.id),L=(K=C.meta)==null?void 0:K.sphere;b&&L&&o.filter(R=>{var $;return R.kind==="sorcery-move"&&(($=R.meta)==null?void 0:$.sphere)===L}).forEach(R=>{a(R)}),a(C)},_={Creation:"Manifest matter and energy from the Aether, bringing the unreal into reality.",Destruction:"Unmake and dissolve, returning solid form to primordial chaos.",Transformation:"Reshape existing matter, altering form and substance through will.",Mind:"Touch thoughts, memories, and the psyche of sentient beings.",Time:"Glimpse past and future, or stretch and compress the flow of moments.",Space:"Bend distance, fold reality, and traverse the impossible.",Life:"Mend flesh, accelerate growth, or drain vitality from the living.",Death:"Command spirits, commune with the departed, and channel entropic energies.",Fate:"Perceive probabilities, nudge destiny, and read the threads of chance.",Protection:"Weave wards and barriers against physical and supernatural threats."},E=t.powers.reduce((C,b)=>{const L=b.sphereTier??"unknown",K=b.sphere??"Unknown Sphere";return C[L]||(C[L]={}),C[L][K]||(C[L][K]=[]),C[L][K].push(b),C},{});return i.jsxs("section",{className:"lineage-powers-panel",children:[i.jsxs("header",{children:[i.jsx("h3",{children:"Sphere Library"}),i.jsx("p",{children:"Primary and secondary spheres unlock ritual moves and narrative permissions."})]}),i.jsxs("aside",{className:"lineage-power-summary",children:[i.jsxs("div",{children:[i.jsx("span",{children:"Primary Spheres"}),i.jsxs("strong",{children:[f,k.primary?` / ${k.primary}`:""]})]}),i.jsxs("div",{children:[i.jsx("span",{children:"Secondary Spheres"}),i.jsxs("strong",{children:[u,k.secondary?` / ${k.secondary}`:""]})]}),i.jsxs("div",{children:[i.jsx("span",{children:"Moves"}),i.jsxs("strong",{children:[h,k.moves?` / ${k.moves}`:""]})]}),S&&i.jsx("p",{className:"lineage-power-summary__note",children:S}),o.length>0&&i.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:l,children:"Clear selections"})]}),i.jsx("div",{className:"lineage-powers-columns",children:["primary","secondary"].map(C=>{const b=E[C]??{};return Object.keys(b).length===0?null:i.jsxs("div",{className:"sphere-column",children:[i.jsx("h4",{className:"sphere-column__heading",children:C==="primary"?"Primary Spheres":"Secondary Spheres"}),Object.entries(b).map(([L,K])=>{const M=`${C}-${mt(L)}`,R=C==="primary"?"sorcery-sphere-primary":"sorcery-sphere-secondary",$={id:M,lineage:"sorcery",label:`${C==="primary"?"Primary":"Secondary"} Sphere  ${L}`,kind:R,meta:{sphere:L,root:M,path:[M],depth:0,tierLabel:C==="primary"?"Primary Sphere":"Secondary Sphere"}},O=c.has($.id),V=C==="primary",A=V?f:u,D=V?k.primary:k.secondary,B=!O&&D>0&&A>=D,U=`sphere-card${O?" sphere-card--selected":""}${B?" sphere-card--disabled":""}`,te=`power-toggle${O?" power-toggle--active":""}`,J=_[L]||"A sphere of sorcerous power.",ee=y.has(L);return i.jsxs("details",{className:U,open:O,children:[i.jsx("summary",{children:i.jsxs("div",{className:"sphere-card__summary",children:[i.jsxs("div",{children:[i.jsx("h5",{children:L}),i.jsx("p",{className:"sphere-card__description",children:J})]}),i.jsx("button",{type:"button",className:te,disabled:B,title:B?`${V?"Primary":"Secondary"} sphere limit reached (${A}/${D})`:void 0,onClick:G=>{G.preventDefault(),B||N($)},children:O?"Selected":B?"Limit Reached":"Select Sphere"})]})}),!ee&&i.jsx("p",{className:"sphere-prerequisite-message",children:"Select this sphere to unlock its moves."}),i.jsx("ul",{className:"power-list",children:K.map(G=>{const q=G.id??mt(G.name??"move"),ie={id:q,lineage:"sorcery",label:`${G.name??"Move"} (${L})`,kind:"sorcery-move",meta:{sphere:L,root:M,parent:M,path:[M,q],depth:1}},Se=c.has(ie.id),Ze=!ee,Be=!Se&&k.moves>0&&h>=k.moves,H=Ze||Be,ue=`power-list__item${Se?" power-list__item--selected":""}${H?" power-list__item--disabled":""}`,le=`power-toggle${Se?" power-toggle--active":""}`;let w;return Ze?w="Select the sphere first":Be&&(w=`Move limit reached (${h}/${k.moves})`),i.jsxs("li",{className:ue,children:[i.jsxs("div",{className:"power-list__header",children:[i.jsx("h6",{className:"power-list__title",children:G.name}),i.jsxs("div",{className:"power-list__meta",children:[G.type==="move"&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Move.png",alt:""}),i.jsx("span",{className:"badge__text",children:"Move"})]}),i.jsx("button",{type:"button",className:le,onClick:()=>{H||a(ie)},disabled:H,title:w,children:Se?"Selected":Be?"Limit Reached":"Add"})]})]}),Ot(G.description,n),G.outcomes&&Object.keys(G.outcomes).length>0&&i.jsx("div",{className:"power-outcomes",children:Object.entries(G.outcomes).map(([Q,X])=>i.jsxs("div",{children:[i.jsxs("strong",{children:[Q,":"]})," ",X]},Q))})]},q)})})]},M)})]},C)})})]})}if(e==="esper"&&uv(t)){const k=r?av[r]:void 0,f=r?iv[r]:0,u=["sentinel","median","weaver","summoner","linker"],h=["empath","mesmer","siren","dreamer","meta-mind"],S=t.powers.filter(I=>u.includes(I.archetype??"")),y=t.powers.filter(I=>h.includes(I.archetype??"")||I.archetype==="foundational"),N=r==="A",_=I=>{const U=I.split(".")[0];return S.filter(te=>{const J=te.path??"";return J===U||I.startsWith(J+".")||J===I}).sort((te,J)=>(te.evolutionStage??0)-(J.evolutionStage??0))},C=o.filter(I=>{var B;return(I.kind==="esper-archetype"||I.kind==="esper-focus"||I.kind==="esper-framework-path")&&u.includes(((B=I.meta)==null?void 0:B.archetype)??"")}).sort((I,B)=>{var J,ee;const U=((J=I.meta)==null?void 0:J.depth)??0;return(((ee=B.meta)==null?void 0:ee.depth)??0)-U})[0],b=(p=(d=C==null?void 0:C.meta)==null?void 0:d.path)==null?void 0:p.join("."),L=b==null?void 0:b.split(".")[0],K=(I,B)=>{var ee;const U=I.split("."),te=U[0],J={id:`esper-path-${I}`,lineage:"esper",label:`${(ee=I.split(".").pop())==null?void 0:ee.replace(/-/g," ")} (Evolution Stage ${B})`,kind:B===0?"esper-archetype":B===1?"esper-focus":"esper-framework-path",meta:{archetype:te,path:U,depth:B,root:te}};!b||L!==te?o.filter(G=>G.kind==="esper-archetype"||G.kind==="esper-focus"||G.kind==="esper-framework-path").forEach(G=>a(G)):B>0&&o.filter(G=>{var q;return(G.kind==="esper-focus"||G.kind==="esper-framework-path")&&((q=G.meta)==null?void 0:q.root)===te}).forEach(G=>a(G)),a(J)},M=()=>{if(b){const U=_(b),te=b.split(".").length-1;return i.jsxs("div",{className:"esper-evolution-section",children:[i.jsx("h4",{children:"Esper Evolution Path"}),i.jsxs("p",{className:"section-description",children:["Selected: ",b.split(".").map(J=>J.replace(/-/g," ").replace(/\b\w/g,ee=>ee.toUpperCase())).join("  ")]}),i.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:l,children:"Change Path"}),i.jsxs("div",{className:"lineage-power-card",children:[i.jsxs("h5",{children:["All Powers for This Path (",U.length," total)"]}),i.jsx("ul",{className:"power-list",children:U.map(J=>{const ee=J.id??mt(J.name??"power"),G=(J.path??"").split("."),q=G[0]?G[0].replace(/-/g," ").replace(/\b\w/g,ie=>ie.toUpperCase()):"";return i.jsxs("li",{className:"power-list__item power-list__item--granted",children:[i.jsx("div",{className:"power-list__header",children:i.jsxs("div",{children:[i.jsx("strong",{className:"power-list__title",children:J.name}),q&&i.jsx("div",{className:"power-list__subtitle",children:q})]})}),i.jsxs("div",{className:"power-list__meta",children:[i.jsxs("span",{className:"badge",children:["Stage ",J.evolutionStage]}),J.type==="augment"&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Augment.png",alt:""}),i.jsx("span",{className:"badge__text",children:"Augment"})]}),J.type==="move"&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Move.png",alt:""}),i.jsx("span",{className:"badge__text",children:"Move"})]})]}),Ot(J.description,n)]},ee)})}),te<f&&i.jsxs("div",{className:"evolution-options",children:[i.jsx("h6",{children:"Available Evolutions"}),(()=>{const J=new Set(S.filter(ee=>{const G=ee.path??"";return(ee.evolutionStage??0)===te+1&&G.startsWith(b+".")}).map(ee=>ee.path??""));return Array.from(J).map(ee=>{const G=ee.split(".").pop()??"",q=_(ee).length;return i.jsxs("button",{type:"button",className:"power-toggle",onClick:()=>K(ee,te+1),children:["Evolve to ",G.replace(/-/g," ").replace(/\b\w/g,ie=>ie.toUpperCase())," (+",q-U.length," powers)"]},ee)})})()]})]})]})}const I=S.reduce((U,te)=>{const J=te.archetype??"Unknown";return U[J]||(U[J]=[]),U[J].push(te),U},{}),B=t.archetypes??{};return i.jsxs("div",{className:"esper-evolution-section",children:[i.jsx("h4",{children:"Choose Esper Archetype"}),i.jsx("p",{className:"section-description",children:"Select a starting archetype. You can evolve further based on your priority."}),i.jsx("div",{className:"lineage-powers-grid",children:Object.entries(I).map(([U,te])=>{const J=te.filter(q=>q.evolutionStage===0),ee=J.length,G=B[U];return i.jsxs("div",{className:"lineage-power-card",children:[i.jsx("h5",{children:(G==null?void 0:G.name)??U.charAt(0).toUpperCase()+U.slice(1)}),(G==null?void 0:G.description)&&i.jsx("p",{className:"archetype-description",children:G.description}),!(G!=null&&G.description)&&i.jsxs("p",{className:"archetype-description",children:[ee," base ",ee===1?"power":"powers"]}),i.jsxs("details",{className:"power-preview",children:[i.jsxs("summary",{children:["View Base Powers (",ee,")"]}),i.jsx("ul",{className:"power-list",children:J.map(q=>{var ie;return i.jsxs("li",{className:"power-list__item",children:[i.jsx("strong",{children:q.name}),q.type&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:`/icons/${q.type==="move"?"Move":"Augment"}.png`,alt:""}),i.jsx("span",{className:"badge__text",children:q.type==="move"?"Move":"Augment"})]}),((ie=q.description)==null?void 0:ie.short)&&i.jsx("p",{className:"power-description__short",children:q.description.short})]},q.id)})})]}),i.jsxs("button",{type:"button",className:"power-toggle power-toggle--primary",onClick:()=>K(U,0),children:["Select ",(G==null?void 0:G.name)??U.charAt(0).toUpperCase()+U.slice(1)]})]},U)})})]})},R=(m=(g=o.find(I=>{var B;return I.kind==="esper-archetype"&&h.includes(((B=I.meta)==null?void 0:B.archetype)??"")}))==null?void 0:g.meta)==null?void 0:m.archetype,$=o.find(I=>I.kind==="esper-framework-choice"&&(I.id==="receiver-configuration"||I.id==="influencer-configuration"||I.id==="instanced-configuration"||I.id==="permanence-configuration")),O=o.find(I=>I.kind==="esper-framework-choice"&&(I.id==="targeted-scope"||I.id==="aural-scope"||I.id==="discrete-scope"||I.id==="systemic-scope")),V=N||r==="C"||R!==void 0,A=!r||r!=="C",D=()=>{var ee,G;const I=y.filter(q=>q.archetype==="foundational"),B=I.filter(q=>{var ie;return(ie=q.path)==null?void 0:ie.includes("polarity")}),U=I.filter(q=>{var ie;return(ie=q.path)==null?void 0:ie.includes("scope")});if(R){const q=y.filter(H=>H.archetype===R),ie=R==="meta-mind",Se=[],Ze={"receiver-configuration":"receiver","influencer-configuration":"influencer","instanced-configuration":"instanced","permanence-configuration":"permanence"},Be={"targeted-scope":"targeted","aural-scope":"aural","discrete-scope":"discrete","systemic-scope":"systemic"};if($){const H=Ze[$.id]||"",ue=q.find(le=>{var w;return le.grantedBy===`polarity_${H}`||((w=le.path)==null?void 0:w.includes("_all"))&&le.mentalistPolarity===H});ue&&Se.push(ue)}if($&&O){const H=Ze[$.id]||"",ue=Be[O.id]||"",le=q.filter(w=>{var X;const Q=w;return Q.mentalistPolarity===H&&Q.mentalistScope===ue&&!((X=w.path)!=null&&X.includes("_all"))});le.length===1&&Se.push(le[0])}return i.jsxs("div",{className:"mentalist-selection-section",children:[i.jsxs("h4",{children:["Mentalist: ",R.charAt(0).toUpperCase()+R.slice(1)]}),i.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:l,children:"Change Archetype"}),($||O)&&i.jsxs("div",{className:"lineage-power-card",children:[i.jsx("h5",{children:"Foundational Configuration"}),i.jsxs("ul",{className:"power-list",children:[$&&i.jsx("li",{className:"power-list__item power-list__item--granted",children:i.jsx("strong",{children:(ee=B.find(H=>H.id===$.id))==null?void 0:ee.name})}),O&&i.jsx("li",{className:"power-list__item power-list__item--granted",children:i.jsx("strong",{children:(G=U.find(H=>H.id===O.id))==null?void 0:G.name})})]})]}),Se.length>0&&i.jsxs("div",{className:"lineage-power-card",children:[i.jsx("h5",{children:"Granted Powers"}),i.jsx("ul",{className:"power-list",children:Se.map(H=>i.jsxs("li",{className:"power-list__item power-list__item--granted",children:[i.jsx("div",{className:"power-list__header",children:i.jsxs("div",{children:[i.jsx("strong",{children:H.name}),H.type==="augment"&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Augment.png",alt:""}),i.jsx("span",{className:"badge__text",children:"Augment"})]}),H.type==="move"&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Move.png",alt:""}),i.jsx("span",{className:"badge__text",children:"Move"})]})]})}),Ot(H.description,n),H.permanentCorruption!==void 0&&i.jsxs("p",{className:"power-cost",children:["Corruption: ",H.permanentCorruption]})]},H.id))})]}),!$&&i.jsxs("div",{className:"lineage-power-card",children:[i.jsxs("h5",{children:["Step 1: Choose ",ie?"Temporal Configuration":"Polarity"]}),i.jsx("p",{className:"foundation-description",children:ie?"Instanced (temporary) or Persistent (lasting)":"Receiver (pull/perceive) or Influencer (push/project)"}),i.jsx("div",{className:"mentalist-foundation",children:B.map(H=>{let ue=!1;if(ie?ue=H.id==="instanced-configuration"||H.id==="permanence-configuration":ue=H.id==="receiver-configuration"||H.id==="influencer-configuration",!ue)return null;const le=H.id??mt(H.name??"power"),w={id:le,lineage:"esper",label:H.name??"Unknown Power",kind:"esper-framework-choice",meta:{archetype:"foundational"}};return i.jsx("button",{type:"button",className:"power-toggle power-toggle--primary",onClick:()=>a(w),children:H.name},le)})})]}),$&&!O&&i.jsxs("div",{className:"lineage-power-card",children:[i.jsxs("h5",{children:["Step 2: Choose ",ie?"Change Scope":"Scope"]}),i.jsx("p",{className:"foundation-description",children:ie?"Discrete (specific) or Systemic (broad)":"Targeted (individual) or Aural (area/group)"}),i.jsx("div",{className:"mentalist-foundation",children:U.map(H=>{let ue=!1;if(ie?ue=H.id==="discrete-scope"||H.id==="systemic-scope":ue=H.id==="targeted-scope"||H.id==="aural-scope",!ue)return null;const le=H.id??mt(H.name??"power"),w={id:le,lineage:"esper",label:H.name??"Unknown Power",kind:"esper-framework-choice",meta:{archetype:"foundational"}};return i.jsx("button",{type:"button",className:"power-toggle power-toggle--primary",onClick:()=>a(w),children:H.name},le)})})]}),$&&O&&(()=>{const H=Ze[$.id]||"",ue=Be[O.id]||"",le=q.filter(w=>{var X;const Q=w;return Q.mentalistPolarity===H&&Q.mentalistScope===ue&&!((X=w.path)!=null&&X.includes("_all"))});if(le.length>1){const w=o.find(Q=>Q.kind==="esper-focus"&&le.some(X=>X.id===Q.id));return i.jsxs("div",{className:"lineage-power-card",children:[i.jsx("h5",{children:"Step 3: Choose Power"}),i.jsx("p",{className:"foundation-description",children:"Multiple powers available - select one"}),i.jsx("div",{className:"lineage-powers-grid",children:le.map(Q=>{const X=Q.id??mt(Q.name??"power"),je={id:X,lineage:"esper",label:Q.name??"Unknown Power",kind:"esper-focus",meta:{archetype:R}},F=(w==null?void 0:w.id)===X;return i.jsxs("div",{className:"lineage-power-card",children:[i.jsx("h6",{children:Q.name}),Q.type==="augment"&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Augment.png",alt:""}),i.jsx("span",{className:"badge__text",children:"Augment"})]}),Q.type==="move"&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Move.png",alt:""}),i.jsx("span",{className:"badge__text",children:"Move"})]}),Ot(Q.description,n),i.jsx("button",{type:"button",className:`power-toggle${F?" power-toggle--active":""}`,onClick:()=>{w&&w.id!==X&&a(w),a(je)},children:F?"Selected":"Select"})]},X)})})]})}return null})()]})}const te=y.filter(q=>q.archetype!=="foundational").reduce((q,ie)=>{const Se=ie.archetype??"Unknown";return q[Se]||(q[Se]=[]),q[Se].push(ie),q},{}),J=t.archetypes??{};return i.jsxs("div",{className:"mentalist-selection-section",children:[i.jsx("h4",{children:"Choose Mentalist Archetype"}),i.jsx("p",{className:"section-description",children:"Select an archetype to begin configuring your Mentalist powers."}),i.jsx("div",{className:"lineage-powers-grid",children:Object.entries(te).map(([q,ie])=>{const Se=ie.filter(ue=>{var le;return(le=ue.path)==null?void 0:le.includes("_all")}),Ze=ie.filter(ue=>{var le;return!((le=ue.path)!=null&&le.includes("_all"))}),Be=Se.length+Ze.length,H=J[q];return i.jsxs("div",{className:"lineage-power-card",children:[i.jsx("h5",{children:(H==null?void 0:H.name)??q.charAt(0).toUpperCase()+q.slice(1)}),(H==null?void 0:H.description)&&i.jsx("p",{className:"archetype-description",children:H.description}),!(H!=null&&H.description)&&i.jsxs("p",{className:"archetype-description",children:[Be," ",Be===1?"power":"powers"," available"]}),i.jsxs("button",{type:"button",className:"power-toggle power-toggle--primary",onClick:()=>{const ue={id:`mentalist-${q}`,lineage:"esper",label:(H==null?void 0:H.name)??q,kind:"esper-archetype",meta:{archetype:q}};a(ue)},children:["Select ",(H==null?void 0:H.name)??q.charAt(0).toUpperCase()+q.slice(1)]})]},q)})})]})};return i.jsxs("section",{className:"lineage-powers-panel",children:[i.jsxs("header",{children:[i.jsx("h3",{children:"Esper & Mentalist Powers"}),i.jsx("p",{children:"Innate psionic abilities - evolution-based or selection-based systems."})]}),i.jsxs("aside",{className:"lineage-power-summary",children:[i.jsxs("div",{children:[i.jsx("span",{children:"Evolution Depth"}),i.jsx("strong",{children:f})]}),i.jsxs("div",{children:[i.jsx("span",{children:"Powers Selected"}),i.jsx("strong",{children:o.length})]}),k&&i.jsx("p",{className:"lineage-power-summary__note",children:k}),o.length>0&&i.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:l,children:"Clear selections"})]}),A&&M(),V&&D()]})}if(e==="automata"&&dv(t)){const f=r?{A:{worker:[],soldier:["imperial"],overseer:["imperial"]},B:{worker:[],soldier:["advanced"],overseer:["advanced"]},C:{worker:[],soldier:["basic"],overseer:["basic"]},D:{worker:["advanced"],soldier:[],overseer:[]},E:{worker:["basic"],soldier:[],overseer:[]}}[r]:{worker:[],soldier:[],overseer:[]},u=t.powers.reduce((E,C)=>{const b=C.chassis??"unknown",L=C.branch??"unknown";return E[b]||(E[b]=new Set),E[b].add(L),E},{}),h=o.find(E=>E.kind==="automata-package"),S=(v=h==null?void 0:h.meta)==null?void 0:v.chassis,y=(x=h==null?void 0:h.meta)==null?void 0:x.branch,N=(j=h==null?void 0:h.meta)==null?void 0:j.category,_=(E,C,b)=>t.powers.filter(L=>{if(L.chassis!==E)return!1;if(L.augmentLevel==="general")return!0;if(L.branch!==C)return!1;const K=["basic","advanced","imperial"],M=K.indexOf(b),R=K.indexOf(L.augmentLevel??"");return R>=0&&R<=M});return i.jsxs("section",{className:"lineage-powers-panel",children:[i.jsxs("header",{children:[i.jsx("h3",{children:"Automata Configuration"}),i.jsx("p",{children:"Choose your chassis, branch, and quality level. You automatically receive ALL powers for that configuration."})]}),i.jsxs("aside",{className:"lineage-power-summary",children:[h&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("span",{children:"Selected Configuration"}),i.jsxs("strong",{children:[N==null?void 0:N.toUpperCase()," ",y==null?void 0:y.toUpperCase()," (",S==null?void 0:S.toUpperCase(),")"]})]}),i.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:l,children:"Clear selection"})]}),!h&&i.jsxs("p",{children:["Select a chassis/branch configuration below. Priority ",r??""," determines available quality levels."]})]}),!h&&i.jsx("div",{className:"automata-selection-grid",children:Object.entries(u).map(([E,C])=>{const b=f[E]||[];return b.length===0?null:i.jsxs("div",{className:"automata-chassis-section",children:[i.jsxs("h4",{children:[E.charAt(0).toUpperCase()+E.slice(1)," Chassis"]}),i.jsx("div",{className:"automata-packages-grid",children:Array.from(C).map(L=>b.map(K=>{const M=`${E}-${L}-${K}`,R=_(E,L,K),$={id:M,lineage:"automata",label:`${K.toUpperCase()} ${L} (${E})`,kind:"automata-package",meta:{chassis:E,branch:L,category:K}};return i.jsxs("details",{className:"automata-package-card",children:[i.jsx("summary",{children:i.jsxs("div",{className:"automata-package-summary",children:[i.jsxs("div",{children:[i.jsxs("h5",{children:[K.toUpperCase()," ",L.charAt(0).toUpperCase()+L.slice(1)]}),i.jsxs("p",{className:"automata-package-count",children:[R.length," powers included"]})]}),i.jsx("button",{type:"button",className:"power-toggle",onClick:O=>{O.preventDefault(),a($)},children:"Select This Configuration"})]})}),i.jsxs("div",{className:"automata-package-details",children:[i.jsx("p",{className:"automata-package-note",children:"Selecting this configuration grants you ALL of these powers automatically:"}),i.jsx("ul",{className:"power-list",children:R.map(O=>i.jsxs("li",{className:"power-list__item",children:[i.jsxs("div",{children:[i.jsx("strong",{children:O.name}),O.type==="augment"&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Augment.png",alt:""}),i.jsx("span",{className:"badge__text",children:"Augment"})]}),O.type==="move"&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Move.png",alt:""}),i.jsx("span",{className:"badge__text",children:"Move"})]}),O.tier!==void 0&&i.jsx("span",{className:"badge badge--icon",children:i.jsx("img",{src:`/icons/Tier-${O.tier}.png`,alt:""})})]}),Ot(O.description,n),O.outcomes&&Object.keys(O.outcomes).length>0&&i.jsx("div",{className:"power-outcomes",children:Object.entries(O.outcomes).map(([V,A])=>i.jsxs("div",{children:[i.jsxs("strong",{children:[V,":"]})," ",A]},V))})]},O.id))})]})]},M)}))})]},E)})}),h&&S&&y&&N&&i.jsxs("div",{className:"automata-selected-powers",children:[i.jsx("h4",{children:"Your Powers"}),i.jsxs("p",{children:["As a ",N.toUpperCase()," ",y," (",S,"), you have these capabilities:"]}),i.jsx("ul",{className:"power-list",children:_(S,y,N).map(E=>i.jsxs("li",{className:"power-list__item",children:[i.jsxs("div",{children:[i.jsx("strong",{children:E.name}),E.type==="augment"&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Augment.png",alt:""}),i.jsx("span",{className:"badge__text",children:"Augment"})]}),E.type==="move"&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Move.png",alt:""}),i.jsx("span",{className:"badge__text",children:"Move"})]}),E.tier!==void 0&&i.jsx("span",{className:"badge badge--icon",children:i.jsx("img",{src:`/icons/Tier-${E.tier}.png`,alt:""})})]}),Ot(E.description,n),E.outcomes&&Object.keys(E.outcomes).length>0&&i.jsx("div",{className:"power-outcomes",children:Object.entries(E.outcomes).map(([C,b])=>i.jsxs("div",{children:[i.jsxs("strong",{children:[C,":"]})," ",b]},C))})]},E.id))})]})]})}return i.jsxs("section",{className:"lineage-powers-panel",children:[i.jsx("h3",{children:"Lineage Powers"}),i.jsx("p",{children:"Power data structure for this lineage is not recognized. Check the source files for updates."})]})}function hv({priorities:e,selected:t,onSelect:n,canReveal:r,revealMechanics:s,onToggleReveal:a,notes:l,onUpdateNotes:o,powerSet:c,powers:d,onTogglePower:p,onClearPowers:g}){const m=e.lineage,v=z.useMemo(()=>ql(t),[t]),x=r&&s;return i.jsxs("div",{className:"stage stage--lineage",children:[i.jsxs("header",{className:"stage__header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Lineage"}),i.jsx("p",{children:"The letter you assign to Lineage defines how far from humanity you step. Explore each lineage's aesthetic, pick the one that sings to your table, then reveal mechanics when ready."})]}),i.jsx("div",{className:"stage__actions",children:i.jsx("button",{type:"button",onClick:a,className:`reveal-toggle ${s?"active":""}`,disabled:!r,children:r?s?"Hide mechanical truths":"Reveal mechanical truths":"GM access required"})})]}),i.jsx("section",{className:"lineage-grid",children:np.map(j=>{const k=j.key===t,f=m?j.priorityImpacts[m]:null;return i.jsxs("article",{className:`lineage-card ${k?"is-active":""}`,style:{borderColor:k?j.aesthetic.accent:"rgba(255,255,255,0.08)",boxShadow:k?`0 12px 32px ${j.aesthetic.accent}40`:void 0,backgroundImage:j.aesthetic.texture},children:[i.jsxs("header",{children:[i.jsx("h3",{children:j.name}),i.jsx("p",{className:"lineage-card__tagline",children:j.tagline})]}),i.jsx("p",{children:j.summary}),i.jsxs("div",{className:"lineage-card__priority",children:[i.jsxs("span",{children:["With Priority ",m??"",":"]}),i.jsx("p",{children:f??"Assign a priority letter to see what changes."})]}),i.jsxs("details",{children:[i.jsx("summary",{children:"First impressions"}),i.jsx("p",{children:j.narrativeHook})]}),s&&r&&i.jsxs("details",{open:!0,children:[i.jsx("summary",{children:"GM Whisper"}),i.jsx("p",{children:j.gmWhisper})]}),i.jsx("footer",{children:i.jsx("button",{type:"button",className:"lineage-card__choose",onClick:()=>n(j.key),children:k?"Selected":"Choose Lineage"})})]},j.key)})}),i.jsx(pv,{lineage:t,lineagePriority:m,powerData:c,gmEnabled:x,selections:d,onToggleSelection:p,onClearSelections:g}),i.jsx("section",{className:"lineage-notes",children:i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Lineage Notes & Promises"}),i.jsx("textarea",{value:l,onChange:j=>o(j.target.value),placeholder:"Record patron obligations, corruption tells, and aesthetic cues for later sessions."})]})}),v&&i.jsxs("aside",{className:"lineage-highlight",style:{borderColor:v.aesthetic.accent},children:[i.jsxs("h4",{children:["Echos of ",v.name]}),i.jsxs("p",{children:["Layer the UI palette with ",v.aesthetic.accent,". Consider swapping ambient sound or card frames to mirror the lineage vibe when this character is active at the table."]})]})]})}const yc=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return Number.POSITIVE_INFINITY},Zn=e=>Number.isFinite(e)?e:0,fv=e=>{const t=Zn(e.reach)+Zn(e.influence);return e.backgroundSynergy??!1?t*.5:t},mv=e=>{const t=Zn(e.loyalty)+Zn(e.competence);return e.backgroundSynergy??!1?t*.5:t},gv=e=>{const t=Zn(e.quality);return e.backgroundSynergy??!1?t*.5:t},vv=(e,t)=>Number.isFinite(e)?e:t;function Nn({value:e,onChange:t,min:n=0,max:r}){const s=()=>{const l=e+1;(r===void 0||l<=r)&&t(l)},a=()=>{const l=e-1;l>=n&&t(l)};return i.jsxs("div",{className:"number-input-wrapper",children:[i.jsx("input",{type:"number",min:n,max:r,value:e,onChange:l=>t(Number(l.target.value)||0)}),i.jsxs("div",{className:"number-input-controls",children:[i.jsx("button",{type:"button",className:"number-input-btn",onClick:s,disabled:r!==void 0&&e>=r,children:""}),i.jsx("button",{type:"button",className:"number-input-btn",onClick:a,disabled:e<=n,children:""})]})]})}const xv=(e,t,n,r)=>{var o,c;if(!e)return{value:0,requiresApproval:!1};const s=(o=n.properties.tenure)==null?void 0:o[e],a=(c=t.properties.tenure)==null?void 0:c[e];if(s!=null&&s.cost)return{value:r,requiresApproval:!0,note:s.cost};const l=typeof(s==null?void 0:s.multiplier)=="number"?s.multiplier:typeof(a==null?void 0:a.costMultiplier)=="number"?a.costMultiplier:null;return typeof l=="number"&&Number.isFinite(l)&&l>0?{value:Math.max(1,Math.round(l)),requiresApproval:!!(a!=null&&a.special)}:{value:0,requiresApproval:!0}},yv=(e,t,n,r)=>{var c,d;if(!e)return{value:0,requiresApproval:!1};const s=(c=n.properties.zoning)==null?void 0:c[e],a=(d=t.properties.zoning)==null?void 0:d[e],l=typeof(s==null?void 0:s.baseCost)=="number"?s.baseCost:typeof(a==null?void 0:a.baseCost)=="number"?a.baseCost:null;if(typeof l=="number"&&Number.isFinite(l)&&l>0)return{value:l,requiresApproval:!1};const o=typeof(s==null?void 0:s.baseCost)=="string"?s.baseCost:typeof(a==null?void 0:a.baseCost)=="string"?a.baseCost:null;return{value:r,requiresApproval:!0,note:o}};function jv({priority:e,system:t,costs:n,contacts:r,retainers:s,properties:a,goods:l,liquid:o,onAddContact:c,onUpdateContact:d,onRemoveContact:p,onAddRetainer:g,onUpdateRetainer:m,onRemoveRetainer:v,onAddProperty:x,onUpdateProperty:j,onRemoveProperty:k,onAddGoods:f,onUpdateGoods:u,onRemoveGoods:h,onUpdateLiquid:S,notes:y,onUpdateNotes:N}){var Be,H,ue,le;const _=e?t.resourcePoints[e]:null,E=(_==null?void 0:_.points)??0,C=yc(_==null?void 0:_.maxQuality),b=yc(_==null?void 0:_.maxCombined),L=(_==null?void 0:_.specializations)??0,K=vv(b,(_==null?void 0:_.points)??10),M=Array.isArray(r)?r:[],R=Array.isArray(s)?s:[],$=Array.isArray(a)?a:[],O=Array.isArray(l)?l:[],V=M.map(w=>{const Q=fv(w),X=[];return Number.isFinite(C)&&w.reach>C&&X.push(`Reach exceeds max quality ${C}`),Number.isFinite(C)&&w.influence>C&&X.push(`Influence exceeds max quality ${C}`),Number.isFinite(b)&&Q>b&&X.push(`Total reach + influence exceeds combined maximum ${b}`),{entry:w,cost:Q,issues:X}}),A=R.map(w=>{const Q=mv(w),X=[];return Number.isFinite(C)&&w.competence>C&&X.push(`Competence exceeds max quality ${C}`),Number.isFinite(C)&&w.loyalty>C&&X.push(`Loyalty exceeds max quality ${C}`),Number.isFinite(b)&&Q>b&&X.push(`Total loyalty + competence exceeds combined maximum ${b}`),{entry:w,cost:Q,issues:X}}),D=$.map(w=>{const Q=xv(w.tenure,t,n,K),X=yv(w.zoning,t,n,K),je=Q.value+X.value,F=w.backgroundSynergy??!1?je*.5:je,_e=[];return(Q.requiresApproval||X.requiresApproval)&&_e.push("Selection requires GM approval."),Q.note&&_e.push(Q.note),X.note&&_e.push(X.note),Number.isFinite(C)&&Q.value>C&&_e.push(`Tenure rating exceeds max quality ${C}`),Number.isFinite(C)&&X.value>C&&_e.push(`Zoning rating exceeds max quality ${C}`),Number.isFinite(b)&&F>b&&_e.push(`Total tenure + zoning exceeds combined maximum ${b}`),{entry:w,cost:F,issues:_e,tenureValue:Q.value,zoningValue:X.value}}),I=O.map(w=>{const Q=gv(w),X=[];return Number.isFinite(C)&&w.quality>C&&X.push(`Quality exceeds max quality ${C}`),Number.isFinite(b)&&w.quality>b&&X.push(`Quality exceeds combined maximum ${b}`),{entry:w,cost:Q,issues:X}}),B=V.reduce((w,Q)=>w+Q.cost,0)+A.reduce((w,Q)=>w+Q.cost,0)+D.reduce((w,Q)=>w+Q.cost,0)+I.reduce((w,Q)=>w+Q.cost,0)+Zn(o),U=E-B,te=_?U<0:B>0,J=V.filter(({entry:w})=>!!w.specialization).length+A.filter(({entry:w})=>!!w.specialization).length+D.filter(({entry:w})=>!!w.specialization).length+I.filter(({entry:w})=>!!w.specialization).length,G=L-J<0,q=((Be=t.contacts)==null?void 0:Be.specializations)??[],ie=((H=t.retainers)==null?void 0:H.specializations)??[],Se=((ue=t.properties)==null?void 0:ue.specializations)??[],Ze=((le=t.goods)==null?void 0:le.specializations)??[];return i.jsxs("div",{className:"stage stage--resources",children:[i.jsxs("header",{className:"stage__header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Resources"}),i.jsx("p",{children:"Spend your Resource Points to define the allies, havens, and gear that keep you alive. Balance reach and quality carefully  every edge requires upkeep and trust."})]}),i.jsxs("aside",{className:"resource-summary",children:[i.jsxs("span",{className:"resource-summary__label",children:["Priority ",e??""]}),_?i.jsxs("dl",{children:[i.jsxs("div",{children:[i.jsx("dt",{children:"Available Points"}),i.jsx("dd",{children:E})]}),i.jsxs("div",{className:oe({"resource-summary__warning":te}),children:[i.jsx("dt",{children:"Spent"}),i.jsx("dd",{children:B})]}),i.jsxs("div",{className:oe({"resource-summary__warning":te}),children:[i.jsx("dt",{children:"Remaining"}),i.jsx("dd",{children:Math.max(0,U)})]}),i.jsxs("div",{children:[i.jsx("dt",{children:"Quality Cap"}),i.jsx("dd",{children:Number.isFinite(C)?C:""})]}),i.jsxs("div",{children:[i.jsx("dt",{children:"Combined Cap"}),i.jsx("dd",{children:Number.isFinite(b)?b:""})]}),i.jsxs("div",{className:oe({"resource-summary__warning":G}),children:[i.jsx("dt",{children:"Specializations"}),i.jsxs("dd",{children:[J," / ",L]})]})]}):i.jsx("p",{children:"Assign a resources priority to unlock your pool."})]})]}),i.jsxs("div",{className:oe("resource-ledger",{"resource-ledger--warning":te}),children:[i.jsx("strong",{children:B})," resource points allocated",_?` of ${E}`:"",".",te&&i.jsx("span",{className:"resource-ledger__warning",children:"You are overspending. Adjust your assets or raise your priority."})]}),i.jsxs("div",{className:oe("resource-ledger",{"resource-ledger--warning":G}),children:["Specializations used: ",i.jsx("strong",{children:J})," of ",L,".",G&&i.jsx("span",{className:"resource-ledger__warning",children:"Only one specialization per asset until the limit is raised."})]}),i.jsxs("div",{className:"resource-grid",children:[i.jsxs("section",{className:"resource-section",children:[i.jsxs("header",{className:"resource-section__header",children:[i.jsx("h3",{children:"Contacts"}),i.jsx("button",{type:"button",onClick:c,children:"Add Contact"})]}),V.length===0?i.jsx("p",{className:"resource-section__empty",children:"No contacts recorded. Add a fixer, broker, or confidant."}):V.map(({entry:w,cost:Q,issues:X})=>{const je=!w.gmApproved;return i.jsxs("article",{className:oe("resource-card",{"resource-card--flagged":je}),children:[i.jsxs("header",{className:"resource-card__header",children:[i.jsx("input",{className:"resource-card__title",value:w.name,onChange:F=>d(w.id,{name:F.target.value}),placeholder:"Contact name"}),i.jsxs("span",{className:"resource-card__cost",children:["Cost ",Q]})]}),i.jsxs("label",{className:"resource-card__field",children:[i.jsx("span",{children:"Profile"}),i.jsx("textarea",{value:w.description,onChange:F=>d(w.id,{description:F.target.value}),placeholder:"Why does this person answer your call?"})]}),i.jsxs("div",{className:"resource-card__grid",children:[i.jsxs("label",{children:[i.jsx("span",{children:"Reach"}),i.jsx(Nn,{value:w.reach,onChange:F=>d(w.id,{reach:F}),min:0,max:Number.isFinite(C)?C:void 0})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Influence"}),i.jsx(Nn,{value:w.influence,onChange:F=>d(w.id,{influence:F}),min:0,max:Number.isFinite(C)?C:void 0})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Specialization"}),i.jsxs("select",{value:w.specialization??"",onChange:F=>d(w.id,{specialization:F.target.value?F.target.value:null}),children:[i.jsx("option",{value:"",children:"None"}),q.map(F=>i.jsx("option",{value:F,children:F},F))]})]})]}),X.length>0&&i.jsx("ul",{className:"resource-card__issues",children:X.map((F,_e)=>i.jsx("li",{children:F},_e))}),i.jsxs("footer",{className:"resource-card__footer",children:[i.jsx("button",{type:"button",onClick:()=>p(w.id),className:"link",children:"Remove Contact"}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[i.jsx("button",{type:"button",onClick:()=>{const F=!(w.backgroundSynergy??!1);d(w.id,{backgroundSynergy:F,gmApproved:F?!1:w.gmApproved})},className:oe("badge",{"badge--attention":w.backgroundSynergy??!1}),children:w.backgroundSynergy??!1?"Background Synergy (0.5x)":"Mark Background Synergy"}),i.jsx("button",{type:"button",onClick:()=>d(w.id,{gmApproved:!w.gmApproved}),className:oe("badge",{"badge--attention":je}),children:w.gmApproved?"GM Approved":"GM Approval Required"})]})]})]},w.id)})]}),i.jsxs("section",{className:"resource-section",children:[i.jsxs("header",{className:"resource-section__header",children:[i.jsx("h3",{children:"Retainers"}),i.jsx("button",{type:"button",onClick:g,children:"Add Retainer"})]}),A.length===0?i.jsx("p",{className:"resource-section__empty",children:"No retainers enlisted. Secure a loyal operator."}):A.map(({entry:w,cost:Q,issues:X})=>{const je=!w.gmApproved;return i.jsxs("article",{className:oe("resource-card",{"resource-card--flagged":je}),children:[i.jsxs("header",{className:"resource-card__header",children:[i.jsx("input",{className:"resource-card__title",value:w.name,onChange:F=>m(w.id,{name:F.target.value}),placeholder:"Retainer name"}),i.jsxs("span",{className:"resource-card__cost",children:["Cost ",Q]})]}),i.jsxs("label",{className:"resource-card__field",children:[i.jsx("span",{children:"Role"}),i.jsx("textarea",{value:w.description,onChange:F=>m(w.id,{description:F.target.value}),placeholder:"What do they handle for you?"})]}),i.jsxs("div",{className:"resource-card__grid",children:[i.jsxs("label",{children:[i.jsx("span",{children:"Competence"}),i.jsx(Nn,{value:w.competence,onChange:F=>m(w.id,{competence:F}),min:0,max:Number.isFinite(C)?C:void 0})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Loyalty"}),i.jsx(Nn,{value:w.loyalty,onChange:F=>m(w.id,{loyalty:F}),min:0,max:Number.isFinite(C)?C:void 0})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Specialization"}),i.jsxs("select",{value:w.specialization??"",onChange:F=>m(w.id,{specialization:F.target.value?F.target.value:null}),children:[i.jsx("option",{value:"",children:"None"}),ie.map(F=>i.jsx("option",{value:F,children:F},F))]})]})]}),X.length>0&&i.jsx("ul",{className:"resource-card__issues",children:X.map((F,_e)=>i.jsx("li",{children:F},_e))}),i.jsxs("footer",{className:"resource-card__footer",children:[i.jsx("button",{type:"button",onClick:()=>v(w.id),className:"link",children:"Remove Retainer"}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[i.jsx("button",{type:"button",onClick:()=>{const F=!(w.backgroundSynergy??!1);m(w.id,{backgroundSynergy:F,gmApproved:F?!1:w.gmApproved})},className:oe("badge",{"badge--attention":w.backgroundSynergy??!1}),children:w.backgroundSynergy??!1?"Background Synergy (0.5x)":"Mark Background Synergy"}),i.jsx("button",{type:"button",onClick:()=>m(w.id,{gmApproved:!w.gmApproved}),className:oe("badge",{"badge--attention":je}),children:w.gmApproved?"GM Approved":"GM Approval Required"})]})]})]},w.id)})]}),i.jsxs("section",{className:"resource-section",children:[i.jsxs("header",{className:"resource-section__header",children:[i.jsx("h3",{children:"Properties"}),i.jsx("button",{type:"button",onClick:x,children:"Add Property"})]}),D.length===0?i.jsx("p",{className:"resource-section__empty",children:"No safehouses or fronts secured. Stake your claim."}):D.map(({entry:w,cost:Q,issues:X,tenureValue:je,zoningValue:F})=>{const _e=!w.gmApproved;return i.jsxs("article",{className:oe("resource-card",{"resource-card--flagged":_e}),children:[i.jsxs("header",{className:"resource-card__header",children:[i.jsx("input",{className:"resource-card__title",value:w.name,onChange:ae=>j(w.id,{name:ae.target.value}),placeholder:"Property name"}),i.jsxs("span",{className:"resource-card__cost",children:["Cost ",Q]})]}),i.jsxs("label",{className:"resource-card__field",children:[i.jsx("span",{children:"Description"}),i.jsx("textarea",{value:w.description,onChange:ae=>j(w.id,{description:ae.target.value}),placeholder:"What makes this space yours?"})]}),i.jsxs("div",{className:"resource-card__grid resource-card__grid--wide",children:[i.jsxs("label",{children:[i.jsx("span",{children:"Tenure"}),i.jsxs("select",{value:w.tenure,onChange:ae=>j(w.id,{tenure:ae.target.value}),children:[i.jsx("option",{value:"",children:"Select tenure"}),Object.keys(t.properties.tenure).map(ae=>i.jsx("option",{value:ae,children:ae},ae))]}),i.jsx("small",{children:je?`Value ${je}`:"Pick a claim type"})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Zoning"}),i.jsxs("select",{value:w.zoning,onChange:ae=>j(w.id,{zoning:ae.target.value}),children:[i.jsx("option",{value:"",children:"Select function"}),Object.keys(t.properties.zoning).map(ae=>i.jsx("option",{value:ae,children:ae},ae))]}),i.jsx("small",{children:F?`Value ${F}`:"Pick a function"})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Ward"}),i.jsx("input",{value:w.ward,onChange:ae=>j(w.id,{ward:ae.target.value}),placeholder:"Ward or district"})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Specialization"}),i.jsxs("select",{value:w.specialization??"",onChange:ae=>j(w.id,{specialization:ae.target.value?ae.target.value:null}),children:[i.jsx("option",{value:"",children:"None"}),Se.map(ae=>i.jsx("option",{value:ae,children:ae},ae))]})]})]}),X.length>0&&i.jsx("ul",{className:"resource-card__issues",children:X.map((ae,at)=>i.jsx("li",{children:ae},at))}),i.jsxs("footer",{className:"resource-card__footer",children:[i.jsx("button",{type:"button",onClick:()=>k(w.id),className:"link",children:"Remove Property"}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[i.jsx("button",{type:"button",onClick:()=>{const ae=!(w.backgroundSynergy??!1);j(w.id,{backgroundSynergy:ae,gmApproved:ae?!1:w.gmApproved})},className:oe("badge",{"badge--attention":w.backgroundSynergy??!1}),children:w.backgroundSynergy??!1?"Background Synergy (0.5x)":"Mark Background Synergy"}),i.jsx("button",{type:"button",onClick:()=>j(w.id,{gmApproved:!w.gmApproved}),className:oe("badge",{"badge--attention":_e}),children:w.gmApproved?"GM Approved":"GM Approval Required"})]})]})]},w.id)})]}),i.jsxs("section",{className:"resource-section",children:[i.jsxs("header",{className:"resource-section__header",children:[i.jsx("h3",{children:"Goods & Stockpiles"}),i.jsx("button",{type:"button",onClick:f,children:"Add Goods"})]}),I.length===0?i.jsx("p",{className:"resource-section__empty",children:"No caches documented. Set aside kit or contraband."}):I.map(({entry:w,cost:Q,issues:X})=>{const je=!w.gmApproved;return i.jsxs("article",{className:oe("resource-card",{"resource-card--flagged":je}),children:[i.jsxs("header",{className:"resource-card__header",children:[i.jsx("input",{className:"resource-card__title",value:w.name,onChange:F=>u(w.id,{name:F.target.value}),placeholder:"Goods cache"}),i.jsxs("span",{className:"resource-card__cost",children:["Cost ",Q]})]}),i.jsxs("label",{className:"resource-card__field",children:[i.jsx("span",{children:"Contents"}),i.jsx("textarea",{value:w.description,onChange:F=>u(w.id,{description:F.target.value}),placeholder:"Describe the stash, weaponry, or leverage."})]}),i.jsxs("div",{className:"resource-card__grid",children:[i.jsxs("label",{children:[i.jsx("span",{children:"Quality"}),i.jsx(Nn,{value:w.quality,onChange:F=>u(w.id,{quality:F}),min:0,max:Number.isFinite(C)?C:void 0})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Specialization"}),i.jsxs("select",{value:w.specialization??"",onChange:F=>u(w.id,{specialization:F.target.value?F.target.value:null}),children:[i.jsx("option",{value:"",children:"None"}),Ze.map(F=>i.jsx("option",{value:F,children:F},F))]})]})]}),X.length>0&&i.jsx("ul",{className:"resource-card__issues",children:X.map((F,_e)=>i.jsx("li",{children:F},_e))}),i.jsxs("footer",{className:"resource-card__footer",children:[i.jsx("button",{type:"button",onClick:()=>h(w.id),className:"link",children:"Remove Goods"}),i.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[i.jsx("button",{type:"button",onClick:()=>{const F=!(w.backgroundSynergy??!1);u(w.id,{backgroundSynergy:F,gmApproved:F?!1:w.gmApproved})},className:oe("badge",{"badge--attention":w.backgroundSynergy??!1}),children:w.backgroundSynergy??!1?"Background Synergy (0.5x)":"Mark Background Synergy"}),i.jsx("button",{type:"button",onClick:()=>u(w.id,{gmApproved:!w.gmApproved}),className:oe("badge",{"badge--attention":je}),children:w.gmApproved?"GM Approved":"GM Approval Required"})]})]})]},w.id)})]})]}),i.jsxs("section",{className:"resource-liquid",children:[i.jsxs("label",{children:[i.jsx("span",{children:"Liquid Assets"}),i.jsx(Nn,{value:o,onChange:S,min:0})]}),i.jsx("p",{children:"Reserve unassigned points for cash, favors, or future acquisitions."})]}),i.jsx("section",{children:i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Resource Stories"}),i.jsx("textarea",{value:y,onChange:w=>N(w.target.value),placeholder:"Record fronts, debts, leverage, and the strings attached to each asset."})]})}),i.jsxs("section",{className:"resource-reference",children:[i.jsxs("article",{children:[i.jsx("h4",{children:"Contact Scales"}),i.jsxs("div",{className:"resource-reference__grid",children:[i.jsxs("div",{children:[i.jsx("h5",{children:"Reach"}),i.jsx("ul",{children:Object.entries(t.contacts.reachScale).map(([w,Q])=>i.jsxs("li",{children:[i.jsx("span",{className:"scale__value",children:w}),i.jsx("span",{children:Q})]},w))})]}),i.jsxs("div",{children:[i.jsx("h5",{children:"Influence"}),i.jsx("ul",{children:Object.entries(t.contacts.influenceScale).map(([w,Q])=>i.jsxs("li",{children:[i.jsx("span",{className:"scale__value",children:w}),i.jsx("span",{children:Q})]},w))})]})]})]}),i.jsxs("article",{children:[i.jsx("h4",{children:"Retainer Scales"}),i.jsxs("div",{className:"resource-reference__grid",children:[i.jsxs("div",{children:[i.jsx("h5",{children:"Competence"}),i.jsx("ul",{children:Object.entries(t.retainers.competenceScale).map(([w,Q])=>i.jsxs("li",{children:[i.jsx("span",{className:"scale__value",children:w}),i.jsx("span",{children:Q})]},w))})]}),i.jsxs("div",{children:[i.jsx("h5",{children:"Loyalty"}),i.jsx("ul",{children:Object.entries(t.retainers.loyaltyScale).map(([w,Q])=>i.jsxs("li",{children:[i.jsx("span",{className:"scale__value",children:w}),i.jsx("span",{children:Q})]},w))})]})]})]}),i.jsxs("article",{children:[i.jsx("h4",{children:"Tenure Reference"}),i.jsx("ul",{className:"resource-reference__list",children:Object.entries(t.properties.tenure).map(([w,Q])=>i.jsxs("li",{children:[i.jsx("strong",{children:w}),Q.description&&i.jsxs("span",{children:["  ",Q.description]})]},w))})]})]})]})}const kv={A:5,B:4,C:3,D:2,E:1},wv={A:3,B:2,C:2,D:1,E:1};function Sv({priority:e,background:t,skills:n,onUpdate:r,onUpdateSpecializations:s,onUpdateCustomSpecializations:a,data:l}){const o=n.backgroundSpecializations||[],c=n.backgroundCustomSpecializations||[],[d,p]=z.useState([]),[g,m]=z.useState(new Set);z.useEffect(()=>{if(c.length===0)p([{id:crypto.randomUUID(),value:"",checked:!1}]);else{const R=c.map($=>({id:crypto.randomUUID(),value:$,checked:!0}));R.push({id:crypto.randomUUID(),value:"",checked:!1}),p(R)}},[c.length]);const v=z.useMemo(()=>Object.entries(l),[l]),x=t.title&&l[t.title]?l[t.title]:void 0,j=z.useMemo(()=>x!=null&&x.professions?new Map(x.professions.map(R=>[R.priority,R])):new Map,[x==null?void 0:x.professions]),k=e?j.get(e):void 0,f=e?kv[e]:0,u=e?wv[e]:0,h=t.title||"Choose a background",S=(k==null?void 0:k.description)||(x==null?void 0:x.description)||"Select a background below to load its story, talents, and contacts.",y=(x==null?void 0:x.skillSpecializationOptions)??[],N=(x==null?void 0:x.resourceSynergyExamples)??[],_=R=>{var V;const $=l[R],O={title:R};$&&(!t.tierNotes&&$.description&&(O.tierNotes=$.description),!t.contacts&&((V=$.resourceSynergyExamples)!=null&&V.length)&&(O.contacts=$.resourceSynergyExamples.join(`
`))),r(O)},E=R=>{const $=o.includes(R),O=d.filter(A=>A.checked&&A.value.trim()).length,V=o.length+O;$?s(o.filter(A=>A!==R)):V<u&&s([...o,R])},C=R=>{m($=>{const O=new Set($);return O.has(R)?O.delete(R):O.add(R),O})},b=(R,$)=>{const O=d.map(V=>V.id===R?{...V,value:$}:V);p(O),K(O)},L=R=>{const $=d.map(V=>V.id===R?{...V,checked:!V.checked}:V);p($);const O=$.find(V=>V.id===R);O&&O.checked&&O.value.trim()&&($.some(A=>!A.checked&&!A.value.trim())||($.push({id:crypto.randomUUID(),value:"",checked:!1}),p($))),K($)},K=R=>{const $=R.filter(O=>O.checked&&O.value.trim()).map(O=>O.value.trim());a($)},M=o.length+d.filter(R=>R.checked&&R.value.trim()).length;return i.jsxs("div",{className:"stage stage--background",children:[i.jsxs("header",{className:"stage__header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Background"}),i.jsx("p",{children:"Backgrounds tell the table who you were before the Long Night took hold. Use the narrative scope guidance to outline your reach and obligations."})]}),i.jsxs("aside",{className:"background-callout",children:[i.jsxs("div",{className:"background-callout__header",children:[i.jsxs("span",{className:"background-callout__label",children:["Priority ",e??""," ",e&&` ${f} Background Points`]}),i.jsx("h3",{children:h}),k&&i.jsx("h4",{className:"background-callout__profession-title",children:k.title})]}),i.jsx("p",{className:"background-callout__body",children:S}),(y.length>0||N.length>0)&&i.jsxs("div",{className:"background-callout__tags",children:[y.length>0&&i.jsxs("div",{children:[i.jsxs("span",{className:"background-callout__tag-label",children:["Signature Skills (",u," ",u===1?"slot":"slots",")"]}),i.jsx("ul",{children:y.map(R=>i.jsx("li",{children:R},R))})]}),N.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:"background-callout__tag-label",children:"Example Resource Synergies (0.5x cost)"}),i.jsx("ul",{children:N.map(R=>i.jsx("li",{children:R},R))})]})]})]})]}),x&&y.length>0&&i.jsxs("section",{className:"background-specializations",children:[i.jsx("h3",{children:"Select Background Specializations"}),i.jsxs("p",{className:"background-specializations__description",children:["Choose up to ",u," specialization",u!==1?"s":""," from your background's signature skills. These do NOT count against your skill specialization limit."]}),i.jsx("div",{className:"background-specializations__options",children:y.map(R=>{const $=o.includes(R),O=!$&&o.length>=u;return i.jsxs("label",{className:`background-specialization-option ${$?"selected":""} ${O?"disabled":""}`,children:[i.jsx("input",{type:"checkbox",checked:$,disabled:O,onChange:()=>E(R)}),i.jsx("span",{children:R})]},R)})}),i.jsxs("div",{className:"background-specializations__custom",children:[i.jsx("h4",{children:"Custom Specializations (Optional, require GM approval)"}),i.jsx("p",{children:"Create your own specialization if the suggestions don't fit your character."}),d.map(R=>{const $=!R.checked&&M>=u;return i.jsxs("label",{className:`background-specialization-option ${R.checked?"selected":""} ${$?"disabled":""}`,children:[i.jsx("input",{type:"checkbox",checked:R.checked,disabled:$,onChange:()=>L(R.id)}),i.jsx("input",{type:"text",className:"custom-spec-input",value:R.value,placeholder:"Ex: Engineering: Runesmithing, Social: Underworld Contacts, etc.",onChange:O=>b(R.id,O.target.value)})]},R.id)})]})]}),i.jsx("section",{className:"background-catalog",children:v.map(([R,$])=>{var D,I,B;const O=R===t.title,V=e&&$.professions?$.professions.find(U=>U.priority===e):void 0,A=g.has(R);return i.jsxs("article",{className:`background-card ${O?"active":""} ${A?"expanded":"collapsed"}`,children:[i.jsxs("header",{className:"background-card__header",children:[i.jsxs("div",{children:[i.jsx("h3",{children:R}),i.jsx("p",{children:$.description})]}),i.jsxs("div",{className:"background-card__actions",children:[i.jsx("button",{type:"button",onClick:()=>_(R),children:O?"Selected":"Adopt Background"}),i.jsx("button",{type:"button",className:"background-card__toggle",onClick:()=>C(R),"aria-label":A?"Collapse details":"Expand details",children:A?" Hide Details":" View Details"})]})]}),A&&i.jsxs(i.Fragment,{children:[e&&V&&i.jsxs("section",{className:"background-card__section",children:[i.jsxs("h4",{children:["Your Profession Tier (Priority ",e,")"]}),i.jsx("div",{className:"background-card__professions",children:i.jsxs("div",{className:"background-card__profession highlight",children:[i.jsxs("div",{className:"background-card__profession-header",children:[i.jsx("span",{className:"badge",children:V.priority}),i.jsx("strong",{children:V.title})]}),i.jsx("p",{children:V.description})]})})]}),!e&&(((D=$.professions)==null?void 0:D.length)??0)>0&&i.jsxs("section",{className:"background-card__section",children:[i.jsx("h4",{children:"Profession Ladder"}),i.jsx("p",{className:"background-card__hint",children:"Assign a priority to Background to see your profession tier"})]}),(((I=$.skillSpecializationOptions)==null?void 0:I.length)??0)>0&&i.jsxs("section",{className:"background-card__section",children:[i.jsxs("h4",{children:["Skill Specializations (",u," ",u===1?"slot":"slots",")"]}),i.jsx("ul",{children:$.skillSpecializationOptions.map(U=>i.jsx("li",{children:U},U))})]}),(((B=$.resourceSynergyExamples)==null?void 0:B.length)??0)>0&&i.jsxs("section",{className:"background-card__section",children:[i.jsx("h4",{children:"Example Resource Synergies (0.5x cost)"}),i.jsx("ul",{children:$.resourceSynergyExamples.map(U=>i.jsx("li",{children:U},U))})]})]})]},R)})})]})}const Nv={A:{maxRank:5,points:10,specializations:2},B:{maxRank:4,points:14,specializations:2},C:{maxRank:3,points:10,specializations:1},D:{maxRank:3,points:8,specializations:1},E:{maxRank:2,points:4,specializations:0}},Cv="Custom options are provisional until your GM approves them.";function _v({priority:e,data:t,ratings:n,onChangeRating:r,specializations:s,onToggleSpecialization:a,onRemoveSpecialization:l,onAddCustomSpecialization:o,backgroundSpecializations:c,backgroundCustomSpecializations:d,backgroundOptions:p,onSetBackgroundSpecializations:g,onSetBackgroundCustomSpecializations:m,notes:v,onUpdateNotes:x}){const[j,k]=z.useState(""),f=c||[],u=d||[],h=e?Nv[e]:null,S=z.useMemo(()=>Object.values(n).reduce((M,R)=>M+R,0),[n]),y=h?Math.max(h.points-S,0):0,N=s.filter(M=>M.type!=="background"),_=h?Math.max(h.specializations-N.length,0):0,E=z.useMemo(()=>new Map(s.map(M=>[M.id,M])),[s]);z.useEffect(()=>{if(!t||f.length===0)return;const M=[];Object.entries(t.skills).forEach(([R,$])=>{$.forEach(O=>{const V=`${R}:${O.id}`;O.specializations.forEach(A=>{if(f.includes(A.name)){const D=`pre:${V}:${A.id??A.name}`;E.has(D)||M.push({id:D,label:`${O.name}  ${A.name}`,type:"background",skillId:V,gmApproved:!0})}})})}),M.length>0&&M.forEach(R=>a(R))},[t,f,E,a]);const C=(M,R)=>$=>{const O=Number($.target.value);if(!h)return;const V=Math.max(0,Math.min(O,h.maxRank)),A=S-R+V;let D=V;A>h.points&&(D=R+y),D!==R&&r(M,D)},b=()=>{if(!h)return;const M=j.trim();M&&h.specializations!==0&&_!==0&&(o(M),k(""))},L=(M,R,$,O)=>{if(!h)return;const V=`pre:${M}:${$??O}`;if(!E.has(V)&&h.specializations>0&&_===0)return;const A={id:V,label:`${R}  ${O}`,type:"predefined",skillId:M,gmApproved:!0};a(A)},K=h?h.specializations>0&&_>0:!1;return p.filter(Boolean),i.jsxs("div",{className:"stage stage--skills",children:[i.jsxs("header",{className:"stage__header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Skills & Disciplines"}),i.jsx("p",{children:"Allocate your skill points, respecting the maximum rank for your priority. Claim a handful of specializations to spotlight signature movescustom picks stay flagged until your GM approves them."})]}),i.jsxs("aside",{className:`skills-limit ${y===0?"skills-limit--exhausted":y<=2?"skills-limit--low":""}`,children:[i.jsxs("span",{children:["Priority ",e??""]}),h?i.jsxs(i.Fragment,{children:[i.jsx("p",{className:y===0?"text-warning":"",children:`${y} of ${h.points} skill points remaining`}),i.jsxs("p",{children:["Specializations: ",`${Math.max(_,0)} of ${h.specializations} remaining`]})]}):i.jsx("p",{children:"Assign a priority letter to unlock your allocation."})]})]}),i.jsx("section",{className:"skills-grid",children:Object.entries(t.skills).flatMap(([M,R])=>R.map($=>{const O=`${M}:${$.id}`,V=n[O]??0,A=(h==null?void 0:h.maxRank)??0,D=V>=A,I=y>0&&!D;return $.specializations.map(B=>`pre:${O}:${B.id??B.name}`).filter(B=>{const U=E.get(B);return(U==null?void 0:U.type)==="background"}),i.jsxs("article",{className:`skills-card ${D?"skills-card--maxed":""}`,children:[i.jsxs("div",{className:"skills-item__info",children:[i.jsx("h4",{children:$.name}),i.jsx("p",{children:$.description}),D&&i.jsx("span",{className:"skills-maxed-badge",children:"Max Rank"})]}),i.jsxs("label",{className:`skills-rating ${D?"skills-rating--maxed":""}`,children:[i.jsx("span",{children:"Rating"}),i.jsx("input",{type:"range",min:0,max:A,step:1,value:V,disabled:!h,onChange:C(O,V),className:!I&&V<A?"skills-rating__input--limited":""}),i.jsx("span",{className:"skills-rating__value",children:V})]}),$.specializations.length>0&&i.jsx("div",{className:"skills-item__specializations",children:i.jsxs("details",{children:[i.jsxs("summary",{children:["Specializations (",$.specializations.length," available)"]}),i.jsx("ul",{className:"skills-specializations",children:$.specializations.map(B=>{const U=`pre:${O}:${B.id??B.name}`,te=E.has(U),J=E.get(U),ee=(J==null?void 0:J.type)==="background",G=!h||h.specializations===0&&!te||h.specializations>0&&_===0&&!te;return i.jsx("li",{children:i.jsxs("label",{className:`skills-specialization__checkbox ${te?"selected":""} ${ee?"background":""}`,children:[i.jsx("input",{type:"checkbox",checked:te,disabled:G||ee,onChange:()=>L(O,$.name,B.id,B.name)}),i.jsxs("div",{className:"skills-specialization__content",children:[i.jsx("strong",{children:B.name}),i.jsx("span",{children:B.description}),ee&&i.jsx("span",{className:"gm-tag gm-tag--background",children:"Background"})]})]})},U)})})]})})]},O)}))}),(f.length>0||u.length>0)&&i.jsxs("section",{className:"skills-background",children:[i.jsx("h3",{children:"Background Specializations"}),i.jsx("p",{children:"These specializations were granted by your background (selected in the Background stage)."}),i.jsxs("ul",{className:"skills-background__list",children:[f.map(M=>i.jsxs("li",{children:[i.jsx("strong",{children:M}),i.jsx("span",{className:"gm-tag gm-tag--background",children:"Background"})]},M)),u.map(M=>i.jsxs("li",{children:[i.jsx("strong",{children:M}),i.jsx("span",{className:"gm-tag gm-tag--background",children:"Background (Custom)"})]},M))]})]}),i.jsxs("section",{className:"skills-selected",children:[i.jsx("h3",{children:"Selected Specializations"}),s.length===0?i.jsx("p",{children:"No specializations chosen yet."}):i.jsx("ul",{children:s.map(M=>i.jsxs("li",{children:[i.jsxs("div",{children:[i.jsx("strong",{children:M.label}),M.type==="custom"&&!M.gmApproved&&i.jsx("span",{className:"gm-tag",children:"Pending GM Approval"})]}),i.jsx("button",{type:"button",onClick:()=>l(M.id),"aria-label":`Remove ${M.label}`,children:"Remove"})]},M.id))})]}),i.jsxs("section",{className:"skills-footer",children:[i.jsxs("div",{children:[i.jsx("h3",{children:"Custom Specialization"}),i.jsxs("div",{className:"skills-custom",children:[i.jsxs("label",{children:[i.jsx("span",{children:"Describe your custom edge"}),i.jsxs("div",{className:"skills-custom__controls",children:[i.jsx("input",{value:j,onChange:M=>k(M.target.value),placeholder:"Ex: Underworld Etiquette",disabled:h?!K:!0}),i.jsx("button",{type:"button",onClick:b,disabled:!K||!j.trim(),children:"Add"})]})]}),i.jsxs("p",{className:"skills-custom__hint",children:[Cv,h?` Slots remaining: ${Math.max(_,0)}.`:""]})]})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Skill Notes"}),i.jsx("textarea",{value:v,onChange:M=>x(M.target.value),placeholder:"Record signature moves, training montages, and promised stunts."})]})]})]})}const Ev={Physique:"physique",Intellect:"intellect",Presence:"presence"};function bv({priority:e,scores:t,onUpdateScore:n,notes:r,onUpdateNotes:s,data:a,selectedSpecializations:l,onToggleSpecialization:o}){var f;if(!a||!Array.isArray(a.pointBuy)||!a.definitions)return i.jsx("div",{className:"stage stage--attributes",children:i.jsx("p",{children:"Attribute data failed to load. Please refresh."})});const c=z.useMemo(()=>e?a.pointBuy.find(u=>u.priority===e)??null:null,[a.pointBuy,e]),d=z.useMemo(()=>Object.entries(a.definitions).map(([u,h])=>{const S=Ev[u];return S?{key:S,displayName:u,description:h.description,specializations:h.specializations??[]}:null}).filter(u=>u!==null),[a.definitions]),p=(c==null?void 0:c.attributePoints)??0,g=z.useMemo(()=>Object.entries(t).reduce((u,[h,S])=>(u[h]=Math.min(Ps,Math.max(0,S)),u),{physique:0,intellect:0,presence:0}),[t]),m=Object.values(g).reduce((u,h)=>u+h,0),v=Math.max(p-m,0),x=(c==null?void 0:c.specializations)??0,j=z.useMemo(()=>Object.values(l).reduce((u,h)=>u+(Array.isArray(h)?h.length:0),0),[l]),k=Math.max(x-j,0);return i.jsxs("div",{className:"stage stage--attributes",children:[i.jsxs("header",{className:"stage__header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Attributes"}),i.jsx("p",{children:"Only three pillars define your raw capability. Split your dice pool to show which part of their soul still shines and which has already been sold to the city."})]}),i.jsxs("aside",{className:"attribute-pool",children:[i.jsxs("span",{children:["Priority ",e??""]}),e?i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Pool ",p,"  Remaining ",v]}),i.jsxs("p",{className:"attribute-pool__detail",children:["Specializations: ",x>0?`${k} of ${x} remaining`:"None available"]})]}):i.jsx("p",{children:"Assign a priority letter to calculate your attribute pool."})]})]}),i.jsx("section",{className:"attributes-grid",children:d.map(u=>{var E;const h=t[u.key]??0,S=Math.min(h,Ps),y=m-g[u.key],N=Math.max(p-y,0),_=Math.min(Ps,N);return i.jsxs("article",{children:[i.jsxs("header",{children:[i.jsx("h3",{children:u.displayName}),i.jsx("p",{children:u.description})]}),i.jsxs("div",{className:"attribute-control",children:[i.jsx("input",{type:"range",min:0,max:_,value:S,onChange:C=>{const b=Number(C.target.value),L=Math.min(_,Math.max(0,b));n(u.key,L)}}),i.jsx("span",{className:"attribute-value",children:S})]}),((E=u.specializations)==null?void 0:E.length)>0&&i.jsxs("div",{className:"attribute-specializations",children:[i.jsx("h4",{children:"Specializations"}),i.jsx("ul",{children:u.specializations.map(C=>{const L=(l[u.key]??[]).includes(C.name),K=x===0&&!L||x>0&&k===0&&!L;return i.jsx("li",{children:i.jsxs("button",{type:"button",className:`attribute-specialization__toggle ${L?"selected":""}`,onClick:()=>o(u.key,C.name),disabled:K,children:[i.jsx("strong",{children:C.name}),i.jsx("span",{children:C.description})]})},C.name)})})]})]},u.key)})}),((f=a.ratings)==null?void 0:f.length)>0&&i.jsxs("section",{className:"attribute-ratings",children:[i.jsx("h3",{children:"Rating Benchmarks"}),i.jsx("ul",{children:a.ratings.map(u=>i.jsxs("li",{children:[i.jsx("span",{className:"attribute-rating__score",children:u.score}),i.jsx("span",{children:u.label})]},u.score))})]}),i.jsx("section",{children:i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Attribute Notes"}),i.jsx("textarea",{value:r,onChange:u=>s(u.target.value),placeholder:"What scars or tells explain these strengths and weaknesses?"})]})})]})}function Pv({profile:e,onUpdateProfile:t,corruption:n,onAdjustCorruption:r,onSetCorruption:s,onUpdateCorruptionNotes:a,advancement:l,onAdjustExperience:o,onSetExperience:c,onUpdateAdvancement:d,health:p,onAdjustHealth:g,onSetHealth:m,onUpdateScar:v,narrative:x,onAddRelationship:j,onRemoveRelationship:k,onUpdateAnchors:f,onUpdateNarrativeNotes:u}){const[h,S]=z.useState(""),y=()=>{h.trim()&&(j(h.trim()),S(""))};return i.jsxs("div",{className:"stage stage--narrative",children:[i.jsx("header",{className:"stage__header",children:i.jsxs("div",{children:[i.jsx("h2",{children:"Narrative & Character Dossier"}),i.jsx("p",{children:"Now that you know who your character is mechanically, bring them to life with narrative details, relationships, and the scars they carry."})]})}),i.jsxs("section",{className:"dossier-panel",children:[i.jsx("h3",{children:"Character Dossier"}),i.jsx("p",{className:"section-description",children:"Complete the narrative picture of your character."}),i.jsxs("div",{className:"dossier-grid",children:[i.jsxs("aside",{className:"dossier-portrait",children:[i.jsx("div",{className:"portrait-frame",children:e.portraitUrl?i.jsx("img",{src:e.portraitUrl,alt:`${e.name||"Character"} portrait`,className:"portrait-image"}):i.jsx("div",{className:"portrait-placeholder",children:"Portrait Pending"})}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Portrait URL (optional)"}),i.jsx("input",{type:"text",value:e.portraitUrl,placeholder:"Link to artwork or leave blank",onChange:N=>t({portraitUrl:N.target.value})})]})]}),i.jsxs("div",{className:"dossier-fields",children:[i.jsxs("div",{className:"field-row",children:[i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Alias"}),i.jsx("input",{type:"text",value:e.alias,placeholder:"Street name, nickname, or title",onChange:N=>t({alias:N.target.value})})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Current Profession"}),i.jsx("input",{type:"text",value:e.currentProfession,placeholder:"How they make ends meet",onChange:N=>t({currentProfession:N.target.value})})]})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Ward of Residence"}),i.jsx("input",{type:"text",value:e.wardOfResidence,placeholder:"Which ward do they call home?",onChange:N=>t({wardOfResidence:N.target.value})})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Backstory"}),i.jsx("textarea",{value:e.backstory,placeholder:"High-level summary you can hand to a new player or GM.",onChange:N=>t({backstory:N.target.value})})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Physical Description"}),i.jsx("textarea",{value:e.physicalDescription,placeholder:"How do they carry themselves? Distinguishing features?",onChange:N=>t({physicalDescription:N.target.value})})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Code"}),i.jsx("textarea",{value:e.code,placeholder:"What guiding principle can they not compromise?",onChange:N=>t({code:N.target.value})})]}),i.jsxs("div",{className:"field-row",children:[i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Line They Will Not Cross"}),i.jsx("textarea",{value:e.lineNotCrossed,placeholder:"The red line that defines them.",onChange:N=>t({lineNotCrossed:N.target.value})})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Temptation"}),i.jsx("textarea",{value:e.temptation,placeholder:"The lure that could make them fall.",onChange:N=>t({temptation:N.target.value})})]})]})]})]})]}),i.jsxs("section",{className:"advancement-panel",children:[i.jsxs("div",{className:"experience-meter",children:[i.jsx("div",{className:"experience-value",children:l.experience}),i.jsx("span",{children:"Experience"}),i.jsxs("div",{className:"experience-controls",children:[i.jsx("button",{type:"button",onClick:()=>o(-1),children:"-1"}),i.jsx("button",{type:"button",onClick:()=>c(0),children:"Reset"}),i.jsx("button",{type:"button",onClick:()=>o(1),children:"+1"})]})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Advancement Track"}),i.jsx("textarea",{value:l.track,onChange:N=>d({track:N.target.value}),placeholder:"What does advancement look like for this character? Training regimens, resources, oaths."})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Milestones"}),i.jsx("textarea",{value:l.milestones,onChange:N=>d({milestones:N.target.value}),placeholder:"Log beats completed, debts paid, or corruption bargains accepted."})]})]}),i.jsxs("section",{className:"corruption-panel",children:[i.jsxs("div",{className:"corruption-meter",children:[i.jsx("div",{className:"corruption-value",children:n.current}),i.jsxs("span",{children:["Threshold ",n.warning]}),i.jsxs("div",{className:"corruption-controls",children:[i.jsx("button",{type:"button",onClick:()=>r(-1),children:"-1"}),i.jsx("button",{type:"button",onClick:()=>s(0),children:"Reset"}),i.jsx("button",{type:"button",onClick:()=>r(1),children:"+1"})]})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Corruption Notes"}),i.jsx("textarea",{value:n.notes,onChange:N=>a(N.target.value),placeholder:"Describe what corruption looks like for this character."})]})]}),i.jsxs("section",{className:"health-grid",children:[i.jsx("h3",{children:"Health by Body Location"}),i.jsx("div",{className:"health-cards",children:Object.keys(ni).map(N=>{const _=p[N],E=ni[N];return i.jsxs("article",{children:[i.jsxs("header",{children:[i.jsx("h4",{children:E}),i.jsxs("span",{children:[_.current," / ",_.max]})]}),i.jsxs("div",{className:"health-controls",children:[i.jsx("button",{type:"button",onClick:()=>g(N,-1),children:"-"}),i.jsx("input",{type:"number",min:0,max:_.max,value:_.current,onChange:C=>m(N,Number(C.target.value))}),i.jsx("button",{type:"button",onClick:()=>g(N,1),children:"+"})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Scars & Notes"}),i.jsx("textarea",{value:_.scar,onChange:C=>v(N,C.target.value),placeholder:"Visible injuries, lingering trauma, prosthetics."})]})]},N)})})]}),i.jsxs("section",{className:"relationships-panel",children:[i.jsxs("div",{className:"relationships-list",children:[i.jsx("h3",{children:"Relationships"}),i.jsxs("div",{className:"relationship-input",children:[i.jsx("input",{value:h,onChange:N=>S(N.target.value),placeholder:"Name  why they matter  leverage"}),i.jsx("button",{type:"button",onClick:y,children:"Add"})]}),x.relationships.length===0?i.jsx("p",{children:"No relationships logged yet."}):i.jsx("ul",{children:x.relationships.map(N=>i.jsxs("li",{children:[i.jsx("span",{children:N}),i.jsx("button",{type:"button",onClick:()=>k(N),children:"Remove"})]},N))})]}),i.jsxs("div",{className:"anchors",children:[i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Anchors"}),i.jsx("textarea",{value:x.anchors,onChange:N=>f(N.target.value),placeholder:"What keeps them tethered to humanity?"})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Other Notes"}),i.jsx("textarea",{value:x.notes,onChange:N=>u(N.target.value),placeholder:"Foreshadow upcoming arcs, unresolved debts, or metaphysical tells."})]})]})]})]})}function zv(){var Kl;const{data:e}=ar(),t=Y(P=>P.ensureActiveBuild),n=Y(P=>P.activeBuildId?P.builds[P.activeBuildId]:null),r=Y(P=>P.setStage),s=Y(P=>P.updateProfile),a=Y(P=>P.assignPriority),l=Y(P=>P.selectLineage),o=Y(P=>P.toggleLineageReveal),c=Y(P=>P.updateLineageNotes),d=Y(P=>P.toggleLineagePower),p=Y(P=>P.clearLineagePowers),g=Y(P=>P.updateResourceNotes),m=Y(P=>P.updateBackground),v=Y(P=>P.addContactResource),x=Y(P=>P.updateContactResource),j=Y(P=>P.removeContactResource),k=Y(P=>P.addRetainerResource),f=Y(P=>P.updateRetainerResource),u=Y(P=>P.removeRetainerResource),h=Y(P=>P.addPropertyResource),S=Y(P=>P.updatePropertyResource),y=Y(P=>P.removePropertyResource),N=Y(P=>P.addGoodsResource),_=Y(P=>P.updateGoodsResource),E=Y(P=>P.removeGoodsResource),C=Y(P=>P.setResourceLiquid),b=Y(P=>P.setSkillRating),L=Y(P=>P.toggleSkillSpecialization),K=Y(P=>P.removeSkillSpecialization),M=Y(P=>P.addCustomSkillSpecialization),R=Y(P=>P.setBackgroundSkillSpecializations),$=Y(P=>P.setBackgroundCustomSpecializations),O=Y(P=>P.updateSkillNotes),V=Y(P=>P.setAttributeScore),A=Y(P=>P.updateAttributeNotes),D=Y(P=>P.toggleAttributeSpecialization),I=Y(P=>P.resetActiveBuild),B=Y(P=>P.adjustExperience),U=Y(P=>P.setExperience),te=Y(P=>P.updateAdvancement),J=Y(P=>P.adjustCorruption),ee=Y(P=>P.setCorruption),G=Y(P=>P.updateCorruptionNotes),q=Y(P=>P.adjustHealth),ie=Y(P=>P.setHealth),Se=Y(P=>P.updateHealthScar),Ze=Y(P=>P.addRelationship),Be=Y(P=>P.removeRelationship),H=Y(P=>P.updateAnchors),ue=Y(P=>P.updateNarrativeNotes),le=xt(P=>P.gmUnlocked);z.useEffect(()=>{t()},[t]);const w=z.useMemo(()=>ql((n==null?void 0:n.lineage.key)??null),[n==null?void 0:n.lineage.key]);if(!e||!n)return null;const Q=Array.isArray(n.lineage.powers)?n.lineage.powers:[],X=n.lineage.key?(Kl=e.powerSets)==null?void 0:Kl[n.lineage.key]:void 0,je=n.background.title?e.backgrounds[n.background.title]:void 0,F=Array.isArray(je==null?void 0:je.skillSpecializationOptions)?je.skillSpecializationOptions:[],_e=(P,kt)=>a(P,kt),ae=P=>a(P,null);let at;switch(n.stage){case"priorities":at=i.jsx(nv,{priorities:n.priorities,onSelect:_e,onClear:ae});break;case"lineage":at=i.jsx(hv,{priorities:n.priorities,selected:n.lineage.key,onSelect:P=>l(P),canReveal:le,revealMechanics:n.lineage.revealMechanics,onToggleReveal:o,notes:n.lineage.notes,onUpdateNotes:c,powerSet:X,powers:Q,onTogglePower:d,onClearPowers:p});break;case"resources":at=i.jsx(jv,{priority:n.priorities.resources,system:e.resources,costs:e.resourceCosts,contacts:n.resources.contacts,retainers:n.resources.retainers,properties:n.resources.properties,goods:n.resources.goods,liquid:n.resources.liquid,onAddContact:v,onUpdateContact:x,onRemoveContact:j,onAddRetainer:k,onUpdateRetainer:f,onRemoveRetainer:u,onAddProperty:h,onUpdateProperty:S,onRemoveProperty:y,onAddGoods:N,onUpdateGoods:_,onRemoveGoods:E,onUpdateLiquid:C,notes:n.resources.notes,onUpdateNotes:g});break;case"background":at=i.jsx(Sv,{priority:n.priorities.background,background:n.background,skills:n.skills,onUpdate:m,onUpdateSpecializations:R,onUpdateCustomSpecializations:$,data:e.backgrounds});break;case"skills":at=i.jsx(_v,{priority:n.priorities.skills,data:e.skills,ratings:n.skills.ratings,onChangeRating:b,specializations:n.skills.specializations,onToggleSpecialization:L,onRemoveSpecialization:K,onAddCustomSpecialization:M,backgroundSpecializations:n.skills.backgroundSpecializations,backgroundCustomSpecializations:n.skills.backgroundCustomSpecializations,backgroundOptions:F,onSetBackgroundSpecializations:R,onSetBackgroundCustomSpecializations:$,notes:n.skills.notes,onUpdateNotes:O});break;case"attributes":at=i.jsx(bv,{priority:n.priorities.attributes,scores:n.attributes.scores,onUpdateScore:(P,kt)=>V(P,kt),notes:n.attributes.notes,onUpdateNotes:A,data:e.attributes,selectedSpecializations:n.attributes.specializations,onToggleSpecialization:D});break;case"narrative":at=i.jsx(Pv,{profile:n.profile,onUpdateProfile:s,corruption:n.corruption,onAdjustCorruption:J,onSetCorruption:ee,onUpdateCorruptionNotes:G,advancement:n.advancement,onAdjustExperience:B,onSetExperience:U,onUpdateAdvancement:te,health:n.health,onAdjustHealth:(P,kt)=>q(P,kt),onSetHealth:(P,kt)=>ie(P,kt),onUpdateScar:(P,kt)=>Se(P,kt),narrative:n.narrative,onAddRelationship:Ze,onRemoveRelationship:Be,onUpdateAnchors:H,onUpdateNarrativeNotes:ue});break;default:at=null}const op=w?{"--lineage-accent":w.aesthetic.accent,"--lineage-glow":w.aesthetic.glow}:void 0;return i.jsxs("div",{className:"min-h-screen px-deco-md py-deco-lg space-y-deco-lg relative sm:px-deco-md px-2",style:op,children:[w&&i.jsx("div",{className:"absolute inset-0 opacity-40 pointer-events-none -z-10",style:{background:w.aesthetic.glow||"radial-gradient(circle at 10% 10%, rgba(212, 175, 55, 0.1), transparent 65%)"}}),i.jsxs("div",{className:"max-w-7xl mx-auto space-y-deco-lg",children:[i.jsx("div",{className:"mb-deco-xl",children:i.jsx(Fg,{build:n,onUpdate:s})}),i.jsx("div",{className:"flex justify-end mb-deco-lg",children:i.jsx("button",{type:"button",onClick:I,className:`px-deco-md py-2 rounded-full border-2 border-sidonia-gold/60
                     bg-sidonia-dark text-sidonia-text hover:border-sidonia-gold
                     font-body text-xs uppercase tracking-wider transition-all duration-300
                     hover:bg-sidonia-gold/5`,children:"Reset Character"})}),i.jsx("div",{className:"mb-deco-xl",children:i.jsx(Zg,{current:n.stage,onNavigate:r})}),i.jsx("div",{className:"stage",children:at})]})]})}function Av(e,t){const n=e.background.title?t.backgrounds[e.background.title]??null:null;return{version:"0.1.0",generatedAt:new Date().toISOString(),profile:e.profile,priorities:e.priorities,lineage:e.lineage,resources:e.resources,background:e.background,skills:e.skills,attributes:e.attributes,corruption:e.corruption,health:e.health,narrative:e.narrative,gmNotes:e.gmNotes,reference:{resources:t.resources,resourceCosts:t.resourceCosts,powerSchemas:t.powerSchemas,attributes:t.attributes,backgrounds:t.backgrounds,selectedBackgroundTemplate:n,characterSheet:t.characterSheet}}}function Rv(e,t){const n=Av(e,t),r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"});sp(`${ip(e.profile.name||e.label)}.json`,r)}function Lv(e){const t=Tv(e),n=new Blob([t],{type:"text/plain"});sp(`${ip(e.profile.name||e.label)}.txt`,n)}function Tv(e){const t=[];t.push(`SIDONIA DOSSIER :: ${e.profile.name||e.label}`),t.push(`Current Profession: ${e.profile.currentProfession}`),t.push(`Ward of Residence: ${e.profile.wardOfResidence}`),t.push(`Backstory: ${e.profile.backstory}`),e.profile.alias&&t.push(`Alias: ${e.profile.alias}`),e.profile.physicalDescription&&t.push(`Physical Description: ${e.profile.physicalDescription}`),e.profile.code&&t.push(`Code: ${e.profile.code}`),e.profile.lineNotCrossed&&t.push(`Line Not Crossed: ${e.profile.lineNotCrossed}`),e.profile.temptation&&t.push(`Temptation: ${e.profile.temptation}`),t.push(""),t.push("Priorities:"),Object.entries(e.priorities).forEach(([s,a])=>{t.push(`  ${s.toUpperCase()}: ${a??"-"}`)}),t.push(""),t.push(`Lineage: ${e.lineage.key??"Unchosen"}`),t.push(`Lineage Notes: ${e.lineage.notes}`),e.lineage.powers.length>0&&(t.push("Selected Lineage Powers:"),e.lineage.powers.forEach(s=>{var o,c,d,p,g,m;const a=[];(o=s.meta)!=null&&o.tierLabel&&a.push(s.meta.tierLabel),(c=s.meta)!=null&&c.sphere&&a.push(s.meta.sphere),(d=s.meta)!=null&&d.moveType&&a.push(s.meta.moveType),(p=s.meta)!=null&&p.branch&&a.push(s.meta.branch),(g=s.meta)!=null&&g.chassis&&a.push(s.meta.chassis),(m=s.meta)!=null&&m.category&&!["esper-base","esper-mentalist"].includes(s.meta.category)&&a.push(s.meta.category);const l=a.length>0?` (${a.join(", ")})`:"";t.push(`  - ${s.label}${l}`)})),t.push(""),t.push("Resources:"),e.resources.contacts.length>0&&(t.push("  Contacts:"),e.resources.contacts.forEach(s=>{const a=s.gmApproved?"":" [GM Approval Required]",l=s.specialization?` (${s.specialization})`:"",o=s.name||"Unnamed Contact";t.push(`    - ${o}${l}${a}`),t.push(`      Reach ${s.reach} / Influence ${s.influence}`),s.description&&t.push(`      ${s.description}`)})),e.resources.retainers.length>0&&(t.push("  Retainers:"),e.resources.retainers.forEach(s=>{const a=s.gmApproved?"":" [GM Approval Required]",l=s.specialization?` (${s.specialization})`:"",o=s.name||"Unnamed Retainer";t.push(`    - ${o}${l}${a}`),t.push(`      Competence ${s.competence} / Loyalty ${s.loyalty}`),s.description&&t.push(`      ${s.description}`)})),e.resources.properties.length>0&&(t.push("  Properties:"),e.resources.properties.forEach(s=>{const a=s.gmApproved?"":" [GM Approval Required]",l=s.specialization?` (${s.specialization})`:"",o=s.name||"Unnamed Property";t.push(`    - ${o}${l}${a}`),t.push(`      Tenure: ${s.tenure||""}  Zoning: ${s.zoning||""}`),s.ward&&t.push(`      Ward: ${s.ward}`),s.description&&t.push(`      ${s.description}`)})),e.resources.goods.length>0&&(t.push("  Goods & Stockpiles:"),e.resources.goods.forEach(s=>{const a=s.gmApproved?"":" [GM Approval Required]",l=s.specialization?` (${s.specialization})`:"",o=s.name||"Unnamed Cache";t.push(`    - ${o}${l}${a}`),t.push(`      Quality ${s.quality}`),s.description&&t.push(`      ${s.description}`)})),t.push(`  Liquid Assets: ${e.resources.liquid}`),t.push(`Resource Notes: ${e.resources.notes}`),t.push(""),t.push(`Background: ${e.background.title}`),t.push(`Details: ${e.background.tierNotes}`),t.push(`Contacts: ${e.background.contacts}`),t.push(""),t.push("Skills:"),Object.entries(e.skills.ratings).forEach(([s,a])=>{a>0&&t.push(`  ${Mv(s)}: ${a}`)});const n=e.skills.specializations.filter(s=>s.type!=="background");n.length>0&&(t.push("Specializations:"),n.forEach(s=>{const a=s.type==="custom"&&!s.gmApproved?" (Pending GM Approval)":"";t.push(`  - ${s.label}${a}`)})),(e.skills.backgroundSpecializations.length>0||e.skills.backgroundCustomSpecializations.length>0)&&(t.push("Background Specializations:"),e.skills.backgroundSpecializations.forEach(s=>{t.push(`  - ${s}`)}),e.skills.backgroundCustomSpecializations.forEach(s=>{t.push(`  - ${s} (Custom)`)})),t.push(`Skill Notes: ${e.skills.notes}`),t.push(""),t.push("Attributes:"),Object.entries(e.attributes.scores).forEach(([s,a])=>{t.push(`  ${s}: ${a}`)});const r=Object.entries(e.attributes.specializations).filter(([,s])=>s.length>0);return r.length>0&&(t.push("Attribute Specializations:"),r.forEach(([s,a])=>{t.push(`  ${s}: ${a.join(", ")}`)})),t.push(`Attribute Notes: ${e.attributes.notes}`),t.push(""),t.push(`Corruption: ${e.corruption.current} / ${e.corruption.warning}`),t.push(`Corruption Notes: ${e.corruption.notes}`),t.push(""),t.push("Health:"),Object.entries(e.health).forEach(([s,a])=>{t.push(`  ${s}: ${a.current}/${a.max} :: ${a.scar}`)}),t.push(""),t.push("Relationships:"),e.narrative.relationships.forEach(s=>t.push(`  - ${s}`)),t.push(`Anchors: ${e.narrative.anchors}`),t.push(`Notes: ${e.narrative.notes}`),e.gmNotes&&(t.push(""),t.push("GM Notes:"),t.push(e.gmNotes)),t.join(`
`)}function sp(e,t){const n=document.createElement("a"),r=URL.createObjectURL(t);n.href=r,n.download=e,n.click(),URL.revokeObjectURL(r)}function ip(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"sidonia-character"}function Mv(e){const[t,n]=e.split(":");return`${jc(t)}  ${jc((n??"").replace(/-/g," "))}`}function jc(e){return e.split(/\s+/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ").trim()}function $v(){const{data:e}=ar(),t=Y(m=>m.builds),n=Y(m=>m.activeBuildId),r=Y(m=>m.createBuild),s=Y(m=>m.setActiveBuild),a=Y(m=>m.archiveBuild),l=Y(m=>m.renameBuild),o=Y(m=>m.duplicateBuild),[c,d]=z.useState(""),p=z.useMemo(()=>Object.values(t).sort((m,v)=>m.updatedAt<v.updatedAt?1:-1),[t]),g=()=>{const m=r(c.trim()||void 0);d(""),s(m)};return e?i.jsx("div",{className:"min-h-screen px-deco-md py-deco-lg",children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-deco-lg",children:[i.jsxs("header",{className:"text-center space-y-deco-sm mb-deco-xl",children:[i.jsx("h1",{className:"text-display-lg text-shadow-gold",children:"Character Management"}),i.jsx("div",{className:"h-px w-32 mx-auto bg-gradient-to-r from-transparent via-sidonia-gold to-transparent"}),i.jsx("p",{className:"text-body text-sidonia-text max-w-2xl mx-auto",children:"Spin up new dossiers, duplicate existing ones, and export packages for your virtual tabletop or print."})]}),i.jsx(Wt,{className:"mb-deco-lg",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-deco-sm items-end",children:[i.jsx("div",{className:"flex-1 w-full",children:i.jsx(Yl,{label:"Name your new dossier",value:c,onChange:m=>d(m.target.value),placeholder:"Untitled Operative"})}),i.jsx(Fe,{variant:"primary",size:"lg",onClick:g,className:"w-full sm:w-auto",children:"Create Character"})]})}),p.length===0&&i.jsx("div",{className:"text-center py-deco-xl",children:i.jsx("p",{className:"text-sidonia-muted font-body",children:"No builds yet. Start by creating a new dossier."})}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:p.map(m=>{const v=m.id===n;return i.jsxs("article",{className:oe("relative bg-sidonia-dark border-2 rounded-lg p-deco-md space-y-deco-sm","transition-all duration-300",v?"border-sidonia-gold shadow-lg shadow-sidonia-gold/20":"border-sidonia-gold/60 hover:border-sidonia-gold"),children:[v&&i.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-full bg-sidonia-gold/20 border border-sidonia-gold",children:i.jsx("span",{className:"text-xs font-display uppercase tracking-wider text-sidonia-gold",children:"Active"})}),i.jsxs("header",{className:"space-y-2",children:[i.jsx("input",{value:m.label,onChange:x=>l(m.id,x.target.value),"aria-label":"Character label",className:`w-full bg-sidonia-black border border-sidonia-gold/50 text-sidonia-text
                             px-deco-sm py-2 rounded font-display text-lg tracking-wider uppercase
                             focus:outline-none focus:ring-1 focus:border-sidonia-gold focus:ring-sidonia-gold/20
                             transition-all duration-300`}),!v&&i.jsx(Fe,{variant:"secondary",size:"sm",onClick:()=>s(m.id),className:"w-full",children:"Set Active"})]}),i.jsxs("dl",{className:"space-y-2 py-deco-sm border-t border-b border-sidonia-gold/60",children:[i.jsxs("div",{children:[i.jsx("dt",{className:"text-label",children:"Name"}),i.jsx("dd",{className:"text-sidonia-text font-body",children:m.profile.name||""})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-label",children:"Profession"}),i.jsx("dd",{className:"text-sidonia-text font-body",children:m.profile.currentProfession||""})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-label",children:"Updated"}),i.jsx("dd",{className:"text-sidonia-text font-body text-sm",children:new Date(m.updatedAt).toLocaleString()})]})]}),i.jsxs("footer",{className:"flex flex-wrap gap-2",children:[i.jsx(Wn,{to:`/sheet/${m.id}`,className:`px-3 py-1.5 rounded-lg border-2 border-sidonia-gold/60 bg-transparent
                             text-sidonia-text hover:border-sidonia-gold hover:bg-sidonia-gold/5
                             text-xs font-body tracking-wide transition-all duration-300 flex-1 text-center`,children:"View Sheet"}),i.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>o(m.id),className:"text-xs flex-1",children:"Duplicate"}),i.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>Rv(m,e),className:"text-xs flex-1",children:"Export JSON"}),i.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>Lv(m),className:"text-xs flex-1",children:"Printable"}),i.jsx(Fe,{variant:"danger",size:"sm",onClick:()=>Iv(m.id,m.label,a),className:"text-xs flex-1",children:"Delete"})]})]},m.id)})})]})}):null}function Iv(e,t,n){window.confirm(`Delete ${t}? This action cannot be undone.`)&&n(e)}function Ov(){const{buildId:e}=hm(),{data:t}=ar(),n=Y(o=>o.builds),r=e?n[e]:null;if(!e||!r)return i.jsx(Vd,{to:"/management",replace:!0});const s=ql(r.lineage.key);r.background.title&&(t==null||t.backgrounds[r.background.title]);const a=Object.values(r.attributes.scores).reduce((o,c)=>o+c,0),l=Object.values(r.skills.ratings).reduce((o,c)=>o+c,0);return i.jsxs("div",{className:"character-sheet",children:[i.jsxs("div",{className:"sheet-header",children:[i.jsx(Wn,{to:"/management",className:"sheet-back-link",children:" Back to Management"}),i.jsx("h1",{className:"sheet-title",children:r.profile.name||r.label}),r.profile.concept&&i.jsx("p",{className:"sheet-concept",children:r.profile.concept})]}),i.jsxs("div",{className:"sheet-container",children:[i.jsxs("section",{className:"sheet-section sheet-identity",children:[i.jsx("h2",{children:"Identity"}),i.jsxs("div",{className:"sheet-identity-grid",children:[r.profile.portraitUrl&&i.jsx("div",{className:"sheet-portrait",children:i.jsx("img",{src:r.profile.portraitUrl,alt:`${r.profile.name} portrait`})}),i.jsxs("div",{className:"sheet-identity-fields",children:[i.jsxs("div",{className:"sheet-field",children:[i.jsx("span",{className:"sheet-label",children:"Alias"}),i.jsx("span",{className:"sheet-value",children:r.profile.alias||""})]}),i.jsxs("div",{className:"sheet-field",children:[i.jsx("span",{className:"sheet-label",children:"Lineage"}),i.jsx("span",{className:"sheet-value",children:(s==null?void 0:s.name)||r.lineage.key||""})]}),i.jsxs("div",{className:"sheet-field",children:[i.jsx("span",{className:"sheet-label",children:"Background"}),i.jsx("span",{className:"sheet-value",children:r.background.title||""})]}),i.jsxs("div",{className:"sheet-field",children:[i.jsx("span",{className:"sheet-label",children:"Current Profession"}),i.jsx("span",{className:"sheet-value",children:r.profile.currentProfession||""})]}),i.jsxs("div",{className:"sheet-field",children:[i.jsx("span",{className:"sheet-label",children:"Ward of Residence"}),i.jsx("span",{className:"sheet-value",children:r.profile.wardOfResidence||""})]})]})]}),r.profile.backstory&&i.jsxs("div",{className:"sheet-field-block",children:[i.jsx("span",{className:"sheet-label",children:"Backstory"}),i.jsx("p",{className:"sheet-text",children:r.profile.backstory})]}),r.profile.physicalDescription&&i.jsxs("div",{className:"sheet-field-block",children:[i.jsx("span",{className:"sheet-label",children:"Physical Description"}),i.jsx("p",{className:"sheet-text",children:r.profile.physicalDescription})]})]}),i.jsxs("section",{className:"sheet-section sheet-attributes",children:[i.jsxs("h2",{children:["Attributes (",a," points)"]}),i.jsx("div",{className:"sheet-attributes-grid",children:Object.entries(r.attributes.scores).map(([o,c])=>{const d=r.attributes.specializations[o]||[];return i.jsxs("div",{className:"sheet-attribute",children:[i.jsxs("div",{className:"sheet-attribute-header",children:[i.jsx("span",{className:"sheet-attribute-name",children:o.charAt(0).toUpperCase()+o.slice(1)}),i.jsx("span",{className:"sheet-attribute-value",children:c})]}),d.length>0&&i.jsx("div",{className:"sheet-attribute-specs",children:d.map(p=>i.jsx("span",{className:"sheet-spec-tag",children:p},p))})]},o)})})]}),i.jsxs("section",{className:"sheet-section sheet-skills",children:[i.jsxs("h2",{children:["Skills (",l," ratings)"]}),i.jsx("div",{className:"sheet-skills-list",children:Object.entries(r.skills.ratings).filter(([,o])=>o>0).sort(([,o],[,c])=>c-o).map(([o,c])=>{const[d,p]=o.split(":"),g=p.split("-").map(v=>v.charAt(0).toUpperCase()+v.slice(1)).join(" "),m=r.skills.specializations.filter(v=>v.skillId===o);return i.jsxs("div",{className:"sheet-skill",children:[i.jsxs("div",{className:"sheet-skill-header",children:[i.jsx("span",{className:"sheet-skill-name",children:g}),i.jsxs("span",{className:"sheet-skill-rating",children:["".repeat(c),"".repeat(5-c)]})]}),m.length>0&&i.jsx("div",{className:"sheet-skill-specs",children:m.map(v=>i.jsxs("span",{className:"sheet-spec-tag",children:[v.label,v.type==="custom"&&!v.gmApproved&&" [Pending GM Approval]"]},v.id))})]},o)})}),r.skills.backgroundSpecializations.length>0&&i.jsxs("div",{className:"sheet-field-block",children:[i.jsx("span",{className:"sheet-label",children:"Background Specializations"}),i.jsx("div",{className:"sheet-spec-list",children:r.skills.backgroundSpecializations.map(o=>i.jsx("span",{className:"sheet-spec-tag",children:o},o))})]})]}),r.lineage.powers.length>0&&i.jsxs("section",{className:"sheet-section sheet-powers",children:[i.jsx("h2",{children:"Lineage Powers"}),i.jsx("div",{className:"sheet-powers-list",children:r.lineage.powers.map((o,c)=>i.jsxs("div",{className:"sheet-power",children:[i.jsx("span",{className:"sheet-power-name",children:o.label}),o.meta&&i.jsxs("div",{className:"sheet-power-meta",children:[o.meta.tierLabel&&i.jsx("span",{className:"sheet-power-tier",children:o.meta.tierLabel}),o.meta.sphere&&i.jsx("span",{className:"sheet-power-detail",children:o.meta.sphere}),o.meta.moveType&&i.jsx("span",{className:"sheet-power-detail",children:o.meta.moveType}),o.meta.category&&i.jsx("span",{className:"sheet-power-detail",children:o.meta.category})]})]},o.id||c))})]}),i.jsxs("section",{className:"sheet-section sheet-resources",children:[i.jsx("h2",{children:"Resources"}),r.resources.contacts.length>0&&i.jsxs("div",{className:"sheet-resource-group",children:[i.jsx("h3",{children:"Contacts"}),r.resources.contacts.map((o,c)=>i.jsxs("div",{className:"sheet-resource-item",children:[i.jsxs("div",{className:"sheet-resource-header",children:[i.jsx("span",{className:"sheet-resource-name",children:o.name||"Unnamed Contact"}),o.specialization&&i.jsxs("span",{className:"sheet-resource-spec",children:["(",o.specialization,")"]})]}),i.jsxs("div",{className:"sheet-resource-stats",children:["Reach ",o.reach,"  Influence ",o.influence,!o.gmApproved&&i.jsx("span",{className:"sheet-pending",children:" [GM Approval Required]"})]}),o.description&&i.jsx("p",{className:"sheet-resource-desc",children:o.description})]},c))]}),r.resources.retainers.length>0&&i.jsxs("div",{className:"sheet-resource-group",children:[i.jsx("h3",{children:"Retainers"}),r.resources.retainers.map((o,c)=>i.jsxs("div",{className:"sheet-resource-item",children:[i.jsxs("div",{className:"sheet-resource-header",children:[i.jsx("span",{className:"sheet-resource-name",children:o.name||"Unnamed Retainer"}),o.specialization&&i.jsxs("span",{className:"sheet-resource-spec",children:["(",o.specialization,")"]})]}),i.jsxs("div",{className:"sheet-resource-stats",children:["Competence ",o.competence,"  Loyalty ",o.loyalty,!o.gmApproved&&i.jsx("span",{className:"sheet-pending",children:" [GM Approval Required]"})]}),o.description&&i.jsx("p",{className:"sheet-resource-desc",children:o.description})]},c))]}),r.resources.properties.length>0&&i.jsxs("div",{className:"sheet-resource-group",children:[i.jsx("h3",{children:"Properties"}),r.resources.properties.map((o,c)=>i.jsxs("div",{className:"sheet-resource-item",children:[i.jsxs("div",{className:"sheet-resource-header",children:[i.jsx("span",{className:"sheet-resource-name",children:o.name||"Unnamed Property"}),o.specialization&&i.jsxs("span",{className:"sheet-resource-spec",children:["(",o.specialization,")"]})]}),i.jsxs("div",{className:"sheet-resource-stats",children:[o.tenure,"  ",o.zoning,o.ward&&`  Ward ${o.ward}`,!o.gmApproved&&i.jsx("span",{className:"sheet-pending",children:" [GM Approval Required]"})]}),o.description&&i.jsx("p",{className:"sheet-resource-desc",children:o.description})]},c))]}),r.resources.goods.length>0&&i.jsxs("div",{className:"sheet-resource-group",children:[i.jsx("h3",{children:"Goods & Stockpiles"}),r.resources.goods.map((o,c)=>i.jsxs("div",{className:"sheet-resource-item",children:[i.jsxs("div",{className:"sheet-resource-header",children:[i.jsx("span",{className:"sheet-resource-name",children:o.name||"Unnamed Cache"}),o.specialization&&i.jsxs("span",{className:"sheet-resource-spec",children:["(",o.specialization,")"]})]}),i.jsxs("div",{className:"sheet-resource-stats",children:["Quality ",o.quality,!o.gmApproved&&i.jsx("span",{className:"sheet-pending",children:" [GM Approval Required]"})]}),o.description&&i.jsx("p",{className:"sheet-resource-desc",children:o.description})]},c))]}),i.jsxs("div",{className:"sheet-field",children:[i.jsx("span",{className:"sheet-label",children:"Liquid Assets"}),i.jsx("span",{className:"sheet-value",children:r.resources.liquid})]})]}),i.jsxs("section",{className:"sheet-section sheet-health",children:[i.jsx("h2",{children:"Health by Location"}),i.jsx("div",{className:"sheet-health-grid",children:Object.keys(ni).map(o=>{const c=r.health[o];return i.jsxs("div",{className:"sheet-health-location",children:[i.jsxs("div",{className:"sheet-health-header",children:[i.jsx("span",{className:"sheet-health-name",children:ni[o]}),i.jsxs("span",{className:"sheet-health-value",children:[c.current," / ",c.max]})]}),c.scar&&i.jsx("p",{className:"sheet-health-scar",children:c.scar})]},o)})})]}),i.jsxs("section",{className:"sheet-section sheet-corruption",children:[i.jsx("h2",{children:"Corruption & Advancement"}),i.jsxs("div",{className:"sheet-stat-row",children:[i.jsxs("div",{className:"sheet-stat",children:[i.jsx("span",{className:"sheet-label",children:"Corruption"}),i.jsxs("span",{className:"sheet-value",children:[r.corruption.current," / ",r.corruption.warning]})]}),i.jsxs("div",{className:"sheet-stat",children:[i.jsx("span",{className:"sheet-label",children:"Experience"}),i.jsx("span",{className:"sheet-value",children:r.advancement.experience})]})]}),r.corruption.notes&&i.jsxs("div",{className:"sheet-field-block",children:[i.jsx("span",{className:"sheet-label",children:"Corruption Notes"}),i.jsx("p",{className:"sheet-text",children:r.corruption.notes})]})]}),i.jsxs("section",{className:"sheet-section sheet-narrative",children:[i.jsx("h2",{children:"Narrative Details"}),r.profile.code&&i.jsxs("div",{className:"sheet-field-block",children:[i.jsx("span",{className:"sheet-label",children:"Code"}),i.jsx("p",{className:"sheet-text",children:r.profile.code})]}),r.profile.lineNotCrossed&&i.jsxs("div",{className:"sheet-field-block",children:[i.jsx("span",{className:"sheet-label",children:"Line Not Crossed"}),i.jsx("p",{className:"sheet-text",children:r.profile.lineNotCrossed})]}),r.profile.temptation&&i.jsxs("div",{className:"sheet-field-block",children:[i.jsx("span",{className:"sheet-label",children:"Temptation"}),i.jsx("p",{className:"sheet-text",children:r.profile.temptation})]}),r.narrative.relationships.length>0&&i.jsxs("div",{className:"sheet-field-block",children:[i.jsx("span",{className:"sheet-label",children:"Relationships"}),i.jsx("ul",{className:"sheet-list",children:r.narrative.relationships.map((o,c)=>i.jsx("li",{children:o},c))})]}),r.narrative.anchors&&i.jsxs("div",{className:"sheet-field-block",children:[i.jsx("span",{className:"sheet-label",children:"Anchors"}),i.jsx("p",{className:"sheet-text",children:r.narrative.anchors})]})]})]})]})}function Dv(){const{data:e}=ar(),t=xt(v=>v.gmUnlocked),n=xt(v=>v.authenticateGm),r=xt(v=>v.lockGm),s=xt(v=>v.gmUnlockedAt),[a,l]=z.useState(""),[o,c]=z.useState(null),d=(e==null?void 0:e.designDocs)??[],p=(e==null?void 0:e.powerSchemas)??{},g=v=>{v.preventDefault(),n(a)?(c(null),l("")):(c("Access denied. Double-check the veil phrase."),re.track("gm.invalid_passphrase",{}))},m=z.useMemo(()=>Object.entries(p),[p]);return i.jsx("div",{className:"min-h-screen px-deco-md py-deco-lg",children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-deco-lg",children:[i.jsxs("header",{className:"text-center space-y-deco-sm",children:[i.jsx("h1",{className:"text-display-lg text-corruption-red text-shadow-gold",children:"GM Veil"}),i.jsx("div",{className:"h-px w-32 mx-auto bg-gradient-to-r from-transparent via-corruption-red to-transparent"}),i.jsx("p",{className:"text-body text-sidonia-text/80 max-w-2xl mx-auto",children:"Hidden truths live here. Only game masters with the veil phrase may cross. Player tables should never see the material below."})]}),!t&&i.jsx(Wt,{className:"max-w-2xl mx-auto",children:i.jsxs("form",{onSubmit:g,className:"space-y-deco-sm",children:[i.jsx(Yl,{label:"Veil Phrase",value:a,onChange:v=>l(v.target.value),placeholder:"Enter the GM veil phrase",autoComplete:"off",error:o||void 0}),i.jsx(Fe,{variant:"danger",size:"lg",type:"submit",className:"w-full animate-corruption-glow",children:"Slip Behind the Veil"})]})}),t&&i.jsxs("div",{className:"space-y-deco-lg",children:[i.jsx(Wt,{className:"bg-corruption-dark/20 border-corruption-red/40",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-deco-sm",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-display text-2xl tracking-wider uppercase text-corruption-red",children:"Veil Raised"}),i.jsxs("p",{className:"text-sidonia-text/70 font-body text-sm mt-1",children:["Unlocked ",s?new Date(s).toLocaleString():"just now","."]})]}),i.jsx(Fe,{variant:"secondary",onClick:r,children:"Re-engage Safety"})]})}),i.jsxs("section",{className:"space-y-deco-sm",children:[i.jsx("h2",{className:"font-display text-3xl tracking-wider uppercase text-sidonia-gold",children:"Power Schemas"}),i.jsx("p",{className:"text-sidonia-text/70 font-body",children:"Raw schema data for powers, lineages, and their restrictions. Export directly for system reference."}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-deco-sm",children:m.map(([v,x])=>i.jsxs(Wt,{className:"space-y-deco-sm",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("h3",{className:"font-display text-lg tracking-wide uppercase text-sidonia-brass",children:Bv(v)}),i.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>ap(`${v}-schema.json`,x),className:"text-xs flex-shrink-0",children:"Download"})]}),i.jsxs("pre",{className:`max-h-[200px] overflow-auto p-deco-sm rounded bg-sidonia-black/60
                                   text-sidonia-text/80 font-mono text-xs border border-sidonia-gold/20`,children:[JSON.stringify(x,null,2).slice(0,400),""]})]},v))})]}),i.jsxs("section",{className:"space-y-deco-sm",children:[i.jsx("h2",{className:"font-display text-3xl tracking-wider uppercase text-sidonia-gold",children:"Design Documents"}),i.jsx("p",{className:"text-sidonia-text/70 font-body",children:"Reference briefs written for GM eyes. Share selectively with players as the narrative reveals itself."}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-deco-sm",children:d.map(v=>i.jsxs(Wt,{className:"space-y-deco-sm",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("h3",{className:"font-display text-lg tracking-wide uppercase text-sidonia-brass",children:v.title}),i.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>Uv(`${v.id}.md`,v.content),className:"text-xs flex-shrink-0",children:"Download"})]}),i.jsxs("pre",{className:`max-h-[200px] overflow-auto p-deco-sm rounded bg-sidonia-black/60
                                   text-sidonia-text/80 font-mono text-xs border border-sidonia-gold/20 whitespace-pre-wrap`,children:[v.content.slice(0,400),""]})]},v.id))})]}),i.jsxs("section",{className:"space-y-deco-sm",children:[i.jsx("h2",{className:"font-display text-3xl tracking-wider uppercase text-sidonia-gold",children:"Analytics Buffer"}),i.jsx("p",{className:"text-sidonia-text/70 font-body",children:"Inspect anonymized analytics currently stored locally. Export before sharing with designers."}),i.jsx(Wt,{children:i.jsx(Fv,{})})]})]})]})})}function Bv(e){return e.split(/[-_]/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function ap(e,t){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"});lp(e,n)}function Uv(e,t){const n=new Blob([t],{type:"text/plain"});lp(e,n)}function lp(e,t){const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,r.click(),URL.revokeObjectURL(n)}function Fv(){const e=xt(n=>n.analyticsConsent),t=re.getAll();return e!=="accepted"?i.jsx("p",{className:"text-sidonia-muted font-body text-center py-deco-md",children:"Analytics collection is currently disabled or declined."}):t.length===0?i.jsx("p",{className:"text-sidonia-muted font-body text-center py-deco-md",children:"No analytics entries recorded yet."}):i.jsxs("div",{className:"space-y-deco-sm",children:[i.jsx(Fe,{variant:"secondary",size:"md",onClick:()=>ap("sidonia-analytics.json",t),children:"Export Analytics Buffer"}),i.jsx("ul",{className:"list-none p-0 m-0 space-y-2 max-h-[220px] overflow-auto",children:t.map(n=>i.jsxs("li",{className:`grid grid-cols-[auto_auto_1fr] gap-2 bg-sidonia-black/40 p-deco-sm rounded
                     border border-sidonia-gold/20 items-center`,children:[i.jsx("strong",{className:"text-sidonia-gold font-display text-xs uppercase tracking-wide",children:n.event}),i.jsx("span",{className:"text-sidonia-muted font-mono text-xs",children:new Date(n.timestamp).toLocaleTimeString()}),n.data&&i.jsx("code",{className:"text-sidonia-text/60 font-mono text-xs overflow-hidden text-ellipsis",children:JSON.stringify(n.data)})]},`${n.event}-${n.timestamp}`))})]})}function Wv(){return i.jsxs("div",{className:"loading-spinner",role:"status","aria-live":"polite",children:[i.jsx("div",{className:"loading-spinner__glow"}),i.jsx("span",{className:"loading-spinner__label",children:"Loading the Veil"})]})}function Hv(){const{status:e,error:t,refresh:n}=ar();let r;return e==="idle"||e==="loading"?r=i.jsx(Wv,{}):e==="error"?r=i.jsxs("div",{children:[i.jsx("h2",{children:"We lost the signal."}),i.jsxs("p",{children:["Character data failed to load. ",t]}),i.jsx("button",{type:"button",onClick:n,children:"Retry"})]}):r=i.jsxs(Pm,{children:[i.jsx(un,{path:"/",element:i.jsx(Ug,{})}),i.jsx(un,{path:"/builder",element:i.jsx(zv,{})}),i.jsx(un,{path:"/management",element:i.jsx($v,{})}),i.jsx(un,{path:"/sheet/:buildId",element:i.jsx(Ov,{})}),i.jsx(un,{path:"/gm",element:i.jsx(Dv,{})}),i.jsx(un,{path:"*",element:i.jsx(Vd,{to:"/",replace:!0})})]}),i.jsx(Bg,{children:r})}ea.createRoot(document.getElementById("root")).render(i.jsx(tl.StrictMode,{children:i.jsx(Im,{children:i.jsx($g,{children:i.jsx(Hv,{})})})}));
