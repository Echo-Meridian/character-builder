var op=Object.defineProperty;var ap=(e,t,n)=>t in e?op(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ki=(e,t,n)=>ap(e,typeof t!="symbol"?t+"":t,n);function cp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function xc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jc={exports:{}},ni={},wc={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qr=Symbol.for("react.element"),up=Symbol.for("react.portal"),dp=Symbol.for("react.fragment"),pp=Symbol.for("react.strict_mode"),fp=Symbol.for("react.profiler"),hp=Symbol.for("react.provider"),mp=Symbol.for("react.context"),gp=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),yp=Symbol.for("react.memo"),xp=Symbol.for("react.lazy"),Yo=Symbol.iterator;function jp(e){return e===null||typeof e!="object"?null:(e=Yo&&e[Yo]||e["@@iterator"],typeof e=="function"?e:null)}var kc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Sc=Object.assign,Nc={};function Zn(e,t,n){this.props=e,this.context=t,this.refs=Nc,this.updater=n||kc}Zn.prototype.isReactComponent={};Zn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Cc(){}Cc.prototype=Zn.prototype;function Kl(e,t,n){this.props=e,this.context=t,this.refs=Nc,this.updater=n||kc}var Jl=Kl.prototype=new Cc;Jl.constructor=Kl;Sc(Jl,Zn.prototype);Jl.isPureReactComponent=!0;var Ko=Array.isArray,_c=Object.prototype.hasOwnProperty,Xl={current:null},Ec={key:!0,ref:!0,__self:!0,__source:!0};function Pc(e,t,n){var r,s={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)_c.call(t,r)&&!Ec.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Qr,type:e,key:l,ref:o,props:s,_owner:Xl.current}}function wp(e,t){return{$$typeof:Qr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Qr}function kp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Jo=/\/+/g;function Si(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kp(""+e.key):t.toString(36)}function gs(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Qr:case up:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+Si(o,0):r,Ko(s)?(n="",e!=null&&(n=e.replace(Jo,"$&/")+"/"),gs(s,t,n,"",function(d){return d})):s!=null&&(Zl(s)&&(s=wp(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Jo,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ko(e))for(var a=0;a<e.length;a++){l=e[a];var c=r+Si(l,a);o+=gs(l,t,n,c,s)}else if(c=jp(e),typeof c=="function")for(e=c.call(e),a=0;!(l=e.next()).done;)l=l.value,c=r+Si(l,a++),o+=gs(l,t,n,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Zr(e,t,n){if(e==null)return e;var r=[],s=0;return gs(e,r,"","",function(l){return t.call(n,l,s++)}),r}function Sp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ie={current:null},vs={transition:null},Np={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:vs,ReactCurrentOwner:Xl};function zc(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Zr,forEach:function(e,t,n){Zr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Zr(e,function(){t++}),t},toArray:function(e){return Zr(e,function(t){return t})||[]},only:function(e){if(!Zl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=Zn;ee.Fragment=dp;ee.Profiler=fp;ee.PureComponent=Kl;ee.StrictMode=pp;ee.Suspense=vp;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Np;ee.act=zc;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Sc({},e.props),s=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Xl.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)_c.call(t,c)&&!Ec.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Qr,type:e.type,key:s,ref:l,props:r,_owner:o}};ee.createContext=function(e){return e={$$typeof:mp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hp,_context:e},e.Consumer=e};ee.createElement=Pc;ee.createFactory=function(e){var t=Pc.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:gp,render:e}};ee.isValidElement=Zl;ee.lazy=function(e){return{$$typeof:xp,_payload:{_status:-1,_result:e},_init:Sp}};ee.memo=function(e,t){return{$$typeof:yp,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=vs.transition;vs.transition={};try{e()}finally{vs.transition=t}};ee.unstable_act=zc;ee.useCallback=function(e,t){return Ie.current.useCallback(e,t)};ee.useContext=function(e){return Ie.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return Ie.current.useDeferredValue(e)};ee.useEffect=function(e,t){return Ie.current.useEffect(e,t)};ee.useId=function(){return Ie.current.useId()};ee.useImperativeHandle=function(e,t,n){return Ie.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return Ie.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Ie.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Ie.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return Ie.current.useReducer(e,t,n)};ee.useRef=function(e){return Ie.current.useRef(e)};ee.useState=function(e){return Ie.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return Ie.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return Ie.current.useTransition()};ee.version="18.3.1";wc.exports=ee;var R=wc.exports;const eo=xc(R),Cp=cp({__proto__:null,default:eo},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=R,Ep=Symbol.for("react.element"),Pp=Symbol.for("react.fragment"),zp=Object.prototype.hasOwnProperty,Rp=_p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bp={key:!0,ref:!0,__self:!0,__source:!0};function Rc(e,t,n){var r,s={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)zp.call(t,r)&&!bp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Ep,type:e,key:l,ref:o,props:s,_owner:Rp.current}}ni.Fragment=Pp;ni.jsx=Rc;ni.jsxs=Rc;jc.exports=ni;var i=jc.exports,Zi={},bc={exports:{}},Ke={},Ac={exports:{}},Tc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(b,D){var T=b.length;b.push(D);e:for(;0<T;){var G=T-1>>>1,V=b[G];if(0<s(V,D))b[G]=D,b[T]=V,T=G;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var D=b[0],T=b.pop();if(T!==D){b[0]=T;e:for(var G=0,V=b.length,ne=V>>>1;G<ne;){var X=2*(G+1)-1,te=b[X],W=X+1,q=b[W];if(0>s(te,T))W<V&&0>s(q,te)?(b[G]=q,b[W]=T,G=W):(b[G]=te,b[X]=T,G=X);else if(W<V&&0>s(q,T))b[G]=q,b[W]=T,G=W;else break e}}return D}function s(b,D){var T=b.sortIndex-D.sortIndex;return T!==0?T:b.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],d=[],p=1,g=null,m=3,v=!1,x=!1,w=!1,k=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(b){for(var D=n(d);D!==null;){if(D.callback===null)r(d);else if(D.startTime<=b)r(d),D.sortIndex=D.expirationTime,t(c,D);else break;D=n(d)}}function y(b){if(w=!1,f(b),!x)if(n(c)!==null)x=!0,O(j);else{var D=n(d);D!==null&&Q(y,D.startTime-b)}}function j(b,D){x=!1,w&&(w=!1,h(_),_=-1),v=!0;var T=m;try{for(f(D),g=n(c);g!==null&&(!(g.expirationTime>D)||b&&!A());){var G=g.callback;if(typeof G=="function"){g.callback=null,m=g.priorityLevel;var V=G(g.expirationTime<=D);D=e.unstable_now(),typeof V=="function"?g.callback=V:g===n(c)&&r(c),f(D)}else r(c);g=n(c)}if(g!==null)var ne=!0;else{var X=n(d);X!==null&&Q(y,X.startTime-D),ne=!1}return ne}finally{g=null,m=T,v=!1}}var E=!1,C=null,_=-1,N=5,P=-1;function A(){return!(e.unstable_now()-P<N)}function K(){if(C!==null){var b=e.unstable_now();P=b;var D=!0;try{D=C(!0,b)}finally{D?M():(E=!1,C=null)}}else E=!1}var M;if(typeof u=="function")M=function(){u(K)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,I=L.port2;L.port1.onmessage=K,M=function(){I.postMessage(null)}}else M=function(){k(K,0)};function O(b){C=b,E||(E=!0,M())}function Q(b,D){_=k(function(){b(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(b){b.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,O(j))},e.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<b?Math.floor(1e3/b):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(b){switch(m){case 1:case 2:case 3:var D=3;break;default:D=m}var T=m;m=D;try{return b()}finally{m=T}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(b,D){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var T=m;m=b;try{return D()}finally{m=T}},e.unstable_scheduleCallback=function(b,D,T){var G=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?G+T:G):T=G,b){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=T+V,b={id:p++,callback:D,priorityLevel:b,startTime:T,expirationTime:V,sortIndex:-1},T>G?(b.sortIndex=T,t(d,b),n(c)===null&&b===n(d)&&(w?(h(_),_=-1):w=!0,Q(y,T-G))):(b.sortIndex=V,t(c,b),x||v||(x=!0,O(j))),b},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(b){var D=m;return function(){var T=m;m=D;try{return b.apply(this,arguments)}finally{m=T}}}})(Tc);Ac.exports=Tc;var Ap=Ac.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tp=R,Ye=Ap;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lc=new Set,_r={};function wn(e,t){Wn(e,t),Wn(e+"Capture",t)}function Wn(e,t){for(_r[e]=t,e=0;e<t.length;e++)Lc.add(t[e])}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),el=Object.prototype.hasOwnProperty,Lp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xo={},Zo={};function $p(e){return el.call(Zo,e)?!0:el.call(Xo,e)?!1:Lp.test(e)?Zo[e]=!0:(Xo[e]=!0,!1)}function Mp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ip(e,t,n,r){if(t===null||typeof t>"u"||Mp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oe(e,t,n,r,s,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var to=/[\-:]([a-z])/g;function no(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(to,no);Re[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(to,no);Re[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(to,no);Re[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function ro(e,t,n,r){var s=Re.hasOwnProperty(t)?Re[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ip(t,n,s,r)&&(n=null),r||s===null?$p(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Tt=Tp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,es=Symbol.for("react.element"),Cn=Symbol.for("react.portal"),_n=Symbol.for("react.fragment"),so=Symbol.for("react.strict_mode"),tl=Symbol.for("react.profiler"),$c=Symbol.for("react.provider"),Mc=Symbol.for("react.context"),io=Symbol.for("react.forward_ref"),nl=Symbol.for("react.suspense"),rl=Symbol.for("react.suspense_list"),lo=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Ic=Symbol.for("react.offscreen"),ea=Symbol.iterator;function ir(e){return e===null||typeof e!="object"?null:(e=ea&&e[ea]||e["@@iterator"],typeof e=="function"?e:null)}var ye=Object.assign,Ni;function fr(e){if(Ni===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ni=t&&t[1]||""}return`
`+Ni+e}var Ci=!1;function _i(e,t){if(!e||Ci)return"";Ci=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),l=r.stack.split(`
`),o=s.length-1,a=l.length-1;1<=o&&0<=a&&s[o]!==l[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==l[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==l[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{Ci=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fr(e):""}function Op(e){switch(e.tag){case 5:return fr(e.type);case 16:return fr("Lazy");case 13:return fr("Suspense");case 19:return fr("SuspenseList");case 0:case 2:case 15:return e=_i(e.type,!1),e;case 11:return e=_i(e.type.render,!1),e;case 1:return e=_i(e.type,!0),e;default:return""}}function sl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _n:return"Fragment";case Cn:return"Portal";case tl:return"Profiler";case so:return"StrictMode";case nl:return"Suspense";case rl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mc:return(e.displayName||"Context")+".Consumer";case $c:return(e._context.displayName||"Context")+".Provider";case io:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lo:return t=e.displayName||null,t!==null?t:sl(e.type)||"Memo";case Ot:t=e._payload,e=e._init;try{return sl(e(t))}catch{}}return null}function Dp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sl(t);case 8:return t===so?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function tn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Oc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Bp(e){var t=Oc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ts(e){e._valueTracker||(e._valueTracker=Bp(e))}function Dc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Oc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Rs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function il(e,t){var n=t.checked;return ye({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ta(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=tn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Bc(e,t){t=t.checked,t!=null&&ro(e,"checked",t,!1)}function ll(e,t){Bc(e,t);var n=tn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ol(e,t.type,n):t.hasOwnProperty("defaultValue")&&ol(e,t.type,tn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function na(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ol(e,t,n){(t!=="number"||Rs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var hr=Array.isArray;function In(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+tn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function al(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return ye({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ra(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(hr(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:tn(n)}}function Uc(e,t){var n=tn(t.value),r=tn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function sa(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Fc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Fc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ns,Wc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ns=ns||document.createElement("div"),ns.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ns.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Er(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Up=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(e){Up.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vr[t]=vr[e]})});function Hc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vr.hasOwnProperty(e)&&vr[e]?(""+t).trim():t+"px"}function Vc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Hc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Fp=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ul(e,t){if(t){if(Fp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function dl(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pl=null;function oo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fl=null,On=null,Dn=null;function ia(e){if(e=Kr(e)){if(typeof fl!="function")throw Error($(280));var t=e.stateNode;t&&(t=oi(t),fl(e.stateNode,e.type,t))}}function Gc(e){On?Dn?Dn.push(e):Dn=[e]:On=e}function Qc(){if(On){var e=On,t=Dn;if(Dn=On=null,ia(e),t)for(e=0;e<t.length;e++)ia(t[e])}}function qc(e,t){return e(t)}function Yc(){}var Ei=!1;function Kc(e,t,n){if(Ei)return e(t,n);Ei=!0;try{return qc(e,t,n)}finally{Ei=!1,(On!==null||Dn!==null)&&(Yc(),Qc())}}function Pr(e,t){var n=e.stateNode;if(n===null)return null;var r=oi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var hl=!1;if(zt)try{var lr={};Object.defineProperty(lr,"passive",{get:function(){hl=!0}}),window.addEventListener("test",lr,lr),window.removeEventListener("test",lr,lr)}catch{hl=!1}function Wp(e,t,n,r,s,l,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var yr=!1,bs=null,As=!1,ml=null,Hp={onError:function(e){yr=!0,bs=e}};function Vp(e,t,n,r,s,l,o,a,c){yr=!1,bs=null,Wp.apply(Hp,arguments)}function Gp(e,t,n,r,s,l,o,a,c){if(Vp.apply(this,arguments),yr){if(yr){var d=bs;yr=!1,bs=null}else throw Error($(198));As||(As=!0,ml=d)}}function kn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Jc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function la(e){if(kn(e)!==e)throw Error($(188))}function Qp(e){var t=e.alternate;if(!t){if(t=kn(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return la(s),e;if(l===r)return la(s),t;l=l.sibling}throw Error($(188))}if(n.return!==r.return)n=s,r=l;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=l;break}if(a===r){o=!0,r=s,n=l;break}a=a.sibling}if(!o){for(a=l.child;a;){if(a===n){o=!0,n=l,r=s;break}if(a===r){o=!0,r=l,n=s;break}a=a.sibling}if(!o)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function Xc(e){return e=Qp(e),e!==null?Zc(e):null}function Zc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zc(e);if(t!==null)return t;e=e.sibling}return null}var eu=Ye.unstable_scheduleCallback,oa=Ye.unstable_cancelCallback,qp=Ye.unstable_shouldYield,Yp=Ye.unstable_requestPaint,we=Ye.unstable_now,Kp=Ye.unstable_getCurrentPriorityLevel,ao=Ye.unstable_ImmediatePriority,tu=Ye.unstable_UserBlockingPriority,Ts=Ye.unstable_NormalPriority,Jp=Ye.unstable_LowPriority,nu=Ye.unstable_IdlePriority,ri=null,xt=null;function Xp(e){if(xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(ri,e,void 0,(e.current.flags&128)===128)}catch{}}var ut=Math.clz32?Math.clz32:tf,Zp=Math.log,ef=Math.LN2;function tf(e){return e>>>=0,e===0?32:31-(Zp(e)/ef|0)|0}var rs=64,ss=4194304;function mr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ls(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=mr(a):(l&=o,l!==0&&(r=mr(l)))}else o=n&~s,o!==0?r=mr(o):l!==0&&(r=mr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ut(t),s=1<<n,r|=e[n],t&=~s;return r}function nf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-ut(l),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=nf(a,t)):c<=t&&(e.expiredLanes|=a),l&=~a}}function gl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ru(){var e=rs;return rs<<=1,!(rs&4194240)&&(rs=64),e}function Pi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ut(t),e[t]=n}function sf(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ut(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function co(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ut(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var oe=0;function su(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var iu,uo,lu,ou,au,vl=!1,is=[],Gt=null,Qt=null,qt=null,zr=new Map,Rr=new Map,Bt=[],lf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function aa(e,t){switch(e){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rr.delete(t.pointerId)}}function or(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=Kr(t),t!==null&&uo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function of(e,t,n,r,s){switch(t){case"focusin":return Gt=or(Gt,e,t,n,r,s),!0;case"dragenter":return Qt=or(Qt,e,t,n,r,s),!0;case"mouseover":return qt=or(qt,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return zr.set(l,or(zr.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,Rr.set(l,or(Rr.get(l)||null,e,t,n,r,s)),!0}return!1}function cu(e){var t=dn(e.target);if(t!==null){var n=kn(t);if(n!==null){if(t=n.tag,t===13){if(t=Jc(n),t!==null){e.blockedOn=t,au(e.priority,function(){lu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ys(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=yl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);pl=r,n.target.dispatchEvent(r),pl=null}else return t=Kr(n),t!==null&&uo(t),e.blockedOn=n,!1;t.shift()}return!0}function ca(e,t,n){ys(e)&&n.delete(t)}function af(){vl=!1,Gt!==null&&ys(Gt)&&(Gt=null),Qt!==null&&ys(Qt)&&(Qt=null),qt!==null&&ys(qt)&&(qt=null),zr.forEach(ca),Rr.forEach(ca)}function ar(e,t){e.blockedOn===t&&(e.blockedOn=null,vl||(vl=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,af)))}function br(e){function t(s){return ar(s,e)}if(0<is.length){ar(is[0],e);for(var n=1;n<is.length;n++){var r=is[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Gt!==null&&ar(Gt,e),Qt!==null&&ar(Qt,e),qt!==null&&ar(qt,e),zr.forEach(t),Rr.forEach(t),n=0;n<Bt.length;n++)r=Bt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Bt.length&&(n=Bt[0],n.blockedOn===null);)cu(n),n.blockedOn===null&&Bt.shift()}var Bn=Tt.ReactCurrentBatchConfig,$s=!0;function cf(e,t,n,r){var s=oe,l=Bn.transition;Bn.transition=null;try{oe=1,po(e,t,n,r)}finally{oe=s,Bn.transition=l}}function uf(e,t,n,r){var s=oe,l=Bn.transition;Bn.transition=null;try{oe=4,po(e,t,n,r)}finally{oe=s,Bn.transition=l}}function po(e,t,n,r){if($s){var s=yl(e,t,n,r);if(s===null)Oi(e,t,r,Ms,n),aa(e,r);else if(of(s,e,t,n,r))r.stopPropagation();else if(aa(e,r),t&4&&-1<lf.indexOf(e)){for(;s!==null;){var l=Kr(s);if(l!==null&&iu(l),l=yl(e,t,n,r),l===null&&Oi(e,t,r,Ms,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else Oi(e,t,r,null,n)}}var Ms=null;function yl(e,t,n,r){if(Ms=null,e=oo(r),e=dn(e),e!==null)if(t=kn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Jc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ms=e,null}function uu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Kp()){case ao:return 1;case tu:return 4;case Ts:case Jp:return 16;case nu:return 536870912;default:return 16}default:return 16}}var Wt=null,fo=null,xs=null;function du(){if(xs)return xs;var e,t=fo,n=t.length,r,s="value"in Wt?Wt.value:Wt.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[l-r];r++);return xs=s.slice(e,1<r?1-r:void 0)}function js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ls(){return!0}function ua(){return!1}function Je(e){function t(n,r,s,l,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(l):l[a]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ls:ua,this.isPropagationStopped=ua,this}return ye(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),t}var er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=Je(er),Yr=ye({},er,{view:0,detail:0}),df=Je(Yr),zi,Ri,cr,si=ye({},Yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cr&&(cr&&e.type==="mousemove"?(zi=e.screenX-cr.screenX,Ri=e.screenY-cr.screenY):Ri=zi=0,cr=e),zi)},movementY:function(e){return"movementY"in e?e.movementY:Ri}}),da=Je(si),pf=ye({},si,{dataTransfer:0}),ff=Je(pf),hf=ye({},Yr,{relatedTarget:0}),bi=Je(hf),mf=ye({},er,{animationName:0,elapsedTime:0,pseudoElement:0}),gf=Je(mf),vf=ye({},er,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yf=Je(vf),xf=ye({},er,{data:0}),pa=Je(xf),jf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kf[e])?!!t[e]:!1}function mo(){return Sf}var Nf=ye({},Yr,{key:function(e){if(e.key){var t=jf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mo,charCode:function(e){return e.type==="keypress"?js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cf=Je(Nf),_f=ye({},si,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fa=Je(_f),Ef=ye({},Yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mo}),Pf=Je(Ef),zf=ye({},er,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rf=Je(zf),bf=ye({},si,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Af=Je(bf),Tf=[9,13,27,32],go=zt&&"CompositionEvent"in window,xr=null;zt&&"documentMode"in document&&(xr=document.documentMode);var Lf=zt&&"TextEvent"in window&&!xr,pu=zt&&(!go||xr&&8<xr&&11>=xr),ha=" ",ma=!1;function fu(e,t){switch(e){case"keyup":return Tf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var En=!1;function $f(e,t){switch(e){case"compositionend":return hu(t);case"keypress":return t.which!==32?null:(ma=!0,ha);case"textInput":return e=t.data,e===ha&&ma?null:e;default:return null}}function Mf(e,t){if(En)return e==="compositionend"||!go&&fu(e,t)?(e=du(),xs=fo=Wt=null,En=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pu&&t.locale!=="ko"?null:t.data;default:return null}}var If={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ga(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!If[e.type]:t==="textarea"}function mu(e,t,n,r){Gc(r),t=Is(t,"onChange"),0<t.length&&(n=new ho("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var jr=null,Ar=null;function Of(e){_u(e,0)}function ii(e){var t=Rn(e);if(Dc(t))return e}function Df(e,t){if(e==="change")return t}var gu=!1;if(zt){var Ai;if(zt){var Ti="oninput"in document;if(!Ti){var va=document.createElement("div");va.setAttribute("oninput","return;"),Ti=typeof va.oninput=="function"}Ai=Ti}else Ai=!1;gu=Ai&&(!document.documentMode||9<document.documentMode)}function ya(){jr&&(jr.detachEvent("onpropertychange",vu),Ar=jr=null)}function vu(e){if(e.propertyName==="value"&&ii(Ar)){var t=[];mu(t,Ar,e,oo(e)),Kc(Of,t)}}function Bf(e,t,n){e==="focusin"?(ya(),jr=t,Ar=n,jr.attachEvent("onpropertychange",vu)):e==="focusout"&&ya()}function Uf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ii(Ar)}function Ff(e,t){if(e==="click")return ii(t)}function Wf(e,t){if(e==="input"||e==="change")return ii(t)}function Hf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:Hf;function Tr(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!el.call(t,s)||!pt(e[s],t[s]))return!1}return!0}function xa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ja(e,t){var n=xa(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xa(n)}}function yu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function xu(){for(var e=window,t=Rs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Rs(e.document)}return t}function vo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Vf(e){var t=xu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&yu(n.ownerDocument.documentElement,n)){if(r!==null&&vo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=ja(n,l);var o=ja(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gf=zt&&"documentMode"in document&&11>=document.documentMode,Pn=null,xl=null,wr=null,jl=!1;function wa(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jl||Pn==null||Pn!==Rs(r)||(r=Pn,"selectionStart"in r&&vo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wr&&Tr(wr,r)||(wr=r,r=Is(xl,"onSelect"),0<r.length&&(t=new ho("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Pn)))}function os(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var zn={animationend:os("Animation","AnimationEnd"),animationiteration:os("Animation","AnimationIteration"),animationstart:os("Animation","AnimationStart"),transitionend:os("Transition","TransitionEnd")},Li={},ju={};zt&&(ju=document.createElement("div").style,"AnimationEvent"in window||(delete zn.animationend.animation,delete zn.animationiteration.animation,delete zn.animationstart.animation),"TransitionEvent"in window||delete zn.transitionend.transition);function li(e){if(Li[e])return Li[e];if(!zn[e])return e;var t=zn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in ju)return Li[e]=t[n];return e}var wu=li("animationend"),ku=li("animationiteration"),Su=li("animationstart"),Nu=li("transitionend"),Cu=new Map,ka="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rn(e,t){Cu.set(e,t),wn(t,[e])}for(var $i=0;$i<ka.length;$i++){var Mi=ka[$i],Qf=Mi.toLowerCase(),qf=Mi[0].toUpperCase()+Mi.slice(1);rn(Qf,"on"+qf)}rn(wu,"onAnimationEnd");rn(ku,"onAnimationIteration");rn(Su,"onAnimationStart");rn("dblclick","onDoubleClick");rn("focusin","onFocus");rn("focusout","onBlur");rn(Nu,"onTransitionEnd");Wn("onMouseEnter",["mouseout","mouseover"]);Wn("onMouseLeave",["mouseout","mouseover"]);Wn("onPointerEnter",["pointerout","pointerover"]);Wn("onPointerLeave",["pointerout","pointerover"]);wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yf=new Set("cancel close invalid load scroll toggle".split(" ").concat(gr));function Sa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Gp(r,t,void 0,e),e.currentTarget=null}function _u(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==l&&s.isPropagationStopped())break e;Sa(s,a,d),l=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==l&&s.isPropagationStopped())break e;Sa(s,a,d),l=c}}}if(As)throw e=ml,As=!1,ml=null,e}function de(e,t){var n=t[Cl];n===void 0&&(n=t[Cl]=new Set);var r=e+"__bubble";n.has(r)||(Eu(t,e,2,!1),n.add(r))}function Ii(e,t,n){var r=0;t&&(r|=4),Eu(n,e,r,t)}var as="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){if(!e[as]){e[as]=!0,Lc.forEach(function(n){n!=="selectionchange"&&(Yf.has(n)||Ii(n,!1,e),Ii(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[as]||(t[as]=!0,Ii("selectionchange",!1,t))}}function Eu(e,t,n,r){switch(uu(t)){case 1:var s=cf;break;case 4:s=uf;break;default:s=po}n=s.bind(null,t,n,e),s=void 0,!hl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Oi(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=dn(a),o===null)return;if(c=o.tag,c===5||c===6){r=l=o;continue e}a=a.parentNode}}r=r.return}Kc(function(){var d=l,p=oo(n),g=[];e:{var m=Cu.get(e);if(m!==void 0){var v=ho,x=e;switch(e){case"keypress":if(js(n)===0)break e;case"keydown":case"keyup":v=Cf;break;case"focusin":x="focus",v=bi;break;case"focusout":x="blur",v=bi;break;case"beforeblur":case"afterblur":v=bi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=da;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=ff;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Pf;break;case wu:case ku:case Su:v=gf;break;case Nu:v=Rf;break;case"scroll":v=df;break;case"wheel":v=Af;break;case"copy":case"cut":case"paste":v=yf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=fa}var w=(t&4)!==0,k=!w&&e==="scroll",h=w?m!==null?m+"Capture":null:m;w=[];for(var u=d,f;u!==null;){f=u;var y=f.stateNode;if(f.tag===5&&y!==null&&(f=y,h!==null&&(y=Pr(u,h),y!=null&&w.push($r(u,y,f)))),k)break;u=u.return}0<w.length&&(m=new v(m,x,null,n,p),g.push({event:m,listeners:w}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==pl&&(x=n.relatedTarget||n.fromElement)&&(dn(x)||x[Rt]))break e;if((v||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=d,x=x?dn(x):null,x!==null&&(k=kn(x),x!==k||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=d),v!==x)){if(w=da,y="onMouseLeave",h="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(w=fa,y="onPointerLeave",h="onPointerEnter",u="pointer"),k=v==null?m:Rn(v),f=x==null?m:Rn(x),m=new w(y,u+"leave",v,n,p),m.target=k,m.relatedTarget=f,y=null,dn(p)===d&&(w=new w(h,u+"enter",x,n,p),w.target=f,w.relatedTarget=k,y=w),k=y,v&&x)t:{for(w=v,h=x,u=0,f=w;f;f=Sn(f))u++;for(f=0,y=h;y;y=Sn(y))f++;for(;0<u-f;)w=Sn(w),u--;for(;0<f-u;)h=Sn(h),f--;for(;u--;){if(w===h||h!==null&&w===h.alternate)break t;w=Sn(w),h=Sn(h)}w=null}else w=null;v!==null&&Na(g,m,v,w,!1),x!==null&&k!==null&&Na(g,k,x,w,!0)}}e:{if(m=d?Rn(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var j=Df;else if(ga(m))if(gu)j=Wf;else{j=Uf;var E=Bf}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=Ff);if(j&&(j=j(e,d))){mu(g,j,n,p);break e}E&&E(e,m,d),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&ol(m,"number",m.value)}switch(E=d?Rn(d):window,e){case"focusin":(ga(E)||E.contentEditable==="true")&&(Pn=E,xl=d,wr=null);break;case"focusout":wr=xl=Pn=null;break;case"mousedown":jl=!0;break;case"contextmenu":case"mouseup":case"dragend":jl=!1,wa(g,n,p);break;case"selectionchange":if(Gf)break;case"keydown":case"keyup":wa(g,n,p)}var C;if(go)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else En?fu(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(pu&&n.locale!=="ko"&&(En||_!=="onCompositionStart"?_==="onCompositionEnd"&&En&&(C=du()):(Wt=p,fo="value"in Wt?Wt.value:Wt.textContent,En=!0)),E=Is(d,_),0<E.length&&(_=new pa(_,e,null,n,p),g.push({event:_,listeners:E}),C?_.data=C:(C=hu(n),C!==null&&(_.data=C)))),(C=Lf?$f(e,n):Mf(e,n))&&(d=Is(d,"onBeforeInput"),0<d.length&&(p=new pa("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:d}),p.data=C))}_u(g,t)})}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Is(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Pr(e,n),l!=null&&r.unshift($r(e,l,s)),l=Pr(e,t),l!=null&&r.push($r(e,l,s))),e=e.return}return r}function Sn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Na(e,t,n,r,s){for(var l=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=Pr(n,l),c!=null&&o.unshift($r(n,c,a))):s||(c=Pr(n,l),c!=null&&o.push($r(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Kf=/\r\n?/g,Jf=/\u0000|\uFFFD/g;function Ca(e){return(typeof e=="string"?e:""+e).replace(Kf,`
`).replace(Jf,"")}function cs(e,t,n){if(t=Ca(t),Ca(e)!==t&&n)throw Error($(425))}function Os(){}var wl=null,kl=null;function Sl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Nl=typeof setTimeout=="function"?setTimeout:void 0,Xf=typeof clearTimeout=="function"?clearTimeout:void 0,_a=typeof Promise=="function"?Promise:void 0,Zf=typeof queueMicrotask=="function"?queueMicrotask:typeof _a<"u"?function(e){return _a.resolve(null).then(e).catch(eh)}:Nl;function eh(e){setTimeout(function(){throw e})}function Di(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),br(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);br(t)}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Ea(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var tr=Math.random().toString(36).slice(2),vt="__reactFiber$"+tr,Mr="__reactProps$"+tr,Rt="__reactContainer$"+tr,Cl="__reactEvents$"+tr,th="__reactListeners$"+tr,nh="__reactHandles$"+tr;function dn(e){var t=e[vt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Rt]||n[vt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Ea(e);e!==null;){if(n=e[vt])return n;e=Ea(e)}return t}e=n,n=e.parentNode}return null}function Kr(e){return e=e[vt]||e[Rt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Rn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function oi(e){return e[Mr]||null}var _l=[],bn=-1;function sn(e){return{current:e}}function fe(e){0>bn||(e.current=_l[bn],_l[bn]=null,bn--)}function ue(e,t){bn++,_l[bn]=e.current,e.current=t}var nn={},Le=sn(nn),We=sn(!1),gn=nn;function Hn(e,t){var n=e.type.contextTypes;if(!n)return nn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function He(e){return e=e.childContextTypes,e!=null}function Ds(){fe(We),fe(Le)}function Pa(e,t,n){if(Le.current!==nn)throw Error($(168));ue(Le,t),ue(We,n)}function Pu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error($(108,Dp(e)||"Unknown",s));return ye({},n,r)}function Bs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nn,gn=Le.current,ue(Le,e),ue(We,We.current),!0}function za(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=Pu(e,t,gn),r.__reactInternalMemoizedMergedChildContext=e,fe(We),fe(Le),ue(Le,e)):fe(We),ue(We,n)}var Nt=null,ai=!1,Bi=!1;function zu(e){Nt===null?Nt=[e]:Nt.push(e)}function rh(e){ai=!0,zu(e)}function ln(){if(!Bi&&Nt!==null){Bi=!0;var e=0,t=oe;try{var n=Nt;for(oe=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Nt=null,ai=!1}catch(s){throw Nt!==null&&(Nt=Nt.slice(e+1)),eu(ao,ln),s}finally{oe=t,Bi=!1}}return null}var An=[],Tn=0,Us=null,Fs=0,Ze=[],et=0,vn=null,_t=1,Et="";function an(e,t){An[Tn++]=Fs,An[Tn++]=Us,Us=e,Fs=t}function Ru(e,t,n){Ze[et++]=_t,Ze[et++]=Et,Ze[et++]=vn,vn=e;var r=_t;e=Et;var s=32-ut(r)-1;r&=~(1<<s),n+=1;var l=32-ut(t)+s;if(30<l){var o=s-s%5;l=(r&(1<<o)-1).toString(32),r>>=o,s-=o,_t=1<<32-ut(t)+s|n<<s|r,Et=l+e}else _t=1<<l|n<<s|r,Et=e}function yo(e){e.return!==null&&(an(e,1),Ru(e,1,0))}function xo(e){for(;e===Us;)Us=An[--Tn],An[Tn]=null,Fs=An[--Tn],An[Tn]=null;for(;e===vn;)vn=Ze[--et],Ze[et]=null,Et=Ze[--et],Ze[et]=null,_t=Ze[--et],Ze[et]=null}var qe=null,Qe=null,he=!1,ct=null;function bu(e,t){var n=tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ra(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qe=e,Qe=Yt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qe=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=vn!==null?{id:_t,overflow:Et}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qe=e,Qe=null,!0):!1;default:return!1}}function El(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pl(e){if(he){var t=Qe;if(t){var n=t;if(!Ra(e,t)){if(El(e))throw Error($(418));t=Yt(n.nextSibling);var r=qe;t&&Ra(e,t)?bu(r,n):(e.flags=e.flags&-4097|2,he=!1,qe=e)}}else{if(El(e))throw Error($(418));e.flags=e.flags&-4097|2,he=!1,qe=e}}}function ba(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qe=e}function us(e){if(e!==qe)return!1;if(!he)return ba(e),he=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sl(e.type,e.memoizedProps)),t&&(t=Qe)){if(El(e))throw Au(),Error($(418));for(;t;)bu(e,t),t=Yt(t.nextSibling)}if(ba(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qe=Yt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=qe?Yt(e.stateNode.nextSibling):null;return!0}function Au(){for(var e=Qe;e;)e=Yt(e.nextSibling)}function Vn(){Qe=qe=null,he=!1}function jo(e){ct===null?ct=[e]:ct.push(e)}var sh=Tt.ReactCurrentBatchConfig;function ur(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var a=s.refs;o===null?delete a[l]:a[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function ds(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Aa(e){var t=e._init;return t(e._payload)}function Tu(e){function t(h,u){if(e){var f=h.deletions;f===null?(h.deletions=[u],h.flags|=16):f.push(u)}}function n(h,u){if(!e)return null;for(;u!==null;)t(h,u),u=u.sibling;return null}function r(h,u){for(h=new Map;u!==null;)u.key!==null?h.set(u.key,u):h.set(u.index,u),u=u.sibling;return h}function s(h,u){return h=Zt(h,u),h.index=0,h.sibling=null,h}function l(h,u,f){return h.index=f,e?(f=h.alternate,f!==null?(f=f.index,f<u?(h.flags|=2,u):f):(h.flags|=2,u)):(h.flags|=1048576,u)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,u,f,y){return u===null||u.tag!==6?(u=Qi(f,h.mode,y),u.return=h,u):(u=s(u,f),u.return=h,u)}function c(h,u,f,y){var j=f.type;return j===_n?p(h,u,f.props.children,y,f.key):u!==null&&(u.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ot&&Aa(j)===u.type)?(y=s(u,f.props),y.ref=ur(h,u,f),y.return=h,y):(y=Es(f.type,f.key,f.props,null,h.mode,y),y.ref=ur(h,u,f),y.return=h,y)}function d(h,u,f,y){return u===null||u.tag!==4||u.stateNode.containerInfo!==f.containerInfo||u.stateNode.implementation!==f.implementation?(u=qi(f,h.mode,y),u.return=h,u):(u=s(u,f.children||[]),u.return=h,u)}function p(h,u,f,y,j){return u===null||u.tag!==7?(u=mn(f,h.mode,y,j),u.return=h,u):(u=s(u,f),u.return=h,u)}function g(h,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Qi(""+u,h.mode,f),u.return=h,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case es:return f=Es(u.type,u.key,u.props,null,h.mode,f),f.ref=ur(h,null,u),f.return=h,f;case Cn:return u=qi(u,h.mode,f),u.return=h,u;case Ot:var y=u._init;return g(h,y(u._payload),f)}if(hr(u)||ir(u))return u=mn(u,h.mode,f,null),u.return=h,u;ds(h,u)}return null}function m(h,u,f,y){var j=u!==null?u.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return j!==null?null:a(h,u,""+f,y);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case es:return f.key===j?c(h,u,f,y):null;case Cn:return f.key===j?d(h,u,f,y):null;case Ot:return j=f._init,m(h,u,j(f._payload),y)}if(hr(f)||ir(f))return j!==null?null:p(h,u,f,y,null);ds(h,f)}return null}function v(h,u,f,y,j){if(typeof y=="string"&&y!==""||typeof y=="number")return h=h.get(f)||null,a(u,h,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case es:return h=h.get(y.key===null?f:y.key)||null,c(u,h,y,j);case Cn:return h=h.get(y.key===null?f:y.key)||null,d(u,h,y,j);case Ot:var E=y._init;return v(h,u,f,E(y._payload),j)}if(hr(y)||ir(y))return h=h.get(f)||null,p(u,h,y,j,null);ds(u,y)}return null}function x(h,u,f,y){for(var j=null,E=null,C=u,_=u=0,N=null;C!==null&&_<f.length;_++){C.index>_?(N=C,C=null):N=C.sibling;var P=m(h,C,f[_],y);if(P===null){C===null&&(C=N);break}e&&C&&P.alternate===null&&t(h,C),u=l(P,u,_),E===null?j=P:E.sibling=P,E=P,C=N}if(_===f.length)return n(h,C),he&&an(h,_),j;if(C===null){for(;_<f.length;_++)C=g(h,f[_],y),C!==null&&(u=l(C,u,_),E===null?j=C:E.sibling=C,E=C);return he&&an(h,_),j}for(C=r(h,C);_<f.length;_++)N=v(C,h,_,f[_],y),N!==null&&(e&&N.alternate!==null&&C.delete(N.key===null?_:N.key),u=l(N,u,_),E===null?j=N:E.sibling=N,E=N);return e&&C.forEach(function(A){return t(h,A)}),he&&an(h,_),j}function w(h,u,f,y){var j=ir(f);if(typeof j!="function")throw Error($(150));if(f=j.call(f),f==null)throw Error($(151));for(var E=j=null,C=u,_=u=0,N=null,P=f.next();C!==null&&!P.done;_++,P=f.next()){C.index>_?(N=C,C=null):N=C.sibling;var A=m(h,C,P.value,y);if(A===null){C===null&&(C=N);break}e&&C&&A.alternate===null&&t(h,C),u=l(A,u,_),E===null?j=A:E.sibling=A,E=A,C=N}if(P.done)return n(h,C),he&&an(h,_),j;if(C===null){for(;!P.done;_++,P=f.next())P=g(h,P.value,y),P!==null&&(u=l(P,u,_),E===null?j=P:E.sibling=P,E=P);return he&&an(h,_),j}for(C=r(h,C);!P.done;_++,P=f.next())P=v(C,h,_,P.value,y),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?_:P.key),u=l(P,u,_),E===null?j=P:E.sibling=P,E=P);return e&&C.forEach(function(K){return t(h,K)}),he&&an(h,_),j}function k(h,u,f,y){if(typeof f=="object"&&f!==null&&f.type===_n&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case es:e:{for(var j=f.key,E=u;E!==null;){if(E.key===j){if(j=f.type,j===_n){if(E.tag===7){n(h,E.sibling),u=s(E,f.props.children),u.return=h,h=u;break e}}else if(E.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ot&&Aa(j)===E.type){n(h,E.sibling),u=s(E,f.props),u.ref=ur(h,E,f),u.return=h,h=u;break e}n(h,E);break}else t(h,E);E=E.sibling}f.type===_n?(u=mn(f.props.children,h.mode,y,f.key),u.return=h,h=u):(y=Es(f.type,f.key,f.props,null,h.mode,y),y.ref=ur(h,u,f),y.return=h,h=y)}return o(h);case Cn:e:{for(E=f.key;u!==null;){if(u.key===E)if(u.tag===4&&u.stateNode.containerInfo===f.containerInfo&&u.stateNode.implementation===f.implementation){n(h,u.sibling),u=s(u,f.children||[]),u.return=h,h=u;break e}else{n(h,u);break}else t(h,u);u=u.sibling}u=qi(f,h.mode,y),u.return=h,h=u}return o(h);case Ot:return E=f._init,k(h,u,E(f._payload),y)}if(hr(f))return x(h,u,f,y);if(ir(f))return w(h,u,f,y);ds(h,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,u!==null&&u.tag===6?(n(h,u.sibling),u=s(u,f),u.return=h,h=u):(n(h,u),u=Qi(f,h.mode,y),u.return=h,h=u),o(h)):n(h,u)}return k}var Gn=Tu(!0),Lu=Tu(!1),Ws=sn(null),Hs=null,Ln=null,wo=null;function ko(){wo=Ln=Hs=null}function So(e){var t=Ws.current;fe(Ws),e._currentValue=t}function zl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Un(e,t){Hs=e,wo=Ln=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fe=!0),e.firstContext=null)}function rt(e){var t=e._currentValue;if(wo!==e)if(e={context:e,memoizedValue:t,next:null},Ln===null){if(Hs===null)throw Error($(308));Ln=e,Hs.dependencies={lanes:0,firstContext:e}}else Ln=Ln.next=e;return t}var pn=null;function No(e){pn===null?pn=[e]:pn.push(e)}function $u(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,No(t)):(n.next=s.next,s.next=n),t.interleaved=n,bt(e,r)}function bt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Dt=!1;function Co(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Kt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,bt(e,n)}return s=r.interleaved,s===null?(t.next=t,No(r)):(t.next=s.next,s.next=t),r.interleaved=t,bt(e,n)}function ws(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,co(e,n)}}function Ta(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,r){var s=e.updateQueue;Dt=!1;var l=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?l=d:o.next=d,o=c;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=c))}if(l!==null){var g=s.baseState;o=0,p=d=c=null,a=l;do{var m=a.lane,v=a.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,w=a;switch(m=t,v=n,w.tag){case 1:if(x=w.payload,typeof x=="function"){g=x.call(v,g,m);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,m=typeof x=="function"?x.call(v,g,m):x,m==null)break e;g=ye({},g,m);break e;case 2:Dt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=v,c=g):p=p.next=v,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(p===null&&(c=g),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);xn|=o,e.lanes=o,e.memoizedState=g}}function La(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error($(191,s));s.call(r)}}}var Jr={},jt=sn(Jr),Ir=sn(Jr),Or=sn(Jr);function fn(e){if(e===Jr)throw Error($(174));return e}function _o(e,t){switch(ue(Or,t),ue(Ir,e),ue(jt,Jr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:cl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=cl(t,e)}fe(jt),ue(jt,t)}function Qn(){fe(jt),fe(Ir),fe(Or)}function Iu(e){fn(Or.current);var t=fn(jt.current),n=cl(t,e.type);t!==n&&(ue(Ir,e),ue(jt,n))}function Eo(e){Ir.current===e&&(fe(jt),fe(Ir))}var me=sn(0);function Gs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ui=[];function Po(){for(var e=0;e<Ui.length;e++)Ui[e]._workInProgressVersionPrimary=null;Ui.length=0}var ks=Tt.ReactCurrentDispatcher,Fi=Tt.ReactCurrentBatchConfig,yn=0,ge=null,Ne=null,_e=null,Qs=!1,kr=!1,Dr=0,ih=0;function be(){throw Error($(321))}function zo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function Ro(e,t,n,r,s,l){if(yn=l,ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ks.current=e===null||e.memoizedState===null?ch:uh,e=n(r,s),kr){l=0;do{if(kr=!1,Dr=0,25<=l)throw Error($(301));l+=1,_e=Ne=null,t.updateQueue=null,ks.current=dh,e=n(r,s)}while(kr)}if(ks.current=qs,t=Ne!==null&&Ne.next!==null,yn=0,_e=Ne=ge=null,Qs=!1,t)throw Error($(300));return e}function bo(){var e=Dr!==0;return Dr=0,e}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _e===null?ge.memoizedState=_e=e:_e=_e.next=e,_e}function st(){if(Ne===null){var e=ge.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=_e===null?ge.memoizedState:_e.next;if(t!==null)_e=t,Ne=e;else{if(e===null)throw Error($(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},_e===null?ge.memoizedState=_e=e:_e=_e.next=e}return _e}function Br(e,t){return typeof t=="function"?t(e):t}function Wi(e){var t=st(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=Ne,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var o=s.next;s.next=l.next,l.next=o}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var a=o=null,c=null,d=l;do{var p=d.lane;if((yn&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var g={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=g,o=r):c=c.next=g,ge.lanes|=p,xn|=p}d=d.next}while(d!==null&&d!==l);c===null?o=r:c.next=a,pt(r,t.memoizedState)||(Fe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,ge.lanes|=l,xn|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hi(e){var t=st(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do l=e(l,o.action),o=o.next;while(o!==s);pt(l,t.memoizedState)||(Fe=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Ou(){}function Du(e,t){var n=ge,r=st(),s=t(),l=!pt(r.memoizedState,s);if(l&&(r.memoizedState=s,Fe=!0),r=r.queue,Ao(Fu.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||_e!==null&&_e.memoizedState.tag&1){if(n.flags|=2048,Ur(9,Uu.bind(null,n,r,s,t),void 0,null),Ee===null)throw Error($(349));yn&30||Bu(n,t,s)}return s}function Bu(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Uu(e,t,n,r){t.value=n,t.getSnapshot=r,Wu(t)&&Hu(e)}function Fu(e,t,n){return n(function(){Wu(t)&&Hu(e)})}function Wu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function Hu(e){var t=bt(e,1);t!==null&&dt(t,e,1,-1)}function $a(e){var t=gt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Br,lastRenderedState:e},t.queue=e,e=e.dispatch=ah.bind(null,ge,e),[t.memoizedState,e]}function Ur(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ge.updateQueue,t===null?(t={lastEffect:null,stores:null},ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Vu(){return st().memoizedState}function Ss(e,t,n,r){var s=gt();ge.flags|=e,s.memoizedState=Ur(1|t,n,void 0,r===void 0?null:r)}function ci(e,t,n,r){var s=st();r=r===void 0?null:r;var l=void 0;if(Ne!==null){var o=Ne.memoizedState;if(l=o.destroy,r!==null&&zo(r,o.deps)){s.memoizedState=Ur(t,n,l,r);return}}ge.flags|=e,s.memoizedState=Ur(1|t,n,l,r)}function Ma(e,t){return Ss(8390656,8,e,t)}function Ao(e,t){return ci(2048,8,e,t)}function Gu(e,t){return ci(4,2,e,t)}function Qu(e,t){return ci(4,4,e,t)}function qu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yu(e,t,n){return n=n!=null?n.concat([e]):null,ci(4,4,qu.bind(null,t,e),n)}function To(){}function Ku(e,t){var n=st();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ju(e,t){var n=st();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&zo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xu(e,t,n){return yn&21?(pt(n,t)||(n=ru(),ge.lanes|=n,xn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fe=!0),e.memoizedState=n)}function lh(e,t){var n=oe;oe=n!==0&&4>n?n:4,e(!0);var r=Fi.transition;Fi.transition={};try{e(!1),t()}finally{oe=n,Fi.transition=r}}function Zu(){return st().memoizedState}function oh(e,t,n){var r=Xt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ed(e))td(t,n);else if(n=$u(e,t,n,r),n!==null){var s=Me();dt(n,e,r,s),nd(n,t,r)}}function ah(e,t,n){var r=Xt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ed(e))td(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,a=l(o,n);if(s.hasEagerState=!0,s.eagerState=a,pt(a,o)){var c=t.interleaved;c===null?(s.next=s,No(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=$u(e,t,s,r),n!==null&&(s=Me(),dt(n,e,r,s),nd(n,t,r))}}function ed(e){var t=e.alternate;return e===ge||t!==null&&t===ge}function td(e,t){kr=Qs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function nd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,co(e,n)}}var qs={readContext:rt,useCallback:be,useContext:be,useEffect:be,useImperativeHandle:be,useInsertionEffect:be,useLayoutEffect:be,useMemo:be,useReducer:be,useRef:be,useState:be,useDebugValue:be,useDeferredValue:be,useTransition:be,useMutableSource:be,useSyncExternalStore:be,useId:be,unstable_isNewReconciler:!1},ch={readContext:rt,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:rt,useEffect:Ma,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ss(4194308,4,qu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ss(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ss(4,2,e,t)},useMemo:function(e,t){var n=gt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=oh.bind(null,ge,e),[r.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:$a,useDebugValue:To,useDeferredValue:function(e){return gt().memoizedState=e},useTransition:function(){var e=$a(!1),t=e[0];return e=lh.bind(null,e[1]),gt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ge,s=gt();if(he){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),Ee===null)throw Error($(349));yn&30||Bu(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,Ma(Fu.bind(null,r,l,e),[e]),r.flags|=2048,Ur(9,Uu.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=gt(),t=Ee.identifierPrefix;if(he){var n=Et,r=_t;n=(r&~(1<<32-ut(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Dr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ih++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uh={readContext:rt,useCallback:Ku,useContext:rt,useEffect:Ao,useImperativeHandle:Yu,useInsertionEffect:Gu,useLayoutEffect:Qu,useMemo:Ju,useReducer:Wi,useRef:Vu,useState:function(){return Wi(Br)},useDebugValue:To,useDeferredValue:function(e){var t=st();return Xu(t,Ne.memoizedState,e)},useTransition:function(){var e=Wi(Br)[0],t=st().memoizedState;return[e,t]},useMutableSource:Ou,useSyncExternalStore:Du,useId:Zu,unstable_isNewReconciler:!1},dh={readContext:rt,useCallback:Ku,useContext:rt,useEffect:Ao,useImperativeHandle:Yu,useInsertionEffect:Gu,useLayoutEffect:Qu,useMemo:Ju,useReducer:Hi,useRef:Vu,useState:function(){return Hi(Br)},useDebugValue:To,useDeferredValue:function(e){var t=st();return Ne===null?t.memoizedState=e:Xu(t,Ne.memoizedState,e)},useTransition:function(){var e=Hi(Br)[0],t=st().memoizedState;return[e,t]},useMutableSource:Ou,useSyncExternalStore:Du,useId:Zu,unstable_isNewReconciler:!1};function ot(e,t){if(e&&e.defaultProps){t=ye({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Rl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ye({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ui={isMounted:function(e){return(e=e._reactInternals)?kn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Me(),s=Xt(e),l=Pt(r,s);l.payload=t,n!=null&&(l.callback=n),t=Kt(e,l,s),t!==null&&(dt(t,e,s,r),ws(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Me(),s=Xt(e),l=Pt(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Kt(e,l,s),t!==null&&(dt(t,e,s,r),ws(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Me(),r=Xt(e),s=Pt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Kt(e,s,r),t!==null&&(dt(t,e,r,n),ws(t,e,r))}};function Ia(e,t,n,r,s,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!Tr(n,r)||!Tr(s,l):!0}function rd(e,t,n){var r=!1,s=nn,l=t.contextType;return typeof l=="object"&&l!==null?l=rt(l):(s=He(t)?gn:Le.current,r=t.contextTypes,l=(r=r!=null)?Hn(e,s):nn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ui,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Oa(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ui.enqueueReplaceState(t,t.state,null)}function bl(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Co(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=rt(l):(l=He(t)?gn:Le.current,s.context=Hn(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Rl(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ui.enqueueReplaceState(s,s.state,null),Vs(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function qn(e,t){try{var n="",r=t;do n+=Op(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function Vi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Al(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ph=typeof WeakMap=="function"?WeakMap:Map;function sd(e,t,n){n=Pt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ks||(Ks=!0,Fl=r),Al(e,t)},n}function id(e,t,n){n=Pt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Al(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Al(e,t),typeof r!="function"&&(Jt===null?Jt=new Set([this]):Jt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Da(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ph;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=_h.bind(null,e,t,n),t.then(e,e))}function Ba(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ua(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pt(-1,1),t.tag=2,Kt(n,t,1))),n.lanes|=1),e)}var fh=Tt.ReactCurrentOwner,Fe=!1;function $e(e,t,n,r){t.child=e===null?Lu(t,null,n,r):Gn(t,e.child,n,r)}function Fa(e,t,n,r,s){n=n.render;var l=t.ref;return Un(t,s),r=Ro(e,t,n,r,l,s),n=bo(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(he&&n&&yo(t),t.flags|=1,$e(e,t,r,s),t.child)}function Wa(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!Uo(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,ld(e,t,l,r,s)):(e=Es(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:Tr,n(o,r)&&e.ref===t.ref)return At(e,t,s)}return t.flags|=1,e=Zt(l,r),e.ref=t.ref,e.return=t,t.child=e}function ld(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(Tr(l,r)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(Fe=!0);else return t.lanes=e.lanes,At(e,t,s)}return Tl(e,t,n,r,s)}function od(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(Mn,Ge),Ge|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(Mn,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,ue(Mn,Ge),Ge|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,ue(Mn,Ge),Ge|=r;return $e(e,t,s,n),t.child}function ad(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Tl(e,t,n,r,s){var l=He(n)?gn:Le.current;return l=Hn(t,l),Un(t,s),n=Ro(e,t,n,r,l,s),r=bo(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(he&&r&&yo(t),t.flags|=1,$e(e,t,n,s),t.child)}function Ha(e,t,n,r,s){if(He(n)){var l=!0;Bs(t)}else l=!1;if(Un(t,s),t.stateNode===null)Ns(e,t),rd(t,n,r),bl(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=rt(d):(d=He(n)?gn:Le.current,d=Hn(t,d));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&Oa(t,o,r,d),Dt=!1;var m=t.memoizedState;o.state=m,Vs(t,r,o,s),c=t.memoizedState,a!==r||m!==c||We.current||Dt?(typeof p=="function"&&(Rl(t,n,p,r),c=t.memoizedState),(a=Dt||Ia(t,n,a,r,m,c,d))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Mu(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:ot(t.type,a),o.props=d,g=t.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=rt(c):(c=He(n)?gn:Le.current,c=Hn(t,c));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||m!==c)&&Oa(t,o,r,c),Dt=!1,m=t.memoizedState,o.state=m,Vs(t,r,o,s);var x=t.memoizedState;a!==g||m!==x||We.current||Dt?(typeof v=="function"&&(Rl(t,n,v,r),x=t.memoizedState),(d=Dt||Ia(t,n,d,r,m,x,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Ll(e,t,n,r,l,s)}function Ll(e,t,n,r,s,l){ad(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&za(t,n,!1),At(e,t,l);r=t.stateNode,fh.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=Gn(t,e.child,null,l),t.child=Gn(t,null,a,l)):$e(e,t,a,l),t.memoizedState=r.state,s&&za(t,n,!0),t.child}function cd(e){var t=e.stateNode;t.pendingContext?Pa(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pa(e,t.context,!1),_o(e,t.containerInfo)}function Va(e,t,n,r,s){return Vn(),jo(s),t.flags|=256,$e(e,t,n,r),t.child}var $l={dehydrated:null,treeContext:null,retryLane:0};function Ml(e){return{baseLanes:e,cachePool:null,transitions:null}}function ud(e,t,n){var r=t.pendingProps,s=me.current,l=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(me,s&1),e===null)return Pl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=fi(o,r,0,null),e=mn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ml(n),t.memoizedState=$l,e):Lo(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return hh(e,t,o,r,a,s,n);if(l){l=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Zt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?l=Zt(a,l):(l=mn(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?Ml(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=$l,r}return l=e.child,e=l.sibling,r=Zt(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Lo(e,t){return t=fi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ps(e,t,n,r){return r!==null&&jo(r),Gn(t,e.child,null,n),e=Lo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hh(e,t,n,r,s,l,o){if(n)return t.flags&256?(t.flags&=-257,r=Vi(Error($(422))),ps(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=fi({mode:"visible",children:r.children},s,0,null),l=mn(l,s,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Gn(t,e.child,null,o),t.child.memoizedState=Ml(o),t.memoizedState=$l,l);if(!(t.mode&1))return ps(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,l=Error($(419)),r=Vi(l,r,void 0),ps(e,t,o,r)}if(a=(o&e.childLanes)!==0,Fe||a){if(r=Ee,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,bt(e,s),dt(r,e,s,-1))}return Bo(),r=Vi(Error($(421))),ps(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Eh.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Qe=Yt(s.nextSibling),qe=t,he=!0,ct=null,e!==null&&(Ze[et++]=_t,Ze[et++]=Et,Ze[et++]=vn,_t=e.id,Et=e.overflow,vn=t),t=Lo(t,r.children),t.flags|=4096,t)}function Ga(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),zl(e.return,t,n)}function Gi(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function dd(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if($e(e,t,r.children,n),r=me.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ga(e,n,t);else if(e.tag===19)Ga(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ue(me,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Gs(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Gi(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Gs(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Gi(t,!0,n,null,l);break;case"together":Gi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ns(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),xn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=Zt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Zt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mh(e,t,n){switch(t.tag){case 3:cd(t),Vn();break;case 5:Iu(t);break;case 1:He(t.type)&&Bs(t);break;case 4:_o(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ue(Ws,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ue(me,me.current&1),t.flags|=128,null):n&t.child.childLanes?ud(e,t,n):(ue(me,me.current&1),e=At(e,t,n),e!==null?e.sibling:null);ue(me,me.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return dd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(me,me.current),r)break;return null;case 22:case 23:return t.lanes=0,od(e,t,n)}return At(e,t,n)}var pd,Il,fd,hd;pd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Il=function(){};fd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,fn(jt.current);var l=null;switch(n){case"input":s=il(e,s),r=il(e,r),l=[];break;case"select":s=ye({},s,{value:void 0}),r=ye({},r,{value:void 0}),l=[];break;case"textarea":s=al(e,s),r=al(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Os)}ul(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(_r.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(l||(l=[]),l.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(_r.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&de("scroll",e),l||a===c||(l=[])):(l=l||[]).push(d,c))}n&&(l=l||[]).push("style",n);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};hd=function(e,t,n,r){n!==r&&(t.flags|=4)};function dr(e,t){if(!he)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function gh(e,t,n){var r=t.pendingProps;switch(xo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return He(t.type)&&Ds(),Ae(t),null;case 3:return r=t.stateNode,Qn(),fe(We),fe(Le),Po(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(us(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ct!==null&&(Vl(ct),ct=null))),Il(e,t),Ae(t),null;case 5:Eo(t);var s=fn(Or.current);if(n=t.type,e!==null&&t.stateNode!=null)fd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return Ae(t),null}if(e=fn(jt.current),us(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[vt]=t,r[Mr]=l,e=(t.mode&1)!==0,n){case"dialog":de("cancel",r),de("close",r);break;case"iframe":case"object":case"embed":de("load",r);break;case"video":case"audio":for(s=0;s<gr.length;s++)de(gr[s],r);break;case"source":de("error",r);break;case"img":case"image":case"link":de("error",r),de("load",r);break;case"details":de("toggle",r);break;case"input":ta(r,l),de("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},de("invalid",r);break;case"textarea":ra(r,l),de("invalid",r)}ul(n,l),s=null;for(var o in l)if(l.hasOwnProperty(o)){var a=l[o];o==="children"?typeof a=="string"?r.textContent!==a&&(l.suppressHydrationWarning!==!0&&cs(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(l.suppressHydrationWarning!==!0&&cs(r.textContent,a,e),s=["children",""+a]):_r.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&de("scroll",r)}switch(n){case"input":ts(r),na(r,l,!0);break;case"textarea":ts(r),sa(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Os)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Fc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[vt]=t,e[Mr]=r,pd(e,t,!1,!1),t.stateNode=e;e:{switch(o=dl(n,r),n){case"dialog":de("cancel",e),de("close",e),s=r;break;case"iframe":case"object":case"embed":de("load",e),s=r;break;case"video":case"audio":for(s=0;s<gr.length;s++)de(gr[s],e);s=r;break;case"source":de("error",e),s=r;break;case"img":case"image":case"link":de("error",e),de("load",e),s=r;break;case"details":de("toggle",e),s=r;break;case"input":ta(e,r),s=il(e,r),de("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ye({},r,{value:void 0}),de("invalid",e);break;case"textarea":ra(e,r),s=al(e,r),de("invalid",e);break;default:s=r}ul(n,s),a=s;for(l in a)if(a.hasOwnProperty(l)){var c=a[l];l==="style"?Vc(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Wc(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Er(e,c):typeof c=="number"&&Er(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(_r.hasOwnProperty(l)?c!=null&&l==="onScroll"&&de("scroll",e):c!=null&&ro(e,l,c,o))}switch(n){case"input":ts(e),na(e,r,!1);break;case"textarea":ts(e),sa(e);break;case"option":r.value!=null&&e.setAttribute("value",""+tn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?In(e,!!r.multiple,l,!1):r.defaultValue!=null&&In(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Os)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)hd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=fn(Or.current),fn(jt.current),us(t)){if(r=t.stateNode,n=t.memoizedProps,r[vt]=t,(l=r.nodeValue!==n)&&(e=qe,e!==null))switch(e.tag){case 3:cs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&cs(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vt]=t,t.stateNode=r}return Ae(t),null;case 13:if(fe(me),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(he&&Qe!==null&&t.mode&1&&!(t.flags&128))Au(),Vn(),t.flags|=98560,l=!1;else if(l=us(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error($(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error($(317));l[vt]=t}else Vn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),l=!1}else ct!==null&&(Vl(ct),ct=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||me.current&1?Ce===0&&(Ce=3):Bo())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return Qn(),Il(e,t),e===null&&Lr(t.stateNode.containerInfo),Ae(t),null;case 10:return So(t.type._context),Ae(t),null;case 17:return He(t.type)&&Ds(),Ae(t),null;case 19:if(fe(me),l=t.memoizedState,l===null)return Ae(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)dr(l,!1);else{if(Ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Gs(e),o!==null){for(t.flags|=128,dr(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ue(me,me.current&1|2),t.child}e=e.sibling}l.tail!==null&&we()>Yn&&(t.flags|=128,r=!0,dr(l,!1),t.lanes=4194304)}else{if(!r)if(e=Gs(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),dr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!he)return Ae(t),null}else 2*we()-l.renderingStartTime>Yn&&n!==1073741824&&(t.flags|=128,r=!0,dr(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=we(),t.sibling=null,n=me.current,ue(me,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return Do(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ge&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function vh(e,t){switch(xo(t),t.tag){case 1:return He(t.type)&&Ds(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Qn(),fe(We),fe(Le),Po(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Eo(t),null;case 13:if(fe(me),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));Vn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(me),null;case 4:return Qn(),null;case 10:return So(t.type._context),null;case 22:case 23:return Do(),null;case 24:return null;default:return null}}var fs=!1,Te=!1,yh=typeof WeakSet=="function"?WeakSet:Set,B=null;function $n(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(e,t,r)}else n.current=null}function Ol(e,t,n){try{n()}catch(r){xe(e,t,r)}}var Qa=!1;function xh(e,t){if(wl=$s,e=xu(),vo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,p=0,g=e,m=null;t:for(;;){for(var v;g!==n||s!==0&&g.nodeType!==3||(a=o+s),g!==l||r!==0&&g.nodeType!==3||(c=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(v=g.firstChild)!==null;)m=g,g=v;for(;;){if(g===e)break t;if(m===n&&++d===s&&(a=o),m===l&&++p===r&&(c=o),(v=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(kl={focusedElem:e,selectionRange:n},$s=!1,B=t;B!==null;)if(t=B,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,B=e;else for(;B!==null;){t=B;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,k=x.memoizedState,h=t.stateNode,u=h.getSnapshotBeforeUpdate(t.elementType===t.type?w:ot(t.type,w),k);h.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(y){xe(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,B=e;break}B=t.return}return x=Qa,Qa=!1,x}function Sr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&Ol(t,n,l)}s=s.next}while(s!==r)}}function di(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Dl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function md(e){var t=e.alternate;t!==null&&(e.alternate=null,md(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[vt],delete t[Mr],delete t[Cl],delete t[th],delete t[nh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gd(e){return e.tag===5||e.tag===3||e.tag===4}function qa(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bl(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Os));else if(r!==4&&(e=e.child,e!==null))for(Bl(e,t,n),e=e.sibling;e!==null;)Bl(e,t,n),e=e.sibling}function Ul(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ul(e,t,n),e=e.sibling;e!==null;)Ul(e,t,n),e=e.sibling}var Pe=null,at=!1;function $t(e,t,n){for(n=n.child;n!==null;)vd(e,t,n),n=n.sibling}function vd(e,t,n){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(ri,n)}catch{}switch(n.tag){case 5:Te||$n(n,t);case 6:var r=Pe,s=at;Pe=null,$t(e,t,n),Pe=r,at=s,Pe!==null&&(at?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(at?(e=Pe,n=n.stateNode,e.nodeType===8?Di(e.parentNode,n):e.nodeType===1&&Di(e,n),br(e)):Di(Pe,n.stateNode));break;case 4:r=Pe,s=at,Pe=n.stateNode.containerInfo,at=!0,$t(e,t,n),Pe=r,at=s;break;case 0:case 11:case 14:case 15:if(!Te&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&Ol(n,t,o),s=s.next}while(s!==r)}$t(e,t,n);break;case 1:if(!Te&&($n(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xe(n,t,a)}$t(e,t,n);break;case 21:$t(e,t,n);break;case 22:n.mode&1?(Te=(r=Te)||n.memoizedState!==null,$t(e,t,n),Te=r):$t(e,t,n);break;default:$t(e,t,n)}}function Ya(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yh),t.forEach(function(r){var s=Ph.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Pe=a.stateNode,at=!1;break e;case 3:Pe=a.stateNode.containerInfo,at=!0;break e;case 4:Pe=a.stateNode.containerInfo,at=!0;break e}a=a.return}if(Pe===null)throw Error($(160));vd(l,o,s),Pe=null,at=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){xe(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yd(t,e),t=t.sibling}function yd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),ht(e),r&4){try{Sr(3,e,e.return),di(3,e)}catch(w){xe(e,e.return,w)}try{Sr(5,e,e.return)}catch(w){xe(e,e.return,w)}}break;case 1:lt(t,e),ht(e),r&512&&n!==null&&$n(n,n.return);break;case 5:if(lt(t,e),ht(e),r&512&&n!==null&&$n(n,n.return),e.flags&32){var s=e.stateNode;try{Er(s,"")}catch(w){xe(e,e.return,w)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&l.type==="radio"&&l.name!=null&&Bc(s,l),dl(a,o);var d=dl(a,l);for(o=0;o<c.length;o+=2){var p=c[o],g=c[o+1];p==="style"?Vc(s,g):p==="dangerouslySetInnerHTML"?Wc(s,g):p==="children"?Er(s,g):ro(s,p,g,d)}switch(a){case"input":ll(s,l);break;case"textarea":Uc(s,l);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?In(s,!!l.multiple,v,!1):m!==!!l.multiple&&(l.defaultValue!=null?In(s,!!l.multiple,l.defaultValue,!0):In(s,!!l.multiple,l.multiple?[]:"",!1))}s[Mr]=l}catch(w){xe(e,e.return,w)}}break;case 6:if(lt(t,e),ht(e),r&4){if(e.stateNode===null)throw Error($(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(w){xe(e,e.return,w)}}break;case 3:if(lt(t,e),ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{br(t.containerInfo)}catch(w){xe(e,e.return,w)}break;case 4:lt(t,e),ht(e);break;case 13:lt(t,e),ht(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Io=we())),r&4&&Ya(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Te=(d=Te)||p,lt(t,e),Te=d):lt(t,e),ht(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(B=e,p=e.child;p!==null;){for(g=B=p;B!==null;){switch(m=B,v=m.child,m.tag){case 0:case 11:case 14:case 15:Sr(4,m,m.return);break;case 1:$n(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(w){xe(r,n,w)}}break;case 5:$n(m,m.return);break;case 22:if(m.memoizedState!==null){Ja(g);continue}}v!==null?(v.return=m,B=v):Ja(g)}p=p.sibling}e:for(p=null,g=e;;){if(g.tag===5){if(p===null){p=g;try{s=g.stateNode,d?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(a=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Hc("display",o))}catch(w){xe(e,e.return,w)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(w){xe(e,e.return,w)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:lt(t,e),ht(e),r&4&&Ya(e);break;case 21:break;default:lt(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(gd(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Er(s,""),r.flags&=-33);var l=qa(e);Ul(e,l,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=qa(e);Bl(e,a,o);break;default:throw Error($(161))}}catch(c){xe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jh(e,t,n){B=e,xd(e)}function xd(e,t,n){for(var r=(e.mode&1)!==0;B!==null;){var s=B,l=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||fs;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Te;a=fs;var d=Te;if(fs=o,(Te=c)&&!d)for(B=s;B!==null;)o=B,c=o.child,o.tag===22&&o.memoizedState!==null?Xa(s):c!==null?(c.return=o,B=c):Xa(s);for(;l!==null;)B=l,xd(l),l=l.sibling;B=s,fs=a,Te=d}Ka(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,B=l):Ka(e)}}function Ka(e){for(;B!==null;){var t=B;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||di(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Te)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ot(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&La(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}La(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&br(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Te||t.flags&512&&Dl(t)}catch(m){xe(t,t.return,m)}}if(t===e){B=null;break}if(n=t.sibling,n!==null){n.return=t.return,B=n;break}B=t.return}}function Ja(e){for(;B!==null;){var t=B;if(t===e){B=null;break}var n=t.sibling;if(n!==null){n.return=t.return,B=n;break}B=t.return}}function Xa(e){for(;B!==null;){var t=B;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{di(4,t)}catch(c){xe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){xe(t,s,c)}}var l=t.return;try{Dl(t)}catch(c){xe(t,l,c)}break;case 5:var o=t.return;try{Dl(t)}catch(c){xe(t,o,c)}}}catch(c){xe(t,t.return,c)}if(t===e){B=null;break}var a=t.sibling;if(a!==null){a.return=t.return,B=a;break}B=t.return}}var wh=Math.ceil,Ys=Tt.ReactCurrentDispatcher,$o=Tt.ReactCurrentOwner,nt=Tt.ReactCurrentBatchConfig,se=0,Ee=null,ke=null,ze=0,Ge=0,Mn=sn(0),Ce=0,Fr=null,xn=0,pi=0,Mo=0,Nr=null,Be=null,Io=0,Yn=1/0,kt=null,Ks=!1,Fl=null,Jt=null,hs=!1,Ht=null,Js=0,Cr=0,Wl=null,Cs=-1,_s=0;function Me(){return se&6?we():Cs!==-1?Cs:Cs=we()}function Xt(e){return e.mode&1?se&2&&ze!==0?ze&-ze:sh.transition!==null?(_s===0&&(_s=ru()),_s):(e=oe,e!==0||(e=window.event,e=e===void 0?16:uu(e.type)),e):1}function dt(e,t,n,r){if(50<Cr)throw Cr=0,Wl=null,Error($(185));qr(e,n,r),(!(se&2)||e!==Ee)&&(e===Ee&&(!(se&2)&&(pi|=n),Ce===4&&Ut(e,ze)),Ve(e,r),n===1&&se===0&&!(t.mode&1)&&(Yn=we()+500,ai&&ln()))}function Ve(e,t){var n=e.callbackNode;rf(e,t);var r=Ls(e,e===Ee?ze:0);if(r===0)n!==null&&oa(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&oa(n),t===1)e.tag===0?rh(Za.bind(null,e)):zu(Za.bind(null,e)),Zf(function(){!(se&6)&&ln()}),n=null;else{switch(su(r)){case 1:n=ao;break;case 4:n=tu;break;case 16:n=Ts;break;case 536870912:n=nu;break;default:n=Ts}n=Ed(n,jd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function jd(e,t){if(Cs=-1,_s=0,se&6)throw Error($(327));var n=e.callbackNode;if(Fn()&&e.callbackNode!==n)return null;var r=Ls(e,e===Ee?ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Xs(e,r);else{t=r;var s=se;se|=2;var l=kd();(Ee!==e||ze!==t)&&(kt=null,Yn=we()+500,hn(e,t));do try{Nh();break}catch(a){wd(e,a)}while(!0);ko(),Ys.current=l,se=s,ke!==null?t=0:(Ee=null,ze=0,t=Ce)}if(t!==0){if(t===2&&(s=gl(e),s!==0&&(r=s,t=Hl(e,s))),t===1)throw n=Fr,hn(e,0),Ut(e,r),Ve(e,we()),n;if(t===6)Ut(e,r);else{if(s=e.current.alternate,!(r&30)&&!kh(s)&&(t=Xs(e,r),t===2&&(l=gl(e),l!==0&&(r=l,t=Hl(e,l))),t===1))throw n=Fr,hn(e,0),Ut(e,r),Ve(e,we()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:cn(e,Be,kt);break;case 3:if(Ut(e,r),(r&130023424)===r&&(t=Io+500-we(),10<t)){if(Ls(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Me(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Nl(cn.bind(null,e,Be,kt),t);break}cn(e,Be,kt);break;case 4:if(Ut(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ut(r);l=1<<o,o=t[o],o>s&&(s=o),r&=~l}if(r=s,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wh(r/1960))-r,10<r){e.timeoutHandle=Nl(cn.bind(null,e,Be,kt),r);break}cn(e,Be,kt);break;case 5:cn(e,Be,kt);break;default:throw Error($(329))}}}return Ve(e,we()),e.callbackNode===n?jd.bind(null,e):null}function Hl(e,t){var n=Nr;return e.current.memoizedState.isDehydrated&&(hn(e,t).flags|=256),e=Xs(e,t),e!==2&&(t=Be,Be=n,t!==null&&Vl(t)),e}function Vl(e){Be===null?Be=e:Be.push.apply(Be,e)}function kh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!pt(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ut(e,t){for(t&=~Mo,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ut(t),r=1<<n;e[n]=-1,t&=~r}}function Za(e){if(se&6)throw Error($(327));Fn();var t=Ls(e,0);if(!(t&1))return Ve(e,we()),null;var n=Xs(e,t);if(e.tag!==0&&n===2){var r=gl(e);r!==0&&(t=r,n=Hl(e,r))}if(n===1)throw n=Fr,hn(e,0),Ut(e,t),Ve(e,we()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cn(e,Be,kt),Ve(e,we()),null}function Oo(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Yn=we()+500,ai&&ln())}}function jn(e){Ht!==null&&Ht.tag===0&&!(se&6)&&Fn();var t=se;se|=1;var n=nt.transition,r=oe;try{if(nt.transition=null,oe=1,e)return e()}finally{oe=r,nt.transition=n,se=t,!(se&6)&&ln()}}function Do(){Ge=Mn.current,fe(Mn)}function hn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Xf(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(xo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ds();break;case 3:Qn(),fe(We),fe(Le),Po();break;case 5:Eo(r);break;case 4:Qn();break;case 13:fe(me);break;case 19:fe(me);break;case 10:So(r.type._context);break;case 22:case 23:Do()}n=n.return}if(Ee=e,ke=e=Zt(e.current,null),ze=Ge=t,Ce=0,Fr=null,Mo=pi=xn=0,Be=Nr=null,pn!==null){for(t=0;t<pn.length;t++)if(n=pn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=s,r.next=o}n.pending=r}pn=null}return e}function wd(e,t){do{var n=ke;try{if(ko(),ks.current=qs,Qs){for(var r=ge.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qs=!1}if(yn=0,_e=Ne=ge=null,kr=!1,Dr=0,$o.current=null,n===null||n.return===null){Ce=1,Fr=t,ke=null;break}e:{var l=e,o=n.return,a=n,c=t;if(t=ze,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=a,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=Ba(o);if(v!==null){v.flags&=-257,Ua(v,o,a,l,t),v.mode&1&&Da(l,d,t),t=v,c=d;var x=t.updateQueue;if(x===null){var w=new Set;w.add(c),t.updateQueue=w}else x.add(c);break e}else{if(!(t&1)){Da(l,d,t),Bo();break e}c=Error($(426))}}else if(he&&a.mode&1){var k=Ba(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ua(k,o,a,l,t),jo(qn(c,a));break e}}l=c=qn(c,a),Ce!==4&&(Ce=2),Nr===null?Nr=[l]:Nr.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var h=sd(l,c,t);Ta(l,h);break e;case 1:a=c;var u=l.type,f=l.stateNode;if(!(l.flags&128)&&(typeof u.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Jt===null||!Jt.has(f)))){l.flags|=65536,t&=-t,l.lanes|=t;var y=id(l,a,t);Ta(l,y);break e}}l=l.return}while(l!==null)}Nd(n)}catch(j){t=j,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function kd(){var e=Ys.current;return Ys.current=qs,e===null?qs:e}function Bo(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Ee===null||!(xn&268435455)&&!(pi&268435455)||Ut(Ee,ze)}function Xs(e,t){var n=se;se|=2;var r=kd();(Ee!==e||ze!==t)&&(kt=null,hn(e,t));do try{Sh();break}catch(s){wd(e,s)}while(!0);if(ko(),se=n,Ys.current=r,ke!==null)throw Error($(261));return Ee=null,ze=0,Ce}function Sh(){for(;ke!==null;)Sd(ke)}function Nh(){for(;ke!==null&&!qp();)Sd(ke)}function Sd(e){var t=_d(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?Nd(e):ke=t,$o.current=null}function Nd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vh(n,t),n!==null){n.flags&=32767,ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ce=6,ke=null;return}}else if(n=gh(n,t,Ge),n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Ce===0&&(Ce=5)}function cn(e,t,n){var r=oe,s=nt.transition;try{nt.transition=null,oe=1,Ch(e,t,n,r)}finally{nt.transition=s,oe=r}return null}function Ch(e,t,n,r){do Fn();while(Ht!==null);if(se&6)throw Error($(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(sf(e,l),e===Ee&&(ke=Ee=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hs||(hs=!0,Ed(Ts,function(){return Fn(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=nt.transition,nt.transition=null;var o=oe;oe=1;var a=se;se|=4,$o.current=null,xh(e,n),yd(n,e),Vf(kl),$s=!!wl,kl=wl=null,e.current=n,jh(n),Yp(),se=a,oe=o,nt.transition=l}else e.current=n;if(hs&&(hs=!1,Ht=e,Js=s),l=e.pendingLanes,l===0&&(Jt=null),Xp(n.stateNode),Ve(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ks)throw Ks=!1,e=Fl,Fl=null,e;return Js&1&&e.tag!==0&&Fn(),l=e.pendingLanes,l&1?e===Wl?Cr++:(Cr=0,Wl=e):Cr=0,ln(),null}function Fn(){if(Ht!==null){var e=su(Js),t=nt.transition,n=oe;try{if(nt.transition=null,oe=16>e?16:e,Ht===null)var r=!1;else{if(e=Ht,Ht=null,Js=0,se&6)throw Error($(331));var s=se;for(se|=4,B=e.current;B!==null;){var l=B,o=l.child;if(B.flags&16){var a=l.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(B=d;B!==null;){var p=B;switch(p.tag){case 0:case 11:case 15:Sr(8,p,l)}var g=p.child;if(g!==null)g.return=p,B=g;else for(;B!==null;){p=B;var m=p.sibling,v=p.return;if(md(p),p===d){B=null;break}if(m!==null){m.return=v,B=m;break}B=v}}}var x=l.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var k=w.sibling;w.sibling=null,w=k}while(w!==null)}}B=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,B=o;else e:for(;B!==null;){if(l=B,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Sr(9,l,l.return)}var h=l.sibling;if(h!==null){h.return=l.return,B=h;break e}B=l.return}}var u=e.current;for(B=u;B!==null;){o=B;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,B=f;else e:for(o=u;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:di(9,a)}}catch(j){xe(a,a.return,j)}if(a===o){B=null;break e}var y=a.sibling;if(y!==null){y.return=a.return,B=y;break e}B=a.return}}if(se=s,ln(),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(ri,e)}catch{}r=!0}return r}finally{oe=n,nt.transition=t}}return!1}function ec(e,t,n){t=qn(n,t),t=sd(e,t,1),e=Kt(e,t,1),t=Me(),e!==null&&(qr(e,1,t),Ve(e,t))}function xe(e,t,n){if(e.tag===3)ec(e,e,n);else for(;t!==null;){if(t.tag===3){ec(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Jt===null||!Jt.has(r))){e=qn(n,e),e=id(t,e,1),t=Kt(t,e,1),e=Me(),t!==null&&(qr(t,1,e),Ve(t,e));break}}t=t.return}}function _h(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Me(),e.pingedLanes|=e.suspendedLanes&n,Ee===e&&(ze&n)===n&&(Ce===4||Ce===3&&(ze&130023424)===ze&&500>we()-Io?hn(e,0):Mo|=n),Ve(e,t)}function Cd(e,t){t===0&&(e.mode&1?(t=ss,ss<<=1,!(ss&130023424)&&(ss=4194304)):t=1);var n=Me();e=bt(e,t),e!==null&&(qr(e,t,n),Ve(e,n))}function Eh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Cd(e,n)}function Ph(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),Cd(e,n)}var _d;_d=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||We.current)Fe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Fe=!1,mh(e,t,n);Fe=!!(e.flags&131072)}else Fe=!1,he&&t.flags&1048576&&Ru(t,Fs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ns(e,t),e=t.pendingProps;var s=Hn(t,Le.current);Un(t,n),s=Ro(null,t,r,e,s,n);var l=bo();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,He(r)?(l=!0,Bs(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Co(t),s.updater=ui,t.stateNode=s,s._reactInternals=t,bl(t,r,e,n),t=Ll(null,t,r,!0,l,n)):(t.tag=0,he&&l&&yo(t),$e(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ns(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Rh(r),e=ot(r,e),s){case 0:t=Tl(null,t,r,e,n);break e;case 1:t=Ha(null,t,r,e,n);break e;case 11:t=Fa(null,t,r,e,n);break e;case 14:t=Wa(null,t,r,ot(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),Tl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),Ha(e,t,r,s,n);case 3:e:{if(cd(t),e===null)throw Error($(387));r=t.pendingProps,l=t.memoizedState,s=l.element,Mu(e,t),Vs(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=qn(Error($(423)),t),t=Va(e,t,r,n,s);break e}else if(r!==s){s=qn(Error($(424)),t),t=Va(e,t,r,n,s);break e}else for(Qe=Yt(t.stateNode.containerInfo.firstChild),qe=t,he=!0,ct=null,n=Lu(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vn(),r===s){t=At(e,t,n);break e}$e(e,t,r,n)}t=t.child}return t;case 5:return Iu(t),e===null&&Pl(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,o=s.children,Sl(r,s)?o=null:l!==null&&Sl(r,l)&&(t.flags|=32),ad(e,t),$e(e,t,o,n),t.child;case 6:return e===null&&Pl(t),null;case 13:return ud(e,t,n);case 4:return _o(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Gn(t,null,r,n):$e(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),Fa(e,t,r,s,n);case 7:return $e(e,t,t.pendingProps,n),t.child;case 8:return $e(e,t,t.pendingProps.children,n),t.child;case 12:return $e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,o=s.value,ue(Ws,r._currentValue),r._currentValue=o,l!==null)if(pt(l.value,o)){if(l.children===s.children&&!We.current){t=At(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var a=l.dependencies;if(a!==null){o=l.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=Pt(-1,n&-n),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),zl(l.return,n,t),a.lanes|=n;break}c=c.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error($(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),zl(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}$e(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Un(t,n),s=rt(s),r=r(s),t.flags|=1,$e(e,t,r,n),t.child;case 14:return r=t.type,s=ot(r,t.pendingProps),s=ot(r.type,s),Wa(e,t,r,s,n);case 15:return ld(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),Ns(e,t),t.tag=1,He(r)?(e=!0,Bs(t)):e=!1,Un(t,n),rd(t,r,s),bl(t,r,s,n),Ll(null,t,r,!0,e,n);case 19:return dd(e,t,n);case 22:return od(e,t,n)}throw Error($(156,t.tag))};function Ed(e,t){return eu(e,t)}function zh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,n,r){return new zh(e,t,n,r)}function Uo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rh(e){if(typeof e=="function")return Uo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===io)return 11;if(e===lo)return 14}return 2}function Zt(e,t){var n=e.alternate;return n===null?(n=tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Es(e,t,n,r,s,l){var o=2;if(r=e,typeof e=="function")Uo(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case _n:return mn(n.children,s,l,t);case so:o=8,s|=8;break;case tl:return e=tt(12,n,t,s|2),e.elementType=tl,e.lanes=l,e;case nl:return e=tt(13,n,t,s),e.elementType=nl,e.lanes=l,e;case rl:return e=tt(19,n,t,s),e.elementType=rl,e.lanes=l,e;case Ic:return fi(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $c:o=10;break e;case Mc:o=9;break e;case io:o=11;break e;case lo:o=14;break e;case Ot:o=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=tt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function mn(e,t,n,r){return e=tt(7,e,r,t),e.lanes=n,e}function fi(e,t,n,r){return e=tt(22,e,r,t),e.elementType=Ic,e.lanes=n,e.stateNode={isHidden:!1},e}function Qi(e,t,n){return e=tt(6,e,null,t),e.lanes=n,e}function qi(e,t,n){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function bh(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pi(0),this.expirationTimes=Pi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fo(e,t,n,r,s,l,o,a,c){return e=new bh(e,t,n,a,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=tt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Co(l),e}function Ah(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Pd(e){if(!e)return nn;e=e._reactInternals;e:{if(kn(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(He(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(He(n))return Pu(e,n,t)}return t}function zd(e,t,n,r,s,l,o,a,c){return e=Fo(n,r,!0,e,s,l,o,a,c),e.context=Pd(null),n=e.current,r=Me(),s=Xt(n),l=Pt(r,s),l.callback=t??null,Kt(n,l,s),e.current.lanes=s,qr(e,s,r),Ve(e,r),e}function hi(e,t,n,r){var s=t.current,l=Me(),o=Xt(s);return n=Pd(n),t.context===null?t.context=n:t.pendingContext=n,t=Pt(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Kt(s,t,o),e!==null&&(dt(e,s,o,l),ws(e,s,o)),o}function Zs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wo(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function Th(){return null}var Rd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ho(e){this._internalRoot=e}mi.prototype.render=Ho.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));hi(e,t,null,null)};mi.prototype.unmount=Ho.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jn(function(){hi(null,e,null,null)}),t[Rt]=null}};function mi(e){this._internalRoot=e}mi.prototype.unstable_scheduleHydration=function(e){if(e){var t=ou();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Bt.length&&t!==0&&t<Bt[n].priority;n++);Bt.splice(n,0,e),n===0&&cu(e)}};function Vo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function gi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nc(){}function Lh(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var d=Zs(o);l.call(d)}}var o=zd(t,r,e,0,null,!1,!1,"",nc);return e._reactRootContainer=o,e[Rt]=o.current,Lr(e.nodeType===8?e.parentNode:e),jn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Zs(c);a.call(d)}}var c=Fo(e,0,!1,null,null,!1,!1,"",nc);return e._reactRootContainer=c,e[Rt]=c.current,Lr(e.nodeType===8?e.parentNode:e),jn(function(){hi(t,c,n,r)}),c}function vi(e,t,n,r,s){var l=n._reactRootContainer;if(l){var o=l;if(typeof s=="function"){var a=s;s=function(){var c=Zs(o);a.call(c)}}hi(t,o,e,s)}else o=Lh(n,t,e,s,r);return Zs(o)}iu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=mr(t.pendingLanes);n!==0&&(co(t,n|1),Ve(t,we()),!(se&6)&&(Yn=we()+500,ln()))}break;case 13:jn(function(){var r=bt(e,1);if(r!==null){var s=Me();dt(r,e,1,s)}}),Wo(e,1)}};uo=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var n=Me();dt(t,e,134217728,n)}Wo(e,134217728)}};lu=function(e){if(e.tag===13){var t=Xt(e),n=bt(e,t);if(n!==null){var r=Me();dt(n,e,t,r)}Wo(e,t)}};ou=function(){return oe};au=function(e,t){var n=oe;try{return oe=e,t()}finally{oe=n}};fl=function(e,t,n){switch(t){case"input":if(ll(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=oi(r);if(!s)throw Error($(90));Dc(r),ll(r,s)}}}break;case"textarea":Uc(e,n);break;case"select":t=n.value,t!=null&&In(e,!!n.multiple,t,!1)}};qc=Oo;Yc=jn;var $h={usingClientEntryPoint:!1,Events:[Kr,Rn,oi,Gc,Qc,Oo]},pr={findFiberByHostInstance:dn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mh={bundleType:pr.bundleType,version:pr.version,rendererPackageName:pr.rendererPackageName,rendererConfig:pr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Tt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xc(e),e===null?null:e.stateNode},findFiberByHostInstance:pr.findFiberByHostInstance||Th,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ms=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ms.isDisabled&&ms.supportsFiber)try{ri=ms.inject(Mh),xt=ms}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$h;Ke.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vo(t))throw Error($(200));return Ah(e,t,null,n)};Ke.createRoot=function(e,t){if(!Vo(e))throw Error($(299));var n=!1,r="",s=Rd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Fo(e,1,!1,null,null,n,!1,r,s),e[Rt]=t.current,Lr(e.nodeType===8?e.parentNode:e),new Ho(t)};Ke.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Xc(t),e=e===null?null:e.stateNode,e};Ke.flushSync=function(e){return jn(e)};Ke.hydrate=function(e,t,n){if(!gi(t))throw Error($(200));return vi(null,e,t,!0,n)};Ke.hydrateRoot=function(e,t,n){if(!Vo(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",o=Rd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=zd(t,null,e,1,n??null,s,!1,l,o),e[Rt]=t.current,Lr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new mi(t)};Ke.render=function(e,t,n){if(!gi(t))throw Error($(200));return vi(null,e,t,!1,n)};Ke.unmountComponentAtNode=function(e){if(!gi(e))throw Error($(40));return e._reactRootContainer?(jn(function(){vi(null,null,e,!1,function(){e._reactRootContainer=null,e[Rt]=null})}),!0):!1};Ke.unstable_batchedUpdates=Oo;Ke.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!gi(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return vi(e,t,n,!1,r)};Ke.version="18.3.1-next-f1338f8080-20240426";function bd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bd)}catch(e){console.error(e)}}bd(),bc.exports=Ke;var Ih=bc.exports,rc=Ih;Zi.createRoot=rc.createRoot,Zi.hydrateRoot=rc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wr.apply(this,arguments)}var Vt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vt||(Vt={}));const sc="popstate";function Oh(e){e===void 0&&(e={});function t(r,s){let{pathname:l,search:o,hash:a}=r.location;return Gl("",{pathname:l,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ei(s)}return Bh(t,n,null,e)}function ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ad(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Dh(){return Math.random().toString(36).substr(2,8)}function ic(e,t){return{usr:e.state,key:e.key,idx:t}}function Gl(e,t,n,r){return n===void 0&&(n=null),Wr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?nr(t):t,{state:n,key:t&&t.key||r||Dh()})}function ei(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function nr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Bh(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,o=s.history,a=Vt.Pop,c=null,d=p();d==null&&(d=0,o.replaceState(Wr({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function g(){a=Vt.Pop;let k=p(),h=k==null?null:k-d;d=k,c&&c({action:a,location:w.location,delta:h})}function m(k,h){a=Vt.Push;let u=Gl(w.location,k,h);d=p()+1;let f=ic(u,d),y=w.createHref(u);try{o.pushState(f,"",y)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(y)}l&&c&&c({action:a,location:w.location,delta:1})}function v(k,h){a=Vt.Replace;let u=Gl(w.location,k,h);d=p();let f=ic(u,d),y=w.createHref(u);o.replaceState(f,"",y),l&&c&&c({action:a,location:w.location,delta:0})}function x(k){let h=s.location.origin!=="null"?s.location.origin:s.location.href,u=typeof k=="string"?k:ei(k);return u=u.replace(/ $/,"%20"),ve(h,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,h)}let w={get action(){return a},get location(){return e(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(sc,g),c=k,()=>{s.removeEventListener(sc,g),c=null}},createHref(k){return t(s,k)},createURL:x,encodeLocation(k){let h=x(k);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:m,replace:v,go(k){return o.go(k)}};return w}var lc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lc||(lc={}));function Uh(e,t,n){return n===void 0&&(n="/"),Fh(e,t,n)}function Fh(e,t,n,r){let s=typeof t=="string"?nr(t):t,l=Kn(s.pathname||"/",n);if(l==null)return null;let o=Td(e);Wh(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=em(l);a=Xh(o[c],d)}return a}function Td(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(l,o,a)=>{let c={relativePath:a===void 0?l.path||"":a,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};c.relativePath.startsWith("/")&&(ve(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=en([r,c.relativePath]),p=n.concat(c);l.children&&l.children.length>0&&(ve(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Td(l.children,t,p,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:Kh(d,l.index),routesMeta:p})};return e.forEach((l,o)=>{var a;if(l.path===""||!((a=l.path)!=null&&a.includes("?")))s(l,o);else for(let c of Ld(l.path))s(l,o,c)}),t}function Ld(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let o=Ld(r.join("/")),a=[];return a.push(...o.map(c=>c===""?l:[l,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function Wh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Jh(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Hh=/^:[\w-]+$/,Vh=3,Gh=2,Qh=1,qh=10,Yh=-2,oc=e=>e==="*";function Kh(e,t){let n=e.split("/"),r=n.length;return n.some(oc)&&(r+=Yh),t&&(r+=Gh),n.filter(s=>!oc(s)).reduce((s,l)=>s+(Hh.test(l)?Vh:l===""?Qh:qh),r)}function Jh(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Xh(e,t,n){let{routesMeta:r}=e,s={},l="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,p=l==="/"?t:t.slice(l.length)||"/",g=Ql({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),m=c.route;if(!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:en([l,g.pathname]),pathnameBase:sm(en([l,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(l=en([l,g.pathnameBase]))}return o}function Ql(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Zh(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],o=l.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,p,g)=>{let{paramName:m,isOptional:v}=p;if(m==="*"){let w=a[g]||"";o=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const x=a[g];return v&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:o,pattern:e}}function Zh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ad(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function em(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ad(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Kn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function tm(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?nr(e):e;return{pathname:n?n.startsWith("/")?n:nm(n,t):t,search:im(r),hash:lm(s)}}function nm(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Yi(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rm(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Go(e,t){let n=rm(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Qo(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=nr(e):(s=Wr({},e),ve(!s.pathname||!s.pathname.includes("?"),Yi("?","pathname","search",s)),ve(!s.pathname||!s.pathname.includes("#"),Yi("#","pathname","hash",s)),ve(!s.search||!s.search.includes("#"),Yi("#","search","hash",s)));let l=e===""||s.pathname==="",o=l?"/":s.pathname,a;if(o==null)a=n;else{let g=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),g-=1;s.pathname=m.join("/")}a=g>=0?t[g]:"/"}let c=tm(s,a),d=o&&o!=="/"&&o.endsWith("/"),p=(l||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const en=e=>e.join("/").replace(/\/\/+/g,"/"),sm=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),im=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lm=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function om(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const $d=["post","put","patch","delete"];new Set($d);const am=["get",...$d];new Set(am);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hr(){return Hr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hr.apply(this,arguments)}const yi=R.createContext(null),Md=R.createContext(null),Lt=R.createContext(null),xi=R.createContext(null),on=R.createContext({outlet:null,matches:[],isDataRoute:!1}),Id=R.createContext(null);function cm(e,t){let{relative:n}=t===void 0?{}:t;rr()||ve(!1);let{basename:r,navigator:s}=R.useContext(Lt),{hash:l,pathname:o,search:a}=ji(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:en([r,o])),s.createHref({pathname:c,search:a,hash:l})}function rr(){return R.useContext(xi)!=null}function sr(){return rr()||ve(!1),R.useContext(xi).location}function Od(e){R.useContext(Lt).static||R.useLayoutEffect(e)}function Dd(){let{isDataRoute:e}=R.useContext(on);return e?km():um()}function um(){rr()||ve(!1);let e=R.useContext(yi),{basename:t,future:n,navigator:r}=R.useContext(Lt),{matches:s}=R.useContext(on),{pathname:l}=sr(),o=JSON.stringify(Go(s,n.v7_relativeSplatPath)),a=R.useRef(!1);return Od(()=>{a.current=!0}),R.useCallback(function(d,p){if(p===void 0&&(p={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let g=Qo(d,JSON.parse(o),l,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:en([t,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[t,r,o,l,e])}function ji(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=R.useContext(Lt),{matches:s}=R.useContext(on),{pathname:l}=sr(),o=JSON.stringify(Go(s,r.v7_relativeSplatPath));return R.useMemo(()=>Qo(e,JSON.parse(o),l,n==="path"),[e,o,l,n])}function dm(e,t){return pm(e,t)}function pm(e,t,n,r){rr()||ve(!1);let{navigator:s}=R.useContext(Lt),{matches:l}=R.useContext(on),o=l[l.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=sr(),p;if(t){var g;let k=typeof t=="string"?nr(t):t;c==="/"||(g=k.pathname)!=null&&g.startsWith(c)||ve(!1),p=k}else p=d;let m=p.pathname||"/",v=m;if(c!=="/"){let k=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(k.length).join("/")}let x=Uh(e,{pathname:v}),w=vm(x&&x.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:en([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:en([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,n,r);return t&&w?R.createElement(xi.Provider,{value:{location:Hr({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Vt.Pop}},w):w}function fm(){let e=wm(),t=om(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:s},n):null,null)}const hm=R.createElement(fm,null);class mm extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?R.createElement(on.Provider,{value:this.props.routeContext},R.createElement(Id.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gm(e){let{routeContext:t,match:n,children:r}=e,s=R.useContext(yi);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(on.Provider,{value:t},r)}function vm(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let p=o.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);p>=0||ve(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:m,errors:v}=n,x=g.route.loader&&m[g.route.id]===void 0&&(!v||v[g.route.id]===void 0);if(g.route.lazy||x){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,m)=>{let v,x=!1,w=null,k=null;n&&(v=a&&g.route.id?a[g.route.id]:void 0,w=g.route.errorElement||hm,c&&(d<0&&m===0?(Sm("route-fallback"),x=!0,k=null):d===m&&(x=!0,k=g.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,m+1)),u=()=>{let f;return v?f=w:x?f=k:g.route.Component?f=R.createElement(g.route.Component,null):g.route.element?f=g.route.element:f=p,R.createElement(gm,{match:g,routeContext:{outlet:p,matches:h,isDataRoute:n!=null},children:f})};return n&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?R.createElement(mm,{location:n.location,revalidation:n.revalidation,component:w,error:v,children:u(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):u()},null)}var Bd=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Bd||{}),Ud=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ud||{});function ym(e){let t=R.useContext(yi);return t||ve(!1),t}function xm(e){let t=R.useContext(Md);return t||ve(!1),t}function jm(e){let t=R.useContext(on);return t||ve(!1),t}function Fd(e){let t=jm(),n=t.matches[t.matches.length-1];return n.route.id||ve(!1),n.route.id}function wm(){var e;let t=R.useContext(Id),n=xm(),r=Fd();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function km(){let{router:e}=ym(Bd.UseNavigateStable),t=Fd(Ud.UseNavigateStable),n=R.useRef(!1);return Od(()=>{n.current=!0}),R.useCallback(function(s,l){l===void 0&&(l={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Hr({fromRouteId:t},l)))},[e,t])}const ac={};function Sm(e,t,n){ac[e]||(ac[e]=!0)}function Nm(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Cm(e){let{to:t,replace:n,state:r,relative:s}=e;rr()||ve(!1);let{future:l,static:o}=R.useContext(Lt),{matches:a}=R.useContext(on),{pathname:c}=sr(),d=Dd(),p=Qo(t,Go(a,l.v7_relativeSplatPath),c,s==="path"),g=JSON.stringify(p);return R.useEffect(()=>d(JSON.parse(g),{replace:n,state:r,relative:s}),[d,g,s,n,r]),null}function Nn(e){ve(!1)}function _m(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Vt.Pop,navigator:l,static:o=!1,future:a}=e;rr()&&ve(!1);let c=t.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:c,navigator:l,static:o,future:Hr({v7_relativeSplatPath:!1},a)}),[c,a,l,o]);typeof r=="string"&&(r=nr(r));let{pathname:p="/",search:g="",hash:m="",state:v=null,key:x="default"}=r,w=R.useMemo(()=>{let k=Kn(p,c);return k==null?null:{location:{pathname:k,search:g,hash:m,state:v,key:x},navigationType:s}},[c,p,g,m,v,x,s]);return w==null?null:R.createElement(Lt.Provider,{value:d},R.createElement(xi.Provider,{children:n,value:w}))}function Em(e){let{children:t,location:n}=e;return dm(ql(t),n)}new Promise(()=>{});function ql(e,t){t===void 0&&(t=[]);let n=[];return R.Children.forEach(e,(r,s)=>{if(!R.isValidElement(r))return;let l=[...t,s];if(r.type===R.Fragment){n.push.apply(n,ql(r.props.children,l));return}r.type!==Nn&&ve(!1),!r.props.index||!r.props.children||ve(!1);let o={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ql(r.props.children,l)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ti(){return ti=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ti.apply(this,arguments)}function Wd(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,l;for(l=0;l<r.length;l++)s=r[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Pm(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function zm(e,t){return e.button===0&&(!t||t==="_self")&&!Pm(e)}const Rm=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bm=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Am="6";try{window.__reactRouterVersion=Am}catch{}const Tm=R.createContext({isTransitioning:!1}),Lm="startTransition",cc=Cp[Lm];function $m(e){let{basename:t,children:n,future:r,window:s}=e,l=R.useRef();l.current==null&&(l.current=Oh({window:s,v5Compat:!0}));let o=l.current,[a,c]=R.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},p=R.useCallback(g=>{d&&cc?cc(()=>c(g)):c(g)},[c,d]);return R.useLayoutEffect(()=>o.listen(p),[o,p]),R.useEffect(()=>Nm(r),[r]),R.createElement(_m,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Mm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Im=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ps=R.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:l,replace:o,state:a,target:c,to:d,preventScrollReset:p,viewTransition:g}=t,m=Wd(t,Rm),{basename:v}=R.useContext(Lt),x,w=!1;if(typeof d=="string"&&Im.test(d)&&(x=d,Mm))try{let f=new URL(window.location.href),y=d.startsWith("//")?new URL(f.protocol+d):new URL(d),j=Kn(y.pathname,v);y.origin===f.origin&&j!=null?d=j+y.search+y.hash:w=!0}catch{}let k=cm(d,{relative:s}),h=Bm(d,{replace:o,state:a,target:c,preventScrollReset:p,relative:s,viewTransition:g});function u(f){r&&r(f),f.defaultPrevented||h(f)}return R.createElement("a",ti({},m,{href:x||k,onClick:w||l?r:u,ref:n,target:c}))}),Om=R.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:l="",end:o=!1,style:a,to:c,viewTransition:d,children:p}=t,g=Wd(t,bm),m=ji(c,{relative:g.relative}),v=sr(),x=R.useContext(Md),{navigator:w,basename:k}=R.useContext(Lt),h=x!=null&&Um(m)&&d===!0,u=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,f=v.pathname,y=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(f=f.toLowerCase(),y=y?y.toLowerCase():null,u=u.toLowerCase()),y&&k&&(y=Kn(y,k)||y);const j=u!=="/"&&u.endsWith("/")?u.length-1:u.length;let E=f===u||!o&&f.startsWith(u)&&f.charAt(j)==="/",C=y!=null&&(y===u||!o&&y.startsWith(u)&&y.charAt(u.length)==="/"),_={isActive:E,isPending:C,isTransitioning:h},N=E?r:void 0,P;typeof l=="function"?P=l(_):P=[l,E?"active":null,C?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let A=typeof a=="function"?a(_):a;return R.createElement(Ps,ti({},g,{"aria-current":N,className:P,ref:n,style:A,to:c,viewTransition:d}),typeof p=="function"?p(_):p)});var Yl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Yl||(Yl={}));var uc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(uc||(uc={}));function Dm(e){let t=R.useContext(yi);return t||ve(!1),t}function Bm(e,t){let{target:n,replace:r,state:s,preventScrollReset:l,relative:o,viewTransition:a}=t===void 0?{}:t,c=Dd(),d=sr(),p=ji(e,{relative:o});return R.useCallback(g=>{if(zm(g,n)){g.preventDefault();let m=r!==void 0?r:ei(d)===ei(p);c(e,{replace:m,state:s,preventScrollReset:l,relative:o,viewTransition:a})}},[d,c,p,r,s,n,e,l,o,a])}function Um(e,t){t===void 0&&(t={});let n=R.useContext(Tm);n==null&&ve(!1);let{basename:r}=Dm(Yl.useViewTransitionState),s=ji(e,{relative:t.relative});if(!n.isTransitioning)return!1;let l=Kn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Kn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ql(s.pathname,o)!=null||Ql(s.pathname,l)!=null}const Fm={},dc=e=>{let t;const n=new Set,r=(p,g)=>{const m=typeof p=="function"?p(t):p;if(!Object.is(m,t)){const v=t;t=g??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(x=>x(t,v))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(Fm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,s,c);return c},Wm=e=>e?dc(e):dc;var Hd={exports:{}},Vd={},Gd={exports:{}},Qd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jn=R;function Hm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vm=typeof Object.is=="function"?Object.is:Hm,Gm=Jn.useState,Qm=Jn.useEffect,qm=Jn.useLayoutEffect,Ym=Jn.useDebugValue;function Km(e,t){var n=t(),r=Gm({inst:{value:n,getSnapshot:t}}),s=r[0].inst,l=r[1];return qm(function(){s.value=n,s.getSnapshot=t,Ki(s)&&l({inst:s})},[e,n,t]),Qm(function(){return Ki(s)&&l({inst:s}),e(function(){Ki(s)&&l({inst:s})})},[e]),Ym(n),n}function Ki(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Vm(e,n)}catch{return!0}}function Jm(e,t){return t()}var Xm=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Jm:Km;Qd.useSyncExternalStore=Jn.useSyncExternalStore!==void 0?Jn.useSyncExternalStore:Xm;Gd.exports=Qd;var Zm=Gd.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wi=R,eg=Zm;function tg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ng=typeof Object.is=="function"?Object.is:tg,rg=eg.useSyncExternalStore,sg=wi.useRef,ig=wi.useEffect,lg=wi.useMemo,og=wi.useDebugValue;Vd.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var l=sg(null);if(l.current===null){var o={hasValue:!1,value:null};l.current=o}else o=l.current;l=lg(function(){function c(v){if(!d){if(d=!0,p=v,v=r(v),s!==void 0&&o.hasValue){var x=o.value;if(s(x,v))return g=x}return g=v}if(x=g,ng(p,v))return x;var w=r(v);return s!==void 0&&s(x,w)?(p=v,x):(p=v,g=w)}var d=!1,p,g,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,r,s]);var a=rg(e,l[0],l[1]);return ig(function(){o.hasValue=!0,o.value=a},[a]),og(a),a};Hd.exports=Vd;var ag=Hd.exports;const cg=xc(ag),qd={},{useDebugValue:ug}=eo,{useSyncExternalStoreWithSelector:dg}=cg;let pc=!1;const pg=e=>e;function fg(e,t=pg,n){(qd?"production":void 0)!=="production"&&n&&!pc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),pc=!0);const r=dg(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return ug(r),r}const hg=e=>{(qd?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Wm(e):e,n=(r,s)=>fg(t,r,s);return Object.assign(n,t),n},Yd=e=>hg,mg={};function gg(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var l;const o=c=>c===null?null:JSON.parse(c,void 0),a=(l=n.getItem(s))!=null?l:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,l)=>n.setItem(s,JSON.stringify(l,void 0)),removeItem:s=>n.removeItem(s)}}const Vr=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Vr(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Vr(r)(n)}}}},vg=(e,t)=>(n,r,s)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,h)=>({...h,...k}),...t},o=!1;const a=new Set,c=new Set;let d;try{d=l.getStorage()}catch{}if(!d)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...k)},r,s);const p=Vr(l.serialize),g=()=>{const k=l.partialize({...r()});let h;const u=p({state:k,version:l.version}).then(f=>d.setItem(l.name,f)).catch(f=>{h=f});if(h)throw h;return u},m=s.setState;s.setState=(k,h)=>{m(k,h),g()};const v=e((...k)=>{n(...k),g()},r,s);let x;const w=()=>{var k;if(!d)return;o=!1,a.forEach(u=>u(r()));const h=((k=l.onRehydrateStorage)==null?void 0:k.call(l,r()))||void 0;return Vr(d.getItem.bind(d))(l.name).then(u=>{if(u)return l.deserialize(u)}).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==l.version){if(l.migrate)return l.migrate(u.state,u.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return u.state}).then(u=>{var f;return x=l.merge(u,(f=r())!=null?f:v),n(x,!0),g()}).then(()=>{h==null||h(x,void 0),o=!0,c.forEach(u=>u(x))}).catch(u=>{h==null||h(void 0,u)})};return s.persist={setOptions:k=>{l={...l,...k},k.getStorage&&(d=k.getStorage())},clearStorage:()=>{d==null||d.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:k=>(a.add(k),()=>{a.delete(k)}),onFinishHydration:k=>(c.add(k),()=>{c.delete(k)})},w(),x||v},yg=(e,t)=>(n,r,s)=>{let l={storage:gg(()=>localStorage),partialize:w=>w,version:0,merge:(w,k)=>({...k,...w}),...t},o=!1;const a=new Set,c=new Set;let d=l.storage;if(!d)return e((...w)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...w)},r,s);const p=()=>{const w=l.partialize({...r()});return d.setItem(l.name,{state:w,version:l.version})},g=s.setState;s.setState=(w,k)=>{g(w,k),p()};const m=e((...w)=>{n(...w),p()},r,s);s.getInitialState=()=>m;let v;const x=()=>{var w,k;if(!d)return;o=!1,a.forEach(u=>{var f;return u((f=r())!=null?f:m)});const h=((k=l.onRehydrateStorage)==null?void 0:k.call(l,(w=r())!=null?w:m))||void 0;return Vr(d.getItem.bind(d))(l.name).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==l.version){if(l.migrate)return[!0,l.migrate(u.state,u.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,u.state];return[!1,void 0]}).then(u=>{var f;const[y,j]=u;if(v=l.merge(j,(f=r())!=null?f:m),n(v,!0),y)return p()}).then(()=>{h==null||h(v,void 0),v=r(),o=!0,c.forEach(u=>u(v))}).catch(u=>{h==null||h(void 0,u)})};return s.persist={setOptions:w=>{l={...l,...w},w.storage&&(d=w.storage)},clearStorage:()=>{d==null||d.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:w=>(a.add(w),()=>{a.delete(w)}),onFinishHydration:w=>(c.add(w),()=>{c.delete(w)})},l.skipHydration||x(),v||m},xg=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((mg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),vg(e,t)):yg(e,t),Kd=xg;class jg{constructor(){ki(this,"enabled",!1);ki(this,"storageKey","sidonia-analytics-buffer")}setEnabled(t){this.enabled=t,!(typeof window>"u")&&(t||this.clear())}track(t,n){if(typeof window>"u"||!this.enabled)return;const r={event:t,timestamp:new Date().toISOString(),data:n};try{const s=this.load();s.push(r),localStorage.setItem(this.storageKey,JSON.stringify(s)),console.info("[analytics]",r)}catch(s){console.warn("Analytics storage failed",s)}}getAll(){return typeof window>"u"?[]:this.load()}clear(){typeof window>"u"||localStorage.removeItem(this.storageKey)}load(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){return console.warn("Failed to read analytics buffer",t),[]}}}const re=new jg,wg="CodexRules!!!!!",yt=Yd()(Kd((e,t)=>({gmUnlocked:!1,gmUnlockedAt:null,analyticsConsent:"unknown",analyticsNotified:!1,authenticateGm:n=>n.trim().toUpperCase()===wg?(e({gmUnlocked:!0,gmUnlockedAt:new Date().toISOString()}),re.track("gm.unlocked",{}),!0):(re.track("gm.failed_auth",{attempt:n.trim().length}),!1),lockGm:()=>e({gmUnlocked:!1,gmUnlockedAt:null}),setAnalyticsConsent:n=>{e({analyticsConsent:n?"accepted":"declined"}),re.setEnabled(n),re.track("analytics.consent",{granted:n})},markAnalyticsNotified:()=>e({analyticsNotified:!0})}),{name:"sidonia-session-state",version:1,migrate:e=>({gmUnlocked:!1,gmUnlockedAt:null,analyticsConsent:(e==null?void 0:e.analyticsConsent)??"unknown",analyticsNotified:!1})}));function kg(){const e=yt(s=>s.analyticsConsent),t=yt(s=>s.analyticsNotified),n=yt(s=>s.setAnalyticsConsent),r=yt(s=>s.markAnalyticsNotified);return e!=="unknown"||t?null:i.jsxs("aside",{className:"analytics-banner",role:"dialog","aria-live":"polite",children:[i.jsxs("div",{children:[i.jsx("h3",{children:"Help Improve Sidonia"}),i.jsx("p",{children:"We collect anonymous usage patterns (no personal data) to refine the priority flow and uncover confusing choices. You can opt out and still use the builderno pressure."})]}),i.jsxs("div",{className:"analytics-banner__actions",children:[i.jsx("button",{type:"button",onClick:()=>n(!0),children:"Share Anonymous Data"}),i.jsx("button",{type:"button",className:"secondary",onClick:()=>n(!1),children:"No Thanks"}),i.jsx("button",{type:"button",className:"dismiss",onClick:r,children:"Remind Me Later"})]})]})}async function St(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.status} ${t.statusText}`);const n=await t.text();try{return JSON.parse(n)}catch(r){throw new Error(`Failed to parse JSON from ${e}: ${r.message}`)}}async function Sg(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.status} ${t.statusText}`);return await t.text()}const Ng={automata:"/data/Sidonia-Powers-Schema-Automata.Json",chimera:"/data/Sidonia-Powers-Schema-Chimera.Json",espers:"/data/Sidonia-Powers-Schema-Espers.json",neosapiens:"/data/Sidonia-Powers-Schema-NeoSapiens.Json",sorcery:"/data/Sidonia-Powers-Schema-Sorcery.Json"},Cg={automata:"/data/powers-automata.json",chimera:"/data/powers-chimera.json",esper:"/data/powers-esper.json",neosapien:"/data/powers-neosapien.json",sorcery:"/data/powers-sorcery.json"},_g=[{id:"lineage-architecture",title:"Lineage Architecture",path:"/content/lineage-architecture.md"},{id:"design-philosophy",title:"Sidonia Design Philosophy",path:"/content/sidonia-design-philosophy.md"},{id:"resources-system",title:"Resources System Overview",path:"/content/sidonia-resources-system.md"}];async function Eg(){const[e,t,n,r,s,l,o,a,c,d]=await Promise.all([St("/data/backgrounds.json"),St("/data/Sidonia-Skills.Json"),St("/data/resources-system.json"),St("/data/resource-costs.json"),St("/data/legal.json"),Pg(),zg(),St("/data/attributes.json"),St("/data/character-sheet-structure.json"),Tg()]),p=bg(a),g=Ag(c);return{backgrounds:e,skills:t,resources:n,resourceCosts:r,legal:s,powerSchemas:l,powerSets:o,attributes:p,characterSheet:g,designDocs:d}}async function Pg(){const e=await Promise.all(Object.entries(Ng).map(async([t,n])=>{const r=await St(n);return[t,r]}));return Object.fromEntries(e)}async function zg(){const e=Object.entries(Cg).map(async([r,s])=>{const l=r,o=await St(s);return[l,Rg(l,o)]}),t=await Promise.allSettled(e),n=[];return t.forEach(r=>{r.status==="fulfilled"?n.push(r.value):console.warn("[sidonia] Failed to load lineage power data:",r.reason)}),Object.fromEntries(n)}function Rg(e,t){const n={...t};return"lineage"in n||(n.lineage=e),n.lineageId=e,n}function bg(e){return e&&typeof e=="object"&&"attributes"in e?e.attributes:e}function Ag(e){return e&&typeof e=="object"&&"characterSheet"in e?e.characterSheet:e}async function Tg(){return await Promise.all(_g.map(async t=>{const n=await Sg(t.path);return{...t,content:n}}))}const Jd=R.createContext(void 0);function Lg({children:e}){const[t,n]=R.useState(null),[r,s]=R.useState("idle"),[l,o]=R.useState(null),a=R.useCallback(async()=>{s("loading"),o(null);try{const d=await Eg();n(d),s("ready")}catch(d){s("error"),o(d instanceof Error?d.message:"Unknown data loading error")}},[]);R.useEffect(()=>{a()},[a]);const c=R.useMemo(()=>({data:t,status:r,error:l,refresh:a}),[t,r,l,a]);return i.jsx(Jd.Provider,{value:c,children:e})}function Xr(){const e=R.useContext(Jd);if(!e)throw new Error("useCharacterData must be used within a DataProvider");return e}function $g(){var n,r;const{data:e}=Xr(),t=(n=e==null?void 0:e.legal)==null?void 0:n.copyright;return!t||((r=t.display)==null?void 0:r.footer)===!1?null:i.jsxs("footer",{className:"legal-footer","aria-label":"Legal notice",role:"contentinfo",children:[i.jsx("span",{className:"legal-footer__text",children:t.text}),t.licenseUrl?i.jsx("a",{href:t.licenseUrl,target:"_blank",rel:"noreferrer",className:"legal-footer__link",children:t.license}):i.jsx("span",{className:"legal-footer__link",children:t.license})]})}function Mg(){const[e,t]=R.useState(!1);R.useEffect(()=>{const r=()=>{window.scrollY>300?t(!0):t(!1)};return window.addEventListener("scroll",r),()=>{window.removeEventListener("scroll",r)}},[]);const n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return i.jsx("button",{className:`back-to-top ${e?"back-to-top--visible":""}`,onClick:n,"aria-label":"Back to top",type:"button",children:i.jsx("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:i.jsx("path",{d:"M10 4L10 16M10 4L4 10M10 4L16 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}const Ig=[{to:"/",label:"Experience"},{to:"/builder",label:"Character Builder"},{to:"/management",label:"Character Management"},{to:"/gm",label:"GM Veil"}];function Og({children:e}){return i.jsxs("div",{className:"app-shell",children:[i.jsx("header",{className:"app-shell__header",children:i.jsxs("nav",{className:"app-shell__nav",children:[i.jsx("span",{className:"brand",children:"Sidonia: The Long Night"}),i.jsx("div",{className:"nav-links",children:Ig.map(t=>i.jsx(Om,{to:t.to,className:({isActive:n})=>n?"nav-link active":"nav-link",end:!0,children:t.label},t.to))}),i.jsx("span",{className:"nav-meta",children:"Every choice demands a sacrifice"})]})}),i.jsx("main",{className:"app-shell__main",children:e}),i.jsx($g,{}),i.jsx(kg,{}),i.jsx(Mg,{})]})}function Xd(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Xd(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function pe(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Xd(e))&&(r&&(r+=" "),r+=t);return r}const Ue=({variant:e="primary",size:t="md",lineage:n,corrupted:r=!1,className:s,children:l,...o})=>{const a=pe("relative font-display tracking-wider uppercase","transition-all duration-300","border-2","hover:shadow-lg active:scale-95","disabled:opacity-50 disabled:cursor-not-allowed","before:absolute before:inset-0","before:bg-gradient-to-r before:from-transparent before:to-transparent","before:opacity-0 hover:before:opacity-10 before:pointer-events-none"),c={primary:pe("bg-sidonia-black text-sidonia-gold",n?`border-lineage-${n}`:"border-sidonia-gold",n?`hover:bg-lineage-${n}/10`:"hover:bg-sidonia-gold/10",n?`hover:shadow-lineage-${n}/20`:"hover:shadow-sidonia-gold/20"),secondary:pe("bg-sidonia-dark border-sidonia-brass text-sidonia-brass","hover:bg-sidonia-brass/10"),danger:pe("bg-sidonia-black border-corruption-red text-corruption-red","hover:bg-corruption-red/10"),ghost:pe("bg-transparent border-transparent text-sidonia-text","hover:border-sidonia-gold/50")},d={sm:"px-deco-sm py-1 text-sm",md:"px-deco-md py-2 text-base",lg:"px-deco-lg py-3 text-lg"},p=r?"animate-corruption-glow":"";return i.jsx("button",{className:pe(a,c[e],d[t],p,s),...o,children:l})},Ft=({children:e,className:t,title:n,lineage:r,corrupted:s=!1})=>{const l=r?`border-lineage-${r}/60`:"border-sidonia-gold/60",o=r?`hover:border-lineage-${r}`:"hover:border-sidonia-gold",a=r?`border-lineage-${r}`:"border-sidonia-gold";return i.jsxs("div",{className:pe("relative bg-sidonia-dark border-2 p-deco-md overflow-hidden","transition-all duration-300",l,o,"before:absolute before:top-0 before:left-0","before:w-deco-md before:h-deco-md","before:border-t-2 before:border-l-2",`before:${a}`,"after:absolute after:bottom-0 after:right-0","after:w-deco-md after:h-deco-md","after:border-b-2 after:border-r-2",`after:${a}`,s&&"corruption-medium",t),children:[n&&i.jsx("h2",{className:pe("font-display text-2xl tracking-[0.2em] uppercase text-center mb-deco-sm relative",r?`text-lineage-${r}`:"text-sidonia-gold",'after:content-[""] after:absolute after:bottom-0 after:left-1/2',"after:transform after:-translate-x-1/2","after:w-16 after:h-px",r?`after:bg-lineage-${r}`:"after:bg-sidonia-gold"),children:n}),e]})};function Dg(){return i.jsx("div",{className:"min-h-screen flex items-center justify-center px-deco-md py-deco-xl",children:i.jsxs("div",{className:"max-w-4xl w-full space-y-deco-lg",children:[i.jsxs("header",{className:"text-center space-y-deco-md mb-deco-xl",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-display-lg text-shadow-gold px-4",children:"Character Creation as Descent"}),i.jsx("div",{className:"h-px w-32 mx-auto bg-gradient-to-r from-transparent via-sidonia-gold to-transparent"}),i.jsx("p",{className:"text-body-lg text-sidonia-text max-w-2xl mx-auto leading-relaxed",children:"Step through Sidonia's dark wards with a guide that teaches while it tempts. Assign priorities, face the consequences, and build a persona that balances humanity, power, and the whispers of corruption."})]}),i.jsxs(Ft,{className:"space-y-deco-md",children:[i.jsxs("div",{className:"space-y-deco-sm",children:[i.jsx("p",{className:"text-body text-sidonia-text/90 leading-relaxed",children:"Begin with the priority grid, explore lineage aesthetics, and unlock deeper mechanical truths only when you are ready to commit. Every page layers narrative first and detail second, ensuring newcomers learn through meaningful choice."}),i.jsx("p",{className:"text-body text-sidonia-text/90 leading-relaxed",children:"Continue to the Character Builder to start a new dossier or revisit existing souls you are shepherding through the night."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-deco-sm pt-deco-md border-t border-sidonia-gold/60",children:[i.jsx(Ps,{to:"/builder",className:"block",children:i.jsx(Ue,{variant:"primary",size:"lg",className:"w-full",children:"New Character"})}),i.jsx(Ps,{to:"/management",className:"block",children:i.jsx(Ue,{variant:"secondary",size:"lg",className:"w-full",children:"Manage Characters"})}),i.jsx(Ps,{to:"/gm",className:"block",children:i.jsx(Ue,{variant:"ghost",size:"lg",className:"w-full",children:"GM Portal"})})]})]}),i.jsxs("blockquote",{className:"text-center",children:[i.jsx("p",{className:"font-display text-xl tracking-wider text-sidonia-muted italic",children:'"Every power has a price. Every choice leaves its mark."'}),i.jsx("footer",{className:"mt-2 text-label",children:" The Republic Archives"})]})]})})}const Zd=[{key:"neosapien",name:"NeoSapien",tagline:"The Pinnacle of Human Potential",summary:"Humanity unbound by natural limitations. Through masterful bio-artistry and flesh-grafting, the Red Sentinels' Forge Program creates living weapons and paragons of human potential. To receive Forge augments is to transcend the fleshan opportunity for those with the right connections or deep pockets to become more.",priorityImpacts:{A:"Nine augmentation slots; enough to rebuild your body and soul with top-tier Forge miracles.",B:"Seven slots; you are an elite prototype with room to grow.",C:"Six slots; respectable upgrades with compromises lingering beneath the chrome.",D:"Four slots; hand-me-down mods and a favor owed to the Syndicate.",E:"Two slots; scrap work that barely keeps you alive."},narrativeHook:"More than human, huh? That's the sales pitch. The Forge Program sells transcendence, but what they're really building are better soldiers. Priority A or B gets you that top-tier military hardware. Below that? You're getting street-level junk or corporate knock-offs. Every product has a warranty that's shorter than you think.",gmWhisper:"Every augmentation has a corruption drip. Track how many slots are filled to calibrate the player-facing warning meter.",aesthetic:{accent:"#87f5ff",glow:"linear-gradient(135deg, rgba(120, 220, 255, 0.35), rgba(80, 140, 255, 0.2))",texture:"radial-gradient(circle at 50% 10%, rgba(120, 220, 255, 0.2), transparent 60%)"}},{key:"sorcery",name:"Sorcerer",tagline:"The Architect of Reality",summary:"Supreme intellectual discipline. Through grueling study and flawless memorization, Sorcerers petition the Aether to reshape the world. Not a gift, but an achievement earned through tireless dedication. They see the elegant, immutable mathematics of existence, and possess the will to solve its most challenging equations.",priorityImpacts:{A:"Primary + 2 Secondary spheres, five total moves etched into your soul.",B:"Primary + Secondary pairing with four rote moves; the classic cabal initiate.",C:"Choose one Primary or two Secondary spheres, three moves scrawled in desperate ink.",D:"One secondary sphere and two moves; a dabbler who still owes their mentor.",E:"One secondary sphere, one move, hope you can bluff the rest."},narrativeHook:"Architects of Reality... right. They're librarians, kid. The most dangerous kind. They spend their whole lives learning a language that can set the air on fire. One wrong thought, one slip of the tongue, and that 'elegant equation' goes catastrophically sideways. Never trust a person whose main occupational hazard is accidentally turning their breakfast into a pile of spiders.",gmWhisper:"Each move should have a listed cost; use the assigned priority to determine how harsh to set complications.",aesthetic:{accent:"#ffb347",glow:"linear-gradient(160deg, rgba(255, 190, 92, 0.35), rgba(255, 80, 60, 0.25))",texture:"radial-gradient(circle at 70% 30%, rgba(255, 180, 90, 0.18), transparent 60%)"}},{key:"esper",name:"Esper",tagline:"The Natural Talent",summary:"The Esper's connection to the Aether is an innate biological fact. Their abilities emerge from a unique, mutated organ within their brain that resonates with the psycho-reactive field around us. Their power is intuitive, emotional, and deeply personal. They do not calculate; they feel. A natural channel for the world's hidden energies.",priorityImpacts:{A:"Esper Mentalist hybrid  access to both archetype trees from session one.",B:"Esper Prodigy template. Two evolutionary steps unlocked before play.",C:"Mentalist-only channel with powerful focus but brittle sanity.",D:"Gifted Esper who can evolve once with training.",E:"Base Esper template; raw talent that still sputters."},narrativeHook:"A 'living conduit' is a nice way of saying 'a walking fuse box.' Their power is tied to their gut, which means a bad mood can sour the milk and a really bad day can buckle the walls. They're powerful, no doubt, but they're also unpredictable. Trusting an Esper is trusting a lightning storm to miss your house.",gmWhisper:"Corruption spikes when Espers overclock. Use template level to gauge safe usage before fractures appear.",aesthetic:{accent:"#f78bff",glow:"linear-gradient(120deg, rgba(255, 120, 220, 0.35), rgba(110, 90, 255, 0.25))",texture:"radial-gradient(circle at 20% 80%, rgba(255, 120, 220, 0.2), transparent 55%)"}},{key:"chimera",name:"Chimera",tagline:"The Unstable Genome",summary:`The most potent expression of humanity's unstable genome. Possessing non-human traits, they represent life's chaotic and tenacious will to survive. From those who can pass as human with minor mutations (the "Kimmie"), to those whose altered forms are part of their daily identity, to the overtly alien (the "Under-Kin"), the Chimera embodies a vast spectrum of biological diversity.`,priorityImpacts:{A:"Seven mutation points. Become the chimera the wards whisper about.",B:"Five points. The change is obvious, but you can still pass after midnight.",C:"Four points. Enough to gain an edge while keeping a human silhouette.",D:"Three points. Side-effects and stigma follow closely.",E:"Two points. Tattoos of corruption hidden beneath borrowed coats."},narrativeHook:"Here's the only thing you need to know about being a Chimera: this city will judge you by how well you can hide what you are. If you can pass for human, you're a Kimmie, living a lie. If you can't, you're just another freak trying to get by. Their 'resilience' is just a pretty word for being too damn stubborn to die in a world that wishes they'd just go away.",gmWhisper:"Mutation tiers should map to resource availability; track total points for corruption bleed-through.",aesthetic:{accent:"#7cff91",glow:"linear-gradient(200deg, rgba(120, 255, 160, 0.35), rgba(40, 180, 120, 0.25))",texture:"radial-gradient(circle at 15% 20%, rgba(120, 255, 160, 0.18), transparent 60%)"}},{key:"automata",name:"Automata",tagline:"The Ghosts of Yesterday",summary:"Marvels of a bygone Imperial age, their crystalline consciousnesses representing a unique form of sentient life. After centuries of dormancy, they are being reactivated to once again serve Sidonia in an era of rebuilding. Each Automata is a living repository of history, their mindsshaped by a millennium of silent, dream-like evolution or ceaseless laboroffering a perspective wholly alien to our own.",priorityImpacts:{A:"Imperial chassis with Overseer/Soldier branches unlocked and sovereign protocols.",B:"Advanced military shell; twin branches with limited imperial overrides.",C:"Baseline chassis with soldier safeguards still intact.",D:"Advanced worker frame engineered for hazardous labor.",E:"Basic worker frame, easily replaced and easily overlooked."},narrativeHook:"A 'new dawn' of partnership? We're digging up old tools because we're too lazy to make new ones. These things went to sleep a thousand years ago. Nobody knows what a millennium of dreaming does to a mind, machine or otherwise. Are they the same loyal servants that got shelved? Or are they something new? Something broken? Everyone's trying to figure out if they're people or property, and my gut tells me that answer's gonna come the hard way.",gmWhisper:"Track how many branches the player exposes. GM mode should reveal firmware locks hidden from the player view.",aesthetic:{accent:"#5ad1ff",glow:"linear-gradient(150deg, rgba(90, 210, 255, 0.35), rgba(40, 80, 200, 0.25))",texture:"radial-gradient(circle at 80% 20%, rgba(90, 210, 255, 0.2), transparent 60%)"}}];function ep(e){return e?Zd.find(t=>t.key===e)??null:null}const un=({label:e,error:t,className:n,id:r,...s})=>{const l=r||(e==null?void 0:e.toLowerCase().replace(/\s+/g,"-"));return i.jsxs("div",{className:"flex flex-col gap-1",children:[e&&i.jsx("label",{htmlFor:l,className:"text-label",children:e}),i.jsx("input",{id:l,className:pe("bg-sidonia-black border-2 text-sidonia-text px-deco-sm py-2 rounded","font-body placeholder:text-sidonia-muted","transition-all duration-300","focus:outline-none focus:ring-1",t?"border-corruption-red focus:border-corruption-red focus:ring-corruption-red/20":"border-sidonia-gold/60 focus:border-sidonia-gold focus:ring-sidonia-gold/20",n),...s}),t&&i.jsx("span",{className:"text-corruption-red text-sm font-body",children:t})]})};function Bg({build:e,onUpdate:t}){if(!e)return null;const{profile:n,updatedAt:r}=e;return i.jsxs(Ft,{children:[i.jsxs("header",{className:"flex justify-between items-baseline mb-deco-md pb-deco-sm border-b border-sidonia-gold/60",children:[i.jsx("h2",{className:"font-display text-2xl tracking-wider uppercase text-sidonia-gold",children:"Character Dossier"}),i.jsxs("span",{className:"text-label text-sidonia-muted",children:["Auto-saved ",new Date(r).toLocaleString()]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr_280px] gap-deco-md items-start",children:[i.jsxs("div",{className:"space-y-deco-sm",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-deco-sm",children:[i.jsx(un,{label:"Name",value:n.name,onChange:s=>t({name:s.target.value})}),i.jsx(un,{label:"Alias",value:n.alias,onChange:s=>t({alias:s.target.value})}),i.jsx(un,{label:"Current Profession",value:n.currentProfession,onChange:s=>t({currentProfession:s.target.value})}),i.jsx(un,{label:"Ward of Residence",value:n.wardOfResidence,placeholder:"Which ward do they call home?",onChange:s=>t({wardOfResidence:s.target.value})})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-label",children:"Backstory"}),i.jsx("textarea",{value:n.backstory,placeholder:"High-level summary you can hand to a new player or GM.",onChange:s=>t({backstory:s.target.value}),className:`min-h-[100px] bg-sidonia-black border-2 border-sidonia-gold/60 text-sidonia-text
                       px-deco-sm py-2 font-body placeholder:text-sidonia-muted rounded
                       focus:outline-none focus:ring-1 focus:border-sidonia-gold focus:ring-sidonia-gold/20
                       transition-all duration-300 resize-y`})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-label",children:"Physical Description"}),i.jsx("textarea",{value:n.physicalDescription,placeholder:"How do they carry themselves? Distinguishing features?",onChange:s=>t({physicalDescription:s.target.value}),className:`min-h-[100px] bg-sidonia-black border-2 border-sidonia-gold/60 text-sidonia-text
                       px-deco-sm py-2 font-body placeholder:text-sidonia-muted rounded
                       focus:outline-none focus:ring-1 focus:border-sidonia-gold focus:ring-sidonia-gold/20
                       transition-all duration-300 resize-y`})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-label",children:"Code"}),i.jsx("textarea",{value:n.code,placeholder:"What guiding principle can they not compromise?",onChange:s=>t({code:s.target.value}),className:`min-h-[100px] bg-sidonia-black border-2 border-sidonia-gold/60 text-sidonia-text
                       px-deco-sm py-2 font-body placeholder:text-sidonia-muted rounded
                       focus:outline-none focus:ring-1 focus:border-sidonia-gold focus:ring-sidonia-gold/20
                       transition-all duration-300 resize-y`})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-deco-sm",children:[i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-label",children:"Line They Will Not Cross"}),i.jsx("textarea",{value:n.lineNotCrossed,placeholder:"The red line that defines them.",onChange:s=>t({lineNotCrossed:s.target.value}),className:`min-h-[100px] bg-sidonia-black border border-sidonia-gold/50 text-sidonia-text
                         px-deco-sm py-2 font-body placeholder:text-sidonia-muted
                         focus:outline-none focus:ring-1 focus:border-sidonia-gold focus:ring-sidonia-gold/20
                         transition-all duration-300 resize-y`})]}),i.jsxs("div",{className:"flex flex-col gap-1",children:[i.jsx("label",{className:"text-label",children:"Temptation"}),i.jsx("textarea",{value:n.temptation,placeholder:"The lure that could make them fall.",onChange:s=>t({temptation:s.target.value}),className:`min-h-[100px] bg-sidonia-black border border-sidonia-gold/50 text-sidonia-text
                         px-deco-sm py-2 font-body placeholder:text-sidonia-muted
                         focus:outline-none focus:ring-1 focus:border-sidonia-gold focus:ring-sidonia-gold/20
                         transition-all duration-300 resize-y`})]})]})]}),i.jsxs("aside",{className:"flex flex-col gap-deco-sm",children:[i.jsx("div",{className:`relative w-full pt-[120%] rounded-lg border-2 border-dashed border-sidonia-gold/40
                        bg-sidonia-black/45 overflow-hidden`,children:n.portraitUrl?i.jsx("img",{src:n.portraitUrl,alt:`${n.name||"Character"} portrait`,className:"absolute top-0 left-0 w-full h-full object-cover"}):i.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-sidonia-muted text-sm font-body",children:"Portrait Pending"})}),i.jsx(un,{label:"Portrait URL (optional)",value:n.portraitUrl,placeholder:"Link to artwork or leave blank",onChange:s=>t({portraitUrl:s.target.value})})]})]})]})}const Ug=["lineage","background","resources","skills","attributes"],Ct=["priorities","lineage","background","resources","skills","attributes","narrative"],zs=5,Ji=e=>Array.isArray(e)?e.filter(t=>{if(!t||typeof t!="object")return!1;const n=t;return typeof n.id=="string"&&typeof n.lineage=="string"}):[],fc={head:"Head",torso:"Torso",leftArm:"Left Arm",rightArm:"Right Arm",leftLeg:"Left Leg",rightLeg:"Right Leg"},Fg=()=>({lineage:null,resources:null,background:null,skills:null,attributes:null}),Wg=()=>({physique:0,intellect:0,presence:0}),tp=()=>({physique:[],intellect:[],presence:[]}),Hg=()=>({head:{current:3,max:3,scar:""},torso:{current:5,max:5,scar:""},leftArm:{current:4,max:4,scar:""},rightArm:{current:4,max:4,scar:""},leftLeg:{current:4,max:4,scar:""},rightLeg:{current:4,max:4,scar:""}}),Vg={A:3,B:2,C:2,D:1,E:0},Gg=e=>e?Vg[e]:0,Qg=()=>({name:"",alias:"",currentProfession:"",wardOfResidence:"",backstory:"",physicalDescription:"",code:"",lineNotCrossed:"",temptation:"",portraitUrl:""}),Gr=()=>new Date().toISOString(),Mt=e=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${e}-${Math.random().toString(36).slice(2,9)}`,hc=e=>{const t=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`sidonia-${Math.random().toString(36).slice(2,9)}`,n=Gr();return{id:t,label:e||"Unbound Persona",createdAt:n,updatedAt:n,stage:"priorities",profile:Qg(),priorities:Fg(),lineage:{key:null,notes:"",revealMechanics:!1,powers:[]},resources:{contacts:[],retainers:[],properties:[],goods:[],liquid:0,notes:""},background:{title:"",tierNotes:"",contacts:""},skills:{ratings:{},specializations:[],backgroundSpecializations:[],backgroundCustomSpecializations:[],notes:""},attributes:{scores:Wg(),notes:"",specializations:tp()},corruption:{current:0,warning:6,notes:""},advancement:{experience:0,track:"",milestones:""},health:Hg(),narrative:{relationships:[],anchors:"",notes:""},gmNotes:""}},qg=e=>{const t=Yg(e),n=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`sidonia-${Math.random().toString(36).slice(2,9)}`,r=Gr();return{...t,id:n,label:`${e.label} (Copy)`,createdAt:r,updatedAt:r}},Yg=e=>typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e)),Z=(e,t)=>{e(n=>{const r=n.activeBuildId;if(!r)return n;const s=n.builds[r];if(!s)return n;const l=t(s);return l.updatedAt=Gr(),{...n,builds:{...n.builds,[r]:l}}})},Y=Yd()(Kd((e,t)=>({builds:{},activeBuildId:null,createBuild:n=>{const r=hc(n);return e(s=>({builds:{...s.builds,[r.id]:r},activeBuildId:r.id})),r.id},ensureActiveBuild:()=>{const{activeBuildId:n}=t();return n&&t().builds[n]?n:t().createBuild()},setActiveBuild:n=>{t().builds[n]&&e({activeBuildId:n})},archiveBuild:n=>{e(r=>{const{[n]:s,...l}=r.builds;return{builds:l,activeBuildId:r.activeBuildId===n?null:r.activeBuildId}})},renameBuild:(n,r)=>{e(s=>{const l=s.builds[n];return l?{...s,builds:{...s.builds,[n]:{...l,label:r,updatedAt:Gr()}}}:s})},duplicateBuild:n=>{const{builds:r}=t(),s=r[n];if(!s)return null;const l=qg(s);return e(o=>({builds:{...o.builds,[l.id]:l},activeBuildId:l.id})),re.track("build.duplicated",{}),l.id},resetActiveBuild:()=>{e(n=>{const r=n.activeBuildId;if(!r)return n;const s=n.builds[r];if(!s)return n;const o={...hc(s.label),id:r,createdAt:s.createdAt,updatedAt:Gr()};return re.track("build.reset",{}),{...n,builds:{...n.builds,[r]:o}}})},updateProfile:n=>{Z(e,r=>({...r,profile:{...r.profile,...n}}))},assignPriority:(n,r)=>{Z(e,s=>{const l={...s.priorities};return r&&Object.keys(l).forEach(o=>{o!==n&&l[o]===r&&(l[o]=null)}),l[n]=r,{...s,priorities:l}}),re.track(r?"priority.assigned":"priority.cleared",{category:n,rank:r})},setStage:n=>{Z(e,r=>({...r,stage:n})),re.track("stage.changed",{stage:n})},nextStage:()=>{const{activeBuildId:n,builds:r}=t();if(!n)return;const s=r[n];if(!s)return;const l=Ct.indexOf(s.stage),o=Ct[Math.min(l+1,Ct.length-1)];t().setStage(o)},previousStage:()=>{const{activeBuildId:n,builds:r}=t();if(!n)return;const s=r[n];if(!s)return;const l=Ct.indexOf(s.stage),o=Ct[Math.max(l-1,0)];t().setStage(o)},selectLineage:n=>{Z(e,r=>{const s=r.lineage.key===n&&n!==null,l=Ji(r.lineage.powers);return{...r,lineage:{...r.lineage,key:n,revealMechanics:n?r.lineage.revealMechanics:!1,powers:s?l:[]}}}),re.track("lineage.selected",{lineage:n})},toggleLineageReveal:()=>{Z(e,n=>({...n,lineage:{...n.lineage,revealMechanics:!n.lineage.revealMechanics}})),re.track("lineage.reveal_toggled",{})},updateLineageNotes:n=>{Z(e,r=>({...r,lineage:{...r.lineage,notes:n}}))},toggleLineagePower:n=>{Z(e,r=>{var d,p,g,m;if(!r.lineage.key||r.lineage.key!==n.lineage)return r;const s=Ji(r.lineage.powers),l=n.lineage==="esper",o=s.some(v=>v.id===n.id),a=r.priorities.lineage??null;let c=s;if(o){if(c=c.filter(v=>v.id!==n.id),l&&((d=n.meta)!=null&&d.root)){if(n.kind==="esper-archetype")c=c.filter(v=>{var x,w;return((x=v.meta)==null?void 0:x.root)!==((w=n.meta)==null?void 0:w.root)});else if((p=n.meta)!=null&&p.path){const v=n.meta.path.join("/");c=c.filter(x=>{var k,h,u,f;const w=((h=(k=x.meta)==null?void 0:k.path)==null?void 0:h.join("/"))??"";return((u=x.meta)==null?void 0:u.root)!==((f=n.meta)==null?void 0:f.root)||!w.startsWith(`${v}/`)})}}return{...r,lineage:{...r.lineage,powers:c}}}if(l){const v=n.meta??{},x=v.category;if(n.kind!=="esper-framework-choice")if(n.kind==="esper-archetype"){if(x==="esper-base"&&a==="C"||x==="esper-mentalist"&&!(a==="A"||a==="C"))return r;const w=["sentinel","median","weaver","summoner","linker"],k=["empath","mesmer","siren","dreamer","meta-mind"],h=v.archetype,u=w.includes(h||""),f=k.includes(h||"");a==="A"?u?c=c.filter(y=>{var j;return!w.includes(((j=y.meta)==null?void 0:j.archetype)||"")&&y.kind!=="esper-focus"&&y.kind!=="esper-framework-path"}):f&&(c=c.filter(y=>{var j;return!k.includes(((j=y.meta)==null?void 0:j.archetype)||"")&&y.kind!=="esper-framework-choice"})):c=c.filter(y=>y.lineage!=="esper")}else{const w=["empath","mesmer","siren","dreamer","meta-mind"];if(!(n.kind==="esper-focus"&&w.includes(v.archetype||""))){const h=v.root;if(!h)return r;const u=Gg(a);if((v.depth??0)>u||!c.some(j=>{var E;return j.kind==="esper-archetype"&&((E=j.meta)==null?void 0:E.root)===h}))return r}}}if(n.lineage==="neosapien"){const x=a?{A:9,B:7,C:6,D:4,E:2}[a]:0,w=c.reduce((h,u)=>{var f;return h+(((f=u.meta)==null?void 0:f.slots)??0)},0),k=((g=n.meta)==null?void 0:g.slots)??0;if(x>0&&w+k>x)return r}if(n.lineage==="chimera"){const x=a?{A:7,B:5,C:4,D:3,E:2}[a]:0,w=c.reduce((h,u)=>{var f;return h+(((f=u.meta)==null?void 0:f.mutationPoints)??0)},0),k=((m=n.meta)==null?void 0:m.mutationPoints)??0;if(x>0&&w+k>x)return r}if(n.lineage==="sorcery"){const x=a?{A:{primary:1,secondary:2,moves:5},B:{primary:1,secondary:1,moves:4},C:{primary:1,secondary:2,moves:3},D:{primary:0,secondary:1,moves:2},E:{primary:0,secondary:1,moves:1}}[a]:{primary:0,secondary:0,moves:0},w=c.filter(u=>u.kind==="sorcery-sphere-primary").length,k=c.filter(u=>u.kind==="sorcery-sphere-secondary").length,h=c.filter(u=>u.kind==="sorcery-move").length;if(n.kind==="sorcery-sphere-primary"&&w>=x.primary||n.kind==="sorcery-sphere-secondary"&&k>=x.secondary||n.kind==="sorcery-move"&&h>=x.moves)return r}return c=[...c,n],{...r,lineage:{...r.lineage,powers:c}}}),re.track("lineage.power_toggled",{id:n.id,lineage:n.lineage})},clearLineagePowers:()=>{Z(e,n=>({...n,lineage:{...n.lineage,powers:[]}})),re.track("lineage.powers_cleared",{})},addContactResource:(n={})=>{const r={id:Mt("contact"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,reach:Math.min(Math.max(n.reach??0,0),10),influence:Math.min(Math.max(n.influence??0,0),10)};Z(e,s=>({...s,resources:{...s.resources,contacts:[...s.resources.contacts,r]}})),re.track("resources.contact_added",{})},updateContactResource:(n,r)=>{Z(e,s=>({...s,resources:{...s.resources,contacts:s.resources.contacts.map(l=>l.id===n?{...l,...r,reach:r.reach!==void 0?Math.min(Math.max(r.reach,0),10):l.reach,influence:r.influence!==void 0?Math.min(Math.max(r.influence,0),10):l.influence}:l)}}))},removeContactResource:n=>{Z(e,r=>({...r,resources:{...r.resources,contacts:r.resources.contacts.filter(s=>s.id!==n)}}))},addRetainerResource:(n={})=>{const r={id:Mt("retainer"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,loyalty:Math.min(Math.max(n.loyalty??0,0),10),competence:Math.min(Math.max(n.competence??0,0),10)};Z(e,s=>({...s,resources:{...s.resources,retainers:[...s.resources.retainers,r]}})),re.track("resources.retainer_added",{})},updateRetainerResource:(n,r)=>{Z(e,s=>({...s,resources:{...s.resources,retainers:s.resources.retainers.map(l=>l.id===n?{...l,...r,loyalty:r.loyalty!==void 0?Math.min(Math.max(r.loyalty,0),10):l.loyalty,competence:r.competence!==void 0?Math.min(Math.max(r.competence,0),10):l.competence}:l)}}))},removeRetainerResource:n=>{Z(e,r=>({...r,resources:{...r.resources,retainers:r.resources.retainers.filter(s=>s.id!==n)}}))},addPropertyResource:(n={})=>{const r={id:Mt("property"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,tenure:n.tenure??"",zoning:n.zoning??"",ward:n.ward??"",specialization:n.specialization??null};Z(e,s=>({...s,resources:{...s.resources,properties:[...s.resources.properties,r]}})),re.track("resources.property_added",{})},updatePropertyResource:(n,r)=>{Z(e,s=>({...s,resources:{...s.resources,properties:s.resources.properties.map(l=>l.id===n?{...l,...r}:l)}}))},removePropertyResource:n=>{Z(e,r=>({...r,resources:{...r.resources,properties:r.resources.properties.filter(s=>s.id!==n)}}))},addGoodsResource:(n={})=>{const r={id:Mt("goods"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,quality:Math.min(Math.max(n.quality??0,0),10)};Z(e,s=>({...s,resources:{...s.resources,goods:[...s.resources.goods,r]}})),re.track("resources.goods_added",{})},updateGoodsResource:(n,r)=>{Z(e,s=>({...s,resources:{...s.resources,goods:s.resources.goods.map(l=>l.id===n?{...l,...r,quality:r.quality!==void 0?Math.min(Math.max(r.quality,0),10):l.quality}:l)}}))},removeGoodsResource:n=>{Z(e,r=>({...r,resources:{...r.resources,goods:r.resources.goods.filter(s=>s.id!==n)}}))},setResourceLiquid:n=>{Z(e,r=>({...r,resources:{...r.resources,liquid:Math.max(0,n)}})),re.track("resources.liquid_set",{value:n})},updateResourceNotes:n=>{Z(e,r=>({...r,resources:{...r.resources,notes:n}}))},updateBackground:n=>{Z(e,r=>{const s={...r.background,...n},l=typeof n.title=="string"&&n.title!==r.background.title;return{...r,background:s,skills:l?{...r.skills,backgroundSpecializations:[],backgroundCustomSpecializations:[]}:r.skills}})},setSkillRating:(n,r)=>{Z(e,s=>({...s,skills:{...s.skills,ratings:{...s.skills.ratings,[n]:Math.max(0,r)}}})),re.track("skills.rating_set",{skillId:n,value:r})},toggleSkillSpecialization:n=>{Z(e,r=>{const l=r.skills.specializations.some(o=>o.id===n.id)?r.skills.specializations.filter(o=>o.id!==n.id):[...r.skills.specializations,n];return{...r,skills:{...r.skills,specializations:l}}}),re.track("skills.specialization_toggled",{id:n.id,type:n.type})},removeSkillSpecialization:n=>{Z(e,r=>({...r,skills:{...r.skills,specializations:r.skills.specializations.filter(s=>s.id!==n)}}))},addCustomSkillSpecialization:n=>{const r=n.trim();if(!r)return;const s={id:`custom-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,label:r,type:"custom",gmApproved:!1};Z(e,l=>({...l,skills:{...l.skills,specializations:[...l.skills.specializations,s]}})),re.track("skills.custom_added",{})},markSkillSpecializationApproved:(n,r)=>{Z(e,s=>({...s,skills:{...s.skills,specializations:s.skills.specializations.map(l=>l.id===n?{...l,gmApproved:r}:l)}}))},setBackgroundSkillSpecializations:n=>{Z(e,r=>({...r,skills:{...r.skills,backgroundSpecializations:n}})),re.track("skills.background_specializations",{count:n.length})},setBackgroundCustomSpecializations:n=>{Z(e,r=>({...r,skills:{...r.skills,backgroundCustomSpecializations:n}})),re.track("skills.background_custom_specializations",{count:n.length})},updateSkillNotes:n=>{Z(e,r=>({...r,skills:{...r.skills,notes:n}}))},setAttributeScore:(n,r)=>{Z(e,s=>({...s,attributes:{...s.attributes,scores:{...s.attributes.scores,[n]:Math.min(zs,Math.max(0,r))}}})),re.track("attributes.updated",{attribute:n,value:r})},updateAttributeNotes:n=>{Z(e,r=>({...r,attributes:{...r.attributes,notes:n}}))},toggleAttributeSpecialization:(n,r)=>{Z(e,s=>{const l=s.attributes.specializations??tp(),o=l[n]??[],c=o.includes(r)?o.filter(d=>d!==r):[...o,r];return{...s,attributes:{...s.attributes,specializations:{...l,[n]:c}}}}),re.track("attributes.specialization_toggled",{attribute:n,specialization:r})},adjustExperience:n=>{Z(e,r=>({...r,advancement:{...r.advancement,experience:Math.max(0,r.advancement.experience+n)}})),re.track("advancement.adjusted",{delta:n})},setExperience:n=>{Z(e,r=>({...r,advancement:{...r.advancement,experience:Math.max(0,n)}})),re.track("advancement.set",{value:n})},updateAdvancement:n=>{Z(e,r=>({...r,advancement:{...r.advancement,...n}}))},adjustCorruption:n=>{Z(e,r=>({...r,corruption:{...r.corruption,current:Math.max(0,r.corruption.current+n)}})),re.track("corruption.adjusted",{delta:n})},setCorruption:n=>{Z(e,r=>({...r,corruption:{...r.corruption,current:Math.max(0,n)}})),re.track("corruption.set",{value:n})},updateCorruptionNotes:n=>{Z(e,r=>({...r,corruption:{...r.corruption,notes:n}}))},adjustHealth:(n,r)=>{Z(e,s=>{const l=s.health[n],o=Math.max(0,Math.min(l.max,l.current+r));return{...s,health:{...s.health,[n]:{...l,current:o}}}}),re.track("health.adjusted",{location:n,delta:r})},setHealth:(n,r)=>{Z(e,s=>{const l=s.health[n];return{...s,health:{...s.health,[n]:{...l,current:Math.max(0,Math.min(l.max,r))}}}}),re.track("health.set",{location:n,value:r})},updateHealthScar:(n,r)=>{Z(e,s=>({...s,health:{...s.health,[n]:{...s.health[n],scar:r}}}))},addRelationship:n=>{n.trim()&&(Z(e,r=>({...r,narrative:{...r.narrative,relationships:Array.from(new Set([...r.narrative.relationships,n.trim()]))}})),re.track("relationship.added",{}))},removeRelationship:n=>{Z(e,r=>({...r,narrative:{...r.narrative,relationships:r.narrative.relationships.filter(s=>s!==n)}})),re.track("relationship.removed",{})},updateAnchors:n=>{Z(e,r=>({...r,narrative:{...r.narrative,anchors:n}}))},updateNarrativeNotes:n=>{Z(e,r=>({...r,narrative:{...r.narrative,notes:n}}))},updateGmNotes:n=>{Z(e,r=>({...r,gmNotes:n}))}}),{name:"sidonia-character-builder",version:7,migrate:(e,t)=>{if(!e||typeof e!="object")return e;const n=d=>{const p=d??{};return{physique:typeof p.physique=="number"?p.physique:typeof p.grit=="number"?p.grit:0,intellect:typeof p.intellect=="number"?p.intellect:typeof p.guile=="number"?p.guile:0,presence:typeof p.presence=="number"?p.presence:typeof p.gravitas=="number"?p.gravitas:0}},r=d=>{const p=d??{};return{physique:Array.isArray(p.physique)?p.physique:[],intellect:Array.isArray(p.intellect)?p.intellect:[],presence:Array.isArray(p.presence)?p.presence:[]}},s=d=>{const p=d??{};return{name:typeof p.name=="string"?p.name:"",alias:typeof p.alias=="string"?p.alias:"",currentProfession:typeof p.currentProfession=="string"?p.currentProfession:typeof p.pronouns=="string"?p.pronouns:"",wardOfResidence:typeof p.wardOfResidence=="string"?p.wardOfResidence:typeof p.concept=="string"?p.concept:"",backstory:typeof p.backstory=="string"?p.backstory:typeof p.summary=="string"?p.summary:"",physicalDescription:typeof p.physicalDescription=="string"?p.physicalDescription:"",code:typeof p.code=="string"?p.code:"",lineNotCrossed:typeof p.lineNotCrossed=="string"?p.lineNotCrossed:"",temptation:typeof p.temptation=="string"?p.temptation:"",portraitUrl:typeof p.portraitUrl=="string"?p.portraitUrl:""}},l=d=>{const p=d??{};if(p.ratings&&p.specializations){const v=p.backgroundSpecialization&&typeof p.backgroundSpecialization=="string"?[p.backgroundSpecialization]:p.backgroundSpecializations??[],x=[];return p.backgroundCustomSpecialization&&typeof p.backgroundCustomSpecialization=="string"?x.push(p.backgroundCustomSpecialization):Array.isArray(p.backgroundCustomSpecializations)&&x.push(...p.backgroundCustomSpecializations),{ratings:p.ratings,specializations:Array.isArray(p.specializations)?p.specializations:[],backgroundSpecializations:Array.isArray(v)?v:[],backgroundCustomSpecializations:x,notes:typeof p.notes=="string"?p.notes:""}}return{ratings:(Array.isArray(p.focus)?p.focus:[]).reduce((v,x)=>(v[x]=1,v),{}),specializations:[],backgroundSpecializations:[],backgroundCustomSpecializations:[],notes:typeof p.notes=="string"?p.notes:""}},o=d=>{const p=d??{},g=Ji(p.powers);return{key:p.key??null,notes:typeof p.notes=="string"?p.notes:"",revealMechanics:!!p.revealMechanics,powers:g}},a=d=>{var y;const p=d??{},g=(j,E)=>({id:j.id??Mt(`contact-${E}`),name:j.name??"",description:j.description??j.notes??"",gmApproved:j.gmApproved??!1,specialization:j.specialization??null,reach:typeof j.reach=="number"?j.reach:0,influence:typeof j.influence=="number"?j.influence:0}),m=(j,E)=>({id:j.id??Mt(`retainer-${E}`),name:j.name??"",description:j.description??j.notes??"",gmApproved:j.gmApproved??!1,specialization:j.specialization??null,loyalty:typeof j.loyalty=="number"?j.loyalty:0,competence:typeof j.competence=="number"?j.competence:0}),v=(j,E)=>({id:j.id??Mt(`property-${E}`),name:j.name??"",description:j.description??j.notes??"",gmApproved:j.gmApproved??!1,tenure:j.tenure??"",zoning:j.zoning??"",ward:j.ward??"",specialization:j.specialization??null}),x=(j,E)=>({id:j.id??Mt(`goods-${E}`),name:j.name??"",description:j.description??j.notes??"",gmApproved:j.gmApproved??!1,specialization:j.specialization??null,quality:typeof j.quality=="number"?j.quality:0}),w=Array.isArray(p.contacts)?p.contacts.map((j,E)=>g(j,E)):[],k=Array.isArray(p.retainers)?p.retainers.map((j,E)=>m(j,E)):[],h=Array.isArray(p.properties)?p.properties.map((j,E)=>v(j,E)):[],u=Array.isArray(p.goods)?p.goods.map((j,E)=>x(j,E)):[],f=typeof p.liquid=="number"?p.liquid:typeof((y=p.allocations)==null?void 0:y.liquid)=="number"?p.allocations.liquid:0;return{contacts:w,retainers:k,properties:h,goods:u,liquid:f,notes:typeof p.notes=="string"?p.notes:""}},c=Object.fromEntries(Object.entries(e.builds??{}).map(([d,p])=>{var h,u,f;const g=p,m={scores:n((h=g.attributes)==null?void 0:h.scores),notes:typeof((u=g.attributes)==null?void 0:u.notes)=="string"?g.attributes.notes:"",specializations:r((f=g.attributes)==null?void 0:f.specializations)},v=l(g.skills),x=o(g.lineage),w=a(g.resources),k={...g,profile:s(g.profile),lineage:x,resources:w,skills:v,attributes:m};return[d,k]}));return{...e,builds:c}}})),Kg={priorities:{label:"Priorities",description:"Assign each letter to a pillar to set your fate."},lineage:{label:"Lineage",description:"Choose what you are and reveal the aesthetic."},resources:{label:"Resources",description:"Distribute wealth, favors, and territory."},background:{label:"Background",description:"Capture the story that forged you."},skills:{label:"Skills",description:"Highlight expertise and specializations."},attributes:{label:"Attributes",description:"Split your innate edge across three pillars."},narrative:{label:"Narrative",description:"Track corruption, wounds, and relationships."}};function Jg({current:e,onNavigate:t}){const n=Ct.indexOf(e),r=Math.round((n+1)/Ct.length*100);return i.jsxs("nav",{className:"flex flex-col gap-deco-sm mb-deco-md","aria-label":"Character builder stages",children:[i.jsx("div",{className:"h-1.5 rounded-full bg-sidonia-dark/50 overflow-hidden border border-sidonia-gold/20",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-sidonia-gold to-sidonia-brass transition-all duration-500 ease-out",style:{width:`${r}%`}})}),i.jsx("ul",{className:"flex flex-wrap gap-3 list-none p-0 m-0",children:Ct.map(s=>{const l=Kg[s],o=Ct.indexOf(s),a=o===n,c=o<n,d=o>n;return i.jsx("li",{className:"flex-1 min-w-[180px]",children:i.jsxs("button",{type:"button",onClick:()=>t(s),className:pe("w-full px-deco-sm py-3 rounded-lg border-2 text-left","flex flex-col gap-1 transition-all duration-300","bg-sidonia-dark/75 backdrop-blur-sm",a&&"border-sidonia-gold shadow-lg shadow-sidonia-gold/20 -translate-y-0.5",c&&"border-sidonia-gold/40 hover:border-sidonia-gold/60",d&&"border-sidonia-muted/30 hover:border-sidonia-muted/50","hover:bg-sidonia-dark"),children:[i.jsx("span",{className:pe("font-display text-sm tracking-wider uppercase",a&&"text-sidonia-gold",c&&"text-sidonia-brass",d&&"text-sidonia-muted"),children:l.label}),i.jsx("span",{className:"text-xs text-sidonia-text/70 font-body",children:l.description})]})},s)})})]})}const mc=["A","B","C","D","E"],Xg={lineage:{title:"Lineage",intro:"What are you? Determines the supernatural path and aesthetic layer.",detail:"Higher priority unlocks stronger chassis, spheres, mutation points, or Esper templates. Lower priority keeps you closer to human but limits your edge."},resources:{title:"Resources",intro:"What do you own? Contacts, territories, retainers, liquid wealth.",detail:"Priority sets your Resource Points pool and maximum quality. Use it to buy properties, networks, and gear. Higher ranks unlock elite holdings."},background:{title:"Background",intro:"Who were you? Establishes influence, narrative permissions, and synergies.",detail:"Higher priority backgrounds stretch across the city, offering automatic specializations and better resource synergies."},skills:{title:"Skills",intro:"What do you know? Disciplines and specializations that show lived experience.",detail:"Priority sets how many disciplines you master. Focus areas gain bonus dice and teach players where they shine."},attributes:{title:"Attributes",intro:"What is innate? Only three pillars define your core capability.",detail:"Allocate attribute dice based on priority. The higher the rank, the sharper your raw edge."}};function Zg({priorities:e,onSelect:t,onClear:n}){const r=new Set(Object.values(e).filter(Boolean).map(s=>s));return i.jsxs("section",{className:"priority-matrix","aria-label":"Priority assignment grid",children:[i.jsxs("header",{className:"priority-matrix__header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Priority Grid"}),i.jsx("p",{children:"Assign each letter exactly once. Sidonia rewards focus and makes you pay for it elsewhere. Tap a letter to slot it into a category; tap the category badge to clear it."})]}),i.jsx("ul",{className:"priority-matrix__legend",children:mc.map(s=>i.jsxs("li",{className:r.has(s)?"used":"",children:[i.jsx("span",{className:"priority-matrix__rank",children:s}),i.jsxs("span",{className:"priority-matrix__tag",children:[s==="A"&&"Signature move",s==="B"&&"Favored",s==="C"&&"Balanced",s==="D"&&"Compromised",s==="E"&&"Sacrifice"]})]},s))})]}),i.jsx("div",{className:"priority-matrix__grid",role:"table",children:Ug.map(s=>{const l=Xg[s],o=e[s];return i.jsxs("article",{className:"priority-matrix__row",role:"row",children:[i.jsxs("div",{className:"priority-matrix__info",role:"cell",children:[i.jsxs("button",{type:"button",className:`priority-matrix__category ${o?"has-selection":""}`,onClick:()=>n==null?void 0:n(s),children:[i.jsx("span",{className:"priority-matrix__category-title",children:l.title}),i.jsx("span",{className:"priority-matrix__selection",children:o??""})]}),i.jsx("p",{className:"priority-matrix__intro",children:l.intro}),i.jsxs("details",{children:[i.jsx("summary",{children:"Why it matters"}),i.jsx("p",{children:l.detail})]})]}),i.jsx("div",{className:"priority-matrix__choices",role:"cell",children:mc.map(a=>{const c=o===a,d=!c&&r.has(a);return i.jsx("button",{type:"button",className:`priority-matrix__choice ${c?"selected":""}`,disabled:d,onClick:()=>t(s,a),children:a},a)})})]},s)})})]})}function ev({priorities:e,onSelect:t,onClear:n}){const s=Object.values(e).filter(Boolean).length===Object.keys(e).length;return i.jsxs("div",{className:"stage stage--priorities",children:[i.jsx(Zg,{priorities:e,onSelect:t,onClear:n}),i.jsx("footer",{className:"stage__footer",children:i.jsx("p",{children:s?"Every letter is spoken for. Advance to Lineage to let the city brand you.":"You still have letters to place. Each sacrifice reveals a different facet of Sidonia."})})]})}const tv={A:9,B:7,C:6,D:4,E:2},nv={A:7,B:5,C:4,D:3,E:2},gc={A:{primary:1,secondary:2,moves:5},B:{primary:1,secondary:1,moves:4},C:{primary:1,secondary:2,moves:3,note:"Priority C may exchange the primary sphere for a second secondary sphere."},D:{primary:0,secondary:1,moves:2},E:{primary:0,secondary:1,moves:1}},rv={A:0,B:2,C:2,D:1,E:0},sv={A:"Priority A: Choose one Esper archetype (base only) and one Mentalist archetype with full framework.",B:"Priority B: Esper prodigy  evolve two steps beyond the baseline.",C:"Priority C: Begin as a Mentalist. Select framework paths to define focus.",D:"Priority D: Gifted Esper  evolve one step beyond baseline talents.",E:"Priority E: Base Esper talents unlocked."},mt=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),Xi=(e,t,n)=>t?e[t]:n;function iv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"tiers"in n)}function lv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"tiers"in n)}function ov(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"sphere"in n)}function av(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"archetype"in n)}function cv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"chassis"in n)}function It(e,t){return e?i.jsxs("div",{className:"power-description",children:[e.player&&i.jsx("p",{className:"power-description__flavor",children:e.player}),e.short&&i.jsx("p",{className:"power-description__mechanics",children:e.short}),e.flaw&&i.jsxs("p",{className:"power-description__detail power-description__flaw",children:["Flaw: ",e.flaw]}),t&&e.gm&&i.jsxs("p",{className:"power-description__detail power-description__gm",children:["GM: ",e.gm]}),e.outcomes&&i.jsx("ul",{className:"power-description__outcomes",children:Object.entries(e.outcomes).map(([n,r])=>i.jsxs("li",{children:[i.jsx("strong",{children:n}),i.jsx("span",{children:r})]},n))})]}):null}function uv({lineage:e,powerData:t,gmEnabled:n,lineagePriority:r,selections:s,onToggleSelection:l,onClearSelections:o}){var d,p,g,m,v,x,w;if(!e)return i.jsxs("section",{className:"lineage-powers-panel",children:[i.jsx("h3",{children:"Lineage Powers"}),i.jsx("p",{children:"Select a lineage to preview its signature powers, moves, and upgrades."})]});if(!t)return i.jsxs("section",{className:"lineage-powers-panel",children:[i.jsx("h3",{children:"Lineage Powers"}),i.jsx("p",{children:"Power data for this lineage is not yet available."})]});const a=s.filter(k=>k.lineage===e);R.useMemo(()=>new Map(a.map(k=>[k.id,k])),[a]);const c=new Set(a.map(k=>k.id));if(e==="neosapien"&&iv(t)){const k=Xi(tv,r,0),h=a.reduce((j,E)=>{var C;return j+(((C=E.meta)==null?void 0:C.slots)??0)},0),u=a.reduce((j,E)=>{var C;return j+(((C=E.meta)==null?void 0:C.permanentCorruption)??0)},0),f=k>0&&h>k,y=j=>{var _;const E=c.has(j.id),C=(_=j.meta)==null?void 0:_.root;!E&&C&&a.filter(P=>{var A;return((A=P.meta)==null?void 0:A.root)===C&&P.id!==j.id}).forEach(P=>{l(P)}),l(j)};return i.jsxs("section",{className:"lineage-powers-panel",children:[i.jsxs("header",{children:[i.jsx("h3",{children:"Augment Catalog"}),i.jsx("p",{children:"Slot-based upgrades ranging from street scraps to imperial artistry."})]}),i.jsxs("aside",{className:"lineage-power-summary",children:[i.jsxs("div",{children:[i.jsx("span",{children:"Slots Used"}),i.jsxs("strong",{children:[h,k?` / ${k}`:""]})]}),i.jsxs("div",{children:[i.jsx("span",{children:"Permanent Corruption"}),i.jsx("strong",{children:u})]}),f&&i.jsx("p",{className:"lineage-power-summary__warning",children:"Slot budget exceeded. Adjust selections or raise lineage priority."}),a.length>0&&i.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),i.jsx("div",{className:"lineage-powers-grid",children:t.powers.map(j=>{const E=j.id??mt(j.name??"augment"),C=a.some(_=>{var N;return((N=_.meta)==null?void 0:N.root)===E});return i.jsxs("details",{className:`lineage-power-card${C?" lineage-power-card--has-selection":""}`,open:C,children:[i.jsx("summary",{children:i.jsx("div",{className:"lineage-power-card__summary",children:i.jsx("h4",{children:j.name})})}),i.jsx("div",{className:"lineage-power-card__body",children:Object.entries(j.tiers??{}).map(([_,N])=>{const P=N.id??`${E}-${mt(_)}`,A=N.tier??1,K={id:P,lineage:"neosapien",label:`${j.name}  Tier ${A}`,kind:"neosapien-augment",meta:{root:E,parent:E,path:[E,_],depth:1,slots:A,permanentCorruption:A,category:j.category,tierLabel:`Tier ${A}`}},M=c.has(K.id),I=!M&&k>0&&h+A>k,O=`lineage-power-tier${M?" lineage-power-tier--selected":""}${I?" lineage-power-tier--disabled":""}`,Q=`power-toggle power-toggle--radio${M?" power-toggle--active":""}`,b=N.augmentTier?`${N.augmentTier} level bio mod`:`Tier ${A}`;return i.jsxs("div",{className:O,children:[i.jsx("div",{className:"lineage-power-tier__header",children:i.jsxs("div",{className:"lineage-power-tier__info",children:[i.jsx("h5",{className:"lineage-power-tier__name",children:N.name??`Tier ${A}`}),i.jsxs("div",{className:"lineage-power-tier__meta",children:[i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Augment.png",alt:""}),i.jsx("span",{className:"badge__text",children:"Augment"})]}),i.jsx("span",{className:"lineage-power-tier__label",children:b})]})]})}),It(N.description,n),i.jsxs("div",{className:"lineage-power-tier__footer",children:[i.jsx("button",{type:"button",className:Q,onClick:()=>y(K),disabled:I,title:I?`Would exceed slot limit (${h+A}/${k})`:void 0,"aria-label":M?`Deselect ${N.name??`Tier ${A}`}`:`Select ${N.name??`Tier ${A}`}`,children:M?"Selected":I?"Exceeds Limit":"Select"}),i.jsxs("div",{className:"lineage-power-tier__cost",children:[i.jsxs("span",{children:[A," Slot",A===1?"":"s"]}),i.jsxs("span",{children:[A," Corruption"]})]})]})]},P)})})]},j.id??j.name)})})]})}if(e==="chimera"&&lv(t)){const k=Xi(nv,r,0),h=a.reduce((C,_)=>{var N;return C+(((N=_.meta)==null?void 0:N.mutationPoints)??0)},0),u=a.reduce((C,_)=>{var N;return C+(((N=_.meta)==null?void 0:N.permanentCorruption)??0)},0),f=k>0&&h>k,y=t.powers.filter(C=>{var _;return(_=C.tags)==null?void 0:_.includes("core")}),j=t.powers.filter(C=>{var _;return!((_=C.tags)!=null&&_.includes("core"))}),E=C=>{var P;const _=c.has(C.id),N=(P=C.meta)==null?void 0:P.root;!_&&N&&a.filter(K=>{var M;return((M=K.meta)==null?void 0:M.root)===N&&K.id!==C.id}).forEach(K=>{l(K)}),l(C)};return i.jsxs("section",{className:"lineage-powers-panel",children:[i.jsxs("header",{children:[i.jsx("h3",{children:"Mutation Catalogue"}),i.jsx("p",{children:"Spend mutation points to embrace the city's wild ecologies."})]}),i.jsxs("aside",{className:"lineage-power-summary",children:[i.jsxs("div",{children:[i.jsx("span",{children:"Mutation Points"}),i.jsxs("strong",{children:[h,k?` / ${k}`:""]})]}),i.jsxs("div",{children:[i.jsx("span",{children:"Permanent Corruption"}),i.jsx("strong",{children:u})]}),f&&i.jsx("p",{className:"lineage-power-summary__warning",children:"Mutation budget exceeded. Remove selections or adjust priority."}),a.length>0&&i.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),y.length>0&&i.jsxs("section",{className:"lineage-core-mutations",children:[i.jsx("h4",{children:"Core Mutations"}),i.jsx("p",{className:"lineage-core-mutations__subtitle",children:"All Chimera possess these"}),i.jsx("div",{className:"lineage-core-mutations-list",children:y.map(C=>{var N,P,A,K,M;const _=((A=(P=(N=C.tiers)==null?void 0:N.tier1)==null?void 0:P.description)==null?void 0:A.short)??((M=(K=Object.values(C.tiers??{})[0])==null?void 0:K.description)==null?void 0:M.short)??"Core mutation";return i.jsxs("details",{className:"core-mutation-card",children:[i.jsx("summary",{children:i.jsx("h5",{children:C.name})}),i.jsx("p",{children:_})]},C.id??C.name)})})]}),i.jsx("div",{className:"lineage-powers-grid",children:j.map(C=>{const _=C.id??mt(C.name??"mutation"),N=a.some(P=>{var A;return((A=P.meta)==null?void 0:A.root)===_});return i.jsxs("details",{className:`lineage-power-card${N?" lineage-power-card--has-selection":""}`,open:N,children:[i.jsx("summary",{children:i.jsx("div",{className:"lineage-power-card__summary",children:i.jsx("h4",{children:C.name})})}),i.jsx("div",{className:"lineage-power-card__body",children:Object.entries(C.tiers??{}).map(([P,A])=>{const K=A.id??`${_}-${mt(P)}`,M=A.tier??1,L={id:K,lineage:"chimera",label:`${C.name}  Tier ${M}`,kind:"chimera-mutation",meta:{root:_,parent:_,path:[_,P],depth:1,mutationPoints:M,permanentCorruption:M,category:C.category,tierLabel:`Tier ${M}`}},I=c.has(L.id),Q=!I&&k>0&&h+M>k,b=`lineage-power-tier${I?" lineage-power-tier--selected":""}${Q?" lineage-power-tier--disabled":""}`,D=`power-toggle power-toggle--radio${I?" power-toggle--active":""}`,T=A.augmentTier?`${A.augmentTier} level mutation`:`Tier ${M}`;return i.jsxs("div",{className:b,children:[i.jsx("div",{className:"lineage-power-tier__header",children:i.jsxs("div",{className:"lineage-power-tier__info",children:[i.jsx("h5",{className:"lineage-power-tier__name",children:A.name??`Tier ${M}`}),i.jsxs("div",{className:"lineage-power-tier__meta",children:[i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Augment.png",alt:""}),i.jsx("span",{className:"badge__text",children:"Mutation"})]}),i.jsx("span",{className:"badge badge--tier",children:T})]})]})}),It(A.description,n),i.jsxs("div",{className:"lineage-power-tier__footer",children:[i.jsx("button",{type:"button",className:D,onClick:()=>E(L),disabled:Q,title:Q?`Would exceed mutation point limit (${h+M}/${k})`:void 0,"aria-label":I?`Deselect ${A.name??`Tier ${M}`}`:`Select ${A.name??`Tier ${M}`}`,children:I?"Selected":Q?"Exceeds Limit":"Select"}),i.jsxs("div",{className:"lineage-power-tier__cost",children:[i.jsxs("span",{children:[M," Mutation Point",M===1?"":"s"]}),i.jsxs("span",{children:[M," Corruption"]})]})]})]},K)})})]},C.id??C.name)})})]})}if(e==="sorcery"&&ov(t)){const k=Xi(gc,r,{primary:0,secondary:0,moves:0}),h=a.filter(N=>N.kind==="sorcery-sphere-primary").length,u=a.filter(N=>N.kind==="sorcery-sphere-secondary").length,f=a.filter(N=>N.kind==="sorcery-move").length,y=r?gc[r].note:void 0,j=new Set(a.filter(N=>N.kind==="sorcery-sphere-primary"||N.kind==="sorcery-sphere-secondary").map(N=>{var P;return(P=N.meta)==null?void 0:P.sphere}).filter(N=>!!N)),E=N=>{var K;const P=c.has(N.id),A=(K=N.meta)==null?void 0:K.sphere;P&&A&&a.filter(L=>{var I;return L.kind==="sorcery-move"&&((I=L.meta)==null?void 0:I.sphere)===A}).forEach(L=>{l(L)}),l(N)},C={Creation:"Manifest matter and energy from the Aether, bringing the unreal into reality.",Destruction:"Unmake and dissolve, returning solid form to primordial chaos.",Transformation:"Reshape existing matter, altering form and substance through will.",Mind:"Touch thoughts, memories, and the psyche of sentient beings.",Time:"Glimpse past and future, or stretch and compress the flow of moments.",Space:"Bend distance, fold reality, and traverse the impossible.",Life:"Mend flesh, accelerate growth, or drain vitality from the living.",Death:"Command spirits, commune with the departed, and channel entropic energies.",Fate:"Perceive probabilities, nudge destiny, and read the threads of chance.",Protection:"Weave wards and barriers against physical and supernatural threats."},_=t.powers.reduce((N,P)=>{const A=P.sphereTier??"unknown",K=P.sphere??"Unknown Sphere";return N[A]||(N[A]={}),N[A][K]||(N[A][K]=[]),N[A][K].push(P),N},{});return i.jsxs("section",{className:"lineage-powers-panel",children:[i.jsxs("header",{children:[i.jsx("h3",{children:"Sphere Library"}),i.jsx("p",{children:"Primary and secondary spheres unlock ritual moves and narrative permissions."})]}),i.jsxs("aside",{className:"lineage-power-summary",children:[i.jsxs("div",{children:[i.jsx("span",{children:"Primary Spheres"}),i.jsxs("strong",{children:[h,k.primary?` / ${k.primary}`:""]})]}),i.jsxs("div",{children:[i.jsx("span",{children:"Secondary Spheres"}),i.jsxs("strong",{children:[u,k.secondary?` / ${k.secondary}`:""]})]}),i.jsxs("div",{children:[i.jsx("span",{children:"Moves"}),i.jsxs("strong",{children:[f,k.moves?` / ${k.moves}`:""]})]}),y&&i.jsx("p",{className:"lineage-power-summary__note",children:y}),a.length>0&&i.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),i.jsx("div",{className:"lineage-powers-columns",children:["primary","secondary"].map(N=>{const P=_[N]??{};return Object.keys(P).length===0?null:i.jsxs("div",{className:"sphere-column",children:[i.jsx("h4",{className:"sphere-column__heading",children:N==="primary"?"Primary Spheres":"Secondary Spheres"}),Object.entries(P).map(([A,K])=>{const M=`${N}-${mt(A)}`,L=N==="primary"?"sorcery-sphere-primary":"sorcery-sphere-secondary",I={id:M,lineage:"sorcery",label:`${N==="primary"?"Primary":"Secondary"} Sphere  ${A}`,kind:L,meta:{sphere:A,root:M,path:[M],depth:0,tierLabel:N==="primary"?"Primary Sphere":"Secondary Sphere"}},O=c.has(I.id),Q=N==="primary",b=Q?h:u,D=Q?k.primary:k.secondary,G=!O&&D>0&&b>=D,V=`sphere-card${O?" sphere-card--selected":""}${G?" sphere-card--disabled":""}`,ne=`power-toggle${O?" power-toggle--active":""}`,X=C[A]||"A sphere of sorcerous power.",te=j.has(A);return i.jsxs("details",{className:V,open:O,children:[i.jsx("summary",{children:i.jsxs("div",{className:"sphere-card__summary",children:[i.jsxs("div",{children:[i.jsx("h5",{children:A}),i.jsx("p",{className:"sphere-card__description",children:X})]}),i.jsx("button",{type:"button",className:ne,disabled:G,title:G?`${Q?"Primary":"Secondary"} sphere limit reached (${b}/${D})`:void 0,onClick:W=>{W.preventDefault(),G||E(I)},children:O?"Selected":G?"Limit Reached":"Select Sphere"})]})}),!te&&i.jsx("p",{className:"sphere-prerequisite-message",children:"Select this sphere to unlock its moves."}),i.jsx("ul",{className:"power-list",children:K.map(W=>{const q=W.id??mt(W.name??"move"),ie={id:q,lineage:"sorcery",label:`${W.name??"Move"} (${A})`,kind:"sorcery-move",meta:{moveType:W.moveType,sphere:A,root:M,parent:M,path:[M,q],depth:1}},Se=c.has(ie.id),Xe=!te,De=!Se&&k.moves>0&&f>=k.moves,U=Xe||De,ce=`power-list__item${Se?" power-list__item--selected":""}${U?" power-list__item--disabled":""}`,le=`power-toggle${Se?" power-toggle--active":""}`;let S;return Xe?S="Select the sphere first":De&&(S=`Move limit reached (${f}/${k.moves})`),i.jsxs("li",{className:ce,children:[i.jsxs("div",{className:"power-list__header",children:[i.jsx("h6",{className:"power-list__title",children:W.name}),i.jsxs("div",{className:"power-list__meta",children:[W.moveType&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Move.png",alt:""}),i.jsx("span",{className:"badge__text",children:W.moveType})]}),i.jsx("button",{type:"button",className:le,onClick:()=>{U||l(ie)},disabled:U,title:S,children:Se?"Selected":De?"Limit Reached":"Add"})]})]}),It(W.description,n),W.outcomes&&Object.keys(W.outcomes).length>0&&i.jsx("div",{className:"power-outcomes",children:Object.entries(W.outcomes).map(([H,J])=>i.jsxs("div",{children:[i.jsxs("strong",{children:[H,":"]})," ",J]},H))})]},q)})})]},M)})]},N)})})]})}if(e==="esper"&&av(t)){const k=r?sv[r]:void 0,h=r?rv[r]:0,u=["sentinel","median","weaver","summoner","linker"],f=["empath","mesmer","siren","dreamer","meta-mind"],y=t.powers.filter(T=>u.includes(T.archetype??"")),j=t.powers.filter(T=>f.includes(T.archetype??"")||T.archetype==="foundational"),E=r==="A",C=T=>{const V=T.split(".")[0];return y.filter(ne=>{const X=ne.path??"";return X===V||T.startsWith(X+".")||X===T}).sort((ne,X)=>(ne.evolutionStage??0)-(X.evolutionStage??0))},N=a.filter(T=>{var G;return(T.kind==="esper-archetype"||T.kind==="esper-focus"||T.kind==="esper-framework-path")&&u.includes(((G=T.meta)==null?void 0:G.archetype)??"")}).sort((T,G)=>{var X,te;const V=((X=T.meta)==null?void 0:X.depth)??0;return(((te=G.meta)==null?void 0:te.depth)??0)-V})[0],P=(p=(d=N==null?void 0:N.meta)==null?void 0:d.path)==null?void 0:p.join("."),A=P==null?void 0:P.split(".")[0],K=(T,G)=>{var te;const V=T.split("."),ne=V[0],X={id:`esper-path-${T}`,lineage:"esper",label:`${(te=T.split(".").pop())==null?void 0:te.replace(/-/g," ")} (Evolution Stage ${G})`,kind:G===0?"esper-archetype":G===1?"esper-focus":"esper-framework-path",meta:{archetype:ne,path:V,depth:G,root:ne}};!P||A!==ne?a.filter(W=>W.kind==="esper-archetype"||W.kind==="esper-focus"||W.kind==="esper-framework-path").forEach(W=>l(W)):G>0&&a.filter(W=>{var q;return(W.kind==="esper-focus"||W.kind==="esper-framework-path")&&((q=W.meta)==null?void 0:q.root)===ne}).forEach(W=>l(W)),l(X)},M=()=>{if(P){const V=C(P),ne=P.split(".").length-1;return i.jsxs("div",{className:"esper-evolution-section",children:[i.jsx("h4",{children:"Esper Evolution Path"}),i.jsxs("p",{className:"section-description",children:["Selected: ",P.split(".").map(X=>X.replace(/-/g," ").replace(/\b\w/g,te=>te.toUpperCase())).join("  ")]}),i.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Change Path"}),i.jsxs("div",{className:"lineage-power-card",children:[i.jsxs("h5",{children:["All Powers for This Path (",V.length," total)"]}),i.jsx("ul",{className:"power-list",children:V.map(X=>{const te=X.id??mt(X.name??"power"),W=(X.path??"").split("."),q=W[0]?W[0].replace(/-/g," ").replace(/\b\w/g,ie=>ie.toUpperCase()):"";return i.jsxs("li",{className:"power-list__item power-list__item--granted",children:[i.jsx("div",{className:"power-list__header",children:i.jsxs("div",{children:[i.jsx("strong",{className:"power-list__title",children:X.name}),q&&i.jsx("div",{className:"power-list__subtitle",children:q})]})}),i.jsxs("div",{className:"power-list__meta",children:[i.jsxs("span",{className:"badge",children:["Stage ",X.evolutionStage]}),X.moveType&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Move.png",alt:""}),i.jsx("span",{className:"badge__text",children:X.moveType})]})]}),It(X.description,n)]},te)})}),ne<h&&i.jsxs("div",{className:"evolution-options",children:[i.jsx("h6",{children:"Available Evolutions"}),(()=>{const X=new Set(y.filter(te=>{const W=te.path??"";return(te.evolutionStage??0)===ne+1&&W.startsWith(P+".")}).map(te=>te.path??""));return Array.from(X).map(te=>{const W=te.split(".").pop()??"",q=C(te).length;return i.jsxs("button",{type:"button",className:"power-toggle",onClick:()=>K(te,ne+1),children:["Evolve to ",W.replace(/-/g," ").replace(/\b\w/g,ie=>ie.toUpperCase())," (+",q-V.length," powers)"]},te)})})()]})]})]})}const T=y.reduce((V,ne)=>{const X=ne.archetype??"Unknown";return V[X]||(V[X]=[]),V[X].push(ne),V},{}),G=t.archetypes??{};return i.jsxs("div",{className:"esper-evolution-section",children:[i.jsx("h4",{children:"Choose Esper Archetype"}),i.jsx("p",{className:"section-description",children:"Select a starting archetype. You can evolve further based on your priority."}),i.jsx("div",{className:"lineage-powers-grid",children:Object.entries(T).map(([V,ne])=>{const X=ne.filter(q=>q.evolutionStage===0),te=X.length,W=G[V];return i.jsxs("div",{className:"lineage-power-card",children:[i.jsx("h5",{children:(W==null?void 0:W.name)??V.charAt(0).toUpperCase()+V.slice(1)}),(W==null?void 0:W.description)&&i.jsx("p",{className:"archetype-description",children:W.description}),!(W!=null&&W.description)&&i.jsxs("p",{className:"archetype-description",children:[te," base ",te===1?"power":"powers"]}),i.jsxs("details",{className:"power-preview",children:[i.jsxs("summary",{children:["View Base Powers (",te,")"]}),i.jsx("ul",{className:"power-list",children:X.map(q=>{var ie;return i.jsxs("li",{className:"power-list__item",children:[i.jsx("strong",{children:q.name})," (",q.moveType,")",((ie=q.description)==null?void 0:ie.short)&&i.jsx("p",{className:"power-description__short",children:q.description.short})]},q.id)})})]}),i.jsxs("button",{type:"button",className:"power-toggle power-toggle--primary",onClick:()=>K(V,0),children:["Select ",(W==null?void 0:W.name)??V.charAt(0).toUpperCase()+V.slice(1)]})]},V)})})]})},L=(m=(g=a.find(T=>{var G;return T.kind==="esper-archetype"&&f.includes(((G=T.meta)==null?void 0:G.archetype)??"")}))==null?void 0:g.meta)==null?void 0:m.archetype,I=a.find(T=>T.kind==="esper-framework-choice"&&(T.id==="receiver-configuration"||T.id==="influencer-configuration"||T.id==="instanced-configuration"||T.id==="permanence-configuration")),O=a.find(T=>T.kind==="esper-framework-choice"&&(T.id==="targeted-scope"||T.id==="aural-scope"||T.id==="discrete-scope"||T.id==="systemic-scope")),Q=E||r==="C"||L!==void 0,b=!r||r!=="C",D=()=>{var te,W;const T=j.filter(q=>q.archetype==="foundational"),G=T.filter(q=>{var ie;return(ie=q.path)==null?void 0:ie.includes("polarity")}),V=T.filter(q=>{var ie;return(ie=q.path)==null?void 0:ie.includes("scope")});if(L){const q=j.filter(U=>U.archetype===L),ie=L==="meta-mind",Se=[],Xe={"receiver-configuration":"receiver","influencer-configuration":"influencer","instanced-configuration":"instanced","permanence-configuration":"permanence"},De={"targeted-scope":"targeted","aural-scope":"aural","discrete-scope":"discrete","systemic-scope":"systemic"};if(I){const U=Xe[I.id]||"",ce=q.find(le=>{var S;return le.grantedBy===`polarity_${U}`||((S=le.path)==null?void 0:S.includes("_all"))&&le.mentalistPolarity===U});ce&&Se.push(ce)}if(I&&O){const U=Xe[I.id]||"",ce=De[O.id]||"",le=q.filter(S=>{var J;const H=S;return H.mentalistPolarity===U&&H.mentalistScope===ce&&!((J=S.path)!=null&&J.includes("_all"))});le.length===1&&Se.push(le[0])}return i.jsxs("div",{className:"mentalist-selection-section",children:[i.jsxs("h4",{children:["Mentalist: ",L.charAt(0).toUpperCase()+L.slice(1)]}),i.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Change Archetype"}),(I||O)&&i.jsxs("div",{className:"lineage-power-card",children:[i.jsx("h5",{children:"Foundational Configuration"}),i.jsxs("ul",{className:"power-list",children:[I&&i.jsx("li",{className:"power-list__item power-list__item--granted",children:i.jsx("strong",{children:(te=G.find(U=>U.id===I.id))==null?void 0:te.name})}),O&&i.jsx("li",{className:"power-list__item power-list__item--granted",children:i.jsx("strong",{children:(W=V.find(U=>U.id===O.id))==null?void 0:W.name})})]})]}),Se.length>0&&i.jsxs("div",{className:"lineage-power-card",children:[i.jsx("h5",{children:"Granted Powers"}),i.jsx("ul",{className:"power-list",children:Se.map(U=>i.jsxs("li",{className:"power-list__item power-list__item--granted",children:[i.jsx("div",{className:"power-list__header",children:i.jsxs("div",{children:[i.jsx("strong",{children:U.name}),U.moveType&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Move.png",alt:""}),i.jsx("span",{className:"badge__text",children:U.moveType})]})]})}),It(U.description,n),U.permanentCorruption!==void 0&&i.jsxs("p",{className:"power-cost",children:["Corruption: ",U.permanentCorruption]})]},U.id))})]}),!I&&i.jsxs("div",{className:"lineage-power-card",children:[i.jsxs("h5",{children:["Step 1: Choose ",ie?"Temporal Configuration":"Polarity"]}),i.jsx("p",{className:"foundation-description",children:ie?"Instanced (temporary) or Persistent (lasting)":"Receiver (pull/perceive) or Influencer (push/project)"}),i.jsx("div",{className:"mentalist-foundation",children:G.map(U=>{let ce=!1;if(ie?ce=U.id==="instanced-configuration"||U.id==="permanence-configuration":ce=U.id==="receiver-configuration"||U.id==="influencer-configuration",!ce)return null;const le=U.id??mt(U.name??"power"),S={id:le,lineage:"esper",label:U.name??"Unknown Power",kind:"esper-framework-choice",meta:{archetype:"foundational"}};return i.jsx("button",{type:"button",className:"power-toggle power-toggle--primary",onClick:()=>l(S),children:U.name},le)})})]}),I&&!O&&i.jsxs("div",{className:"lineage-power-card",children:[i.jsxs("h5",{children:["Step 2: Choose ",ie?"Change Scope":"Scope"]}),i.jsx("p",{className:"foundation-description",children:ie?"Discrete (specific) or Systemic (broad)":"Targeted (individual) or Aural (area/group)"}),i.jsx("div",{className:"mentalist-foundation",children:V.map(U=>{let ce=!1;if(ie?ce=U.id==="discrete-scope"||U.id==="systemic-scope":ce=U.id==="targeted-scope"||U.id==="aural-scope",!ce)return null;const le=U.id??mt(U.name??"power"),S={id:le,lineage:"esper",label:U.name??"Unknown Power",kind:"esper-framework-choice",meta:{archetype:"foundational"}};return i.jsx("button",{type:"button",className:"power-toggle power-toggle--primary",onClick:()=>l(S),children:U.name},le)})})]}),I&&O&&(()=>{const U=Xe[I.id]||"",ce=De[O.id]||"",le=q.filter(S=>{var J;const H=S;return H.mentalistPolarity===U&&H.mentalistScope===ce&&!((J=S.path)!=null&&J.includes("_all"))});if(le.length>1){const S=a.find(H=>H.kind==="esper-focus"&&le.some(J=>J.id===H.id));return i.jsxs("div",{className:"lineage-power-card",children:[i.jsx("h5",{children:"Step 3: Choose Power"}),i.jsx("p",{className:"foundation-description",children:"Multiple powers available - select one"}),i.jsx("div",{className:"lineage-powers-grid",children:le.map(H=>{const J=H.id??mt(H.name??"power"),je={id:J,lineage:"esper",label:H.name??"Unknown Power",kind:"esper-focus",meta:{archetype:L}},F=(S==null?void 0:S.id)===J;return i.jsxs("div",{className:"lineage-power-card",children:[i.jsx("h6",{children:H.name}),H.moveType&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Move.png",alt:""}),i.jsx("span",{className:"badge__text",children:H.moveType})]}),It(H.description,n),i.jsx("button",{type:"button",className:`power-toggle${F?" power-toggle--active":""}`,onClick:()=>{S&&S.id!==J&&l(S),l(je)},children:F?"Selected":"Select"})]},J)})})]})}return null})()]})}const ne=j.filter(q=>q.archetype!=="foundational").reduce((q,ie)=>{const Se=ie.archetype??"Unknown";return q[Se]||(q[Se]=[]),q[Se].push(ie),q},{}),X=t.archetypes??{};return i.jsxs("div",{className:"mentalist-selection-section",children:[i.jsx("h4",{children:"Choose Mentalist Archetype"}),i.jsx("p",{className:"section-description",children:"Select an archetype to begin configuring your Mentalist powers."}),i.jsx("div",{className:"lineage-powers-grid",children:Object.entries(ne).map(([q,ie])=>{const Se=ie.filter(ce=>{var le;return(le=ce.path)==null?void 0:le.includes("_all")}),Xe=ie.filter(ce=>{var le;return!((le=ce.path)!=null&&le.includes("_all"))}),De=Se.length+Xe.length,U=X[q];return i.jsxs("div",{className:"lineage-power-card",children:[i.jsx("h5",{children:(U==null?void 0:U.name)??q.charAt(0).toUpperCase()+q.slice(1)}),(U==null?void 0:U.description)&&i.jsx("p",{className:"archetype-description",children:U.description}),!(U!=null&&U.description)&&i.jsxs("p",{className:"archetype-description",children:[De," ",De===1?"power":"powers"," available"]}),i.jsxs("button",{type:"button",className:"power-toggle power-toggle--primary",onClick:()=>{const ce={id:`mentalist-${q}`,lineage:"esper",label:(U==null?void 0:U.name)??q,kind:"esper-archetype",meta:{archetype:q}};l(ce)},children:["Select ",(U==null?void 0:U.name)??q.charAt(0).toUpperCase()+q.slice(1)]})]},q)})})]})};return i.jsxs("section",{className:"lineage-powers-panel",children:[i.jsxs("header",{children:[i.jsx("h3",{children:"Esper & Mentalist Powers"}),i.jsx("p",{children:"Innate psionic abilities - evolution-based or selection-based systems."})]}),i.jsxs("aside",{className:"lineage-power-summary",children:[i.jsxs("div",{children:[i.jsx("span",{children:"Evolution Depth"}),i.jsx("strong",{children:h})]}),i.jsxs("div",{children:[i.jsx("span",{children:"Powers Selected"}),i.jsx("strong",{children:a.length})]}),k&&i.jsx("p",{className:"lineage-power-summary__note",children:k}),a.length>0&&i.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),b&&M(),Q&&D()]})}if(e==="automata"&&cv(t)){const h=r?{A:{worker:[],soldier:["imperial"],overseer:["imperial"]},B:{worker:[],soldier:["advanced"],overseer:["advanced"]},C:{worker:[],soldier:["basic"],overseer:["basic"]},D:{worker:["advanced"],soldier:[],overseer:[]},E:{worker:["basic"],soldier:[],overseer:[]}}[r]:{worker:[],soldier:[],overseer:[]},u=t.powers.reduce((_,N)=>{const P=N.chassis??"unknown",A=N.branch??"unknown";return _[P]||(_[P]=new Set),_[P].add(A),_},{}),f=a.find(_=>_.kind==="automata-package"),y=(v=f==null?void 0:f.meta)==null?void 0:v.chassis,j=(x=f==null?void 0:f.meta)==null?void 0:x.branch,E=(w=f==null?void 0:f.meta)==null?void 0:w.category,C=(_,N,P)=>t.powers.filter(A=>{if(A.chassis!==_)return!1;if(A.augmentLevel==="general")return!0;if(A.branch!==N)return!1;const K=["basic","advanced","imperial"],M=K.indexOf(P),L=K.indexOf(A.augmentLevel??"");return L>=0&&L<=M});return i.jsxs("section",{className:"lineage-powers-panel",children:[i.jsxs("header",{children:[i.jsx("h3",{children:"Automata Configuration"}),i.jsx("p",{children:"Choose your chassis, branch, and quality level. You automatically receive ALL powers for that configuration."})]}),i.jsxs("aside",{className:"lineage-power-summary",children:[f&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("span",{children:"Selected Configuration"}),i.jsxs("strong",{children:[E==null?void 0:E.toUpperCase()," ",j==null?void 0:j.toUpperCase()," (",y==null?void 0:y.toUpperCase(),")"]})]}),i.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selection"})]}),!f&&i.jsxs("p",{children:["Select a chassis/branch configuration below. Priority ",r??""," determines available quality levels."]})]}),!f&&i.jsx("div",{className:"automata-selection-grid",children:Object.entries(u).map(([_,N])=>{const P=h[_]||[];return P.length===0?null:i.jsxs("div",{className:"automata-chassis-section",children:[i.jsxs("h4",{children:[_.charAt(0).toUpperCase()+_.slice(1)," Chassis"]}),i.jsx("div",{className:"automata-packages-grid",children:Array.from(N).map(A=>P.map(K=>{const M=`${_}-${A}-${K}`,L=C(_,A,K),I={id:M,lineage:"automata",label:`${K.toUpperCase()} ${A} (${_})`,kind:"automata-package",meta:{chassis:_,branch:A,category:K}};return i.jsxs("details",{className:"automata-package-card",children:[i.jsx("summary",{children:i.jsxs("div",{className:"automata-package-summary",children:[i.jsxs("div",{children:[i.jsxs("h5",{children:[K.toUpperCase()," ",A.charAt(0).toUpperCase()+A.slice(1)]}),i.jsxs("p",{className:"automata-package-count",children:[L.length," powers included"]})]}),i.jsx("button",{type:"button",className:"power-toggle",onClick:O=>{O.preventDefault(),l(I)},children:"Select This Configuration"})]})}),i.jsxs("div",{className:"automata-package-details",children:[i.jsx("p",{className:"automata-package-note",children:"Selecting this configuration grants you ALL of these powers automatically:"}),i.jsx("ul",{className:"power-list",children:L.map(O=>i.jsxs("li",{className:"power-list__item",children:[i.jsxs("div",{children:[i.jsx("strong",{children:O.name}),O.augmentLevel&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Augment.png",alt:""}),i.jsx("span",{className:"badge__text",children:O.augmentLevel})]}),O.moveType&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Move.png",alt:""}),i.jsx("span",{className:"badge__text",children:O.moveType})]})]}),It(O.description,n),O.outcomes&&Object.keys(O.outcomes).length>0&&i.jsx("div",{className:"power-outcomes",children:Object.entries(O.outcomes).map(([Q,b])=>i.jsxs("div",{children:[i.jsxs("strong",{children:[Q,":"]})," ",b]},Q))})]},O.id))})]})]},M)}))})]},_)})}),f&&y&&j&&E&&i.jsxs("div",{className:"automata-selected-powers",children:[i.jsx("h4",{children:"Your Powers"}),i.jsxs("p",{children:["As a ",E.toUpperCase()," ",j," (",y,"), you have these capabilities:"]}),i.jsx("ul",{className:"power-list",children:C(y,j,E).map(_=>i.jsxs("li",{className:"power-list__item",children:[i.jsxs("div",{children:[i.jsx("strong",{children:_.name}),_.augmentLevel&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Augment.png",alt:""}),i.jsx("span",{className:"badge__text",children:_.augmentLevel})]}),_.moveType&&i.jsxs("span",{className:"badge badge--icon",children:[i.jsx("img",{src:"/icons/Move.png",alt:""}),i.jsx("span",{className:"badge__text",children:_.moveType})]})]}),It(_.description,n),_.outcomes&&Object.keys(_.outcomes).length>0&&i.jsx("div",{className:"power-outcomes",children:Object.entries(_.outcomes).map(([N,P])=>i.jsxs("div",{children:[i.jsxs("strong",{children:[N,":"]})," ",P]},N))})]},_.id))})]})]})}return i.jsxs("section",{className:"lineage-powers-panel",children:[i.jsx("h3",{children:"Lineage Powers"}),i.jsx("p",{children:"Power data structure for this lineage is not recognized. Check the source files for updates."})]})}function dv({priorities:e,selected:t,onSelect:n,canReveal:r,revealMechanics:s,onToggleReveal:l,notes:o,onUpdateNotes:a,powerSet:c,powers:d,onTogglePower:p,onClearPowers:g}){const m=e.lineage,v=R.useMemo(()=>ep(t),[t]),x=r&&s;return i.jsxs("div",{className:"stage stage--lineage",children:[i.jsxs("header",{className:"stage__header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Lineage"}),i.jsx("p",{children:"The letter you assign to Lineage defines how far from humanity you step. Explore each lineage's aesthetic, pick the one that sings to your table, then reveal mechanics when ready."})]}),i.jsx("div",{className:"stage__actions",children:i.jsx("button",{type:"button",onClick:l,className:`reveal-toggle ${s?"active":""}`,disabled:!r,children:r?s?"Hide mechanical truths":"Reveal mechanical truths":"GM access required"})})]}),i.jsx("section",{className:"lineage-grid",children:Zd.map(w=>{const k=w.key===t,h=m?w.priorityImpacts[m]:null;return i.jsxs("article",{className:`lineage-card ${k?"is-active":""}`,style:{borderColor:k?w.aesthetic.accent:"rgba(255,255,255,0.08)",boxShadow:k?`0 12px 32px ${w.aesthetic.accent}40`:void 0,backgroundImage:w.aesthetic.texture},children:[i.jsxs("header",{children:[i.jsx("h3",{children:w.name}),i.jsx("p",{className:"lineage-card__tagline",children:w.tagline})]}),i.jsx("p",{children:w.summary}),i.jsxs("div",{className:"lineage-card__priority",children:[i.jsxs("span",{children:["With Priority ",m??"",":"]}),i.jsx("p",{children:h??"Assign a priority letter to see what changes."})]}),i.jsxs("details",{children:[i.jsx("summary",{children:"First impressions"}),i.jsx("p",{children:w.narrativeHook})]}),s&&r&&i.jsxs("details",{open:!0,children:[i.jsx("summary",{children:"GM Whisper"}),i.jsx("p",{children:w.gmWhisper})]}),i.jsx("footer",{children:i.jsx("button",{type:"button",className:"lineage-card__choose",onClick:()=>n(w.key),children:k?"Selected":"Choose Lineage"})})]},w.key)})}),i.jsx(uv,{lineage:t,lineagePriority:m,powerData:c,gmEnabled:x,selections:d,onToggleSelection:p,onClearSelections:g}),i.jsx("section",{className:"lineage-notes",children:i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Lineage Notes & Promises"}),i.jsx("textarea",{value:o,onChange:w=>a(w.target.value),placeholder:"Record patron obligations, corruption tells, and aesthetic cues for later sessions."})]})}),v&&i.jsxs("aside",{className:"lineage-highlight",style:{borderColor:v.aesthetic.accent},children:[i.jsxs("h4",{children:["Echos of ",v.name]}),i.jsxs("p",{children:["Layer the UI palette with ",v.aesthetic.accent,". Consider swapping ambient sound or card frames to mirror the lineage vibe when this character is active at the table."]})]})]})}const vc=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return Number.POSITIVE_INFINITY},Xn=e=>Number.isFinite(e)?e:0,pv=e=>Xn(e.reach)+Xn(e.influence),fv=e=>Xn(e.loyalty)+Xn(e.competence),hv=e=>Xn(e.quality),mv=(e,t)=>Number.isFinite(e)?e:t,gv=(e,t,n,r)=>{var a,c;if(!e)return{value:0,requiresApproval:!1};const s=(a=n.properties.tenure)==null?void 0:a[e],l=(c=t.properties.tenure)==null?void 0:c[e];if(s!=null&&s.cost)return{value:r,requiresApproval:!0,note:s.cost};const o=typeof(s==null?void 0:s.multiplier)=="number"?s.multiplier:typeof(l==null?void 0:l.costMultiplier)=="number"?l.costMultiplier:null;return typeof o=="number"&&Number.isFinite(o)&&o>0?{value:Math.max(1,Math.round(o)),requiresApproval:!!(l!=null&&l.special)}:{value:0,requiresApproval:!0}},vv=(e,t,n,r)=>{var c,d;if(!e)return{value:0,requiresApproval:!1};const s=(c=n.properties.zoning)==null?void 0:c[e],l=(d=t.properties.zoning)==null?void 0:d[e],o=typeof(s==null?void 0:s.baseCost)=="number"?s.baseCost:typeof(l==null?void 0:l.baseCost)=="number"?l.baseCost:null;if(typeof o=="number"&&Number.isFinite(o)&&o>0)return{value:o,requiresApproval:!1};const a=typeof(s==null?void 0:s.baseCost)=="string"?s.baseCost:typeof(l==null?void 0:l.baseCost)=="string"?l.baseCost:null;return{value:r,requiresApproval:!0,note:a}};function yv({priority:e,system:t,costs:n,contacts:r,retainers:s,properties:l,goods:o,liquid:a,onAddContact:c,onUpdateContact:d,onRemoveContact:p,onAddRetainer:g,onUpdateRetainer:m,onRemoveRetainer:v,onAddProperty:x,onUpdateProperty:w,onRemoveProperty:k,onAddGoods:h,onUpdateGoods:u,onRemoveGoods:f,onUpdateLiquid:y,notes:j,onUpdateNotes:E}){var De,U,ce,le;const C=e?t.resourcePoints[e]:null,_=(C==null?void 0:C.points)??0,N=vc(C==null?void 0:C.maxQuality),P=vc(C==null?void 0:C.maxCombined),A=(C==null?void 0:C.specializations)??0,K=mv(P,(C==null?void 0:C.points)??10),M=Array.isArray(r)?r:[],L=Array.isArray(s)?s:[],I=Array.isArray(l)?l:[],O=Array.isArray(o)?o:[],Q=M.map(S=>{const H=pv(S),J=[];return Number.isFinite(N)&&S.reach>N&&J.push(`Reach exceeds max quality ${N}`),Number.isFinite(N)&&S.influence>N&&J.push(`Influence exceeds max quality ${N}`),Number.isFinite(P)&&H>P&&J.push(`Total reach + influence exceeds combined maximum ${P}`),{entry:S,cost:H,issues:J}}),b=L.map(S=>{const H=fv(S),J=[];return Number.isFinite(N)&&S.competence>N&&J.push(`Competence exceeds max quality ${N}`),Number.isFinite(N)&&S.loyalty>N&&J.push(`Loyalty exceeds max quality ${N}`),Number.isFinite(P)&&H>P&&J.push(`Total loyalty + competence exceeds combined maximum ${P}`),{entry:S,cost:H,issues:J}}),D=I.map(S=>{const H=gv(S.tenure,t,n,K),J=vv(S.zoning,t,n,K),je=H.value+J.value,F=[];return(H.requiresApproval||J.requiresApproval)&&F.push("Selection requires GM approval."),H.note&&F.push(H.note),J.note&&F.push(J.note),Number.isFinite(N)&&H.value>N&&F.push(`Tenure rating exceeds max quality ${N}`),Number.isFinite(N)&&J.value>N&&F.push(`Zoning rating exceeds max quality ${N}`),Number.isFinite(P)&&je>P&&F.push(`Total tenure + zoning exceeds combined maximum ${P}`),{entry:S,cost:je,issues:F,tenureValue:H.value,zoningValue:J.value}}),T=O.map(S=>{const H=hv(S),J=[];return Number.isFinite(N)&&S.quality>N&&J.push(`Quality exceeds max quality ${N}`),Number.isFinite(P)&&S.quality>P&&J.push(`Quality exceeds combined maximum ${P}`),{entry:S,cost:H,issues:J}}),G=Q.reduce((S,H)=>S+H.cost,0)+b.reduce((S,H)=>S+H.cost,0)+D.reduce((S,H)=>S+H.cost,0)+T.reduce((S,H)=>S+H.cost,0)+Xn(a),V=_-G,ne=C?V<0:G>0,X=Q.filter(({entry:S})=>!!S.specialization).length+b.filter(({entry:S})=>!!S.specialization).length+D.filter(({entry:S})=>!!S.specialization).length+T.filter(({entry:S})=>!!S.specialization).length,W=A-X<0,q=((De=t.contacts)==null?void 0:De.specializations)??[],ie=((U=t.retainers)==null?void 0:U.specializations)??[],Se=((ce=t.properties)==null?void 0:ce.specializations)??[],Xe=((le=t.goods)==null?void 0:le.specializations)??[];return i.jsxs("div",{className:"stage stage--resources",children:[i.jsxs("header",{className:"stage__header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Resources"}),i.jsx("p",{children:"Spend your Resource Points to define the allies, havens, and gear that keep you alive. Balance reach and quality carefully  every edge requires upkeep and trust."})]}),i.jsxs("aside",{className:"resource-summary",children:[i.jsxs("span",{className:"resource-summary__label",children:["Priority ",e??""]}),C?i.jsxs("dl",{children:[i.jsxs("div",{children:[i.jsx("dt",{children:"Available Points"}),i.jsx("dd",{children:_})]}),i.jsxs("div",{className:pe({"resource-summary__warning":ne}),children:[i.jsx("dt",{children:"Spent"}),i.jsx("dd",{children:G})]}),i.jsxs("div",{className:pe({"resource-summary__warning":ne}),children:[i.jsx("dt",{children:"Remaining"}),i.jsx("dd",{children:Math.max(0,V)})]}),i.jsxs("div",{children:[i.jsx("dt",{children:"Quality Cap"}),i.jsx("dd",{children:Number.isFinite(N)?N:""})]}),i.jsxs("div",{children:[i.jsx("dt",{children:"Combined Cap"}),i.jsx("dd",{children:Number.isFinite(P)?P:""})]}),i.jsxs("div",{className:pe({"resource-summary__warning":W}),children:[i.jsx("dt",{children:"Specializations"}),i.jsxs("dd",{children:[X," / ",A]})]})]}):i.jsx("p",{children:"Assign a resources priority to unlock your pool."})]})]}),i.jsxs("div",{className:pe("resource-ledger",{"resource-ledger--warning":ne}),children:[i.jsx("strong",{children:G})," resource points allocated",C?` of ${_}`:"",".",ne&&i.jsx("span",{className:"resource-ledger__warning",children:"You are overspending. Adjust your assets or raise your priority."})]}),i.jsxs("div",{className:pe("resource-ledger",{"resource-ledger--warning":W}),children:["Specializations used: ",i.jsx("strong",{children:X})," of ",A,".",W&&i.jsx("span",{className:"resource-ledger__warning",children:"Only one specialization per asset until the limit is raised."})]}),i.jsxs("div",{className:"resource-grid",children:[i.jsxs("section",{className:"resource-section",children:[i.jsxs("header",{className:"resource-section__header",children:[i.jsx("h3",{children:"Contacts"}),i.jsx("button",{type:"button",onClick:c,children:"Add Contact"})]}),Q.length===0?i.jsx("p",{className:"resource-section__empty",children:"No contacts recorded. Add a fixer, broker, or confidant."}):Q.map(({entry:S,cost:H,issues:J})=>{const je=!S.gmApproved;return i.jsxs("article",{className:pe("resource-card",{"resource-card--flagged":je}),children:[i.jsxs("header",{className:"resource-card__header",children:[i.jsx("input",{className:"resource-card__title",value:S.name,onChange:F=>d(S.id,{name:F.target.value}),placeholder:"Contact name"}),i.jsxs("span",{className:"resource-card__cost",children:["Cost ",H]})]}),i.jsxs("label",{className:"resource-card__field",children:[i.jsx("span",{children:"Profile"}),i.jsx("textarea",{value:S.description,onChange:F=>d(S.id,{description:F.target.value}),placeholder:"Why does this person answer your call?"})]}),i.jsxs("div",{className:"resource-card__grid",children:[i.jsxs("label",{children:[i.jsx("span",{children:"Reach"}),i.jsx("input",{type:"number",min:0,max:Number.isFinite(N)?N:void 0,value:S.reach,onChange:F=>d(S.id,{reach:Number(F.target.value)||0})})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Influence"}),i.jsx("input",{type:"number",min:0,max:Number.isFinite(N)?N:void 0,value:S.influence,onChange:F=>d(S.id,{influence:Number(F.target.value)||0})})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Specialization"}),i.jsxs("select",{value:S.specialization??"",onChange:F=>d(S.id,{specialization:F.target.value?F.target.value:null}),children:[i.jsx("option",{value:"",children:"None"}),q.map(F=>i.jsx("option",{value:F,children:F},F))]})]})]}),J.length>0&&i.jsx("ul",{className:"resource-card__issues",children:J.map((F,ft)=>i.jsx("li",{children:F},ft))}),i.jsxs("footer",{className:"resource-card__footer",children:[i.jsx("button",{type:"button",onClick:()=>p(S.id),className:"link",children:"Remove Contact"}),i.jsx("button",{type:"button",onClick:()=>d(S.id,{gmApproved:!S.gmApproved}),className:pe("badge",{"badge--attention":je}),children:S.gmApproved?"GM Approved":"GM Approval Required"})]})]},S.id)})]}),i.jsxs("section",{className:"resource-section",children:[i.jsxs("header",{className:"resource-section__header",children:[i.jsx("h3",{children:"Retainers"}),i.jsx("button",{type:"button",onClick:g,children:"Add Retainer"})]}),b.length===0?i.jsx("p",{className:"resource-section__empty",children:"No retainers enlisted. Secure a loyal operator."}):b.map(({entry:S,cost:H,issues:J})=>{const je=!S.gmApproved;return i.jsxs("article",{className:pe("resource-card",{"resource-card--flagged":je}),children:[i.jsxs("header",{className:"resource-card__header",children:[i.jsx("input",{className:"resource-card__title",value:S.name,onChange:F=>m(S.id,{name:F.target.value}),placeholder:"Retainer name"}),i.jsxs("span",{className:"resource-card__cost",children:["Cost ",H]})]}),i.jsxs("label",{className:"resource-card__field",children:[i.jsx("span",{children:"Role"}),i.jsx("textarea",{value:S.description,onChange:F=>m(S.id,{description:F.target.value}),placeholder:"What do they handle for you?"})]}),i.jsxs("div",{className:"resource-card__grid",children:[i.jsxs("label",{children:[i.jsx("span",{children:"Competence"}),i.jsx("input",{type:"number",min:0,max:Number.isFinite(N)?N:void 0,value:S.competence,onChange:F=>m(S.id,{competence:Number(F.target.value)||0})})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Loyalty"}),i.jsx("input",{type:"number",min:0,max:Number.isFinite(N)?N:void 0,value:S.loyalty,onChange:F=>m(S.id,{loyalty:Number(F.target.value)||0})})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Specialization"}),i.jsxs("select",{value:S.specialization??"",onChange:F=>m(S.id,{specialization:F.target.value?F.target.value:null}),children:[i.jsx("option",{value:"",children:"None"}),ie.map(F=>i.jsx("option",{value:F,children:F},F))]})]})]}),J.length>0&&i.jsx("ul",{className:"resource-card__issues",children:J.map((F,ft)=>i.jsx("li",{children:F},ft))}),i.jsxs("footer",{className:"resource-card__footer",children:[i.jsx("button",{type:"button",onClick:()=>v(S.id),className:"link",children:"Remove Retainer"}),i.jsx("button",{type:"button",onClick:()=>m(S.id,{gmApproved:!S.gmApproved}),className:pe("badge",{"badge--attention":je}),children:S.gmApproved?"GM Approved":"GM Approval Required"})]})]},S.id)})]}),i.jsxs("section",{className:"resource-section",children:[i.jsxs("header",{className:"resource-section__header",children:[i.jsx("h3",{children:"Properties"}),i.jsx("button",{type:"button",onClick:x,children:"Add Property"})]}),D.length===0?i.jsx("p",{className:"resource-section__empty",children:"No safehouses or fronts secured. Stake your claim."}):D.map(({entry:S,cost:H,issues:J,tenureValue:je,zoningValue:F})=>{const ft=!S.gmApproved;return i.jsxs("article",{className:pe("resource-card",{"resource-card--flagged":ft}),children:[i.jsxs("header",{className:"resource-card__header",children:[i.jsx("input",{className:"resource-card__title",value:S.name,onChange:ae=>w(S.id,{name:ae.target.value}),placeholder:"Property name"}),i.jsxs("span",{className:"resource-card__cost",children:["Cost ",H]})]}),i.jsxs("label",{className:"resource-card__field",children:[i.jsx("span",{children:"Description"}),i.jsx("textarea",{value:S.description,onChange:ae=>w(S.id,{description:ae.target.value}),placeholder:"What makes this space yours?"})]}),i.jsxs("div",{className:"resource-card__grid resource-card__grid--wide",children:[i.jsxs("label",{children:[i.jsx("span",{children:"Tenure"}),i.jsxs("select",{value:S.tenure,onChange:ae=>w(S.id,{tenure:ae.target.value}),children:[i.jsx("option",{value:"",children:"Select tenure"}),Object.keys(t.properties.tenure).map(ae=>i.jsx("option",{value:ae,children:ae},ae))]}),i.jsx("small",{children:je?`Value ${je}`:"Pick a claim type"})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Zoning"}),i.jsxs("select",{value:S.zoning,onChange:ae=>w(S.id,{zoning:ae.target.value}),children:[i.jsx("option",{value:"",children:"Select function"}),Object.keys(t.properties.zoning).map(ae=>i.jsx("option",{value:ae,children:ae},ae))]}),i.jsx("small",{children:F?`Value ${F}`:"Pick a function"})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Ward"}),i.jsx("input",{value:S.ward,onChange:ae=>w(S.id,{ward:ae.target.value}),placeholder:"Ward or district"})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Specialization"}),i.jsxs("select",{value:S.specialization??"",onChange:ae=>w(S.id,{specialization:ae.target.value?ae.target.value:null}),children:[i.jsx("option",{value:"",children:"None"}),Se.map(ae=>i.jsx("option",{value:ae,children:ae},ae))]})]})]}),J.length>0&&i.jsx("ul",{className:"resource-card__issues",children:J.map((ae,it)=>i.jsx("li",{children:ae},it))}),i.jsxs("footer",{className:"resource-card__footer",children:[i.jsx("button",{type:"button",onClick:()=>k(S.id),className:"link",children:"Remove Property"}),i.jsx("button",{type:"button",onClick:()=>w(S.id,{gmApproved:!S.gmApproved}),className:pe("badge",{"badge--attention":ft}),children:S.gmApproved?"GM Approved":"GM Approval Required"})]})]},S.id)})]}),i.jsxs("section",{className:"resource-section",children:[i.jsxs("header",{className:"resource-section__header",children:[i.jsx("h3",{children:"Goods & Stockpiles"}),i.jsx("button",{type:"button",onClick:h,children:"Add Goods"})]}),T.length===0?i.jsx("p",{className:"resource-section__empty",children:"No caches documented. Set aside kit or contraband."}):T.map(({entry:S,cost:H,issues:J})=>{const je=!S.gmApproved;return i.jsxs("article",{className:pe("resource-card",{"resource-card--flagged":je}),children:[i.jsxs("header",{className:"resource-card__header",children:[i.jsx("input",{className:"resource-card__title",value:S.name,onChange:F=>u(S.id,{name:F.target.value}),placeholder:"Goods cache"}),i.jsxs("span",{className:"resource-card__cost",children:["Cost ",H]})]}),i.jsxs("label",{className:"resource-card__field",children:[i.jsx("span",{children:"Contents"}),i.jsx("textarea",{value:S.description,onChange:F=>u(S.id,{description:F.target.value}),placeholder:"Describe the stash, weaponry, or leverage."})]}),i.jsxs("div",{className:"resource-card__grid",children:[i.jsxs("label",{children:[i.jsx("span",{children:"Quality"}),i.jsx("input",{type:"number",min:0,max:Number.isFinite(N)?N:void 0,value:S.quality,onChange:F=>u(S.id,{quality:Number(F.target.value)||0})})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Specialization"}),i.jsxs("select",{value:S.specialization??"",onChange:F=>u(S.id,{specialization:F.target.value?F.target.value:null}),children:[i.jsx("option",{value:"",children:"None"}),Xe.map(F=>i.jsx("option",{value:F,children:F},F))]})]})]}),J.length>0&&i.jsx("ul",{className:"resource-card__issues",children:J.map((F,ft)=>i.jsx("li",{children:F},ft))}),i.jsxs("footer",{className:"resource-card__footer",children:[i.jsx("button",{type:"button",onClick:()=>f(S.id),className:"link",children:"Remove Goods"}),i.jsx("button",{type:"button",onClick:()=>u(S.id,{gmApproved:!S.gmApproved}),className:pe("badge",{"badge--attention":je}),children:S.gmApproved?"GM Approved":"GM Approval Required"})]})]},S.id)})]})]}),i.jsxs("section",{className:"resource-liquid",children:[i.jsxs("label",{children:[i.jsx("span",{children:"Liquid Assets"}),i.jsx("input",{type:"number",min:0,value:a,onChange:S=>y(Number(S.target.value)||0)})]}),i.jsx("p",{children:"Reserve unassigned points for cash, favors, or future acquisitions."})]}),i.jsx("section",{children:i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Resource Stories"}),i.jsx("textarea",{value:j,onChange:S=>E(S.target.value),placeholder:"Record fronts, debts, leverage, and the strings attached to each asset."})]})}),i.jsxs("section",{className:"resource-reference",children:[i.jsxs("article",{children:[i.jsx("h4",{children:"Contact Scales"}),i.jsxs("div",{className:"resource-reference__grid",children:[i.jsxs("div",{children:[i.jsx("h5",{children:"Reach"}),i.jsx("ul",{children:Object.entries(t.contacts.reachScale).map(([S,H])=>i.jsxs("li",{children:[i.jsx("span",{className:"scale__value",children:S}),i.jsx("span",{children:H})]},S))})]}),i.jsxs("div",{children:[i.jsx("h5",{children:"Influence"}),i.jsx("ul",{children:Object.entries(t.contacts.influenceScale).map(([S,H])=>i.jsxs("li",{children:[i.jsx("span",{className:"scale__value",children:S}),i.jsx("span",{children:H})]},S))})]})]})]}),i.jsxs("article",{children:[i.jsx("h4",{children:"Retainer Scales"}),i.jsxs("div",{className:"resource-reference__grid",children:[i.jsxs("div",{children:[i.jsx("h5",{children:"Competence"}),i.jsx("ul",{children:Object.entries(t.retainers.competenceScale).map(([S,H])=>i.jsxs("li",{children:[i.jsx("span",{className:"scale__value",children:S}),i.jsx("span",{children:H})]},S))})]}),i.jsxs("div",{children:[i.jsx("h5",{children:"Loyalty"}),i.jsx("ul",{children:Object.entries(t.retainers.loyaltyScale).map(([S,H])=>i.jsxs("li",{children:[i.jsx("span",{className:"scale__value",children:S}),i.jsx("span",{children:H})]},S))})]})]})]}),i.jsxs("article",{children:[i.jsx("h4",{children:"Tenure Reference"}),i.jsx("ul",{className:"resource-reference__list",children:Object.entries(t.properties.tenure).map(([S,H])=>i.jsxs("li",{children:[i.jsx("strong",{children:S}),H.description&&i.jsxs("span",{children:["  ",H.description]})]},S))})]})]})]})}const xv={A:5,B:4,C:3,D:2,E:1},jv={A:3,B:2,C:2,D:1,E:1};function wv({priority:e,background:t,skills:n,onUpdate:r,onUpdateSpecializations:s,onUpdateCustomSpecializations:l,data:o}){const a=n.backgroundSpecializations||[],c=n.backgroundCustomSpecializations||[],[d,p]=R.useState([]),[g,m]=R.useState(new Set);R.useEffect(()=>{if(c.length===0)p([{id:crypto.randomUUID(),value:"",checked:!1}]);else{const L=c.map(I=>({id:crypto.randomUUID(),value:I,checked:!0}));L.push({id:crypto.randomUUID(),value:"",checked:!1}),p(L)}},[c.length]);const v=R.useMemo(()=>Object.entries(o),[o]),x=t.title&&o[t.title]?o[t.title]:void 0,w=R.useMemo(()=>x!=null&&x.professions?new Map(x.professions.map(L=>[L.priority,L])):new Map,[x==null?void 0:x.professions]),k=e?w.get(e):void 0,h=e?xv[e]:0,u=e?jv[e]:0,f=t.title||"Choose a background",y=(k==null?void 0:k.description)||(x==null?void 0:x.description)||"Select a background below to load its story, talents, and contacts.",j=(x==null?void 0:x.skillSpecializationOptions)??[],E=(x==null?void 0:x.resourceSynergyExamples)??[],C=L=>{var Q;const I=o[L],O={title:L};I&&(!t.tierNotes&&I.description&&(O.tierNotes=I.description),!t.contacts&&((Q=I.resourceSynergyExamples)!=null&&Q.length)&&(O.contacts=I.resourceSynergyExamples.join(`
`))),r(O)},_=L=>{const I=a.includes(L),O=d.filter(b=>b.checked&&b.value.trim()).length,Q=a.length+O;I?s(a.filter(b=>b!==L)):Q<u&&s([...a,L])},N=L=>{m(I=>{const O=new Set(I);return O.has(L)?O.delete(L):O.add(L),O})},P=(L,I)=>{const O=d.map(Q=>Q.id===L?{...Q,value:I}:Q);p(O),K(O)},A=L=>{const I=d.map(Q=>Q.id===L?{...Q,checked:!Q.checked}:Q);p(I);const O=I.find(Q=>Q.id===L);O&&O.checked&&O.value.trim()&&(I.some(b=>!b.checked&&!b.value.trim())||(I.push({id:crypto.randomUUID(),value:"",checked:!1}),p(I))),K(I)},K=L=>{const I=L.filter(O=>O.checked&&O.value.trim()).map(O=>O.value.trim());l(I)},M=a.length+d.filter(L=>L.checked&&L.value.trim()).length;return i.jsxs("div",{className:"stage stage--background",children:[i.jsxs("header",{className:"stage__header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Background"}),i.jsx("p",{children:"Backgrounds tell the table who you were before the Long Night took hold. Use the narrative scope guidance to outline your reach and obligations."})]}),i.jsxs("aside",{className:"background-callout",children:[i.jsxs("div",{className:"background-callout__header",children:[i.jsxs("span",{className:"background-callout__label",children:["Priority ",e??""," ",e&&` ${h} Background Points`]}),i.jsx("h3",{children:f}),k&&i.jsx("h4",{className:"background-callout__profession-title",children:k.title})]}),i.jsx("p",{className:"background-callout__body",children:y}),(j.length>0||E.length>0)&&i.jsxs("div",{className:"background-callout__tags",children:[j.length>0&&i.jsxs("div",{children:[i.jsxs("span",{className:"background-callout__tag-label",children:["Signature Skills (",u," ",u===1?"slot":"slots",")"]}),i.jsx("ul",{children:j.map(L=>i.jsx("li",{children:L},L))})]}),E.length>0&&i.jsxs("div",{children:[i.jsx("span",{className:"background-callout__tag-label",children:"Example Resource Synergies (0.5x cost)"}),i.jsx("ul",{children:E.map(L=>i.jsx("li",{children:L},L))})]})]})]})]}),x&&j.length>0&&i.jsxs("section",{className:"background-specializations",children:[i.jsx("h3",{children:"Select Background Specializations"}),i.jsxs("p",{className:"background-specializations__description",children:["Choose up to ",u," specialization",u!==1?"s":""," from your background's signature skills. These do NOT count against your skill specialization limit."]}),i.jsx("div",{className:"background-specializations__options",children:j.map(L=>{const I=a.includes(L),O=!I&&a.length>=u;return i.jsxs("label",{className:`background-specialization-option ${I?"selected":""} ${O?"disabled":""}`,children:[i.jsx("input",{type:"checkbox",checked:I,disabled:O,onChange:()=>_(L)}),i.jsx("span",{children:L})]},L)})}),i.jsxs("div",{className:"background-specializations__custom",children:[i.jsx("h4",{children:"Custom Specializations (Optional, require GM approval)"}),i.jsx("p",{children:"Create your own specialization if the suggestions don't fit your character."}),d.map(L=>{const I=!L.checked&&M>=u;return i.jsxs("label",{className:`background-specialization-option ${L.checked?"selected":""} ${I?"disabled":""}`,children:[i.jsx("input",{type:"checkbox",checked:L.checked,disabled:I,onChange:()=>A(L.id)}),i.jsx("input",{type:"text",className:"custom-spec-input",value:L.value,placeholder:"Ex: Engineering: Runesmithing, Social: Underworld Contacts, etc.",onChange:O=>P(L.id,O.target.value)})]},L.id)})]})]}),i.jsx("section",{className:"background-catalog",children:v.map(([L,I])=>{var D,T,G;const O=L===t.title,Q=e&&I.professions?I.professions.find(V=>V.priority===e):void 0,b=g.has(L);return i.jsxs("article",{className:`background-card ${O?"active":""} ${b?"expanded":"collapsed"}`,children:[i.jsxs("header",{className:"background-card__header",children:[i.jsxs("div",{children:[i.jsx("h3",{children:L}),i.jsx("p",{children:I.description})]}),i.jsxs("div",{className:"background-card__actions",children:[i.jsx("button",{type:"button",onClick:()=>C(L),children:O?"Selected":"Adopt Background"}),i.jsx("button",{type:"button",className:"background-card__toggle",onClick:()=>N(L),"aria-label":b?"Collapse details":"Expand details",children:b?" Hide Details":" View Details"})]})]}),b&&i.jsxs(i.Fragment,{children:[e&&Q&&i.jsxs("section",{className:"background-card__section",children:[i.jsxs("h4",{children:["Your Profession Tier (Priority ",e,")"]}),i.jsx("div",{className:"background-card__professions",children:i.jsxs("div",{className:"background-card__profession highlight",children:[i.jsxs("div",{className:"background-card__profession-header",children:[i.jsx("span",{className:"badge",children:Q.priority}),i.jsx("strong",{children:Q.title})]}),i.jsx("p",{children:Q.description})]})})]}),!e&&(((D=I.professions)==null?void 0:D.length)??0)>0&&i.jsxs("section",{className:"background-card__section",children:[i.jsx("h4",{children:"Profession Ladder"}),i.jsx("p",{className:"background-card__hint",children:"Assign a priority to Background to see your profession tier"})]}),(((T=I.skillSpecializationOptions)==null?void 0:T.length)??0)>0&&i.jsxs("section",{className:"background-card__section",children:[i.jsxs("h4",{children:["Skill Specializations (",u," ",u===1?"slot":"slots",")"]}),i.jsx("ul",{children:I.skillSpecializationOptions.map(V=>i.jsx("li",{children:V},V))})]}),(((G=I.resourceSynergyExamples)==null?void 0:G.length)??0)>0&&i.jsxs("section",{className:"background-card__section",children:[i.jsx("h4",{children:"Example Resource Synergies (0.5x cost)"}),i.jsx("ul",{children:I.resourceSynergyExamples.map(V=>i.jsx("li",{children:V},V))})]})]})]},L)})})]})}const kv={A:{maxRank:5,points:10,specializations:2},B:{maxRank:4,points:14,specializations:2},C:{maxRank:3,points:10,specializations:1},D:{maxRank:3,points:8,specializations:1},E:{maxRank:2,points:4,specializations:0}},Sv="Custom options are provisional until your GM approves them.";function Nv({priority:e,data:t,ratings:n,onChangeRating:r,specializations:s,onToggleSpecialization:l,onRemoveSpecialization:o,onAddCustomSpecialization:a,backgroundSpecializations:c,backgroundCustomSpecializations:d,backgroundOptions:p,onSetBackgroundSpecializations:g,onSetBackgroundCustomSpecializations:m,notes:v,onUpdateNotes:x}){const[w,k]=R.useState(""),h=c||[],u=d||[],f=e?kv[e]:null,y=R.useMemo(()=>Object.values(n).reduce((M,L)=>M+L,0),[n]),j=f?Math.max(f.points-y,0):0,E=s.filter(M=>M.type!=="background"),C=f?Math.max(f.specializations-E.length,0):0,_=R.useMemo(()=>new Map(s.map(M=>[M.id,M])),[s]),N=(M,L)=>I=>{const O=Number(I.target.value);if(!f)return;const Q=Math.max(0,Math.min(O,f.maxRank)),b=y-L+Q;let D=Q;if(b>f.points){const T=b-f.points;D=Math.max(0,Q-T)}D!==L&&r(M,D)},P=()=>{if(!f)return;const M=w.trim();M&&f.specializations!==0&&C!==0&&(a(M),k(""))},A=(M,L,I,O)=>{if(!f)return;const Q=`pre:${M}:${I??O}`;if(!_.has(Q)&&f.specializations>0&&C===0)return;const b={id:Q,label:`${L}  ${O}`,type:"predefined",skillId:M,gmApproved:!0};l(b)},K=f?f.specializations>0&&C>0:!1;return p.filter(Boolean),i.jsxs("div",{className:"stage stage--skills",children:[i.jsxs("header",{className:"stage__header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Skills & Disciplines"}),i.jsx("p",{children:"Allocate your skill points, respecting the maximum rank for your priority. Claim a handful of specializations to spotlight signature movescustom picks stay flagged until your GM approves them."})]}),i.jsxs("aside",{className:"skills-limit",children:[i.jsxs("span",{children:["Priority ",e??""]}),f?i.jsxs(i.Fragment,{children:[i.jsx("p",{children:`${j} of ${f.points} skill points remaining`}),i.jsxs("p",{children:["Specializations: ",`${Math.max(C,0)} of ${f.specializations} remaining`]})]}):i.jsx("p",{children:"Assign a priority letter to unlock your allocation."})]})]}),i.jsx("section",{className:"skills-grid",children:Object.entries(t.skills).map(([M,L])=>i.jsxs("article",{className:"skills-discipline",children:[i.jsxs("header",{children:[i.jsx("h3",{children:Cv(M)}),i.jsxs("p",{children:[L.length," core skills"]})]}),i.jsx("ul",{children:L.map(I=>{const O=`${M}:${I.id}`,Q=n[O]??0,b=(f==null?void 0:f.maxRank)??0;return i.jsxs("li",{children:[i.jsxs("div",{className:"skills-item__header",children:[i.jsxs("label",{className:"skills-rating",children:[i.jsx("span",{children:"Rating"}),i.jsx("input",{type:"range",min:0,max:b,step:1,value:Q,disabled:!f,onChange:N(O,Q)}),i.jsx("span",{className:"skills-rating__value",children:Q})]}),i.jsxs("div",{children:[i.jsx("h4",{children:I.name}),i.jsx("p",{children:I.description})]})]}),I.specializations.length>0&&i.jsxs("details",{children:[i.jsx("summary",{children:"Specializations"}),i.jsx("ul",{className:"skills-specializations",children:I.specializations.map(D=>{const T=`pre:${O}:${D.id??D.name}`,G=_.has(T),V=!f||f.specializations===0&&!G||f.specializations>0&&C===0&&!G;return i.jsx("li",{children:i.jsxs("button",{type:"button",className:`skills-specialization__toggle ${G?"selected":""}`,onClick:()=>A(O,I.name,D.id,D.name),disabled:V,children:[i.jsx("strong",{children:D.name}),i.jsx("span",{children:D.description})]})},T)})})]})]},O)})})]},M))}),(h.length>0||u.length>0)&&i.jsxs("section",{className:"skills-background",children:[i.jsx("h3",{children:"Background Specializations"}),i.jsx("p",{children:"These specializations were granted by your background (selected in the Background stage)."}),i.jsxs("ul",{className:"skills-background__list",children:[h.map(M=>i.jsxs("li",{children:[i.jsx("strong",{children:M}),i.jsx("span",{className:"gm-tag gm-tag--background",children:"Background"})]},M)),u.map(M=>i.jsxs("li",{children:[i.jsx("strong",{children:M}),i.jsx("span",{className:"gm-tag gm-tag--background",children:"Background (Custom)"})]},M))]})]}),i.jsxs("section",{className:"skills-selected",children:[i.jsx("h3",{children:"Selected Specializations"}),s.length===0?i.jsx("p",{children:"No specializations chosen yet."}):i.jsx("ul",{children:s.map(M=>i.jsxs("li",{children:[i.jsxs("div",{children:[i.jsx("strong",{children:M.label}),M.type==="custom"&&!M.gmApproved&&i.jsx("span",{className:"gm-tag",children:"Pending GM Approval"})]}),i.jsx("button",{type:"button",onClick:()=>o(M.id),"aria-label":`Remove ${M.label}`,children:"Remove"})]},M.id))})]}),i.jsxs("section",{className:"skills-footer",children:[i.jsxs("div",{children:[i.jsx("h3",{children:"Custom Specialization"}),i.jsxs("div",{className:"skills-custom",children:[i.jsxs("label",{children:[i.jsx("span",{children:"Describe your custom edge"}),i.jsxs("div",{className:"skills-custom__controls",children:[i.jsx("input",{value:w,onChange:M=>k(M.target.value),placeholder:"Ex: Underworld Etiquette",disabled:f?!K:!0}),i.jsx("button",{type:"button",onClick:P,disabled:!K||!w.trim(),children:"Add"})]})]}),i.jsxs("p",{className:"skills-custom__hint",children:[Sv,f?` Slots remaining: ${Math.max(C,0)}.`:""]})]})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Skill Notes"}),i.jsx("textarea",{value:v,onChange:M=>x(M.target.value),placeholder:"Record signature moves, training montages, and promised stunts."})]})]})]})}function Cv(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}const _v={Physique:"physique",Intellect:"intellect",Presence:"presence"};function Ev({priority:e,scores:t,onUpdateScore:n,notes:r,onUpdateNotes:s,data:l,selectedSpecializations:o,onToggleSpecialization:a}){var h;if(!l||!Array.isArray(l.pointBuy)||!l.definitions)return i.jsx("div",{className:"stage stage--attributes",children:i.jsx("p",{children:"Attribute data failed to load. Please refresh."})});const c=R.useMemo(()=>e?l.pointBuy.find(u=>u.priority===e)??null:null,[l.pointBuy,e]),d=R.useMemo(()=>Object.entries(l.definitions).map(([u,f])=>{const y=_v[u];return y?{key:y,displayName:u,description:f.description,specializations:f.specializations??[]}:null}).filter(u=>u!==null),[l.definitions]),p=(c==null?void 0:c.attributePoints)??0,g=R.useMemo(()=>Object.entries(t).reduce((u,[f,y])=>(u[f]=Math.min(zs,Math.max(0,y)),u),{physique:0,intellect:0,presence:0}),[t]),m=Object.values(g).reduce((u,f)=>u+f,0),v=Math.max(p-m,0),x=(c==null?void 0:c.specializations)??0,w=R.useMemo(()=>Object.values(o).reduce((u,f)=>u+(Array.isArray(f)?f.length:0),0),[o]),k=Math.max(x-w,0);return i.jsxs("div",{className:"stage stage--attributes",children:[i.jsxs("header",{className:"stage__header",children:[i.jsxs("div",{children:[i.jsx("h2",{children:"Attributes"}),i.jsx("p",{children:"Only three pillars define your raw capability. Split your dice pool to show which part of their soul still shines and which has already been sold to the city."})]}),i.jsxs("aside",{className:"attribute-pool",children:[i.jsxs("span",{children:["Priority ",e??""]}),e?i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Pool ",p,"  Remaining ",v]}),i.jsxs("p",{className:"attribute-pool__detail",children:["Specializations: ",x>0?`${k} of ${x} remaining`:"None available"]})]}):i.jsx("p",{children:"Assign a priority letter to calculate your attribute pool."})]})]}),i.jsx("section",{className:"attributes-grid",children:d.map(u=>{var _;const f=t[u.key]??0,y=Math.min(f,zs),j=m-g[u.key],E=Math.max(p-j,0),C=Math.min(zs,E);return i.jsxs("article",{children:[i.jsxs("header",{children:[i.jsx("h3",{children:u.displayName}),i.jsx("p",{children:u.description})]}),i.jsxs("div",{className:"attribute-control",children:[i.jsx("input",{type:"range",min:0,max:C,value:y,onChange:N=>{const P=Number(N.target.value),A=Math.min(C,Math.max(0,P));n(u.key,A)}}),i.jsx("span",{className:"attribute-value",children:y})]}),((_=u.specializations)==null?void 0:_.length)>0&&i.jsxs("div",{className:"attribute-specializations",children:[i.jsx("h4",{children:"Specializations"}),i.jsx("ul",{children:u.specializations.map(N=>{const A=(o[u.key]??[]).includes(N.name),K=x===0&&!A||x>0&&k===0&&!A;return i.jsx("li",{children:i.jsxs("button",{type:"button",className:`attribute-specialization__toggle ${A?"selected":""}`,onClick:()=>a(u.key,N.name),disabled:K,children:[i.jsx("strong",{children:N.name}),i.jsx("span",{children:N.description})]})},N.name)})})]})]},u.key)})}),((h=l.ratings)==null?void 0:h.length)>0&&i.jsxs("section",{className:"attribute-ratings",children:[i.jsx("h3",{children:"Rating Benchmarks"}),i.jsx("ul",{children:l.ratings.map(u=>i.jsxs("li",{children:[i.jsx("span",{className:"attribute-rating__score",children:u.score}),i.jsx("span",{children:u.label})]},u.score))})]}),i.jsx("section",{children:i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Attribute Notes"}),i.jsx("textarea",{value:r,onChange:u=>s(u.target.value),placeholder:"What scars or tells explain these strengths and weaknesses?"})]})})]})}function Pv({corruption:e,onAdjustCorruption:t,onSetCorruption:n,onUpdateCorruptionNotes:r,advancement:s,onAdjustExperience:l,onSetExperience:o,onUpdateAdvancement:a,health:c,onAdjustHealth:d,onSetHealth:p,onUpdateScar:g,narrative:m,onAddRelationship:v,onRemoveRelationship:x,onUpdateAnchors:w,onUpdateNarrativeNotes:k}){const[h,u]=R.useState(""),f=()=>{h.trim()&&(v(h.trim()),u(""))};return i.jsxs("div",{className:"stage stage--narrative",children:[i.jsx("header",{className:"stage__header",children:i.jsxs("div",{children:[i.jsx("h2",{children:"Narrative, Corruption & Wounds"}),i.jsx("p",{children:"Record the scars the city has already carved. Corruption is front-and-center for players, while hidden notes can foreshadow GM complications."})]})}),i.jsxs("section",{className:"advancement-panel",children:[i.jsxs("div",{className:"experience-meter",children:[i.jsx("div",{className:"experience-value",children:s.experience}),i.jsx("span",{children:"Experience"}),i.jsxs("div",{className:"experience-controls",children:[i.jsx("button",{type:"button",onClick:()=>l(-1),children:"-1"}),i.jsx("button",{type:"button",onClick:()=>o(0),children:"Reset"}),i.jsx("button",{type:"button",onClick:()=>l(1),children:"+1"})]})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Advancement Track"}),i.jsx("textarea",{value:s.track,onChange:y=>a({track:y.target.value}),placeholder:"What does advancement look like for this character? Training regimens, resources, oaths."})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Milestones"}),i.jsx("textarea",{value:s.milestones,onChange:y=>a({milestones:y.target.value}),placeholder:"Log beats completed, debts paid, or corruption bargains accepted."})]})]}),i.jsxs("section",{className:"corruption-panel",children:[i.jsxs("div",{className:"corruption-meter",children:[i.jsx("div",{className:"corruption-value",children:e.current}),i.jsxs("span",{children:["Threshold ",e.warning]}),i.jsxs("div",{className:"corruption-controls",children:[i.jsx("button",{type:"button",onClick:()=>t(-1),children:"-1"}),i.jsx("button",{type:"button",onClick:()=>n(0),children:"Reset"}),i.jsx("button",{type:"button",onClick:()=>t(1),children:"+1"})]})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Corruption Notes"}),i.jsx("textarea",{value:e.notes,onChange:y=>r(y.target.value),placeholder:"Describe what corruption looks like for this character."})]})]}),i.jsxs("section",{className:"health-grid",children:[i.jsx("h3",{children:"Health by Body Location"}),i.jsx("div",{className:"health-cards",children:Object.keys(fc).map(y=>{const j=c[y],E=fc[y];return i.jsxs("article",{children:[i.jsxs("header",{children:[i.jsx("h4",{children:E}),i.jsxs("span",{children:[j.current," / ",j.max]})]}),i.jsxs("div",{className:"health-controls",children:[i.jsx("button",{type:"button",onClick:()=>d(y,-1),children:"-"}),i.jsx("input",{type:"number",min:0,max:j.max,value:j.current,onChange:C=>p(y,Number(C.target.value))}),i.jsx("button",{type:"button",onClick:()=>d(y,1),children:"+"})]}),i.jsxs("label",{children:[i.jsx("span",{children:"Scars & Notes"}),i.jsx("textarea",{value:j.scar,onChange:C=>g(y,C.target.value),placeholder:"Visible injuries, lingering trauma, prosthetics."})]})]},y)})})]}),i.jsxs("section",{className:"relationships-panel",children:[i.jsxs("div",{className:"relationships-list",children:[i.jsx("h3",{children:"Relationships"}),i.jsxs("div",{className:"relationship-input",children:[i.jsx("input",{value:h,onChange:y=>u(y.target.value),placeholder:"Name  why they matter  leverage"}),i.jsx("button",{type:"button",onClick:f,children:"Add"})]}),m.relationships.length===0?i.jsx("p",{children:"No relationships logged yet."}):i.jsx("ul",{children:m.relationships.map(y=>i.jsxs("li",{children:[i.jsx("span",{children:y}),i.jsx("button",{type:"button",onClick:()=>x(y),children:"Remove"})]},y))})]}),i.jsxs("div",{className:"anchors",children:[i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Anchors"}),i.jsx("textarea",{value:m.anchors,onChange:y=>w(y.target.value),placeholder:"What keeps them tethered to humanity?"})]}),i.jsxs("label",{className:"field",children:[i.jsx("span",{children:"Other Notes"}),i.jsx("textarea",{value:m.notes,onChange:y=>k(y.target.value),placeholder:"Foreshadow upcoming arcs, unresolved debts, or metaphysical tells."})]})]})]})]})}function zv(){var qo;const{data:e}=Xr(),t=Y(z=>z.ensureActiveBuild),n=Y(z=>z.activeBuildId?z.builds[z.activeBuildId]:null),r=Y(z=>z.setStage),s=Y(z=>z.updateProfile),l=Y(z=>z.assignPriority),o=Y(z=>z.selectLineage),a=Y(z=>z.toggleLineageReveal),c=Y(z=>z.updateLineageNotes),d=Y(z=>z.toggleLineagePower),p=Y(z=>z.clearLineagePowers),g=Y(z=>z.updateResourceNotes),m=Y(z=>z.updateBackground),v=Y(z=>z.addContactResource),x=Y(z=>z.updateContactResource),w=Y(z=>z.removeContactResource),k=Y(z=>z.addRetainerResource),h=Y(z=>z.updateRetainerResource),u=Y(z=>z.removeRetainerResource),f=Y(z=>z.addPropertyResource),y=Y(z=>z.updatePropertyResource),j=Y(z=>z.removePropertyResource),E=Y(z=>z.addGoodsResource),C=Y(z=>z.updateGoodsResource),_=Y(z=>z.removeGoodsResource),N=Y(z=>z.setResourceLiquid),P=Y(z=>z.setSkillRating),A=Y(z=>z.toggleSkillSpecialization),K=Y(z=>z.removeSkillSpecialization),M=Y(z=>z.addCustomSkillSpecialization),L=Y(z=>z.setBackgroundSkillSpecializations),I=Y(z=>z.setBackgroundCustomSpecializations),O=Y(z=>z.updateSkillNotes),Q=Y(z=>z.setAttributeScore),b=Y(z=>z.updateAttributeNotes),D=Y(z=>z.toggleAttributeSpecialization),T=Y(z=>z.resetActiveBuild),G=Y(z=>z.adjustExperience),V=Y(z=>z.setExperience),ne=Y(z=>z.updateAdvancement),X=Y(z=>z.adjustCorruption),te=Y(z=>z.setCorruption),W=Y(z=>z.updateCorruptionNotes),q=Y(z=>z.adjustHealth),ie=Y(z=>z.setHealth),Se=Y(z=>z.updateHealthScar),Xe=Y(z=>z.addRelationship),De=Y(z=>z.removeRelationship),U=Y(z=>z.updateAnchors),ce=Y(z=>z.updateNarrativeNotes),le=yt(z=>z.gmUnlocked);R.useEffect(()=>{t()},[t]);const S=R.useMemo(()=>ep((n==null?void 0:n.lineage.key)??null),[n==null?void 0:n.lineage.key]);if(!e||!n)return null;const H=Array.isArray(n.lineage.powers)?n.lineage.powers:[],J=n.lineage.key?(qo=e.powerSets)==null?void 0:qo[n.lineage.key]:void 0,je=n.background.title?e.backgrounds[n.background.title]:void 0,F=Array.isArray(je==null?void 0:je.skillSpecializationOptions)?je.skillSpecializationOptions:[],ft=(z,wt)=>l(z,wt),ae=z=>l(z,null);let it;switch(n.stage){case"priorities":it=i.jsx(ev,{priorities:n.priorities,onSelect:ft,onClear:ae});break;case"lineage":it=i.jsx(dv,{priorities:n.priorities,selected:n.lineage.key,onSelect:z=>o(z),canReveal:le,revealMechanics:n.lineage.revealMechanics,onToggleReveal:a,notes:n.lineage.notes,onUpdateNotes:c,powerSet:J,powers:H,onTogglePower:d,onClearPowers:p});break;case"resources":it=i.jsx(yv,{priority:n.priorities.resources,system:e.resources,costs:e.resourceCosts,contacts:n.resources.contacts,retainers:n.resources.retainers,properties:n.resources.properties,goods:n.resources.goods,liquid:n.resources.liquid,onAddContact:v,onUpdateContact:x,onRemoveContact:w,onAddRetainer:k,onUpdateRetainer:h,onRemoveRetainer:u,onAddProperty:f,onUpdateProperty:y,onRemoveProperty:j,onAddGoods:E,onUpdateGoods:C,onRemoveGoods:_,onUpdateLiquid:N,notes:n.resources.notes,onUpdateNotes:g});break;case"background":it=i.jsx(wv,{priority:n.priorities.background,background:n.background,skills:n.skills,onUpdate:m,onUpdateSpecializations:L,onUpdateCustomSpecializations:I,data:e.backgrounds});break;case"skills":it=i.jsx(Nv,{priority:n.priorities.skills,data:e.skills,ratings:n.skills.ratings,onChangeRating:P,specializations:n.skills.specializations,onToggleSpecialization:A,onRemoveSpecialization:K,onAddCustomSpecialization:M,backgroundSpecializations:n.skills.backgroundSpecializations,backgroundCustomSpecializations:n.skills.backgroundCustomSpecializations,backgroundOptions:F,onSetBackgroundSpecializations:L,onSetBackgroundCustomSpecializations:I,notes:n.skills.notes,onUpdateNotes:O});break;case"attributes":it=i.jsx(Ev,{priority:n.priorities.attributes,scores:n.attributes.scores,onUpdateScore:(z,wt)=>Q(z,wt),notes:n.attributes.notes,onUpdateNotes:b,data:e.attributes,selectedSpecializations:n.attributes.specializations,onToggleSpecialization:D});break;case"narrative":it=i.jsx(Pv,{corruption:n.corruption,onAdjustCorruption:X,onSetCorruption:te,onUpdateCorruptionNotes:W,advancement:n.advancement,onAdjustExperience:G,onSetExperience:V,onUpdateAdvancement:ne,health:n.health,onAdjustHealth:(z,wt)=>q(z,wt),onSetHealth:(z,wt)=>ie(z,wt),onUpdateScar:(z,wt)=>Se(z,wt),narrative:n.narrative,onAddRelationship:Xe,onRemoveRelationship:De,onUpdateAnchors:U,onUpdateNarrativeNotes:ce});break;default:it=null}const lp=S?{"--lineage-accent":S.aesthetic.accent,"--lineage-glow":S.aesthetic.glow}:void 0;return i.jsxs("div",{className:"min-h-screen px-deco-md py-deco-lg space-y-deco-lg relative sm:px-deco-md px-2",style:lp,children:[S&&i.jsx("div",{className:"absolute inset-0 opacity-40 pointer-events-none -z-10",style:{background:S.aesthetic.glow||"radial-gradient(circle at 10% 10%, rgba(212, 175, 55, 0.1), transparent 65%)"}}),i.jsxs("div",{className:"max-w-7xl mx-auto space-y-deco-lg",children:[i.jsx("div",{className:"mb-deco-xl",children:i.jsx(Bg,{build:n,onUpdate:s})}),i.jsx("div",{className:"flex justify-end mb-deco-lg",children:i.jsx("button",{type:"button",onClick:T,className:`px-deco-md py-2 rounded-full border-2 border-sidonia-gold/60
                     bg-sidonia-dark text-sidonia-text hover:border-sidonia-gold
                     font-body text-xs uppercase tracking-wider transition-all duration-300
                     hover:bg-sidonia-gold/5`,children:"Reset Character"})}),i.jsx("div",{className:"mb-deco-xl",children:i.jsx(Jg,{current:n.stage,onNavigate:r})}),i.jsx("div",{className:"stage",children:it})]})]})}function Rv(e,t){const n=e.background.title?t.backgrounds[e.background.title]??null:null;return{version:"0.1.0",generatedAt:new Date().toISOString(),profile:e.profile,priorities:e.priorities,lineage:e.lineage,resources:e.resources,background:e.background,skills:e.skills,attributes:e.attributes,corruption:e.corruption,health:e.health,narrative:e.narrative,gmNotes:e.gmNotes,reference:{resources:t.resources,resourceCosts:t.resourceCosts,powerSchemas:t.powerSchemas,attributes:t.attributes,backgrounds:t.backgrounds,selectedBackgroundTemplate:n,characterSheet:t.characterSheet}}}function bv(e,t){const n=Rv(e,t),r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"});np(`${rp(e.profile.name||e.label)}.json`,r)}function Av(e){const t=Tv(e),n=new Blob([t],{type:"text/plain"});np(`${rp(e.profile.name||e.label)}.txt`,n)}function Tv(e){const t=[];t.push(`SIDONIA DOSSIER :: ${e.profile.name||e.label}`),t.push(`Current Profession: ${e.profile.currentProfession}`),t.push(`Ward of Residence: ${e.profile.wardOfResidence}`),t.push(`Backstory: ${e.profile.backstory}`),e.profile.alias&&t.push(`Alias: ${e.profile.alias}`),e.profile.physicalDescription&&t.push(`Physical Description: ${e.profile.physicalDescription}`),e.profile.code&&t.push(`Code: ${e.profile.code}`),e.profile.lineNotCrossed&&t.push(`Line Not Crossed: ${e.profile.lineNotCrossed}`),e.profile.temptation&&t.push(`Temptation: ${e.profile.temptation}`),t.push(""),t.push("Priorities:"),Object.entries(e.priorities).forEach(([s,l])=>{t.push(`  ${s.toUpperCase()}: ${l??"-"}`)}),t.push(""),t.push(`Lineage: ${e.lineage.key??"Unchosen"}`),t.push(`Lineage Notes: ${e.lineage.notes}`),e.lineage.powers.length>0&&(t.push("Selected Lineage Powers:"),e.lineage.powers.forEach(s=>{var a,c,d,p,g,m;const l=[];(a=s.meta)!=null&&a.tierLabel&&l.push(s.meta.tierLabel),(c=s.meta)!=null&&c.sphere&&l.push(s.meta.sphere),(d=s.meta)!=null&&d.moveType&&l.push(s.meta.moveType),(p=s.meta)!=null&&p.branch&&l.push(s.meta.branch),(g=s.meta)!=null&&g.chassis&&l.push(s.meta.chassis),(m=s.meta)!=null&&m.category&&!["esper-base","esper-mentalist"].includes(s.meta.category)&&l.push(s.meta.category);const o=l.length>0?` (${l.join(", ")})`:"";t.push(`  - ${s.label}${o}`)})),t.push(""),t.push("Resources:"),e.resources.contacts.length>0&&(t.push("  Contacts:"),e.resources.contacts.forEach(s=>{const l=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Contact";t.push(`    - ${a}${o}${l}`),t.push(`      Reach ${s.reach} / Influence ${s.influence}`),s.description&&t.push(`      ${s.description}`)})),e.resources.retainers.length>0&&(t.push("  Retainers:"),e.resources.retainers.forEach(s=>{const l=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Retainer";t.push(`    - ${a}${o}${l}`),t.push(`      Competence ${s.competence} / Loyalty ${s.loyalty}`),s.description&&t.push(`      ${s.description}`)})),e.resources.properties.length>0&&(t.push("  Properties:"),e.resources.properties.forEach(s=>{const l=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Property";t.push(`    - ${a}${o}${l}`),t.push(`      Tenure: ${s.tenure||""}  Zoning: ${s.zoning||""}`),s.ward&&t.push(`      Ward: ${s.ward}`),s.description&&t.push(`      ${s.description}`)})),e.resources.goods.length>0&&(t.push("  Goods & Stockpiles:"),e.resources.goods.forEach(s=>{const l=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Cache";t.push(`    - ${a}${o}${l}`),t.push(`      Quality ${s.quality}`),s.description&&t.push(`      ${s.description}`)})),t.push(`  Liquid Assets: ${e.resources.liquid}`),t.push(`Resource Notes: ${e.resources.notes}`),t.push(""),t.push(`Background: ${e.background.title}`),t.push(`Details: ${e.background.tierNotes}`),t.push(`Contacts: ${e.background.contacts}`),t.push(""),t.push("Skills:"),Object.entries(e.skills.ratings).forEach(([s,l])=>{l>0&&t.push(`  ${Lv(s)}: ${l}`)});const n=e.skills.specializations.filter(s=>s.type!=="background");n.length>0&&(t.push("Specializations:"),n.forEach(s=>{const l=s.type==="custom"&&!s.gmApproved?" (Pending GM Approval)":"";t.push(`  - ${s.label}${l}`)})),(e.skills.backgroundSpecializations.length>0||e.skills.backgroundCustomSpecializations.length>0)&&(t.push("Background Specializations:"),e.skills.backgroundSpecializations.forEach(s=>{t.push(`  - ${s}`)}),e.skills.backgroundCustomSpecializations.forEach(s=>{t.push(`  - ${s} (Custom)`)})),t.push(`Skill Notes: ${e.skills.notes}`),t.push(""),t.push("Attributes:"),Object.entries(e.attributes.scores).forEach(([s,l])=>{t.push(`  ${s}: ${l}`)});const r=Object.entries(e.attributes.specializations).filter(([,s])=>s.length>0);return r.length>0&&(t.push("Attribute Specializations:"),r.forEach(([s,l])=>{t.push(`  ${s}: ${l.join(", ")}`)})),t.push(`Attribute Notes: ${e.attributes.notes}`),t.push(""),t.push(`Corruption: ${e.corruption.current} / ${e.corruption.warning}`),t.push(`Corruption Notes: ${e.corruption.notes}`),t.push(""),t.push("Health:"),Object.entries(e.health).forEach(([s,l])=>{t.push(`  ${s}: ${l.current}/${l.max} :: ${l.scar}`)}),t.push(""),t.push("Relationships:"),e.narrative.relationships.forEach(s=>t.push(`  - ${s}`)),t.push(`Anchors: ${e.narrative.anchors}`),t.push(`Notes: ${e.narrative.notes}`),e.gmNotes&&(t.push(""),t.push("GM Notes:"),t.push(e.gmNotes)),t.join(`
`)}function np(e,t){const n=document.createElement("a"),r=URL.createObjectURL(t);n.href=r,n.download=e,n.click(),URL.revokeObjectURL(r)}function rp(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"sidonia-character"}function Lv(e){const[t,n]=e.split(":");return`${yc(t)}  ${yc((n??"").replace(/-/g," "))}`}function yc(e){return e.split(/\s+/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ").trim()}function $v(){const{data:e}=Xr(),t=Y(m=>m.builds),n=Y(m=>m.activeBuildId),r=Y(m=>m.createBuild),s=Y(m=>m.setActiveBuild),l=Y(m=>m.archiveBuild),o=Y(m=>m.renameBuild),a=Y(m=>m.duplicateBuild),[c,d]=R.useState(""),p=R.useMemo(()=>Object.values(t).sort((m,v)=>m.updatedAt<v.updatedAt?1:-1),[t]),g=()=>{const m=r(c.trim()||void 0);d(""),s(m)};return e?i.jsx("div",{className:"min-h-screen px-deco-md py-deco-lg",children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-deco-lg",children:[i.jsxs("header",{className:"text-center space-y-deco-sm mb-deco-xl",children:[i.jsx("h1",{className:"text-display-lg text-shadow-gold",children:"Character Management"}),i.jsx("div",{className:"h-px w-32 mx-auto bg-gradient-to-r from-transparent via-sidonia-gold to-transparent"}),i.jsx("p",{className:"text-body text-sidonia-text max-w-2xl mx-auto",children:"Spin up new dossiers, duplicate existing ones, and export packages for your virtual tabletop or print."})]}),i.jsx(Ft,{className:"mb-deco-lg",children:i.jsxs("div",{className:"flex flex-col sm:flex-row gap-deco-sm items-end",children:[i.jsx("div",{className:"flex-1 w-full",children:i.jsx(un,{label:"Name your new dossier",value:c,onChange:m=>d(m.target.value),placeholder:"Untitled Operative"})}),i.jsx(Ue,{variant:"primary",size:"lg",onClick:g,className:"w-full sm:w-auto",children:"Create Character"})]})}),p.length===0&&i.jsx("div",{className:"text-center py-deco-xl",children:i.jsx("p",{className:"text-sidonia-muted font-body",children:"No builds yet. Start by creating a new dossier."})}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:p.map(m=>{const v=m.id===n;return i.jsxs("article",{className:pe("relative bg-sidonia-dark border-2 rounded-lg p-deco-md space-y-deco-sm","transition-all duration-300",v?"border-sidonia-gold shadow-lg shadow-sidonia-gold/20":"border-sidonia-gold/60 hover:border-sidonia-gold"),children:[v&&i.jsx("div",{className:"absolute top-2 right-2 px-2 py-1 rounded-full bg-sidonia-gold/20 border border-sidonia-gold",children:i.jsx("span",{className:"text-xs font-display uppercase tracking-wider text-sidonia-gold",children:"Active"})}),i.jsxs("header",{className:"space-y-2",children:[i.jsx("input",{value:m.label,onChange:x=>o(m.id,x.target.value),"aria-label":"Character label",className:`w-full bg-sidonia-black border border-sidonia-gold/50 text-sidonia-text
                             px-deco-sm py-2 rounded font-display text-lg tracking-wider uppercase
                             focus:outline-none focus:ring-1 focus:border-sidonia-gold focus:ring-sidonia-gold/20
                             transition-all duration-300`}),!v&&i.jsx(Ue,{variant:"secondary",size:"sm",onClick:()=>s(m.id),className:"w-full",children:"Set Active"})]}),i.jsxs("dl",{className:"space-y-2 py-deco-sm border-t border-b border-sidonia-gold/60",children:[i.jsxs("div",{children:[i.jsx("dt",{className:"text-label",children:"Name"}),i.jsx("dd",{className:"text-sidonia-text font-body",children:m.profile.name||""})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-label",children:"Profession"}),i.jsx("dd",{className:"text-sidonia-text font-body",children:m.profile.currentProfession||""})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-label",children:"Updated"}),i.jsx("dd",{className:"text-sidonia-text font-body text-sm",children:new Date(m.updatedAt).toLocaleString()})]})]}),i.jsxs("footer",{className:"grid grid-cols-2 gap-2",children:[i.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>a(m.id),className:"text-xs",children:"Duplicate"}),i.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>bv(m,e),className:"text-xs",children:"Export JSON"}),i.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>Av(m),className:"text-xs",children:"Printable"}),i.jsx(Ue,{variant:"danger",size:"sm",onClick:()=>Mv(m.id,m.label,l),className:"text-xs",children:"Delete"})]})]},m.id)})})]})}):null}function Mv(e,t,n){window.confirm(`Delete ${t}? This action cannot be undone.`)&&n(e)}function Iv(){const{data:e}=Xr(),t=yt(v=>v.gmUnlocked),n=yt(v=>v.authenticateGm),r=yt(v=>v.lockGm),s=yt(v=>v.gmUnlockedAt),[l,o]=R.useState(""),[a,c]=R.useState(null),d=(e==null?void 0:e.designDocs)??[],p=(e==null?void 0:e.powerSchemas)??{},g=v=>{v.preventDefault(),n(l)?(c(null),o("")):(c("Access denied. Double-check the veil phrase."),re.track("gm.invalid_passphrase",{}))},m=R.useMemo(()=>Object.entries(p),[p]);return i.jsx("div",{className:"min-h-screen px-deco-md py-deco-lg",children:i.jsxs("div",{className:"max-w-7xl mx-auto space-y-deco-lg",children:[i.jsxs("header",{className:"text-center space-y-deco-sm",children:[i.jsx("h1",{className:"text-display-lg text-corruption-red text-shadow-gold",children:"GM Veil"}),i.jsx("div",{className:"h-px w-32 mx-auto bg-gradient-to-r from-transparent via-corruption-red to-transparent"}),i.jsx("p",{className:"text-body text-sidonia-text/80 max-w-2xl mx-auto",children:"Hidden truths live here. Only game masters with the veil phrase may cross. Player tables should never see the material below."})]}),!t&&i.jsx(Ft,{className:"max-w-2xl mx-auto",children:i.jsxs("form",{onSubmit:g,className:"space-y-deco-sm",children:[i.jsx(un,{label:"Veil Phrase",value:l,onChange:v=>o(v.target.value),placeholder:"Enter the GM veil phrase",autoComplete:"off",error:a||void 0}),i.jsx(Ue,{variant:"danger",size:"lg",type:"submit",className:"w-full animate-corruption-glow",children:"Slip Behind the Veil"})]})}),t&&i.jsxs("div",{className:"space-y-deco-lg",children:[i.jsx(Ft,{className:"bg-corruption-dark/20 border-corruption-red/40",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-deco-sm",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"font-display text-2xl tracking-wider uppercase text-corruption-red",children:"Veil Raised"}),i.jsxs("p",{className:"text-sidonia-text/70 font-body text-sm mt-1",children:["Unlocked ",s?new Date(s).toLocaleString():"just now","."]})]}),i.jsx(Ue,{variant:"secondary",onClick:r,children:"Re-engage Safety"})]})}),i.jsxs("section",{className:"space-y-deco-sm",children:[i.jsx("h2",{className:"font-display text-3xl tracking-wider uppercase text-sidonia-gold",children:"Power Schemas"}),i.jsx("p",{className:"text-sidonia-text/70 font-body",children:"Raw schema data for powers, lineages, and their restrictions. Export directly for system reference."}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-deco-sm",children:m.map(([v,x])=>i.jsxs(Ft,{className:"space-y-deco-sm",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("h3",{className:"font-display text-lg tracking-wide uppercase text-sidonia-brass",children:Ov(v)}),i.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>sp(`${v}-schema.json`,x),className:"text-xs flex-shrink-0",children:"Download"})]}),i.jsxs("pre",{className:`max-h-[200px] overflow-auto p-deco-sm rounded bg-sidonia-black/60
                                   text-sidonia-text/80 font-mono text-xs border border-sidonia-gold/20`,children:[JSON.stringify(x,null,2).slice(0,400),""]})]},v))})]}),i.jsxs("section",{className:"space-y-deco-sm",children:[i.jsx("h2",{className:"font-display text-3xl tracking-wider uppercase text-sidonia-gold",children:"Design Documents"}),i.jsx("p",{className:"text-sidonia-text/70 font-body",children:"Reference briefs written for GM eyes. Share selectively with players as the narrative reveals itself."}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-deco-sm",children:d.map(v=>i.jsxs(Ft,{className:"space-y-deco-sm",children:[i.jsxs("div",{className:"flex justify-between items-start gap-2",children:[i.jsx("h3",{className:"font-display text-lg tracking-wide uppercase text-sidonia-brass",children:v.title}),i.jsx(Ue,{variant:"ghost",size:"sm",onClick:()=>Dv(`${v.id}.md`,v.content),className:"text-xs flex-shrink-0",children:"Download"})]}),i.jsxs("pre",{className:`max-h-[200px] overflow-auto p-deco-sm rounded bg-sidonia-black/60
                                   text-sidonia-text/80 font-mono text-xs border border-sidonia-gold/20 whitespace-pre-wrap`,children:[v.content.slice(0,400),""]})]},v.id))})]}),i.jsxs("section",{className:"space-y-deco-sm",children:[i.jsx("h2",{className:"font-display text-3xl tracking-wider uppercase text-sidonia-gold",children:"Analytics Buffer"}),i.jsx("p",{className:"text-sidonia-text/70 font-body",children:"Inspect anonymized analytics currently stored locally. Export before sharing with designers."}),i.jsx(Ft,{children:i.jsx(Bv,{})})]})]})]})})}function Ov(e){return e.split(/[-_]/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function sp(e,t){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"});ip(e,n)}function Dv(e,t){const n=new Blob([t],{type:"text/plain"});ip(e,n)}function ip(e,t){const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,r.click(),URL.revokeObjectURL(n)}function Bv(){const e=yt(n=>n.analyticsConsent),t=re.getAll();return e!=="accepted"?i.jsx("p",{className:"text-sidonia-muted font-body text-center py-deco-md",children:"Analytics collection is currently disabled or declined."}):t.length===0?i.jsx("p",{className:"text-sidonia-muted font-body text-center py-deco-md",children:"No analytics entries recorded yet."}):i.jsxs("div",{className:"space-y-deco-sm",children:[i.jsx(Ue,{variant:"secondary",size:"md",onClick:()=>sp("sidonia-analytics.json",t),children:"Export Analytics Buffer"}),i.jsx("ul",{className:"list-none p-0 m-0 space-y-2 max-h-[220px] overflow-auto",children:t.map(n=>i.jsxs("li",{className:`grid grid-cols-[auto_auto_1fr] gap-2 bg-sidonia-black/40 p-deco-sm rounded
                     border border-sidonia-gold/20 items-center`,children:[i.jsx("strong",{className:"text-sidonia-gold font-display text-xs uppercase tracking-wide",children:n.event}),i.jsx("span",{className:"text-sidonia-muted font-mono text-xs",children:new Date(n.timestamp).toLocaleTimeString()}),n.data&&i.jsx("code",{className:"text-sidonia-text/60 font-mono text-xs overflow-hidden text-ellipsis",children:JSON.stringify(n.data)})]},`${n.event}-${n.timestamp}`))})]})}function Uv(){return i.jsxs("div",{className:"loading-spinner",role:"status","aria-live":"polite",children:[i.jsx("div",{className:"loading-spinner__glow"}),i.jsx("span",{className:"loading-spinner__label",children:"Loading the Veil"})]})}function Fv(){const{status:e,error:t,refresh:n}=Xr();let r;return e==="idle"||e==="loading"?r=i.jsx(Uv,{}):e==="error"?r=i.jsxs("div",{children:[i.jsx("h2",{children:"We lost the signal."}),i.jsxs("p",{children:["Character data failed to load. ",t]}),i.jsx("button",{type:"button",onClick:n,children:"Retry"})]}):r=i.jsxs(Em,{children:[i.jsx(Nn,{path:"/",element:i.jsx(Dg,{})}),i.jsx(Nn,{path:"/builder",element:i.jsx(zv,{})}),i.jsx(Nn,{path:"/management",element:i.jsx($v,{})}),i.jsx(Nn,{path:"/gm",element:i.jsx(Iv,{})}),i.jsx(Nn,{path:"*",element:i.jsx(Cm,{to:"/",replace:!0})})]}),i.jsx(Og,{children:r})}Zi.createRoot(document.getElementById("root")).render(i.jsx(eo.StrictMode,{children:i.jsx($m,{children:i.jsx(Lg,{children:i.jsx(Fv,{})})})}));
