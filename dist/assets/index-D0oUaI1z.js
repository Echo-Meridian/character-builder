var tp=Object.defineProperty;var np=(e,t,n)=>t in e?tp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var vi=(e,t,n)=>np(e,typeof t!="symbol"?t+"":t,n);function rp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function hu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mu={exports:{}},Js={},gu={exports:{}},H={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wr=Symbol.for("react.element"),sp=Symbol.for("react.portal"),ip=Symbol.for("react.fragment"),lp=Symbol.for("react.strict_mode"),op=Symbol.for("react.profiler"),ap=Symbol.for("react.provider"),up=Symbol.for("react.context"),cp=Symbol.for("react.forward_ref"),dp=Symbol.for("react.suspense"),pp=Symbol.for("react.memo"),fp=Symbol.for("react.lazy"),Wo=Symbol.iterator;function hp(e){return e===null||typeof e!="object"?null:(e=Wo&&e[Wo]||e["@@iterator"],typeof e=="function"?e:null)}var vu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yu=Object.assign,xu={};function qn(e,t,n){this.props=e,this.context=t,this.refs=xu,this.updater=n||vu}qn.prototype.isReactComponent={};qn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};qn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ju(){}ju.prototype=qn.prototype;function Vl(e,t,n){this.props=e,this.context=t,this.refs=xu,this.updater=n||vu}var Gl=Vl.prototype=new ju;Gl.constructor=Vl;yu(Gl,qn.prototype);Gl.isPureReactComponent=!0;var Ho=Array.isArray,wu=Object.prototype.hasOwnProperty,Ql={current:null},ku={key:!0,ref:!0,__self:!0,__source:!0};function Su(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)wu.call(t,r)&&!ku.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),d=0;d<a;d++)u[d]=arguments[d+2];s.children=u}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Wr,type:e,key:i,ref:o,props:s,_owner:Ql.current}}function mp(e,t){return{$$typeof:Wr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ql(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wr}function gp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Vo=/\/+/g;function yi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?gp(""+e.key):t.toString(36)}function fs(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Wr:case sp:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+yi(o,0):r,Ho(s)?(n="",e!=null&&(n=e.replace(Vo,"$&/")+"/"),fs(s,t,n,"",function(d){return d})):s!=null&&(ql(s)&&(s=mp(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Vo,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Ho(e))for(var a=0;a<e.length;a++){i=e[a];var u=r+yi(i,a);o+=fs(i,t,n,u,s)}else if(u=hp(e),typeof u=="function")for(e=u.call(e),a=0;!(i=e.next()).done;)i=i.value,u=r+yi(i,a++),o+=fs(i,t,n,u,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Yr(e,t,n){if(e==null)return e;var r=[],s=0;return fs(e,r,"","",function(i){return t.call(n,i,s++)}),r}function vp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},hs={transition:null},yp={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:hs,ReactCurrentOwner:Ql};function Nu(){throw Error("act(...) is not supported in production builds of React.")}H.Children={map:Yr,forEach:function(e,t,n){Yr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yr(e,function(){t++}),t},toArray:function(e){return Yr(e,function(t){return t})||[]},only:function(e){if(!ql(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=qn;H.Fragment=ip;H.Profiler=op;H.PureComponent=Vl;H.StrictMode=lp;H.Suspense=dp;H.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yp;H.act=Nu;H.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=yu({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=Ql.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(u in t)wu.call(t,u)&&!ku.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&a!==void 0?a[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var d=0;d<u;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Wr,type:e.type,key:s,ref:i,props:r,_owner:o}};H.createContext=function(e){return e={$$typeof:up,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:ap,_context:e},e.Consumer=e};H.createElement=Su;H.createFactory=function(e){var t=Su.bind(null,e);return t.type=e,t};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:cp,render:e}};H.isValidElement=ql;H.lazy=function(e){return{$$typeof:fp,_payload:{_status:-1,_result:e},_init:vp}};H.memo=function(e,t){return{$$typeof:pp,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=hs.transition;hs.transition={};try{e()}finally{hs.transition=t}};H.unstable_act=Nu;H.useCallback=function(e,t){return Oe.current.useCallback(e,t)};H.useContext=function(e){return Oe.current.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};H.useEffect=function(e,t){return Oe.current.useEffect(e,t)};H.useId=function(){return Oe.current.useId()};H.useImperativeHandle=function(e,t,n){return Oe.current.useImperativeHandle(e,t,n)};H.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};H.useMemo=function(e,t){return Oe.current.useMemo(e,t)};H.useReducer=function(e,t,n){return Oe.current.useReducer(e,t,n)};H.useRef=function(e){return Oe.current.useRef(e)};H.useState=function(e){return Oe.current.useState(e)};H.useSyncExternalStore=function(e,t,n){return Oe.current.useSyncExternalStore(e,t,n)};H.useTransition=function(){return Oe.current.useTransition()};H.version="18.3.1";gu.exports=H;var R=gu.exports;const Kl=hu(R),xp=rp({__proto__:null,default:Kl},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jp=R,wp=Symbol.for("react.element"),kp=Symbol.for("react.fragment"),Sp=Object.prototype.hasOwnProperty,Np=jp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Cp={key:!0,ref:!0,__self:!0,__source:!0};function Cu(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Sp.call(t,r)&&!Cp.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:wp,type:e,key:i,ref:o,props:s,_owner:Np.current}}Js.Fragment=kp;Js.jsx=Cu;Js.jsxs=Cu;mu.exports=Js;var l=mu.exports,qi={},_u={exports:{}},Xe={},Eu={exports:{}},Pu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(S,z){var L=S.length;S.push(z);e:for(;0<L;){var F=L-1>>>1,B=S[F];if(0<s(B,z))S[F]=z,S[L]=B,L=F;else break e}}function n(S){return S.length===0?null:S[0]}function r(S){if(S.length===0)return null;var z=S[0],L=S.pop();if(L!==z){S[0]=L;e:for(var F=0,B=S.length,q=B>>>1;F<q;){var Y=2*(F+1)-1,ge=S[Y],b=Y+1,X=S[b];if(0>s(ge,L))b<B&&0>s(X,ge)?(S[F]=X,S[b]=L,F=b):(S[F]=ge,S[Y]=L,F=Y);else if(b<B&&0>s(X,L))S[F]=X,S[b]=L,F=b;else break e}}return z}function s(S,z){var L=S.sortIndex-z.sortIndex;return L!==0?L:S.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var u=[],d=[],p=1,g=null,m=3,v=!1,x=!1,y=!1,j=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,c=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(S){for(var z=n(d);z!==null;){if(z.callback===null)r(d);else if(z.startTime<=S)r(d),z.sortIndex=z.expirationTime,t(u,z);else break;z=n(d)}}function w(S){if(y=!1,f(S),!x)if(n(u)!==null)x=!0,oe(k);else{var z=n(d);z!==null&&xe(w,z.startTime-S)}}function k(S,z){x=!1,y&&(y=!1,h(T),T=-1),v=!0;var L=m;try{for(f(z),g=n(u);g!==null&&(!(g.expirationTime>z)||S&&!V());){var F=g.callback;if(typeof F=="function"){g.callback=null,m=g.priorityLevel;var B=F(g.expirationTime<=z);z=e.unstable_now(),typeof B=="function"?g.callback=B:g===n(u)&&r(u),f(z)}else r(u);g=n(u)}if(g!==null)var q=!0;else{var Y=n(d);Y!==null&&xe(w,Y.startTime-z),q=!1}return q}finally{g=null,m=L,v=!1}}var E=!1,C=null,T=-1,M=5,P=-1;function V(){return!(e.unstable_now()-P<M)}function te(){if(C!==null){var S=e.unstable_now();P=S;var z=!0;try{z=C(!0,S)}finally{z?ne():(E=!1,C=null)}}else E=!1}var ne;if(typeof c=="function")ne=function(){c(te)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Se=K.port2;K.port1.onmessage=te,ne=function(){Se.postMessage(null)}}else ne=function(){j(te,0)};function oe(S){C=S,E||(E=!0,ne())}function xe(S,z){T=j(function(){S(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(S){S.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,oe(k))},e.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<S?Math.floor(1e3/S):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(S){switch(m){case 1:case 2:case 3:var z=3;break;default:z=m}var L=m;m=z;try{return S()}finally{m=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(S,z){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var L=m;m=S;try{return z()}finally{m=L}},e.unstable_scheduleCallback=function(S,z,L){var F=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?F+L:F):L=F,S){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=L+B,S={id:p++,callback:z,priorityLevel:S,startTime:L,expirationTime:B,sortIndex:-1},L>F?(S.sortIndex=L,t(d,S),n(u)===null&&S===n(d)&&(y?(h(T),T=-1):y=!0,xe(w,L-F))):(S.sortIndex=B,t(u,S),x||v||(x=!0,oe(k))),S},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(S){var z=m;return function(){var L=m;m=z;try{return S.apply(this,arguments)}finally{m=L}}}})(Pu);Eu.exports=Pu;var _p=Eu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ep=R,Je=_p;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ru=new Set,kr={};function gn(e,t){Dn(e,t),Dn(e+"Capture",t)}function Dn(e,t){for(kr[e]=t,e=0;e<t.length;e++)Ru.add(t[e])}var Et=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ki=Object.prototype.hasOwnProperty,Pp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Go={},Qo={};function Rp(e){return Ki.call(Qo,e)?!0:Ki.call(Go,e)?!1:Pp.test(e)?Qo[e]=!0:(Go[e]=!0,!1)}function zp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ap(e,t,n,r){if(t===null||typeof t>"u"||zp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function De(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new De(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var Yl=/[\-:]([a-z])/g;function Jl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Yl,Jl);Re[t]=new De(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Yl,Jl);Re[t]=new De(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Yl,Jl);Re[t]=new De(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xl(e,t,n,r){var s=Re.hasOwnProperty(t)?Re[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ap(t,n,s,r)&&(n=null),r||s===null?Rp(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var At=Ep.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jr=Symbol.for("react.element"),jn=Symbol.for("react.portal"),wn=Symbol.for("react.fragment"),Zl=Symbol.for("react.strict_mode"),Yi=Symbol.for("react.profiler"),zu=Symbol.for("react.provider"),Au=Symbol.for("react.context"),eo=Symbol.for("react.forward_ref"),Ji=Symbol.for("react.suspense"),Xi=Symbol.for("react.suspense_list"),to=Symbol.for("react.memo"),Mt=Symbol.for("react.lazy"),Lu=Symbol.for("react.offscreen"),qo=Symbol.iterator;function er(e){return e===null||typeof e!="object"?null:(e=qo&&e[qo]||e["@@iterator"],typeof e=="function"?e:null)}var he=Object.assign,xi;function ar(e){if(xi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xi=t&&t[1]||""}return`
`+xi+e}var ji=!1;function wi(e,t){if(!e||ji)return"";ji=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=a);break}}}finally{ji=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ar(e):""}function Lp(e){switch(e.tag){case 5:return ar(e.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 2:case 15:return e=wi(e.type,!1),e;case 11:return e=wi(e.type.render,!1),e;case 1:return e=wi(e.type,!0),e;default:return""}}function Zi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wn:return"Fragment";case jn:return"Portal";case Yi:return"Profiler";case Zl:return"StrictMode";case Ji:return"Suspense";case Xi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Au:return(e.displayName||"Context")+".Consumer";case zu:return(e._context.displayName||"Context")+".Provider";case eo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case to:return t=e.displayName||null,t!==null?t:Zi(e.type)||"Memo";case Mt:t=e._payload,e=e._init;try{return Zi(e(t))}catch{}}return null}function $p(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zi(t);case 8:return t===Zl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Jt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $u(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tp(e){var t=$u(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xr(e){e._valueTracker||(e._valueTracker=Tp(e))}function Tu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$u(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Cs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function el(e,t){var n=t.checked;return he({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ko(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Jt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mu(e,t){t=t.checked,t!=null&&Xl(e,"checked",t,!1)}function tl(e,t){Mu(e,t);var n=Jt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nl(e,t.type,n):t.hasOwnProperty("defaultValue")&&nl(e,t.type,Jt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nl(e,t,n){(t!=="number"||Cs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ur=Array.isArray;function Ln(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Jt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function rl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return he({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jo(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(A(92));if(ur(n)){if(1<n.length)throw Error(A(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Jt(n)}}function Iu(e,t){var n=Jt(t.value),r=Jt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Xo(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ou(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ou(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Zr,Du=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Zr=Zr||document.createElement("div"),Zr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Zr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Mp=["Webkit","ms","Moz","O"];Object.keys(pr).forEach(function(e){Mp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pr[t]=pr[e]})});function Fu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||pr.hasOwnProperty(e)&&pr[e]?(""+t).trim():t+"px"}function Bu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Fu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Ip=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function il(e,t){if(t){if(Ip[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function ll(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ol=null;function no(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var al=null,$n=null,Tn=null;function Zo(e){if(e=Gr(e)){if(typeof al!="function")throw Error(A(280));var t=e.stateNode;t&&(t=ni(t),al(e.stateNode,e.type,t))}}function bu(e){$n?Tn?Tn.push(e):Tn=[e]:$n=e}function Uu(){if($n){var e=$n,t=Tn;if(Tn=$n=null,Zo(e),t)for(e=0;e<t.length;e++)Zo(t[e])}}function Wu(e,t){return e(t)}function Hu(){}var ki=!1;function Vu(e,t,n){if(ki)return e(t,n);ki=!0;try{return Wu(e,t,n)}finally{ki=!1,($n!==null||Tn!==null)&&(Hu(),Uu())}}function Nr(e,t){var n=e.stateNode;if(n===null)return null;var r=ni(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(A(231,t,typeof n));return n}var ul=!1;if(Et)try{var tr={};Object.defineProperty(tr,"passive",{get:function(){ul=!0}}),window.addEventListener("test",tr,tr),window.removeEventListener("test",tr,tr)}catch{ul=!1}function Op(e,t,n,r,s,i,o,a,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var fr=!1,_s=null,Es=!1,cl=null,Dp={onError:function(e){fr=!0,_s=e}};function Fp(e,t,n,r,s,i,o,a,u){fr=!1,_s=null,Op.apply(Dp,arguments)}function Bp(e,t,n,r,s,i,o,a,u){if(Fp.apply(this,arguments),fr){if(fr){var d=_s;fr=!1,_s=null}else throw Error(A(198));Es||(Es=!0,cl=d)}}function vn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Gu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ea(e){if(vn(e)!==e)throw Error(A(188))}function bp(e){var t=e.alternate;if(!t){if(t=vn(e),t===null)throw Error(A(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ea(s),e;if(i===r)return ea(s),t;i=i.sibling}throw Error(A(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?e:t}function Qu(e){return e=bp(e),e!==null?qu(e):null}function qu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=qu(e);if(t!==null)return t;e=e.sibling}return null}var Ku=Je.unstable_scheduleCallback,ta=Je.unstable_cancelCallback,Up=Je.unstable_shouldYield,Wp=Je.unstable_requestPaint,ye=Je.unstable_now,Hp=Je.unstable_getCurrentPriorityLevel,ro=Je.unstable_ImmediatePriority,Yu=Je.unstable_UserBlockingPriority,Ps=Je.unstable_NormalPriority,Vp=Je.unstable_LowPriority,Ju=Je.unstable_IdlePriority,Xs=null,vt=null;function Gp(e){if(vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Xs,e,void 0,(e.current.flags&128)===128)}catch{}}var ct=Math.clz32?Math.clz32:Kp,Qp=Math.log,qp=Math.LN2;function Kp(e){return e>>>=0,e===0?32:31-(Qp(e)/qp|0)|0}var es=64,ts=4194304;function cr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=cr(a):(i&=o,i!==0&&(r=cr(i)))}else o=n&~s,o!==0?r=cr(o):i!==0&&(r=cr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ct(t),s=1<<n,r|=e[n],t&=~s;return r}function Yp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-ct(i),a=1<<o,u=s[o];u===-1?(!(a&n)||a&r)&&(s[o]=Yp(a,t)):u<=t&&(e.expiredLanes|=a),i&=~a}}function dl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xu(){var e=es;return es<<=1,!(es&4194240)&&(es=64),e}function Si(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ct(t),e[t]=n}function Xp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ct(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function so(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ct(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var J=0;function Zu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ec,io,tc,nc,rc,pl=!1,ns=[],Ut=null,Wt=null,Ht=null,Cr=new Map,_r=new Map,Ot=[],Zp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function na(e,t){switch(e){case"focusin":case"focusout":Ut=null;break;case"dragenter":case"dragleave":Wt=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":Cr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(t.pointerId)}}function nr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Gr(t),t!==null&&io(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function ef(e,t,n,r,s){switch(t){case"focusin":return Ut=nr(Ut,e,t,n,r,s),!0;case"dragenter":return Wt=nr(Wt,e,t,n,r,s),!0;case"mouseover":return Ht=nr(Ht,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Cr.set(i,nr(Cr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,_r.set(i,nr(_r.get(i)||null,e,t,n,r,s)),!0}return!1}function sc(e){var t=ln(e.target);if(t!==null){var n=vn(t);if(n!==null){if(t=n.tag,t===13){if(t=Gu(n),t!==null){e.blockedOn=t,rc(e.priority,function(){tc(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ms(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ol=r,n.target.dispatchEvent(r),ol=null}else return t=Gr(n),t!==null&&io(t),e.blockedOn=n,!1;t.shift()}return!0}function ra(e,t,n){ms(e)&&n.delete(t)}function tf(){pl=!1,Ut!==null&&ms(Ut)&&(Ut=null),Wt!==null&&ms(Wt)&&(Wt=null),Ht!==null&&ms(Ht)&&(Ht=null),Cr.forEach(ra),_r.forEach(ra)}function rr(e,t){e.blockedOn===t&&(e.blockedOn=null,pl||(pl=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,tf)))}function Er(e){function t(s){return rr(s,e)}if(0<ns.length){rr(ns[0],e);for(var n=1;n<ns.length;n++){var r=ns[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ut!==null&&rr(Ut,e),Wt!==null&&rr(Wt,e),Ht!==null&&rr(Ht,e),Cr.forEach(t),_r.forEach(t),n=0;n<Ot.length;n++)r=Ot[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&(n=Ot[0],n.blockedOn===null);)sc(n),n.blockedOn===null&&Ot.shift()}var Mn=At.ReactCurrentBatchConfig,zs=!0;function nf(e,t,n,r){var s=J,i=Mn.transition;Mn.transition=null;try{J=1,lo(e,t,n,r)}finally{J=s,Mn.transition=i}}function rf(e,t,n,r){var s=J,i=Mn.transition;Mn.transition=null;try{J=4,lo(e,t,n,r)}finally{J=s,Mn.transition=i}}function lo(e,t,n,r){if(zs){var s=fl(e,t,n,r);if(s===null)$i(e,t,r,As,n),na(e,r);else if(ef(s,e,t,n,r))r.stopPropagation();else if(na(e,r),t&4&&-1<Zp.indexOf(e)){for(;s!==null;){var i=Gr(s);if(i!==null&&ec(i),i=fl(e,t,n,r),i===null&&$i(e,t,r,As,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else $i(e,t,r,null,n)}}var As=null;function fl(e,t,n,r){if(As=null,e=no(r),e=ln(e),e!==null)if(t=vn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Gu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return As=e,null}function ic(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hp()){case ro:return 1;case Yu:return 4;case Ps:case Vp:return 16;case Ju:return 536870912;default:return 16}default:return 16}}var Ft=null,oo=null,gs=null;function lc(){if(gs)return gs;var e,t=oo,n=t.length,r,s="value"in Ft?Ft.value:Ft.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return gs=s.slice(e,1<r?1-r:void 0)}function vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rs(){return!0}function sa(){return!1}function Ze(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rs:sa,this.isPropagationStopped=sa,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),t}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ao=Ze(Kn),Vr=he({},Kn,{view:0,detail:0}),sf=Ze(Vr),Ni,Ci,sr,Zs=he({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sr&&(sr&&e.type==="mousemove"?(Ni=e.screenX-sr.screenX,Ci=e.screenY-sr.screenY):Ci=Ni=0,sr=e),Ni)},movementY:function(e){return"movementY"in e?e.movementY:Ci}}),ia=Ze(Zs),lf=he({},Zs,{dataTransfer:0}),of=Ze(lf),af=he({},Vr,{relatedTarget:0}),_i=Ze(af),uf=he({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),cf=Ze(uf),df=he({},Kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pf=Ze(df),ff=he({},Kn,{data:0}),la=Ze(ff),hf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gf[e])?!!t[e]:!1}function uo(){return vf}var yf=he({},Vr,{key:function(e){if(e.key){var t=hf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(e){return e.type==="keypress"?vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xf=Ze(yf),jf=he({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oa=Ze(jf),wf=he({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),kf=Ze(wf),Sf=he({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Nf=Ze(Sf),Cf=he({},Zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_f=Ze(Cf),Ef=[9,13,27,32],co=Et&&"CompositionEvent"in window,hr=null;Et&&"documentMode"in document&&(hr=document.documentMode);var Pf=Et&&"TextEvent"in window&&!hr,oc=Et&&(!co||hr&&8<hr&&11>=hr),aa=" ",ua=!1;function ac(e,t){switch(e){case"keyup":return Ef.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var kn=!1;function Rf(e,t){switch(e){case"compositionend":return uc(t);case"keypress":return t.which!==32?null:(ua=!0,aa);case"textInput":return e=t.data,e===aa&&ua?null:e;default:return null}}function zf(e,t){if(kn)return e==="compositionend"||!co&&ac(e,t)?(e=lc(),gs=oo=Ft=null,kn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oc&&t.locale!=="ko"?null:t.data;default:return null}}var Af={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ca(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Af[e.type]:t==="textarea"}function cc(e,t,n,r){bu(r),t=Ls(t,"onChange"),0<t.length&&(n=new ao("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var mr=null,Pr=null;function Lf(e){wc(e,0)}function ei(e){var t=Cn(e);if(Tu(t))return e}function $f(e,t){if(e==="change")return t}var dc=!1;if(Et){var Ei;if(Et){var Pi="oninput"in document;if(!Pi){var da=document.createElement("div");da.setAttribute("oninput","return;"),Pi=typeof da.oninput=="function"}Ei=Pi}else Ei=!1;dc=Ei&&(!document.documentMode||9<document.documentMode)}function pa(){mr&&(mr.detachEvent("onpropertychange",pc),Pr=mr=null)}function pc(e){if(e.propertyName==="value"&&ei(Pr)){var t=[];cc(t,Pr,e,no(e)),Vu(Lf,t)}}function Tf(e,t,n){e==="focusin"?(pa(),mr=t,Pr=n,mr.attachEvent("onpropertychange",pc)):e==="focusout"&&pa()}function Mf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ei(Pr)}function If(e,t){if(e==="click")return ei(t)}function Of(e,t){if(e==="input"||e==="change")return ei(t)}function Df(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:Df;function Rr(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ki.call(t,s)||!pt(e[s],t[s]))return!1}return!0}function fa(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ha(e,t){var n=fa(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fa(n)}}function fc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function hc(){for(var e=window,t=Cs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cs(e.document)}return t}function po(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Ff(e){var t=hc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fc(n.ownerDocument.documentElement,n)){if(r!==null&&po(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ha(n,i);var o=ha(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bf=Et&&"documentMode"in document&&11>=document.documentMode,Sn=null,hl=null,gr=null,ml=!1;function ma(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ml||Sn==null||Sn!==Cs(r)||(r=Sn,"selectionStart"in r&&po(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gr&&Rr(gr,r)||(gr=r,r=Ls(hl,"onSelect"),0<r.length&&(t=new ao("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Sn)))}function ss(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nn={animationend:ss("Animation","AnimationEnd"),animationiteration:ss("Animation","AnimationIteration"),animationstart:ss("Animation","AnimationStart"),transitionend:ss("Transition","TransitionEnd")},Ri={},mc={};Et&&(mc=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function ti(e){if(Ri[e])return Ri[e];if(!Nn[e])return e;var t=Nn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mc)return Ri[e]=t[n];return e}var gc=ti("animationend"),vc=ti("animationiteration"),yc=ti("animationstart"),xc=ti("transitionend"),jc=new Map,ga="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(e,t){jc.set(e,t),gn(t,[e])}for(var zi=0;zi<ga.length;zi++){var Ai=ga[zi],bf=Ai.toLowerCase(),Uf=Ai[0].toUpperCase()+Ai.slice(1);Zt(bf,"on"+Uf)}Zt(gc,"onAnimationEnd");Zt(vc,"onAnimationIteration");Zt(yc,"onAnimationStart");Zt("dblclick","onDoubleClick");Zt("focusin","onFocus");Zt("focusout","onBlur");Zt(xc,"onTransitionEnd");Dn("onMouseEnter",["mouseout","mouseover"]);Dn("onMouseLeave",["mouseout","mouseover"]);Dn("onPointerEnter",["pointerout","pointerover"]);Dn("onPointerLeave",["pointerout","pointerover"]);gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wf=new Set("cancel close invalid load scroll toggle".split(" ").concat(dr));function va(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Bp(r,t,void 0,e),e.currentTarget=null}function wc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,d=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;va(s,a,d),i=u}else for(o=0;o<r.length;o++){if(a=r[o],u=a.instance,d=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;va(s,a,d),i=u}}}if(Es)throw e=cl,Es=!1,cl=null,e}function ie(e,t){var n=t[jl];n===void 0&&(n=t[jl]=new Set);var r=e+"__bubble";n.has(r)||(kc(t,e,2,!1),n.add(r))}function Li(e,t,n){var r=0;t&&(r|=4),kc(n,e,r,t)}var is="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[is]){e[is]=!0,Ru.forEach(function(n){n!=="selectionchange"&&(Wf.has(n)||Li(n,!1,e),Li(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[is]||(t[is]=!0,Li("selectionchange",!1,t))}}function kc(e,t,n,r){switch(ic(t)){case 1:var s=nf;break;case 4:s=rf;break;default:s=lo}n=s.bind(null,t,n,e),s=void 0,!ul||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function $i(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ln(a),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Vu(function(){var d=i,p=no(n),g=[];e:{var m=jc.get(e);if(m!==void 0){var v=ao,x=e;switch(e){case"keypress":if(vs(n)===0)break e;case"keydown":case"keyup":v=xf;break;case"focusin":x="focus",v=_i;break;case"focusout":x="blur",v=_i;break;case"beforeblur":case"afterblur":v=_i;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ia;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=kf;break;case gc:case vc:case yc:v=cf;break;case xc:v=Nf;break;case"scroll":v=sf;break;case"wheel":v=_f;break;case"copy":case"cut":case"paste":v=pf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=oa}var y=(t&4)!==0,j=!y&&e==="scroll",h=y?m!==null?m+"Capture":null:m;y=[];for(var c=d,f;c!==null;){f=c;var w=f.stateNode;if(f.tag===5&&w!==null&&(f=w,h!==null&&(w=Nr(c,h),w!=null&&y.push(Ar(c,w,f)))),j)break;c=c.return}0<y.length&&(m=new v(m,x,null,n,p),g.push({event:m,listeners:y}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==ol&&(x=n.relatedTarget||n.fromElement)&&(ln(x)||x[Pt]))break e;if((v||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,v?(x=n.relatedTarget||n.toElement,v=d,x=x?ln(x):null,x!==null&&(j=vn(x),x!==j||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=d),v!==x)){if(y=ia,w="onMouseLeave",h="onMouseEnter",c="mouse",(e==="pointerout"||e==="pointerover")&&(y=oa,w="onPointerLeave",h="onPointerEnter",c="pointer"),j=v==null?m:Cn(v),f=x==null?m:Cn(x),m=new y(w,c+"leave",v,n,p),m.target=j,m.relatedTarget=f,w=null,ln(p)===d&&(y=new y(h,c+"enter",x,n,p),y.target=f,y.relatedTarget=j,w=y),j=w,v&&x)t:{for(y=v,h=x,c=0,f=y;f;f=yn(f))c++;for(f=0,w=h;w;w=yn(w))f++;for(;0<c-f;)y=yn(y),c--;for(;0<f-c;)h=yn(h),f--;for(;c--;){if(y===h||h!==null&&y===h.alternate)break t;y=yn(y),h=yn(h)}y=null}else y=null;v!==null&&ya(g,m,v,y,!1),x!==null&&j!==null&&ya(g,j,x,y,!0)}}e:{if(m=d?Cn(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var k=$f;else if(ca(m))if(dc)k=Of;else{k=Mf;var E=Tf}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=If);if(k&&(k=k(e,d))){cc(g,k,n,p);break e}E&&E(e,m,d),e==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&nl(m,"number",m.value)}switch(E=d?Cn(d):window,e){case"focusin":(ca(E)||E.contentEditable==="true")&&(Sn=E,hl=d,gr=null);break;case"focusout":gr=hl=Sn=null;break;case"mousedown":ml=!0;break;case"contextmenu":case"mouseup":case"dragend":ml=!1,ma(g,n,p);break;case"selectionchange":if(Bf)break;case"keydown":case"keyup":ma(g,n,p)}var C;if(co)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else kn?ac(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(oc&&n.locale!=="ko"&&(kn||T!=="onCompositionStart"?T==="onCompositionEnd"&&kn&&(C=lc()):(Ft=p,oo="value"in Ft?Ft.value:Ft.textContent,kn=!0)),E=Ls(d,T),0<E.length&&(T=new la(T,e,null,n,p),g.push({event:T,listeners:E}),C?T.data=C:(C=uc(n),C!==null&&(T.data=C)))),(C=Pf?Rf(e,n):zf(e,n))&&(d=Ls(d,"onBeforeInput"),0<d.length&&(p=new la("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:d}),p.data=C))}wc(g,t)})}function Ar(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ls(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nr(e,n),i!=null&&r.unshift(Ar(e,i,s)),i=Nr(e,t),i!=null&&r.push(Ar(e,i,s))),e=e.return}return r}function yn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ya(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,u=a.alternate,d=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&d!==null&&(a=d,s?(u=Nr(n,i),u!=null&&o.unshift(Ar(n,u,a))):s||(u=Nr(n,i),u!=null&&o.push(Ar(n,u,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Hf=/\r\n?/g,Vf=/\u0000|\uFFFD/g;function xa(e){return(typeof e=="string"?e:""+e).replace(Hf,`
`).replace(Vf,"")}function ls(e,t,n){if(t=xa(t),xa(e)!==t&&n)throw Error(A(425))}function $s(){}var gl=null,vl=null;function yl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xl=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,ja=typeof Promise=="function"?Promise:void 0,Qf=typeof queueMicrotask=="function"?queueMicrotask:typeof ja<"u"?function(e){return ja.resolve(null).then(e).catch(qf)}:xl;function qf(e){setTimeout(function(){throw e})}function Ti(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Er(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Er(t)}function Vt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function wa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Yn=Math.random().toString(36).slice(2),mt="__reactFiber$"+Yn,Lr="__reactProps$"+Yn,Pt="__reactContainer$"+Yn,jl="__reactEvents$"+Yn,Kf="__reactListeners$"+Yn,Yf="__reactHandles$"+Yn;function ln(e){var t=e[mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pt]||n[mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=wa(e);e!==null;){if(n=e[mt])return n;e=wa(e)}return t}e=n,n=e.parentNode}return null}function Gr(e){return e=e[mt]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Cn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function ni(e){return e[Lr]||null}var wl=[],_n=-1;function en(e){return{current:e}}function le(e){0>_n||(e.current=wl[_n],wl[_n]=null,_n--)}function se(e,t){_n++,wl[_n]=e.current,e.current=t}var Xt={},$e=en(Xt),He=en(!1),dn=Xt;function Fn(e,t){var n=e.type.contextTypes;if(!n)return Xt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ve(e){return e=e.childContextTypes,e!=null}function Ts(){le(He),le($e)}function ka(e,t,n){if($e.current!==Xt)throw Error(A(168));se($e,t),se(He,n)}function Sc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(A(108,$p(e)||"Unknown",s));return he({},n,r)}function Ms(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xt,dn=$e.current,se($e,e),se(He,He.current),!0}function Sa(e,t,n){var r=e.stateNode;if(!r)throw Error(A(169));n?(e=Sc(e,t,dn),r.__reactInternalMemoizedMergedChildContext=e,le(He),le($e),se($e,e)):le(He),se(He,n)}var kt=null,ri=!1,Mi=!1;function Nc(e){kt===null?kt=[e]:kt.push(e)}function Jf(e){ri=!0,Nc(e)}function tn(){if(!Mi&&kt!==null){Mi=!0;var e=0,t=J;try{var n=kt;for(J=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}kt=null,ri=!1}catch(s){throw kt!==null&&(kt=kt.slice(e+1)),Ku(ro,tn),s}finally{J=t,Mi=!1}}return null}var En=[],Pn=0,Is=null,Os=0,et=[],tt=0,pn=null,Nt=1,Ct="";function rn(e,t){En[Pn++]=Os,En[Pn++]=Is,Is=e,Os=t}function Cc(e,t,n){et[tt++]=Nt,et[tt++]=Ct,et[tt++]=pn,pn=e;var r=Nt;e=Ct;var s=32-ct(r)-1;r&=~(1<<s),n+=1;var i=32-ct(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Nt=1<<32-ct(t)+s|n<<s|r,Ct=i+e}else Nt=1<<i|n<<s|r,Ct=e}function fo(e){e.return!==null&&(rn(e,1),Cc(e,1,0))}function ho(e){for(;e===Is;)Is=En[--Pn],En[Pn]=null,Os=En[--Pn],En[Pn]=null;for(;e===pn;)pn=et[--tt],et[tt]=null,Ct=et[--tt],et[tt]=null,Nt=et[--tt],et[tt]=null}var Ye=null,Ke=null,ue=!1,ut=null;function _c(e,t){var n=nt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Na(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ye=e,Ke=Vt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ye=e,Ke=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=pn!==null?{id:Nt,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=nt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ye=e,Ke=null,!0):!1;default:return!1}}function kl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Sl(e){if(ue){var t=Ke;if(t){var n=t;if(!Na(e,t)){if(kl(e))throw Error(A(418));t=Vt(n.nextSibling);var r=Ye;t&&Na(e,t)?_c(r,n):(e.flags=e.flags&-4097|2,ue=!1,Ye=e)}}else{if(kl(e))throw Error(A(418));e.flags=e.flags&-4097|2,ue=!1,Ye=e}}}function Ca(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ye=e}function os(e){if(e!==Ye)return!1;if(!ue)return Ca(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!yl(e.type,e.memoizedProps)),t&&(t=Ke)){if(kl(e))throw Ec(),Error(A(418));for(;t;)_c(e,t),t=Vt(t.nextSibling)}if(Ca(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ke=Vt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ke=null}}else Ke=Ye?Vt(e.stateNode.nextSibling):null;return!0}function Ec(){for(var e=Ke;e;)e=Vt(e.nextSibling)}function Bn(){Ke=Ye=null,ue=!1}function mo(e){ut===null?ut=[e]:ut.push(e)}var Xf=At.ReactCurrentBatchConfig;function ir(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,e))}return e}function as(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _a(e){var t=e._init;return t(e._payload)}function Pc(e){function t(h,c){if(e){var f=h.deletions;f===null?(h.deletions=[c],h.flags|=16):f.push(c)}}function n(h,c){if(!e)return null;for(;c!==null;)t(h,c),c=c.sibling;return null}function r(h,c){for(h=new Map;c!==null;)c.key!==null?h.set(c.key,c):h.set(c.index,c),c=c.sibling;return h}function s(h,c){return h=Kt(h,c),h.index=0,h.sibling=null,h}function i(h,c,f){return h.index=f,e?(f=h.alternate,f!==null?(f=f.index,f<c?(h.flags|=2,c):f):(h.flags|=2,c)):(h.flags|=1048576,c)}function o(h){return e&&h.alternate===null&&(h.flags|=2),h}function a(h,c,f,w){return c===null||c.tag!==6?(c=Ui(f,h.mode,w),c.return=h,c):(c=s(c,f),c.return=h,c)}function u(h,c,f,w){var k=f.type;return k===wn?p(h,c,f.props.children,w,f.key):c!==null&&(c.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mt&&_a(k)===c.type)?(w=s(c,f.props),w.ref=ir(h,c,f),w.return=h,w):(w=Ns(f.type,f.key,f.props,null,h.mode,w),w.ref=ir(h,c,f),w.return=h,w)}function d(h,c,f,w){return c===null||c.tag!==4||c.stateNode.containerInfo!==f.containerInfo||c.stateNode.implementation!==f.implementation?(c=Wi(f,h.mode,w),c.return=h,c):(c=s(c,f.children||[]),c.return=h,c)}function p(h,c,f,w,k){return c===null||c.tag!==7?(c=cn(f,h.mode,w,k),c.return=h,c):(c=s(c,f),c.return=h,c)}function g(h,c,f){if(typeof c=="string"&&c!==""||typeof c=="number")return c=Ui(""+c,h.mode,f),c.return=h,c;if(typeof c=="object"&&c!==null){switch(c.$$typeof){case Jr:return f=Ns(c.type,c.key,c.props,null,h.mode,f),f.ref=ir(h,null,c),f.return=h,f;case jn:return c=Wi(c,h.mode,f),c.return=h,c;case Mt:var w=c._init;return g(h,w(c._payload),f)}if(ur(c)||er(c))return c=cn(c,h.mode,f,null),c.return=h,c;as(h,c)}return null}function m(h,c,f,w){var k=c!==null?c.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return k!==null?null:a(h,c,""+f,w);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Jr:return f.key===k?u(h,c,f,w):null;case jn:return f.key===k?d(h,c,f,w):null;case Mt:return k=f._init,m(h,c,k(f._payload),w)}if(ur(f)||er(f))return k!==null?null:p(h,c,f,w,null);as(h,f)}return null}function v(h,c,f,w,k){if(typeof w=="string"&&w!==""||typeof w=="number")return h=h.get(f)||null,a(c,h,""+w,k);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Jr:return h=h.get(w.key===null?f:w.key)||null,u(c,h,w,k);case jn:return h=h.get(w.key===null?f:w.key)||null,d(c,h,w,k);case Mt:var E=w._init;return v(h,c,f,E(w._payload),k)}if(ur(w)||er(w))return h=h.get(f)||null,p(c,h,w,k,null);as(c,w)}return null}function x(h,c,f,w){for(var k=null,E=null,C=c,T=c=0,M=null;C!==null&&T<f.length;T++){C.index>T?(M=C,C=null):M=C.sibling;var P=m(h,C,f[T],w);if(P===null){C===null&&(C=M);break}e&&C&&P.alternate===null&&t(h,C),c=i(P,c,T),E===null?k=P:E.sibling=P,E=P,C=M}if(T===f.length)return n(h,C),ue&&rn(h,T),k;if(C===null){for(;T<f.length;T++)C=g(h,f[T],w),C!==null&&(c=i(C,c,T),E===null?k=C:E.sibling=C,E=C);return ue&&rn(h,T),k}for(C=r(h,C);T<f.length;T++)M=v(C,h,T,f[T],w),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?T:M.key),c=i(M,c,T),E===null?k=M:E.sibling=M,E=M);return e&&C.forEach(function(V){return t(h,V)}),ue&&rn(h,T),k}function y(h,c,f,w){var k=er(f);if(typeof k!="function")throw Error(A(150));if(f=k.call(f),f==null)throw Error(A(151));for(var E=k=null,C=c,T=c=0,M=null,P=f.next();C!==null&&!P.done;T++,P=f.next()){C.index>T?(M=C,C=null):M=C.sibling;var V=m(h,C,P.value,w);if(V===null){C===null&&(C=M);break}e&&C&&V.alternate===null&&t(h,C),c=i(V,c,T),E===null?k=V:E.sibling=V,E=V,C=M}if(P.done)return n(h,C),ue&&rn(h,T),k;if(C===null){for(;!P.done;T++,P=f.next())P=g(h,P.value,w),P!==null&&(c=i(P,c,T),E===null?k=P:E.sibling=P,E=P);return ue&&rn(h,T),k}for(C=r(h,C);!P.done;T++,P=f.next())P=v(C,h,T,P.value,w),P!==null&&(e&&P.alternate!==null&&C.delete(P.key===null?T:P.key),c=i(P,c,T),E===null?k=P:E.sibling=P,E=P);return e&&C.forEach(function(te){return t(h,te)}),ue&&rn(h,T),k}function j(h,c,f,w){if(typeof f=="object"&&f!==null&&f.type===wn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Jr:e:{for(var k=f.key,E=c;E!==null;){if(E.key===k){if(k=f.type,k===wn){if(E.tag===7){n(h,E.sibling),c=s(E,f.props.children),c.return=h,h=c;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Mt&&_a(k)===E.type){n(h,E.sibling),c=s(E,f.props),c.ref=ir(h,E,f),c.return=h,h=c;break e}n(h,E);break}else t(h,E);E=E.sibling}f.type===wn?(c=cn(f.props.children,h.mode,w,f.key),c.return=h,h=c):(w=Ns(f.type,f.key,f.props,null,h.mode,w),w.ref=ir(h,c,f),w.return=h,h=w)}return o(h);case jn:e:{for(E=f.key;c!==null;){if(c.key===E)if(c.tag===4&&c.stateNode.containerInfo===f.containerInfo&&c.stateNode.implementation===f.implementation){n(h,c.sibling),c=s(c,f.children||[]),c.return=h,h=c;break e}else{n(h,c);break}else t(h,c);c=c.sibling}c=Wi(f,h.mode,w),c.return=h,h=c}return o(h);case Mt:return E=f._init,j(h,c,E(f._payload),w)}if(ur(f))return x(h,c,f,w);if(er(f))return y(h,c,f,w);as(h,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,c!==null&&c.tag===6?(n(h,c.sibling),c=s(c,f),c.return=h,h=c):(n(h,c),c=Ui(f,h.mode,w),c.return=h,h=c),o(h)):n(h,c)}return j}var bn=Pc(!0),Rc=Pc(!1),Ds=en(null),Fs=null,Rn=null,go=null;function vo(){go=Rn=Fs=null}function yo(e){var t=Ds.current;le(Ds),e._currentValue=t}function Nl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function In(e,t){Fs=e,go=Rn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function st(e){var t=e._currentValue;if(go!==e)if(e={context:e,memoizedValue:t,next:null},Rn===null){if(Fs===null)throw Error(A(308));Rn=e,Fs.dependencies={lanes:0,firstContext:e}}else Rn=Rn.next=e;return t}var on=null;function xo(e){on===null?on=[e]:on.push(e)}function zc(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,xo(t)):(n.next=s.next,s.next=n),t.interleaved=n,Rt(e,r)}function Rt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var It=!1;function jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ac(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Gt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Rt(e,n)}return s=r.interleaved,s===null?(t.next=t,xo(r)):(t.next=s.next,s.next=t),r.interleaved=t,Rt(e,n)}function ys(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,so(e,n)}}function Ea(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var s=e.updateQueue;It=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,d=u.next;u.next=null,o===null?i=d:o.next=d,o=u;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=u))}if(i!==null){var g=s.baseState;o=0,p=d=u=null,a=i;do{var m=a.lane,v=a.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var x=e,y=a;switch(m=t,v=n,y.tag){case 1:if(x=y.payload,typeof x=="function"){g=x.call(v,g,m);break e}g=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=y.payload,m=typeof x=="function"?x.call(v,g,m):x,m==null)break e;g=he({},g,m);break e;case 2:It=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=v,u=g):p=p.next=v,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(p===null&&(u=g),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);hn|=o,e.lanes=o,e.memoizedState=g}}function Pa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(A(191,s));s.call(r)}}}var Qr={},yt=en(Qr),$r=en(Qr),Tr=en(Qr);function an(e){if(e===Qr)throw Error(A(174));return e}function wo(e,t){switch(se(Tr,t),se($r,e),se(yt,Qr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sl(t,e)}le(yt),se(yt,t)}function Un(){le(yt),le($r),le(Tr)}function Lc(e){an(Tr.current);var t=an(yt.current),n=sl(t,e.type);t!==n&&(se($r,e),se(yt,n))}function ko(e){$r.current===e&&(le(yt),le($r))}var de=en(0);function bs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ii=[];function So(){for(var e=0;e<Ii.length;e++)Ii[e]._workInProgressVersionPrimary=null;Ii.length=0}var xs=At.ReactCurrentDispatcher,Oi=At.ReactCurrentBatchConfig,fn=0,pe=null,we=null,Ce=null,Us=!1,vr=!1,Mr=0,Zf=0;function ze(){throw Error(A(321))}function No(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function Co(e,t,n,r,s,i){if(fn=i,pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xs.current=e===null||e.memoizedState===null?rh:sh,e=n(r,s),vr){i=0;do{if(vr=!1,Mr=0,25<=i)throw Error(A(301));i+=1,Ce=we=null,t.updateQueue=null,xs.current=ih,e=n(r,s)}while(vr)}if(xs.current=Ws,t=we!==null&&we.next!==null,fn=0,Ce=we=pe=null,Us=!1,t)throw Error(A(300));return e}function _o(){var e=Mr!==0;return Mr=0,e}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?pe.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function it(){if(we===null){var e=pe.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Ce===null?pe.memoizedState:Ce.next;if(t!==null)Ce=t,we=e;else{if(e===null)throw Error(A(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Ce===null?pe.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Ir(e,t){return typeof t=="function"?t(e):t}function Di(e){var t=it(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=we,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,u=null,d=i;do{var p=d.lane;if((fn&p)===p)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var g={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(a=u=g,o=r):u=u.next=g,pe.lanes|=p,hn|=p}d=d.next}while(d!==null&&d!==i);u===null?o=r:u.next=a,pt(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,pe.lanes|=i,hn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fi(e){var t=it(),n=t.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);pt(i,t.memoizedState)||(We=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function $c(){}function Tc(e,t){var n=pe,r=it(),s=t(),i=!pt(r.memoizedState,s);if(i&&(r.memoizedState=s,We=!0),r=r.queue,Eo(Oc.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,Or(9,Ic.bind(null,n,r,s,t),void 0,null),_e===null)throw Error(A(349));fn&30||Mc(n,t,s)}return s}function Mc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ic(e,t,n,r){t.value=n,t.getSnapshot=r,Dc(t)&&Fc(e)}function Oc(e,t,n){return n(function(){Dc(t)&&Fc(e)})}function Dc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function Fc(e){var t=Rt(e,1);t!==null&&dt(t,e,1,-1)}function Ra(e){var t=ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:e},t.queue=e,e=e.dispatch=nh.bind(null,pe,e),[t.memoizedState,e]}function Or(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=pe.updateQueue,t===null?(t={lastEffect:null,stores:null},pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Bc(){return it().memoizedState}function js(e,t,n,r){var s=ht();pe.flags|=e,s.memoizedState=Or(1|t,n,void 0,r===void 0?null:r)}function si(e,t,n,r){var s=it();r=r===void 0?null:r;var i=void 0;if(we!==null){var o=we.memoizedState;if(i=o.destroy,r!==null&&No(r,o.deps)){s.memoizedState=Or(t,n,i,r);return}}pe.flags|=e,s.memoizedState=Or(1|t,n,i,r)}function za(e,t){return js(8390656,8,e,t)}function Eo(e,t){return si(2048,8,e,t)}function bc(e,t){return si(4,2,e,t)}function Uc(e,t){return si(4,4,e,t)}function Wc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Hc(e,t,n){return n=n!=null?n.concat([e]):null,si(4,4,Wc.bind(null,t,e),n)}function Po(){}function Vc(e,t){var n=it();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&No(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Gc(e,t){var n=it();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&No(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Qc(e,t,n){return fn&21?(pt(n,t)||(n=Xu(),pe.lanes|=n,hn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function eh(e,t){var n=J;J=n!==0&&4>n?n:4,e(!0);var r=Oi.transition;Oi.transition={};try{e(!1),t()}finally{J=n,Oi.transition=r}}function qc(){return it().memoizedState}function th(e,t,n){var r=qt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Kc(e))Yc(t,n);else if(n=zc(e,t,n,r),n!==null){var s=Ie();dt(n,e,r,s),Jc(n,t,r)}}function nh(e,t,n){var r=qt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Kc(e))Yc(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,pt(a,o)){var u=t.interleaved;u===null?(s.next=s,xo(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=zc(e,t,s,r),n!==null&&(s=Ie(),dt(n,e,r,s),Jc(n,t,r))}}function Kc(e){var t=e.alternate;return e===pe||t!==null&&t===pe}function Yc(e,t){vr=Us=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,so(e,n)}}var Ws={readContext:st,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},rh={readContext:st,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:za,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,js(4194308,4,Wc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return js(4194308,4,e,t)},useInsertionEffect:function(e,t){return js(4,2,e,t)},useMemo:function(e,t){var n=ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=th.bind(null,pe,e),[r.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:Ra,useDebugValue:Po,useDeferredValue:function(e){return ht().memoizedState=e},useTransition:function(){var e=Ra(!1),t=e[0];return e=eh.bind(null,e[1]),ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=pe,s=ht();if(ue){if(n===void 0)throw Error(A(407));n=n()}else{if(n=t(),_e===null)throw Error(A(349));fn&30||Mc(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,za(Oc.bind(null,r,i,e),[e]),r.flags|=2048,Or(9,Ic.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ht(),t=_e.identifierPrefix;if(ue){var n=Ct,r=Nt;n=(r&~(1<<32-ct(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Mr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Zf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sh={readContext:st,useCallback:Vc,useContext:st,useEffect:Eo,useImperativeHandle:Hc,useInsertionEffect:bc,useLayoutEffect:Uc,useMemo:Gc,useReducer:Di,useRef:Bc,useState:function(){return Di(Ir)},useDebugValue:Po,useDeferredValue:function(e){var t=it();return Qc(t,we.memoizedState,e)},useTransition:function(){var e=Di(Ir)[0],t=it().memoizedState;return[e,t]},useMutableSource:$c,useSyncExternalStore:Tc,useId:qc,unstable_isNewReconciler:!1},ih={readContext:st,useCallback:Vc,useContext:st,useEffect:Eo,useImperativeHandle:Hc,useInsertionEffect:bc,useLayoutEffect:Uc,useMemo:Gc,useReducer:Fi,useRef:Bc,useState:function(){return Fi(Ir)},useDebugValue:Po,useDeferredValue:function(e){var t=it();return we===null?t.memoizedState=e:Qc(t,we.memoizedState,e)},useTransition:function(){var e=Fi(Ir)[0],t=it().memoizedState;return[e,t]},useMutableSource:$c,useSyncExternalStore:Tc,useId:qc,unstable_isNewReconciler:!1};function ot(e,t){if(e&&e.defaultProps){t=he({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Cl(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:he({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ii={isMounted:function(e){return(e=e._reactInternals)?vn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=qt(e),i=_t(r,s);i.payload=t,n!=null&&(i.callback=n),t=Gt(e,i,s),t!==null&&(dt(t,e,s,r),ys(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=qt(e),i=_t(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Gt(e,i,s),t!==null&&(dt(t,e,s,r),ys(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=qt(e),s=_t(n,r);s.tag=2,t!=null&&(s.callback=t),t=Gt(e,s,r),t!==null&&(dt(t,e,r,n),ys(t,e,r))}};function Aa(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Rr(n,r)||!Rr(s,i):!0}function Xc(e,t,n){var r=!1,s=Xt,i=t.contextType;return typeof i=="object"&&i!==null?i=st(i):(s=Ve(t)?dn:$e.current,r=t.contextTypes,i=(r=r!=null)?Fn(e,s):Xt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ii,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function La(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ii.enqueueReplaceState(t,t.state,null)}function _l(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},jo(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=st(i):(i=Ve(t)?dn:$e.current,s.context=Fn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Cl(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ii.enqueueReplaceState(s,s.state,null),Bs(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Wn(e,t){try{var n="",r=t;do n+=Lp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Bi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function El(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lh=typeof WeakMap=="function"?WeakMap:Map;function Zc(e,t,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vs||(Vs=!0,Ol=r),El(e,t)},n}function ed(e,t,n){n=_t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){El(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){El(e,t),typeof r!="function"&&(Qt===null?Qt=new Set([this]):Qt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function $a(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lh;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=jh.bind(null,e,t,n),t.then(e,e))}function Ta(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ma(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_t(-1,1),t.tag=2,Gt(n,t,1))),n.lanes|=1),e)}var oh=At.ReactCurrentOwner,We=!1;function Me(e,t,n,r){t.child=e===null?Rc(t,null,n,r):bn(t,e.child,n,r)}function Ia(e,t,n,r,s){n=n.render;var i=t.ref;return In(t,s),r=Co(e,t,n,r,i,s),n=_o(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(ue&&n&&fo(t),t.flags|=1,Me(e,t,r,s),t.child)}function Oa(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Io(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,td(e,t,i,r,s)):(e=Ns(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Rr,n(o,r)&&e.ref===t.ref)return zt(e,t,s)}return t.flags|=1,e=Kt(i,r),e.ref=t.ref,e.return=t,t.child=e}function td(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Rr(i,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,zt(e,t,s)}return Pl(e,t,n,r,s)}function nd(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(An,qe),qe|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(An,qe),qe|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,se(An,qe),qe|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,se(An,qe),qe|=r;return Me(e,t,s,n),t.child}function rd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Pl(e,t,n,r,s){var i=Ve(n)?dn:$e.current;return i=Fn(t,i),In(t,s),n=Co(e,t,n,r,i,s),r=_o(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,zt(e,t,s)):(ue&&r&&fo(t),t.flags|=1,Me(e,t,n,s),t.child)}function Da(e,t,n,r,s){if(Ve(n)){var i=!0;Ms(t)}else i=!1;if(In(t,s),t.stateNode===null)ws(e,t),Xc(t,n,r),_l(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var u=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=st(d):(d=Ve(n)?dn:$e.current,d=Fn(t,d));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||u!==d)&&La(t,o,r,d),It=!1;var m=t.memoizedState;o.state=m,Bs(t,r,o,s),u=t.memoizedState,a!==r||m!==u||He.current||It?(typeof p=="function"&&(Cl(t,n,p,r),u=t.memoizedState),(a=It||Aa(t,n,a,r,m,u,d))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Ac(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:ot(t.type,a),o.props=d,g=t.pendingProps,m=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=st(u):(u=Ve(n)?dn:$e.current,u=Fn(t,u));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||m!==u)&&La(t,o,r,u),It=!1,m=t.memoizedState,o.state=m,Bs(t,r,o,s);var x=t.memoizedState;a!==g||m!==x||He.current||It?(typeof v=="function"&&(Cl(t,n,v,r),x=t.memoizedState),(d=It||Aa(t,n,d,r,m,x,u)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,x,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,x,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=x),o.props=r,o.state=x,o.context=u,r=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Rl(e,t,n,r,i,s)}function Rl(e,t,n,r,s,i){rd(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Sa(t,n,!1),zt(e,t,i);r=t.stateNode,oh.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=bn(t,e.child,null,i),t.child=bn(t,null,a,i)):Me(e,t,a,i),t.memoizedState=r.state,s&&Sa(t,n,!0),t.child}function sd(e){var t=e.stateNode;t.pendingContext?ka(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ka(e,t.context,!1),wo(e,t.containerInfo)}function Fa(e,t,n,r,s){return Bn(),mo(s),t.flags|=256,Me(e,t,n,r),t.child}var zl={dehydrated:null,treeContext:null,retryLane:0};function Al(e){return{baseLanes:e,cachePool:null,transitions:null}}function id(e,t,n){var r=t.pendingProps,s=de.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),se(de,s&1),e===null)return Sl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ai(o,r,0,null),e=cn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Al(n),t.memoizedState=zl,e):Ro(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ah(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Kt(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Kt(a,i):(i=cn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Al(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=zl,r}return i=e.child,e=i.sibling,r=Kt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ro(e,t){return t=ai({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function us(e,t,n,r){return r!==null&&mo(r),bn(t,e.child,null,n),e=Ro(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ah(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Bi(Error(A(422))),us(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ai({mode:"visible",children:r.children},s,0,null),i=cn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&bn(t,e.child,null,o),t.child.memoizedState=Al(o),t.memoizedState=zl,i);if(!(t.mode&1))return us(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(A(419)),r=Bi(i,r,void 0),us(e,t,o,r)}if(a=(o&e.childLanes)!==0,We||a){if(r=_e,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Rt(e,s),dt(r,e,s,-1))}return Mo(),r=Bi(Error(A(421))),us(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=wh.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ke=Vt(s.nextSibling),Ye=t,ue=!0,ut=null,e!==null&&(et[tt++]=Nt,et[tt++]=Ct,et[tt++]=pn,Nt=e.id,Ct=e.overflow,pn=t),t=Ro(t,r.children),t.flags|=4096,t)}function Ba(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Nl(e.return,t,n)}function bi(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function ld(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Me(e,t,r.children,n),r=de.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ba(e,n,t);else if(e.tag===19)Ba(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(de,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&bs(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),bi(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&bs(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}bi(t,!0,n,null,i);break;case"together":bi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ws(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,n=Kt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uh(e,t,n){switch(t.tag){case 3:sd(t),Bn();break;case 5:Lc(t);break;case 1:Ve(t.type)&&Ms(t);break;case 4:wo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;se(Ds,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(de,de.current&1),t.flags|=128,null):n&t.child.childLanes?id(e,t,n):(se(de,de.current&1),e=zt(e,t,n),e!==null?e.sibling:null);se(de,de.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ld(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(de,de.current),r)break;return null;case 22:case 23:return t.lanes=0,nd(e,t,n)}return zt(e,t,n)}var od,Ll,ad,ud;od=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ll=function(){};ad=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,an(yt.current);var i=null;switch(n){case"input":s=el(e,s),r=el(e,r),i=[];break;case"select":s=he({},s,{value:void 0}),r=he({},r,{value:void 0}),i=[];break;case"textarea":s=rl(e,s),r=rl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=$s)}il(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(kr.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==a&&(u!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(kr.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&ie("scroll",e),i||a===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};ud=function(e,t,n,r){n!==r&&(t.flags|=4)};function lr(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ae(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ch(e,t,n){var r=t.pendingProps;switch(ho(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ae(t),null;case 1:return Ve(t.type)&&Ts(),Ae(t),null;case 3:return r=t.stateNode,Un(),le(He),le($e),So(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(os(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ut!==null&&(Bl(ut),ut=null))),Ll(e,t),Ae(t),null;case 5:ko(t);var s=an(Tr.current);if(n=t.type,e!==null&&t.stateNode!=null)ad(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(A(166));return Ae(t),null}if(e=an(yt.current),os(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[mt]=t,r[Lr]=i,e=(t.mode&1)!==0,n){case"dialog":ie("cancel",r),ie("close",r);break;case"iframe":case"object":case"embed":ie("load",r);break;case"video":case"audio":for(s=0;s<dr.length;s++)ie(dr[s],r);break;case"source":ie("error",r);break;case"img":case"image":case"link":ie("error",r),ie("load",r);break;case"details":ie("toggle",r);break;case"input":Ko(r,i),ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ie("invalid",r);break;case"textarea":Jo(r,i),ie("invalid",r)}il(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ls(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ls(r.textContent,a,e),s=["children",""+a]):kr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ie("scroll",r)}switch(n){case"input":Xr(r),Yo(r,i,!0);break;case"textarea":Xr(r),Xo(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=$s)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ou(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[mt]=t,e[Lr]=r,od(e,t,!1,!1),t.stateNode=e;e:{switch(o=ll(n,r),n){case"dialog":ie("cancel",e),ie("close",e),s=r;break;case"iframe":case"object":case"embed":ie("load",e),s=r;break;case"video":case"audio":for(s=0;s<dr.length;s++)ie(dr[s],e);s=r;break;case"source":ie("error",e),s=r;break;case"img":case"image":case"link":ie("error",e),ie("load",e),s=r;break;case"details":ie("toggle",e),s=r;break;case"input":Ko(e,r),s=el(e,r),ie("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=he({},r,{value:void 0}),ie("invalid",e);break;case"textarea":Jo(e,r),s=rl(e,r),ie("invalid",e);break;default:s=r}il(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Bu(e,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Du(e,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Sr(e,u):typeof u=="number"&&Sr(e,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kr.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ie("scroll",e):u!=null&&Xl(e,i,u,o))}switch(n){case"input":Xr(e),Yo(e,r,!1);break;case"textarea":Xr(e),Xo(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Jt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ln(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ln(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=$s)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ae(t),null;case 6:if(e&&t.stateNode!=null)ud(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(A(166));if(n=an(Tr.current),an(yt.current),os(t)){if(r=t.stateNode,n=t.memoizedProps,r[mt]=t,(i=r.nodeValue!==n)&&(e=Ye,e!==null))switch(e.tag){case 3:ls(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ls(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mt]=t,t.stateNode=r}return Ae(t),null;case 13:if(le(de),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&Ke!==null&&t.mode&1&&!(t.flags&128))Ec(),Bn(),t.flags|=98560,i=!1;else if(i=os(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(A(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(A(317));i[mt]=t}else Bn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ae(t),i=!1}else ut!==null&&(Bl(ut),ut=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?ke===0&&(ke=3):Mo())),t.updateQueue!==null&&(t.flags|=4),Ae(t),null);case 4:return Un(),Ll(e,t),e===null&&zr(t.stateNode.containerInfo),Ae(t),null;case 10:return yo(t.type._context),Ae(t),null;case 17:return Ve(t.type)&&Ts(),Ae(t),null;case 19:if(le(de),i=t.memoizedState,i===null)return Ae(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)lr(i,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=bs(e),o!==null){for(t.flags|=128,lr(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(de,de.current&1|2),t.child}e=e.sibling}i.tail!==null&&ye()>Hn&&(t.flags|=128,r=!0,lr(i,!1),t.lanes=4194304)}else{if(!r)if(e=bs(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ue)return Ae(t),null}else 2*ye()-i.renderingStartTime>Hn&&n!==1073741824&&(t.flags|=128,r=!0,lr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ye(),t.sibling=null,n=de.current,se(de,r?n&1|2:n&1),t):(Ae(t),null);case 22:case 23:return To(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?qe&1073741824&&(Ae(t),t.subtreeFlags&6&&(t.flags|=8192)):Ae(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function dh(e,t){switch(ho(t),t.tag){case 1:return Ve(t.type)&&Ts(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Un(),le(He),le($e),So(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ko(t),null;case 13:if(le(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Bn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(de),null;case 4:return Un(),null;case 10:return yo(t.type._context),null;case 22:case 23:return To(),null;case 24:return null;default:return null}}var cs=!1,Le=!1,ph=typeof WeakSet=="function"?WeakSet:Set,I=null;function zn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(e,t,r)}else n.current=null}function $l(e,t,n){try{n()}catch(r){me(e,t,r)}}var ba=!1;function fh(e,t){if(gl=zs,e=hc(),po(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,u=-1,d=0,p=0,g=e,m=null;t:for(;;){for(var v;g!==n||s!==0&&g.nodeType!==3||(a=o+s),g!==i||r!==0&&g.nodeType!==3||(u=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(v=g.firstChild)!==null;)m=g,g=v;for(;;){if(g===e)break t;if(m===n&&++d===s&&(a=o),m===i&&++p===r&&(u=o),(v=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=v}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(vl={focusedElem:e,selectionRange:n},zs=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var y=x.memoizedProps,j=x.memoizedState,h=t.stateNode,c=h.getSnapshotBeforeUpdate(t.elementType===t.type?y:ot(t.type,y),j);h.__reactInternalSnapshotBeforeUpdate=c}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(w){me(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return x=ba,ba=!1,x}function yr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&$l(t,n,i)}s=s.next}while(s!==r)}}function li(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Tl(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cd(e){var t=e.alternate;t!==null&&(e.alternate=null,cd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mt],delete t[Lr],delete t[jl],delete t[Kf],delete t[Yf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dd(e){return e.tag===5||e.tag===3||e.tag===4}function Ua(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ml(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=$s));else if(r!==4&&(e=e.child,e!==null))for(Ml(e,t,n),e=e.sibling;e!==null;)Ml(e,t,n),e=e.sibling}function Il(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Il(e,t,n),e=e.sibling;e!==null;)Il(e,t,n),e=e.sibling}var Ee=null,at=!1;function $t(e,t,n){for(n=n.child;n!==null;)pd(e,t,n),n=n.sibling}function pd(e,t,n){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Xs,n)}catch{}switch(n.tag){case 5:Le||zn(n,t);case 6:var r=Ee,s=at;Ee=null,$t(e,t,n),Ee=r,at=s,Ee!==null&&(at?(e=Ee,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(at?(e=Ee,n=n.stateNode,e.nodeType===8?Ti(e.parentNode,n):e.nodeType===1&&Ti(e,n),Er(e)):Ti(Ee,n.stateNode));break;case 4:r=Ee,s=at,Ee=n.stateNode.containerInfo,at=!0,$t(e,t,n),Ee=r,at=s;break;case 0:case 11:case 14:case 15:if(!Le&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&$l(n,t,o),s=s.next}while(s!==r)}$t(e,t,n);break;case 1:if(!Le&&(zn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){me(n,t,a)}$t(e,t,n);break;case 21:$t(e,t,n);break;case 22:n.mode&1?(Le=(r=Le)||n.memoizedState!==null,$t(e,t,n),Le=r):$t(e,t,n);break;default:$t(e,t,n)}}function Wa(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new ph),t.forEach(function(r){var s=kh.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function lt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ee=a.stateNode,at=!1;break e;case 3:Ee=a.stateNode.containerInfo,at=!0;break e;case 4:Ee=a.stateNode.containerInfo,at=!0;break e}a=a.return}if(Ee===null)throw Error(A(160));pd(i,o,s),Ee=null,at=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){me(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)fd(t,e),t=t.sibling}function fd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lt(t,e),ft(e),r&4){try{yr(3,e,e.return),li(3,e)}catch(y){me(e,e.return,y)}try{yr(5,e,e.return)}catch(y){me(e,e.return,y)}}break;case 1:lt(t,e),ft(e),r&512&&n!==null&&zn(n,n.return);break;case 5:if(lt(t,e),ft(e),r&512&&n!==null&&zn(n,n.return),e.flags&32){var s=e.stateNode;try{Sr(s,"")}catch(y){me(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Mu(s,i),ll(a,o);var d=ll(a,i);for(o=0;o<u.length;o+=2){var p=u[o],g=u[o+1];p==="style"?Bu(s,g):p==="dangerouslySetInnerHTML"?Du(s,g):p==="children"?Sr(s,g):Xl(s,p,g,d)}switch(a){case"input":tl(s,i);break;case"textarea":Iu(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Ln(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Ln(s,!!i.multiple,i.defaultValue,!0):Ln(s,!!i.multiple,i.multiple?[]:"",!1))}s[Lr]=i}catch(y){me(e,e.return,y)}}break;case 6:if(lt(t,e),ft(e),r&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){me(e,e.return,y)}}break;case 3:if(lt(t,e),ft(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Er(t.containerInfo)}catch(y){me(e,e.return,y)}break;case 4:lt(t,e),ft(e);break;case 13:lt(t,e),ft(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Lo=ye())),r&4&&Wa(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Le=(d=Le)||p,lt(t,e),Le=d):lt(t,e),ft(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(I=e,p=e.child;p!==null;){for(g=I=p;I!==null;){switch(m=I,v=m.child,m.tag){case 0:case 11:case 14:case 15:yr(4,m,m.return);break;case 1:zn(m,m.return);var x=m.stateNode;if(typeof x.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(y){me(r,n,y)}}break;case 5:zn(m,m.return);break;case 22:if(m.memoizedState!==null){Va(g);continue}}v!==null?(v.return=m,I=v):Va(g)}p=p.sibling}e:for(p=null,g=e;;){if(g.tag===5){if(p===null){p=g;try{s=g.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=g.stateNode,u=g.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Fu("display",o))}catch(y){me(e,e.return,y)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(y){me(e,e.return,y)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:lt(t,e),ft(e),r&4&&Wa(e);break;case 21:break;default:lt(t,e),ft(e)}}function ft(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dd(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Sr(s,""),r.flags&=-33);var i=Ua(e);Il(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ua(e);Ml(e,a,o);break;default:throw Error(A(161))}}catch(u){me(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function hh(e,t,n){I=e,hd(e)}function hd(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var s=I,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||cs;if(!o){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Le;a=cs;var d=Le;if(cs=o,(Le=u)&&!d)for(I=s;I!==null;)o=I,u=o.child,o.tag===22&&o.memoizedState!==null?Ga(s):u!==null?(u.return=o,I=u):Ga(s);for(;i!==null;)I=i,hd(i),i=i.sibling;I=s,cs=a,Le=d}Ha(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,I=i):Ha(e)}}function Ha(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Le||li(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Le)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:ot(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Pa(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Pa(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Er(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Le||t.flags&512&&Tl(t)}catch(m){me(t,t.return,m)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function Va(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function Ga(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{li(4,t)}catch(u){me(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){me(t,s,u)}}var i=t.return;try{Tl(t)}catch(u){me(t,i,u)}break;case 5:var o=t.return;try{Tl(t)}catch(u){me(t,o,u)}}}catch(u){me(t,t.return,u)}if(t===e){I=null;break}var a=t.sibling;if(a!==null){a.return=t.return,I=a;break}I=t.return}}var mh=Math.ceil,Hs=At.ReactCurrentDispatcher,zo=At.ReactCurrentOwner,rt=At.ReactCurrentBatchConfig,Q=0,_e=null,je=null,Pe=0,qe=0,An=en(0),ke=0,Dr=null,hn=0,oi=0,Ao=0,xr=null,Ue=null,Lo=0,Hn=1/0,jt=null,Vs=!1,Ol=null,Qt=null,ds=!1,Bt=null,Gs=0,jr=0,Dl=null,ks=-1,Ss=0;function Ie(){return Q&6?ye():ks!==-1?ks:ks=ye()}function qt(e){return e.mode&1?Q&2&&Pe!==0?Pe&-Pe:Xf.transition!==null?(Ss===0&&(Ss=Xu()),Ss):(e=J,e!==0||(e=window.event,e=e===void 0?16:ic(e.type)),e):1}function dt(e,t,n,r){if(50<jr)throw jr=0,Dl=null,Error(A(185));Hr(e,n,r),(!(Q&2)||e!==_e)&&(e===_e&&(!(Q&2)&&(oi|=n),ke===4&&Dt(e,Pe)),Ge(e,r),n===1&&Q===0&&!(t.mode&1)&&(Hn=ye()+500,ri&&tn()))}function Ge(e,t){var n=e.callbackNode;Jp(e,t);var r=Rs(e,e===_e?Pe:0);if(r===0)n!==null&&ta(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ta(n),t===1)e.tag===0?Jf(Qa.bind(null,e)):Nc(Qa.bind(null,e)),Qf(function(){!(Q&6)&&tn()}),n=null;else{switch(Zu(r)){case 1:n=ro;break;case 4:n=Yu;break;case 16:n=Ps;break;case 536870912:n=Ju;break;default:n=Ps}n=kd(n,md.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function md(e,t){if(ks=-1,Ss=0,Q&6)throw Error(A(327));var n=e.callbackNode;if(On()&&e.callbackNode!==n)return null;var r=Rs(e,e===_e?Pe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Qs(e,r);else{t=r;var s=Q;Q|=2;var i=vd();(_e!==e||Pe!==t)&&(jt=null,Hn=ye()+500,un(e,t));do try{yh();break}catch(a){gd(e,a)}while(!0);vo(),Hs.current=i,Q=s,je!==null?t=0:(_e=null,Pe=0,t=ke)}if(t!==0){if(t===2&&(s=dl(e),s!==0&&(r=s,t=Fl(e,s))),t===1)throw n=Dr,un(e,0),Dt(e,r),Ge(e,ye()),n;if(t===6)Dt(e,r);else{if(s=e.current.alternate,!(r&30)&&!gh(s)&&(t=Qs(e,r),t===2&&(i=dl(e),i!==0&&(r=i,t=Fl(e,i))),t===1))throw n=Dr,un(e,0),Dt(e,r),Ge(e,ye()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(A(345));case 2:sn(e,Ue,jt);break;case 3:if(Dt(e,r),(r&130023424)===r&&(t=Lo+500-ye(),10<t)){if(Rs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=xl(sn.bind(null,e,Ue,jt),t);break}sn(e,Ue,jt);break;case 4:if(Dt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-ct(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*mh(r/1960))-r,10<r){e.timeoutHandle=xl(sn.bind(null,e,Ue,jt),r);break}sn(e,Ue,jt);break;case 5:sn(e,Ue,jt);break;default:throw Error(A(329))}}}return Ge(e,ye()),e.callbackNode===n?md.bind(null,e):null}function Fl(e,t){var n=xr;return e.current.memoizedState.isDehydrated&&(un(e,t).flags|=256),e=Qs(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&Bl(t)),e}function Bl(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function gh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!pt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dt(e,t){for(t&=~Ao,t&=~oi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ct(t),r=1<<n;e[n]=-1,t&=~r}}function Qa(e){if(Q&6)throw Error(A(327));On();var t=Rs(e,0);if(!(t&1))return Ge(e,ye()),null;var n=Qs(e,t);if(e.tag!==0&&n===2){var r=dl(e);r!==0&&(t=r,n=Fl(e,r))}if(n===1)throw n=Dr,un(e,0),Dt(e,t),Ge(e,ye()),n;if(n===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,sn(e,Ue,jt),Ge(e,ye()),null}function $o(e,t){var n=Q;Q|=1;try{return e(t)}finally{Q=n,Q===0&&(Hn=ye()+500,ri&&tn())}}function mn(e){Bt!==null&&Bt.tag===0&&!(Q&6)&&On();var t=Q;Q|=1;var n=rt.transition,r=J;try{if(rt.transition=null,J=1,e)return e()}finally{J=r,rt.transition=n,Q=t,!(Q&6)&&tn()}}function To(){qe=An.current,le(An)}function un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Gf(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(ho(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ts();break;case 3:Un(),le(He),le($e),So();break;case 5:ko(r);break;case 4:Un();break;case 13:le(de);break;case 19:le(de);break;case 10:yo(r.type._context);break;case 22:case 23:To()}n=n.return}if(_e=e,je=e=Kt(e.current,null),Pe=qe=t,ke=0,Dr=null,Ao=oi=hn=0,Ue=xr=null,on!==null){for(t=0;t<on.length;t++)if(n=on[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}on=null}return e}function gd(e,t){do{var n=je;try{if(vo(),xs.current=Ws,Us){for(var r=pe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Us=!1}if(fn=0,Ce=we=pe=null,vr=!1,Mr=0,zo.current=null,n===null||n.return===null){ke=1,Dr=t,je=null;break}e:{var i=e,o=n.return,a=n,u=t;if(t=Pe,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,p=a,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=Ta(o);if(v!==null){v.flags&=-257,Ma(v,o,a,i,t),v.mode&1&&$a(i,d,t),t=v,u=d;var x=t.updateQueue;if(x===null){var y=new Set;y.add(u),t.updateQueue=y}else x.add(u);break e}else{if(!(t&1)){$a(i,d,t),Mo();break e}u=Error(A(426))}}else if(ue&&a.mode&1){var j=Ta(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Ma(j,o,a,i,t),mo(Wn(u,a));break e}}i=u=Wn(u,a),ke!==4&&(ke=2),xr===null?xr=[i]:xr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var h=Zc(i,u,t);Ea(i,h);break e;case 1:a=u;var c=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof c.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Qt===null||!Qt.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=ed(i,a,t);Ea(i,w);break e}}i=i.return}while(i!==null)}xd(n)}catch(k){t=k,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function vd(){var e=Hs.current;return Hs.current=Ws,e===null?Ws:e}function Mo(){(ke===0||ke===3||ke===2)&&(ke=4),_e===null||!(hn&268435455)&&!(oi&268435455)||Dt(_e,Pe)}function Qs(e,t){var n=Q;Q|=2;var r=vd();(_e!==e||Pe!==t)&&(jt=null,un(e,t));do try{vh();break}catch(s){gd(e,s)}while(!0);if(vo(),Q=n,Hs.current=r,je!==null)throw Error(A(261));return _e=null,Pe=0,ke}function vh(){for(;je!==null;)yd(je)}function yh(){for(;je!==null&&!Up();)yd(je)}function yd(e){var t=wd(e.alternate,e,qe);e.memoizedProps=e.pendingProps,t===null?xd(e):je=t,zo.current=null}function xd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=dh(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,je=null;return}}else if(n=ch(n,t,qe),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);ke===0&&(ke=5)}function sn(e,t,n){var r=J,s=rt.transition;try{rt.transition=null,J=1,xh(e,t,n,r)}finally{rt.transition=s,J=r}return null}function xh(e,t,n,r){do On();while(Bt!==null);if(Q&6)throw Error(A(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Xp(e,i),e===_e&&(je=_e=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ds||(ds=!0,kd(Ps,function(){return On(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=rt.transition,rt.transition=null;var o=J;J=1;var a=Q;Q|=4,zo.current=null,fh(e,n),fd(n,e),Ff(vl),zs=!!gl,vl=gl=null,e.current=n,hh(n),Wp(),Q=a,J=o,rt.transition=i}else e.current=n;if(ds&&(ds=!1,Bt=e,Gs=s),i=e.pendingLanes,i===0&&(Qt=null),Gp(n.stateNode),Ge(e,ye()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vs)throw Vs=!1,e=Ol,Ol=null,e;return Gs&1&&e.tag!==0&&On(),i=e.pendingLanes,i&1?e===Dl?jr++:(jr=0,Dl=e):jr=0,tn(),null}function On(){if(Bt!==null){var e=Zu(Gs),t=rt.transition,n=J;try{if(rt.transition=null,J=16>e?16:e,Bt===null)var r=!1;else{if(e=Bt,Bt=null,Gs=0,Q&6)throw Error(A(331));var s=Q;for(Q|=4,I=e.current;I!==null;){var i=I,o=i.child;if(I.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var d=a[u];for(I=d;I!==null;){var p=I;switch(p.tag){case 0:case 11:case 15:yr(8,p,i)}var g=p.child;if(g!==null)g.return=p,I=g;else for(;I!==null;){p=I;var m=p.sibling,v=p.return;if(cd(p),p===d){I=null;break}if(m!==null){m.return=v,I=m;break}I=v}}}var x=i.alternate;if(x!==null){var y=x.child;if(y!==null){x.child=null;do{var j=y.sibling;y.sibling=null,y=j}while(y!==null)}}I=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,I=o;else e:for(;I!==null;){if(i=I,i.flags&2048)switch(i.tag){case 0:case 11:case 15:yr(9,i,i.return)}var h=i.sibling;if(h!==null){h.return=i.return,I=h;break e}I=i.return}}var c=e.current;for(I=c;I!==null;){o=I;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,I=f;else e:for(o=c;I!==null;){if(a=I,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:li(9,a)}}catch(k){me(a,a.return,k)}if(a===o){I=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,I=w;break e}I=a.return}}if(Q=s,tn(),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Xs,e)}catch{}r=!0}return r}finally{J=n,rt.transition=t}}return!1}function qa(e,t,n){t=Wn(n,t),t=Zc(e,t,1),e=Gt(e,t,1),t=Ie(),e!==null&&(Hr(e,1,t),Ge(e,t))}function me(e,t,n){if(e.tag===3)qa(e,e,n);else for(;t!==null;){if(t.tag===3){qa(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qt===null||!Qt.has(r))){e=Wn(n,e),e=ed(t,e,1),t=Gt(t,e,1),e=Ie(),t!==null&&(Hr(t,1,e),Ge(t,e));break}}t=t.return}}function jh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Pe&n)===n&&(ke===4||ke===3&&(Pe&130023424)===Pe&&500>ye()-Lo?un(e,0):Ao|=n),Ge(e,t)}function jd(e,t){t===0&&(e.mode&1?(t=ts,ts<<=1,!(ts&130023424)&&(ts=4194304)):t=1);var n=Ie();e=Rt(e,t),e!==null&&(Hr(e,t,n),Ge(e,n))}function wh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jd(e,n)}function kh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(t),jd(e,n)}var wd;wd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,uh(e,t,n);We=!!(e.flags&131072)}else We=!1,ue&&t.flags&1048576&&Cc(t,Os,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ws(e,t),e=t.pendingProps;var s=Fn(t,$e.current);In(t,n),s=Co(null,t,r,e,s,n);var i=_o();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ve(r)?(i=!0,Ms(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jo(t),s.updater=ii,t.stateNode=s,s._reactInternals=t,_l(t,r,e,n),t=Rl(null,t,r,!0,i,n)):(t.tag=0,ue&&i&&fo(t),Me(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ws(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Nh(r),e=ot(r,e),s){case 0:t=Pl(null,t,r,e,n);break e;case 1:t=Da(null,t,r,e,n);break e;case 11:t=Ia(null,t,r,e,n);break e;case 14:t=Oa(null,t,r,ot(r.type,e),n);break e}throw Error(A(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),Pl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),Da(e,t,r,s,n);case 3:e:{if(sd(t),e===null)throw Error(A(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Ac(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Wn(Error(A(423)),t),t=Fa(e,t,r,n,s);break e}else if(r!==s){s=Wn(Error(A(424)),t),t=Fa(e,t,r,n,s);break e}else for(Ke=Vt(t.stateNode.containerInfo.firstChild),Ye=t,ue=!0,ut=null,n=Rc(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bn(),r===s){t=zt(e,t,n);break e}Me(e,t,r,n)}t=t.child}return t;case 5:return Lc(t),e===null&&Sl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,yl(r,s)?o=null:i!==null&&yl(r,i)&&(t.flags|=32),rd(e,t),Me(e,t,o,n),t.child;case 6:return e===null&&Sl(t),null;case 13:return id(e,t,n);case 4:return wo(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=bn(t,null,r,n):Me(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),Ia(e,t,r,s,n);case 7:return Me(e,t,t.pendingProps,n),t.child;case 8:return Me(e,t,t.pendingProps.children,n),t.child;case 12:return Me(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,se(Ds,r._currentValue),r._currentValue=o,i!==null)if(pt(i.value,o)){if(i.children===s.children&&!He.current){t=zt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=_t(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Nl(i.return,n,t),a.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(A(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Nl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Me(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,In(t,n),s=st(s),r=r(s),t.flags|=1,Me(e,t,r,n),t.child;case 14:return r=t.type,s=ot(r,t.pendingProps),s=ot(r.type,s),Oa(e,t,r,s,n);case 15:return td(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:ot(r,s),ws(e,t),t.tag=1,Ve(r)?(e=!0,Ms(t)):e=!1,In(t,n),Xc(t,r,s),_l(t,r,s,n),Rl(null,t,r,!0,e,n);case 19:return ld(e,t,n);case 22:return nd(e,t,n)}throw Error(A(156,t.tag))};function kd(e,t){return Ku(e,t)}function Sh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(e,t,n,r){return new Sh(e,t,n,r)}function Io(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Nh(e){if(typeof e=="function")return Io(e)?1:0;if(e!=null){if(e=e.$$typeof,e===eo)return 11;if(e===to)return 14}return 2}function Kt(e,t){var n=e.alternate;return n===null?(n=nt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ns(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Io(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case wn:return cn(n.children,s,i,t);case Zl:o=8,s|=8;break;case Yi:return e=nt(12,n,t,s|2),e.elementType=Yi,e.lanes=i,e;case Ji:return e=nt(13,n,t,s),e.elementType=Ji,e.lanes=i,e;case Xi:return e=nt(19,n,t,s),e.elementType=Xi,e.lanes=i,e;case Lu:return ai(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zu:o=10;break e;case Au:o=9;break e;case eo:o=11;break e;case to:o=14;break e;case Mt:o=16,r=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=nt(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function cn(e,t,n,r){return e=nt(7,e,r,t),e.lanes=n,e}function ai(e,t,n,r){return e=nt(22,e,r,t),e.elementType=Lu,e.lanes=n,e.stateNode={isHidden:!1},e}function Ui(e,t,n){return e=nt(6,e,null,t),e.lanes=n,e}function Wi(e,t,n){return t=nt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ch(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Si(0),this.expirationTimes=Si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Oo(e,t,n,r,s,i,o,a,u){return e=new Ch(e,t,n,a,u),t===1?(t=1,i===!0&&(t|=8)):t=0,i=nt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jo(i),e}function _h(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Sd(e){if(!e)return Xt;e=e._reactInternals;e:{if(vn(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ve(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var n=e.type;if(Ve(n))return Sc(e,n,t)}return t}function Nd(e,t,n,r,s,i,o,a,u){return e=Oo(n,r,!0,e,s,i,o,a,u),e.context=Sd(null),n=e.current,r=Ie(),s=qt(n),i=_t(r,s),i.callback=t??null,Gt(n,i,s),e.current.lanes=s,Hr(e,s,r),Ge(e,r),e}function ui(e,t,n,r){var s=t.current,i=Ie(),o=qt(s);return n=Sd(n),t.context===null?t.context=n:t.pendingContext=n,t=_t(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Gt(s,t,o),e!==null&&(dt(e,s,o,i),ys(e,s,o)),o}function qs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ka(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Do(e,t){Ka(e,t),(e=e.alternate)&&Ka(e,t)}function Eh(){return null}var Cd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Fo(e){this._internalRoot=e}ci.prototype.render=Fo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));ui(e,t,null,null)};ci.prototype.unmount=Fo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mn(function(){ui(null,e,null,null)}),t[Pt]=null}};function ci(e){this._internalRoot=e}ci.prototype.unstable_scheduleHydration=function(e){if(e){var t=nc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&t!==0&&t<Ot[n].priority;n++);Ot.splice(n,0,e),n===0&&sc(e)}};function Bo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function di(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ya(){}function Ph(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=qs(o);i.call(d)}}var o=Nd(t,r,e,0,null,!1,!1,"",Ya);return e._reactRootContainer=o,e[Pt]=o.current,zr(e.nodeType===8?e.parentNode:e),mn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=qs(u);a.call(d)}}var u=Oo(e,0,!1,null,null,!1,!1,"",Ya);return e._reactRootContainer=u,e[Pt]=u.current,zr(e.nodeType===8?e.parentNode:e),mn(function(){ui(t,u,n,r)}),u}function pi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var u=qs(o);a.call(u)}}ui(t,o,e,s)}else o=Ph(n,t,e,s,r);return qs(o)}ec=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=cr(t.pendingLanes);n!==0&&(so(t,n|1),Ge(t,ye()),!(Q&6)&&(Hn=ye()+500,tn()))}break;case 13:mn(function(){var r=Rt(e,1);if(r!==null){var s=Ie();dt(r,e,1,s)}}),Do(e,1)}};io=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var n=Ie();dt(t,e,134217728,n)}Do(e,134217728)}};tc=function(e){if(e.tag===13){var t=qt(e),n=Rt(e,t);if(n!==null){var r=Ie();dt(n,e,t,r)}Do(e,t)}};nc=function(){return J};rc=function(e,t){var n=J;try{return J=e,t()}finally{J=n}};al=function(e,t,n){switch(t){case"input":if(tl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ni(r);if(!s)throw Error(A(90));Tu(r),tl(r,s)}}}break;case"textarea":Iu(e,n);break;case"select":t=n.value,t!=null&&Ln(e,!!n.multiple,t,!1)}};Wu=$o;Hu=mn;var Rh={usingClientEntryPoint:!1,Events:[Gr,Cn,ni,bu,Uu,$o]},or={findFiberByHostInstance:ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zh={bundleType:or.bundleType,version:or.version,rendererPackageName:or.rendererPackageName,rendererConfig:or.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:At.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qu(e),e===null?null:e.stateNode},findFiberByHostInstance:or.findFiberByHostInstance||Eh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ps.isDisabled&&ps.supportsFiber)try{Xs=ps.inject(zh),vt=ps}catch{}}Xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rh;Xe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bo(t))throw Error(A(200));return _h(e,t,null,n)};Xe.createRoot=function(e,t){if(!Bo(e))throw Error(A(299));var n=!1,r="",s=Cd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Oo(e,1,!1,null,null,n,!1,r,s),e[Pt]=t.current,zr(e.nodeType===8?e.parentNode:e),new Fo(t)};Xe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Qu(t),e=e===null?null:e.stateNode,e};Xe.flushSync=function(e){return mn(e)};Xe.hydrate=function(e,t,n){if(!di(t))throw Error(A(200));return pi(null,e,t,!0,n)};Xe.hydrateRoot=function(e,t,n){if(!Bo(e))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Cd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Nd(t,null,e,1,n??null,s,!1,i,o),e[Pt]=t.current,zr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ci(t)};Xe.render=function(e,t,n){if(!di(t))throw Error(A(200));return pi(null,e,t,!1,n)};Xe.unmountComponentAtNode=function(e){if(!di(e))throw Error(A(40));return e._reactRootContainer?(mn(function(){pi(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};Xe.unstable_batchedUpdates=$o;Xe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!di(n))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return pi(e,t,n,!1,r)};Xe.version="18.3.1-next-f1338f8080-20240426";function _d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_d)}catch(e){console.error(e)}}_d(),_u.exports=Xe;var Ah=_u.exports,Ja=Ah;qi.createRoot=Ja.createRoot,qi.hydrateRoot=Ja.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fr(){return Fr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fr.apply(this,arguments)}var bt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bt||(bt={}));const Xa="popstate";function Lh(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return bl("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ks(s)}return Th(t,n,null,e)}function fe(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ed(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $h(){return Math.random().toString(36).substr(2,8)}function Za(e,t){return{usr:e.state,key:e.key,idx:t}}function bl(e,t,n,r){return n===void 0&&(n=null),Fr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Jn(t):t,{state:n,key:t&&t.key||r||$h()})}function Ks(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Jn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Th(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=bt.Pop,u=null,d=p();d==null&&(d=0,o.replaceState(Fr({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function g(){a=bt.Pop;let j=p(),h=j==null?null:j-d;d=j,u&&u({action:a,location:y.location,delta:h})}function m(j,h){a=bt.Push;let c=bl(y.location,j,h);d=p()+1;let f=Za(c,d),w=y.createHref(c);try{o.pushState(f,"",w)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(w)}i&&u&&u({action:a,location:y.location,delta:1})}function v(j,h){a=bt.Replace;let c=bl(y.location,j,h);d=p();let f=Za(c,d),w=y.createHref(c);o.replaceState(f,"",w),i&&u&&u({action:a,location:y.location,delta:0})}function x(j){let h=s.location.origin!=="null"?s.location.origin:s.location.href,c=typeof j=="string"?j:Ks(j);return c=c.replace(/ $/,"%20"),fe(h,"No window.location.(origin|href) available to create URL for href: "+c),new URL(c,h)}let y={get action(){return a},get location(){return e(s,o)},listen(j){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Xa,g),u=j,()=>{s.removeEventListener(Xa,g),u=null}},createHref(j){return t(s,j)},createURL:x,encodeLocation(j){let h=x(j);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:m,replace:v,go(j){return o.go(j)}};return y}var eu;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(eu||(eu={}));function Mh(e,t,n){return n===void 0&&(n="/"),Ih(e,t,n)}function Ih(e,t,n,r){let s=typeof t=="string"?Jn(t):t,i=Vn(s.pathname||"/",n);if(i==null)return null;let o=Pd(e);Oh(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let d=qh(i);a=Gh(o[u],d)}return a}function Pd(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(fe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=Yt([r,u.relativePath]),p=n.concat(u);i.children&&i.children.length>0&&(fe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Pd(i.children,t,p,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Hh(d,i.index),routesMeta:p})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let u of Rd(i.path))s(i,o,u)}),t}function Rd(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Rd(r.join("/")),a=[];return a.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...o),a.map(u=>e.startsWith("/")&&u===""?"/":u)}function Oh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Vh(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Dh=/^:[\w-]+$/,Fh=3,Bh=2,bh=1,Uh=10,Wh=-2,tu=e=>e==="*";function Hh(e,t){let n=e.split("/"),r=n.length;return n.some(tu)&&(r+=Wh),t&&(r+=Bh),n.filter(s=>!tu(s)).reduce((s,i)=>s+(Dh.test(i)?Fh:i===""?bh:Uh),r)}function Vh(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Gh(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let u=r[a],d=a===r.length-1,p=i==="/"?t:t.slice(i.length)||"/",g=Ul({path:u.relativePath,caseSensitive:u.caseSensitive,end:d},p),m=u.route;if(!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Yt([i,g.pathname]),pathnameBase:Xh(Yt([i,g.pathnameBase])),route:m}),g.pathnameBase!=="/"&&(i=Yt([i,g.pathnameBase]))}return o}function Ul(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Qh(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,p,g)=>{let{paramName:m,isOptional:v}=p;if(m==="*"){let y=a[g]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const x=a[g];return v&&!x?d[m]=void 0:d[m]=(x||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function Qh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ed(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function qh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ed(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Kh(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Jn(e):e;return{pathname:n?n.startsWith("/")?n:Yh(n,t):t,search:Zh(r),hash:em(s)}}function Yh(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Hi(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Jh(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function bo(e,t){let n=Jh(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Uo(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Jn(e):(s=Fr({},e),fe(!s.pathname||!s.pathname.includes("?"),Hi("?","pathname","search",s)),fe(!s.pathname||!s.pathname.includes("#"),Hi("#","pathname","hash",s)),fe(!s.search||!s.search.includes("#"),Hi("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let g=t.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),g-=1;s.pathname=m.join("/")}a=g>=0?t[g]:"/"}let u=Kh(s,a),d=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}const Yt=e=>e.join("/").replace(/\/\/+/g,"/"),Xh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Zh=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,em=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function tm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zd=["post","put","patch","delete"];new Set(zd);const nm=["get",...zd];new Set(nm);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Br(){return Br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Br.apply(this,arguments)}const fi=R.createContext(null),Ad=R.createContext(null),Lt=R.createContext(null),hi=R.createContext(null),nn=R.createContext({outlet:null,matches:[],isDataRoute:!1}),Ld=R.createContext(null);function rm(e,t){let{relative:n}=t===void 0?{}:t;Xn()||fe(!1);let{basename:r,navigator:s}=R.useContext(Lt),{hash:i,pathname:o,search:a}=mi(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Yt([r,o])),s.createHref({pathname:u,search:a,hash:i})}function Xn(){return R.useContext(hi)!=null}function Zn(){return Xn()||fe(!1),R.useContext(hi).location}function $d(e){R.useContext(Lt).static||R.useLayoutEffect(e)}function Td(){let{isDataRoute:e}=R.useContext(nn);return e?gm():sm()}function sm(){Xn()||fe(!1);let e=R.useContext(fi),{basename:t,future:n,navigator:r}=R.useContext(Lt),{matches:s}=R.useContext(nn),{pathname:i}=Zn(),o=JSON.stringify(bo(s,n.v7_relativeSplatPath)),a=R.useRef(!1);return $d(()=>{a.current=!0}),R.useCallback(function(d,p){if(p===void 0&&(p={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let g=Uo(d,JSON.parse(o),i,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Yt([t,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[t,r,o,i,e])}function mi(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=R.useContext(Lt),{matches:s}=R.useContext(nn),{pathname:i}=Zn(),o=JSON.stringify(bo(s,r.v7_relativeSplatPath));return R.useMemo(()=>Uo(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function im(e,t){return lm(e,t)}function lm(e,t,n,r){Xn()||fe(!1);let{navigator:s}=R.useContext(Lt),{matches:i}=R.useContext(nn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let d=Zn(),p;if(t){var g;let j=typeof t=="string"?Jn(t):t;u==="/"||(g=j.pathname)!=null&&g.startsWith(u)||fe(!1),p=j}else p=d;let m=p.pathname||"/",v=m;if(u!=="/"){let j=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(j.length).join("/")}let x=Mh(e,{pathname:v}),y=dm(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},a,j.params),pathname:Yt([u,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?u:Yt([u,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),i,n,r);return t&&y?R.createElement(hi.Provider,{value:{location:Br({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:bt.Pop}},y):y}function om(){let e=mm(),t=tm(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:s},n):null,null)}const am=R.createElement(om,null);class um extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?R.createElement(nn.Provider,{value:this.props.routeContext},R.createElement(Ld.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cm(e){let{routeContext:t,match:n,children:r}=e,s=R.useContext(fi);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(nn.Provider,{value:t},r)}function dm(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let p=o.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);p>=0||fe(!1),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:m,errors:v}=n,x=g.route.loader&&m[g.route.id]===void 0&&(!v||v[g.route.id]===void 0);if(g.route.lazy||x){u=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,m)=>{let v,x=!1,y=null,j=null;n&&(v=a&&g.route.id?a[g.route.id]:void 0,y=g.route.errorElement||am,u&&(d<0&&m===0?(vm("route-fallback"),x=!0,j=null):d===m&&(x=!0,j=g.route.hydrateFallbackElement||null)));let h=t.concat(o.slice(0,m+1)),c=()=>{let f;return v?f=y:x?f=j:g.route.Component?f=R.createElement(g.route.Component,null):g.route.element?f=g.route.element:f=p,R.createElement(cm,{match:g,routeContext:{outlet:p,matches:h,isDataRoute:n!=null},children:f})};return n&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?R.createElement(um,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:c(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):c()},null)}var Md=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Md||{}),Id=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Id||{});function pm(e){let t=R.useContext(fi);return t||fe(!1),t}function fm(e){let t=R.useContext(Ad);return t||fe(!1),t}function hm(e){let t=R.useContext(nn);return t||fe(!1),t}function Od(e){let t=hm(),n=t.matches[t.matches.length-1];return n.route.id||fe(!1),n.route.id}function mm(){var e;let t=R.useContext(Ld),n=fm(),r=Od();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function gm(){let{router:e}=pm(Md.UseNavigateStable),t=Od(Id.UseNavigateStable),n=R.useRef(!1);return $d(()=>{n.current=!0}),R.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Br({fromRouteId:t},i)))},[e,t])}const nu={};function vm(e,t,n){nu[e]||(nu[e]=!0)}function ym(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function xm(e){let{to:t,replace:n,state:r,relative:s}=e;Xn()||fe(!1);let{future:i,static:o}=R.useContext(Lt),{matches:a}=R.useContext(nn),{pathname:u}=Zn(),d=Td(),p=Uo(t,bo(a,i.v7_relativeSplatPath),u,s==="path"),g=JSON.stringify(p);return R.useEffect(()=>d(JSON.parse(g),{replace:n,state:r,relative:s}),[d,g,s,n,r]),null}function xn(e){fe(!1)}function jm(e){let{basename:t="/",children:n=null,location:r,navigationType:s=bt.Pop,navigator:i,static:o=!1,future:a}=e;Xn()&&fe(!1);let u=t.replace(/^\/*/,"/"),d=R.useMemo(()=>({basename:u,navigator:i,static:o,future:Br({v7_relativeSplatPath:!1},a)}),[u,a,i,o]);typeof r=="string"&&(r=Jn(r));let{pathname:p="/",search:g="",hash:m="",state:v=null,key:x="default"}=r,y=R.useMemo(()=>{let j=Vn(p,u);return j==null?null:{location:{pathname:j,search:g,hash:m,state:v,key:x},navigationType:s}},[u,p,g,m,v,x,s]);return y==null?null:R.createElement(Lt.Provider,{value:d},R.createElement(hi.Provider,{children:n,value:y}))}function wm(e){let{children:t,location:n}=e;return im(Wl(t),n)}new Promise(()=>{});function Wl(e,t){t===void 0&&(t=[]);let n=[];return R.Children.forEach(e,(r,s)=>{if(!R.isValidElement(r))return;let i=[...t,s];if(r.type===R.Fragment){n.push.apply(n,Wl(r.props.children,i));return}r.type!==xn&&fe(!1),!r.props.index||!r.props.children||fe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Wl(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ys(){return Ys=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ys.apply(this,arguments)}function Dd(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function km(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Sm(e,t){return e.button===0&&(!t||t==="_self")&&!km(e)}const Nm=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Cm=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],_m="6";try{window.__reactRouterVersion=_m}catch{}const Em=R.createContext({isTransitioning:!1}),Pm="startTransition",ru=xp[Pm];function Rm(e){let{basename:t,children:n,future:r,window:s}=e,i=R.useRef();i.current==null&&(i.current=Lh({window:s,v5Compat:!0}));let o=i.current,[a,u]=R.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},p=R.useCallback(g=>{d&&ru?ru(()=>u(g)):u(g)},[u,d]);return R.useLayoutEffect(()=>o.listen(p),[o,p]),R.useEffect(()=>ym(r),[r]),R.createElement(jm,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const zm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Am=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lm=R.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:u,to:d,preventScrollReset:p,viewTransition:g}=t,m=Dd(t,Nm),{basename:v}=R.useContext(Lt),x,y=!1;if(typeof d=="string"&&Am.test(d)&&(x=d,zm))try{let f=new URL(window.location.href),w=d.startsWith("//")?new URL(f.protocol+d):new URL(d),k=Vn(w.pathname,v);w.origin===f.origin&&k!=null?d=k+w.search+w.hash:y=!0}catch{}let j=rm(d,{relative:s}),h=Mm(d,{replace:o,state:a,target:u,preventScrollReset:p,relative:s,viewTransition:g});function c(f){r&&r(f),f.defaultPrevented||h(f)}return R.createElement("a",Ys({},m,{href:x||j,onClick:y||i?r:c,ref:n,target:u}))}),$m=R.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:d,children:p}=t,g=Dd(t,Cm),m=mi(u,{relative:g.relative}),v=Zn(),x=R.useContext(Ad),{navigator:y,basename:j}=R.useContext(Lt),h=x!=null&&Im(m)&&d===!0,c=y.encodeLocation?y.encodeLocation(m).pathname:m.pathname,f=v.pathname,w=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;s||(f=f.toLowerCase(),w=w?w.toLowerCase():null,c=c.toLowerCase()),w&&j&&(w=Vn(w,j)||w);const k=c!=="/"&&c.endsWith("/")?c.length-1:c.length;let E=f===c||!o&&f.startsWith(c)&&f.charAt(k)==="/",C=w!=null&&(w===c||!o&&w.startsWith(c)&&w.charAt(c.length)==="/"),T={isActive:E,isPending:C,isTransitioning:h},M=E?r:void 0,P;typeof i=="function"?P=i(T):P=[i,E?"active":null,C?"pending":null,h?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(T):a;return R.createElement(Lm,Ys({},g,{"aria-current":M,className:P,ref:n,style:V,to:u,viewTransition:d}),typeof p=="function"?p(T):p)});var Hl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Hl||(Hl={}));var su;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(su||(su={}));function Tm(e){let t=R.useContext(fi);return t||fe(!1),t}function Mm(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,u=Td(),d=Zn(),p=mi(e,{relative:o});return R.useCallback(g=>{if(Sm(g,n)){g.preventDefault();let m=r!==void 0?r:Ks(d)===Ks(p);u(e,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,u,p,r,s,n,e,i,o,a])}function Im(e,t){t===void 0&&(t={});let n=R.useContext(Em);n==null&&fe(!1);let{basename:r}=Tm(Hl.useViewTransitionState),s=mi(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Vn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Vn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ul(s.pathname,o)!=null||Ul(s.pathname,i)!=null}const Om={},iu=e=>{let t;const n=new Set,r=(p,g)=>{const m=typeof p=="function"?p(t):p;if(!Object.is(m,t)){const v=t;t=g??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(x=>x(t,v))}},s=()=>t,u={setState:r,getState:s,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(Om?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,s,u);return u},Dm=e=>e?iu(e):iu;var Fd={exports:{}},Bd={},bd={exports:{}},Ud={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gn=R;function Fm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Bm=typeof Object.is=="function"?Object.is:Fm,bm=Gn.useState,Um=Gn.useEffect,Wm=Gn.useLayoutEffect,Hm=Gn.useDebugValue;function Vm(e,t){var n=t(),r=bm({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return Wm(function(){s.value=n,s.getSnapshot=t,Vi(s)&&i({inst:s})},[e,n,t]),Um(function(){return Vi(s)&&i({inst:s}),e(function(){Vi(s)&&i({inst:s})})},[e]),Hm(n),n}function Vi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Bm(e,n)}catch{return!0}}function Gm(e,t){return t()}var Qm=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Gm:Vm;Ud.useSyncExternalStore=Gn.useSyncExternalStore!==void 0?Gn.useSyncExternalStore:Qm;bd.exports=Ud;var qm=bd.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gi=R,Km=qm;function Ym(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jm=typeof Object.is=="function"?Object.is:Ym,Xm=Km.useSyncExternalStore,Zm=gi.useRef,eg=gi.useEffect,tg=gi.useMemo,ng=gi.useDebugValue;Bd.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=Zm(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=tg(function(){function u(v){if(!d){if(d=!0,p=v,v=r(v),s!==void 0&&o.hasValue){var x=o.value;if(s(x,v))return g=x}return g=v}if(x=g,Jm(p,v))return x;var y=r(v);return s!==void 0&&s(x,y)?(p=v,x):(p=v,g=y)}var d=!1,p,g,m=n===void 0?null:n;return[function(){return u(t())},m===null?void 0:function(){return u(m())}]},[t,n,r,s]);var a=Xm(e,i[0],i[1]);return eg(function(){o.hasValue=!0,o.value=a},[a]),ng(a),a};Fd.exports=Bd;var rg=Fd.exports;const sg=hu(rg),Wd={},{useDebugValue:ig}=Kl,{useSyncExternalStoreWithSelector:lg}=sg;let lu=!1;const og=e=>e;function ag(e,t=og,n){(Wd?"production":void 0)!=="production"&&n&&!lu&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),lu=!0);const r=lg(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return ig(r),r}const ug=e=>{(Wd?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Dm(e):e,n=(r,s)=>ag(t,r,s);return Object.assign(n,t),n},Hd=e=>ug,cg={};function dg(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=u=>u===null?null:JSON.parse(u,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const br=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return br(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return br(r)(n)}}}},pg=(e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:j=>j,version:0,merge:(j,h)=>({...h,...j}),...t},o=!1;const a=new Set,u=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return e((...j)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...j)},r,s);const p=br(i.serialize),g=()=>{const j=i.partialize({...r()});let h;const c=p({state:j,version:i.version}).then(f=>d.setItem(i.name,f)).catch(f=>{h=f});if(h)throw h;return c},m=s.setState;s.setState=(j,h)=>{m(j,h),g()};const v=e((...j)=>{n(...j),g()},r,s);let x;const y=()=>{var j;if(!d)return;o=!1,a.forEach(c=>c(r()));const h=((j=i.onRehydrateStorage)==null?void 0:j.call(i,r()))||void 0;return br(d.getItem.bind(d))(i.name).then(c=>{if(c)return i.deserialize(c)}).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==i.version){if(i.migrate)return i.migrate(c.state,c.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return c.state}).then(c=>{var f;return x=i.merge(c,(f=r())!=null?f:v),n(x,!0),g()}).then(()=>{h==null||h(x,void 0),o=!0,u.forEach(c=>c(x))}).catch(c=>{h==null||h(void 0,c)})};return s.persist={setOptions:j=>{i={...i,...j},j.getStorage&&(d=j.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:j=>(a.add(j),()=>{a.delete(j)}),onFinishHydration:j=>(u.add(j),()=>{u.delete(j)})},y(),x||v},fg=(e,t)=>(n,r,s)=>{let i={storage:dg(()=>localStorage),partialize:y=>y,version:0,merge:(y,j)=>({...j,...y}),...t},o=!1;const a=new Set,u=new Set;let d=i.storage;if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},r,s);const p=()=>{const y=i.partialize({...r()});return d.setItem(i.name,{state:y,version:i.version})},g=s.setState;s.setState=(y,j)=>{g(y,j),p()};const m=e((...y)=>{n(...y),p()},r,s);s.getInitialState=()=>m;let v;const x=()=>{var y,j;if(!d)return;o=!1,a.forEach(c=>{var f;return c((f=r())!=null?f:m)});const h=((j=i.onRehydrateStorage)==null?void 0:j.call(i,(y=r())!=null?y:m))||void 0;return br(d.getItem.bind(d))(i.name).then(c=>{if(c)if(typeof c.version=="number"&&c.version!==i.version){if(i.migrate)return[!0,i.migrate(c.state,c.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,c.state];return[!1,void 0]}).then(c=>{var f;const[w,k]=c;if(v=i.merge(k,(f=r())!=null?f:m),n(v,!0),w)return p()}).then(()=>{h==null||h(v,void 0),v=r(),o=!0,u.forEach(c=>c(v))}).catch(c=>{h==null||h(void 0,c)})};return s.persist={setOptions:y=>{i={...i,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>x(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(u.add(y),()=>{u.delete(y)})},i.skipHydration||x(),v||m},hg=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((cg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),pg(e,t)):fg(e,t),Vd=hg;class mg{constructor(){vi(this,"enabled",!1);vi(this,"storageKey","sidonia-analytics-buffer")}setEnabled(t){this.enabled=t,!(typeof window>"u")&&(t||this.clear())}track(t,n){if(typeof window>"u"||!this.enabled)return;const r={event:t,timestamp:new Date().toISOString(),data:n};try{const s=this.load();s.push(r),localStorage.setItem(this.storageKey,JSON.stringify(s)),console.info("[analytics]",r)}catch(s){console.warn("Analytics storage failed",s)}}getAll(){return typeof window>"u"?[]:this.load()}clear(){typeof window>"u"||localStorage.removeItem(this.storageKey)}load(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){return console.warn("Failed to read analytics buffer",t),[]}}}const G=new mg,gg="CodexRules!!!!!",gt=Hd()(Vd((e,t)=>({gmUnlocked:!1,gmUnlockedAt:null,analyticsConsent:"unknown",analyticsNotified:!1,authenticateGm:n=>n.trim().toUpperCase()===gg?(e({gmUnlocked:!0,gmUnlockedAt:new Date().toISOString()}),G.track("gm.unlocked",{}),!0):(G.track("gm.failed_auth",{attempt:n.trim().length}),!1),lockGm:()=>e({gmUnlocked:!1,gmUnlockedAt:null}),setAnalyticsConsent:n=>{e({analyticsConsent:n?"accepted":"declined"}),G.setEnabled(n),G.track("analytics.consent",{granted:n})},markAnalyticsNotified:()=>e({analyticsNotified:!0})}),{name:"sidonia-session-state",version:1,migrate:e=>({gmUnlocked:!1,gmUnlockedAt:null,analyticsConsent:(e==null?void 0:e.analyticsConsent)??"unknown",analyticsNotified:!1})}));function vg(){const e=gt(s=>s.analyticsConsent),t=gt(s=>s.analyticsNotified),n=gt(s=>s.setAnalyticsConsent),r=gt(s=>s.markAnalyticsNotified);return e!=="unknown"||t?null:l.jsxs("aside",{className:"analytics-banner",role:"dialog","aria-live":"polite",children:[l.jsxs("div",{children:[l.jsx("h3",{children:"Help Improve Sidonia"}),l.jsx("p",{children:"We collect anonymous usage patterns (no personal data) to refine the priority flow and uncover confusing choices. You can opt out and still use the builder—no pressure."})]}),l.jsxs("div",{className:"analytics-banner__actions",children:[l.jsx("button",{type:"button",onClick:()=>n(!0),children:"Share Anonymous Data"}),l.jsx("button",{type:"button",className:"secondary",onClick:()=>n(!1),children:"No Thanks"}),l.jsx("button",{type:"button",className:"dismiss",onClick:r,children:"Remind Me Later"})]})]})}async function wt(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.status} ${t.statusText}`);const n=await t.text();try{return JSON.parse(n)}catch(r){throw new Error(`Failed to parse JSON from ${e}: ${r.message}`)}}async function yg(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.status} ${t.statusText}`);return await t.text()}const xg={automata:"/data/Sidonia-Powers-Schema-Automata.Json",chimera:"/data/Sidonia-Powers-Schema-Chimera.Json",espers:"/data/Sidonia-Powers-Schema-Espers.Json",neosapiens:"/data/Sidonia-Powers-Schema-NeoSapiens.Json",sorcery:"/data/Sidonia-Powers-Schema-Sorcery.Json"},jg={automata:"/data/powers-automata.json",chimera:"/data/powers-chimera.json",esper:"/data/powers-espers.json",neosapien:"/data/powers-neosapien.json",sorcery:"/data/powers-sorcery.json"},wg=[{id:"lineage-architecture",title:"Lineage Architecture",path:"/content/lineage-architecture.md"},{id:"design-philosophy",title:"Sidonia Design Philosophy",path:"/content/sidonia-design-philosophy.md"},{id:"resources-system",title:"Resources System Overview",path:"/content/sidonia-resources-system.md"}];async function kg(){const[e,t,n,r,s,i,o,a,u,d]=await Promise.all([wt("/data/backgrounds.json"),wt("/data/Sidonia-Skills.Json"),wt("/data/resources-system.json"),wt("/data/resource-costs.json"),wt("/data/legal.json"),Sg(),Ng(),wt("/data/attributes.json"),wt("/data/character-sheet-structure.json"),Pg()]),p=_g(a),g=Eg(u);return{backgrounds:e,skills:t,resources:n,resourceCosts:r,legal:s,powerSchemas:i,powerSets:o,attributes:p,characterSheet:g,designDocs:d}}async function Sg(){const e=await Promise.all(Object.entries(xg).map(async([t,n])=>{const r=await wt(n);return[t,r]}));return Object.fromEntries(e)}async function Ng(){const e=Object.entries(jg).map(async([r,s])=>{const i=r,o=await wt(s);return[i,Cg(i,o)]}),t=await Promise.allSettled(e),n=[];return t.forEach(r=>{r.status==="fulfilled"?n.push(r.value):console.warn("[sidonia] Failed to load lineage power data:",r.reason)}),Object.fromEntries(n)}function Cg(e,t){const n={...t};return"lineage"in n||(n.lineage=e),n.lineageId=e,n}function _g(e){return e&&typeof e=="object"&&"attributes"in e?e.attributes:e}function Eg(e){return e&&typeof e=="object"&&"characterSheet"in e?e.characterSheet:e}async function Pg(){return await Promise.all(wg.map(async t=>{const n=await yg(t.path);return{...t,content:n}}))}const Gd=R.createContext(void 0);function Rg({children:e}){const[t,n]=R.useState(null),[r,s]=R.useState("idle"),[i,o]=R.useState(null),a=R.useCallback(async()=>{s("loading"),o(null);try{const d=await kg();n(d),s("ready")}catch(d){s("error"),o(d instanceof Error?d.message:"Unknown data loading error")}},[]);R.useEffect(()=>{a()},[a]);const u=R.useMemo(()=>({data:t,status:r,error:i,refresh:a}),[t,r,i,a]);return l.jsx(Gd.Provider,{value:u,children:e})}function qr(){const e=R.useContext(Gd);if(!e)throw new Error("useCharacterData must be used within a DataProvider");return e}function zg(){var n,r;const{data:e}=qr(),t=(n=e==null?void 0:e.legal)==null?void 0:n.copyright;return!t||((r=t.display)==null?void 0:r.footer)===!1?null:l.jsxs("footer",{className:"legal-footer","aria-label":"Legal notice",role:"contentinfo",children:[l.jsx("span",{className:"legal-footer__text",children:t.text}),t.licenseUrl?l.jsx("a",{href:t.licenseUrl,target:"_blank",rel:"noreferrer",className:"legal-footer__link",children:t.license}):l.jsx("span",{className:"legal-footer__link",children:t.license})]})}const Ag=[{to:"/",label:"Experience"},{to:"/builder",label:"Character Builder"},{to:"/management",label:"Character Management"},{to:"/gm",label:"GM Veil"}];function Lg({children:e}){return l.jsxs("div",{className:"app-shell",children:[l.jsx("header",{className:"app-shell__header",children:l.jsxs("nav",{className:"app-shell__nav",children:[l.jsx("span",{className:"brand",children:"Sidonia: The Long Night"}),l.jsx("div",{className:"nav-links",children:Ag.map(t=>l.jsx($m,{to:t.to,className:({isActive:n})=>n?"nav-link active":"nav-link",end:!0,children:t.label},t.to))}),l.jsx("span",{className:"nav-meta",children:"Every choice demands a sacrifice"})]})}),l.jsx("main",{className:"app-shell__main",children:e}),l.jsx(zg,{}),l.jsx(vg,{})]})}function $g(){return l.jsxs("section",{children:[l.jsxs("header",{children:[l.jsx("h1",{children:"Character Creation as Descent"}),l.jsx("p",{children:"Step through Sidonia's dark wards with a guide that teaches while it tempts. Assign priorities, face the consequences, and build a persona that balances humanity, power, and the whispers of corruption."})]}),l.jsxs("div",{children:[l.jsx("p",{children:"Begin with the priority grid, explore lineage aesthetics, and unlock deeper mechanical truths only when you are ready to commit. Every page layers narrative first and detail second, ensuring newcomers learn through meaningful choice."}),l.jsx("p",{children:"Continue to the Character Builder to start a new dossier or revisit existing souls you are shepherding through the night."})]})]})}const Qd=[{key:"neosapien",name:"NeoSapien",tagline:"Engineered evolution for those who can pay the tithe.",summary:"The Forge Syndicates will rebuild you into the perfect instrument. Slots determine just how much metal, muscle, and lore they lace into your bones.",priorityImpacts:{A:"Nine augmentation slots; enough to rebuild your body and soul with top-tier Forge miracles.",B:"Seven slots; you are an elite prototype with room to grow.",C:"Six slots; respectable upgrades with compromises lingering beneath the chrome.",D:"Four slots; hand-me-down mods and a favor owed to the Syndicate.",E:"Two slots; scrap work that barely keeps you alive."},narrativeHook:"NeoSapiens look immaculate, but every graft is a debt. Each upgrade ties you tighter to the Forge Families who own the patent on your blood.",gmWhisper:"Every augmentation has a corruption drip. Track how many slots are filled to calibrate the player-facing warning meter.",aesthetic:{accent:"#87f5ff",glow:"linear-gradient(135deg, rgba(120, 220, 255, 0.35), rgba(80, 140, 255, 0.2))",texture:"radial-gradient(circle at 50% 10%, rgba(120, 220, 255, 0.2), transparent 60%)"}},{key:"sorcery",name:"Sorcerer",tagline:"Scholar of the Veil, wielding codified miracles in whispers.",summary:"You read forbidden grimoires in the glow of dying streetlamps. Priorities determine how many spheres you command and how many moves you can safely inscribe.",priorityImpacts:{A:"Primary + 2 Secondary spheres, five total moves etched into your soul.",B:"Primary + Secondary pairing with four rote moves; the classic cabal initiate.",C:"Choose one Primary or two Secondary spheres, three moves scrawled in desperate ink.",D:"One secondary sphere and two moves; a dabbler who still owes their mentor.",E:"One secondary sphere, one move, hope you can bluff the rest."},narrativeHook:"Sorcerers hide sigils within noir newsprint and breathe equations of power. The more spheres you command, the more the city notices.",gmWhisper:"Each move should have a listed cost; use the assigned priority to determine how harsh to set complications.",aesthetic:{accent:"#ffb347",glow:"linear-gradient(160deg, rgba(255, 190, 92, 0.35), rgba(255, 80, 60, 0.25))",texture:"radial-gradient(circle at 70% 30%, rgba(255, 180, 90, 0.18), transparent 60%)"}},{key:"esper",name:"Esper",tagline:"Innate psionics that turn thought into weaponry.",summary:"Gifted at birth or cursed in the womb, Espers bend the city with their minds. Priority sets how refined the template becomes.",priorityImpacts:{A:"Esper Mentalist hybrid — access to both archetype trees from session one.",B:"Esper Prodigy template. Two evolutionary steps unlocked before play.",C:"Mentalist-only channel with powerful focus but brittle sanity.",D:"Gifted Esper who can evolve once with training.",E:"Base Esper template; raw talent that still sputters."},narrativeHook:"Their dreams leak into waking life. Neon bleeds, strangers hear your thoughts, and the city clerk who stamped your ID can suddenly smell the aether.",gmWhisper:"Corruption spikes when Espers overclock. Use template level to gauge safe usage before fractures appear.",aesthetic:{accent:"#f78bff",glow:"linear-gradient(120deg, rgba(255, 120, 220, 0.35), rgba(110, 90, 255, 0.25))",texture:"radial-gradient(circle at 20% 80%, rgba(255, 120, 220, 0.2), transparent 55%)"}},{key:"chimera",name:"Chimera",tagline:"Mutations granted by the city’s warring ecosystems.",summary:"You trade humanity for adaptation. Mutation points dictate how many horrors you can graft into your flesh.",priorityImpacts:{A:"Seven mutation points. Become the chimera the wards whisper about.",B:"Five points. The change is obvious, but you can still pass after midnight.",C:"Four points. Enough to gain an edge while keeping a human silhouette.",D:"Three points. Side-effects and stigma follow closely.",E:"Two points. Tattoos of corruption hidden beneath borrowed coats."},narrativeHook:"Chimeras owe fealty to ward totems and feral ecologies. The more points you spend, the more the wild claims you.",gmWhisper:"Mutation tiers should map to resource availability; track total points for corruption bleed-through.",aesthetic:{accent:"#7cff91",glow:"linear-gradient(200deg, rgba(120, 255, 160, 0.35), rgba(40, 180, 120, 0.25))",texture:"radial-gradient(circle at 15% 20%, rgba(120, 255, 160, 0.18), transparent 60%)"}},{key:"automata",name:"Automata",tagline:"Synthetic souls housed in perfected shells.",summary:"You are a machine built for purpose. Priority sets the chassis quality and the branches unlocked.",priorityImpacts:{A:"Imperial chassis with Overseer/Soldier branches unlocked and sovereign protocols.",B:"Advanced military shell; twin branches with limited imperial overrides.",C:"Baseline chassis with soldier safeguards still intact.",D:"Advanced worker frame engineered for hazardous labor.",E:"Basic worker frame, easily replaced… and easily overlooked."},narrativeHook:"Automata can swap plating like trench coats. Memory scrubbing is compulsory after each refit.",gmWhisper:"Track how many branches the player exposes. GM mode should reveal firmware locks hidden from the player view.",aesthetic:{accent:"#5ad1ff",glow:"linear-gradient(150deg, rgba(90, 210, 255, 0.35), rgba(40, 80, 200, 0.25))",texture:"radial-gradient(circle at 80% 20%, rgba(90, 210, 255, 0.2), transparent 60%)"}}];function qd(e){return e?Qd.find(t=>t.key===e)??null:null}function Tg({build:e,onUpdate:t}){if(!e)return null;const{profile:n,updatedAt:r}=e;return l.jsxs("section",{className:"profile-card",children:[l.jsxs("header",{children:[l.jsx("h2",{children:"Character Dossier"}),l.jsxs("span",{className:"profile-card__timestamp",children:["Auto-saved ",new Date(r).toLocaleString()]})]}),l.jsxs("div",{className:"profile-card__layout",children:[l.jsxs("div",{className:"profile-card__details",children:[l.jsxs("div",{className:"profile-card__grid",children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Name"}),l.jsx("input",{value:n.name,onChange:s=>t({name:s.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Alias"}),l.jsx("input",{value:n.alias,onChange:s=>t({alias:s.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Pronouns"}),l.jsx("input",{value:n.pronouns,onChange:s=>t({pronouns:s.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Concept"}),l.jsx("input",{value:n.concept,placeholder:"Ex: Disgraced sorcerer moonlighting as a fixer",onChange:s=>t({concept:s.target.value})})]})]}),l.jsxs("label",{className:"field profile-card__summary",children:[l.jsx("span",{children:"Summary"}),l.jsx("textarea",{value:n.summary,placeholder:"High-level summary you can hand to a new player or GM.",onChange:s=>t({summary:s.target.value})})]}),l.jsxs("label",{className:"field profile-card__textarea",children:[l.jsx("span",{children:"Physical Description"}),l.jsx("textarea",{value:n.physicalDescription,placeholder:"How do they carry themselves? Distinguishing features?",onChange:s=>t({physicalDescription:s.target.value})})]}),l.jsxs("label",{className:"field profile-card__textarea",children:[l.jsx("span",{children:"Code"}),l.jsx("textarea",{value:n.code,placeholder:"What guiding principle can they not compromise?",onChange:s=>t({code:s.target.value})})]}),l.jsxs("div",{className:"profile-card__duo",children:[l.jsxs("label",{className:"field profile-card__textarea",children:[l.jsx("span",{children:"Line They Will Not Cross"}),l.jsx("textarea",{value:n.lineNotCrossed,placeholder:"The red line that defines them.",onChange:s=>t({lineNotCrossed:s.target.value})})]}),l.jsxs("label",{className:"field profile-card__textarea",children:[l.jsx("span",{children:"Temptation"}),l.jsx("textarea",{value:n.temptation,placeholder:"The lure that could make them fall.",onChange:s=>t({temptation:s.target.value})})]})]})]}),l.jsxs("aside",{className:"profile-card__portrait",children:[l.jsx("div",{className:"profile-card__portrait-frame",children:n.portraitUrl?l.jsx("img",{src:n.portraitUrl,alt:`${n.name||"Character"} portrait`}):l.jsx("span",{children:"Portrait Pending"})}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Portrait URL (optional)"}),l.jsx("input",{value:n.portraitUrl,onChange:s=>t({portraitUrl:s.target.value}),placeholder:"Link to artwork or leave blank"})]})]})]})]})}const St=["priorities","lineage","resources","background","skills","attributes","narrative"],ou={head:"Head",torso:"Torso",leftArm:"Left Arm",rightArm:"Right Arm",leftLeg:"Left Leg",rightLeg:"Right Leg"},Mg=()=>({lineage:null,resources:null,background:null,skills:null,attributes:null}),Ig=()=>({physique:0,intellect:0,presence:0}),Kd=()=>({physique:[],intellect:[],presence:[]}),Og=()=>({head:{current:3,max:3,scar:""},torso:{current:5,max:5,scar:""},leftArm:{current:4,max:4,scar:""},rightArm:{current:4,max:4,scar:""},leftLeg:{current:4,max:4,scar:""},rightLeg:{current:4,max:4,scar:""}}),Dg={A:3,B:2,C:2,D:1,E:0},Fg=e=>e?Dg[e]:0,Bg=()=>({name:"",alias:"",pronouns:"",concept:"",summary:"",physicalDescription:"",code:"",lineNotCrossed:"",temptation:"",portraitUrl:""}),Ur=()=>new Date().toISOString(),Tt=e=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${e}-${Math.random().toString(36).slice(2,9)}`,au=e=>{const t=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`sidonia-${Math.random().toString(36).slice(2,9)}`,n=Ur();return{id:t,label:e||"Unbound Persona",createdAt:n,updatedAt:n,stage:"priorities",profile:Bg(),priorities:Mg(),lineage:{key:null,notes:"",revealMechanics:!1,powers:[]},resources:{contacts:[],retainers:[],properties:[],goods:[],liquid:0,notes:""},background:{title:"",tierNotes:"",contacts:""},skills:{ratings:{},specializations:[],backgroundSpecialization:null,notes:""},attributes:{scores:Ig(),notes:"",specializations:Kd()},corruption:{current:0,warning:6,notes:""},advancement:{experience:0,track:"",milestones:""},health:Og(),narrative:{relationships:[],anchors:"",notes:""},gmNotes:""}},bg=e=>{const t=Ug(e),n=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`sidonia-${Math.random().toString(36).slice(2,9)}`,r=Ur();return{...t,id:n,label:`${e.label} (Copy)`,createdAt:r,updatedAt:r}},Ug=e=>typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e)),U=(e,t)=>{e(n=>{const r=n.activeBuildId;if(!r)return n;const s=n.builds[r];if(!s)return n;const i=t(s);return i.updatedAt=Ur(),{...n,builds:{...n.builds,[r]:i}}})},D=Hd()(Vd((e,t)=>({builds:{},activeBuildId:null,createBuild:n=>{const r=au(n);return e(s=>({builds:{...s.builds,[r.id]:r},activeBuildId:r.id})),r.id},ensureActiveBuild:()=>{const{activeBuildId:n}=t();return n&&t().builds[n]?n:t().createBuild()},setActiveBuild:n=>{t().builds[n]&&e({activeBuildId:n})},archiveBuild:n=>{e(r=>{const{[n]:s,...i}=r.builds;return{builds:i,activeBuildId:r.activeBuildId===n?null:r.activeBuildId}})},renameBuild:(n,r)=>{e(s=>{const i=s.builds[n];return i?{...s,builds:{...s.builds,[n]:{...i,label:r,updatedAt:Ur()}}}:s})},duplicateBuild:n=>{const{builds:r}=t(),s=r[n];if(!s)return null;const i=bg(s);return e(o=>({builds:{...o.builds,[i.id]:i},activeBuildId:i.id})),G.track("build.duplicated",{}),i.id},resetActiveBuild:()=>{e(n=>{const r=n.activeBuildId;if(!r)return n;const s=n.builds[r];if(!s)return n;const o={...au(s.label),id:r,createdAt:s.createdAt,updatedAt:Ur()};return G.track("build.reset",{}),{...n,builds:{...n.builds,[r]:o}}})},updateProfile:n=>{U(e,r=>({...r,profile:{...r.profile,...n}}))},assignPriority:(n,r)=>{U(e,s=>{const i={...s.priorities};return r&&Object.keys(i).forEach(o=>{o!==n&&i[o]===r&&(i[o]=null)}),i[n]=r,{...s,priorities:i}}),G.track(r?"priority.assigned":"priority.cleared",{category:n,rank:r})},setStage:n=>{U(e,r=>({...r,stage:n})),G.track("stage.changed",{stage:n})},nextStage:()=>{const{activeBuildId:n,builds:r}=t();if(!n)return;const s=r[n];if(!s)return;const i=St.indexOf(s.stage),o=St[Math.min(i+1,St.length-1)];t().setStage(o)},previousStage:()=>{const{activeBuildId:n,builds:r}=t();if(!n)return;const s=r[n];if(!s)return;const i=St.indexOf(s.stage),o=St[Math.max(i-1,0)];t().setStage(o)},selectLineage:n=>{U(e,r=>{const s=r.lineage.key===n&&n!==null;return{...r,lineage:{...r.lineage,key:n,revealMechanics:n?r.lineage.revealMechanics:!1,powers:s?r.lineage.powers:[]}}}),G.track("lineage.selected",{lineage:n})},toggleLineageReveal:()=>{U(e,n=>({...n,lineage:{...n.lineage,revealMechanics:!n.lineage.revealMechanics}})),G.track("lineage.reveal_toggled",{})},updateLineageNotes:n=>{U(e,r=>({...r,lineage:{...r.lineage,notes:n}}))},toggleLineagePower:n=>{U(e,r=>{var u,d;if(!r.lineage.key||r.lineage.key!==n.lineage)return r;const s=n.lineage==="esper",i=r.lineage.powers.some(p=>p.id===n.id),o=r.priorities.lineage??null;let a=r.lineage.powers;if(i){if(a=a.filter(p=>p.id!==n.id),s&&((u=n.meta)!=null&&u.root)){if(n.kind==="esper-archetype")a=a.filter(p=>{var g,m;return((g=p.meta)==null?void 0:g.root)!==((m=n.meta)==null?void 0:m.root)});else if((d=n.meta)!=null&&d.path){const p=n.meta.path.join("/");a=a.filter(g=>{var v,x,y,j;const m=((x=(v=g.meta)==null?void 0:v.path)==null?void 0:x.join("/"))??"";return((y=g.meta)==null?void 0:y.root)!==((j=n.meta)==null?void 0:j.root)||!m.startsWith(`${p}/`)})}}return{...r,lineage:{...r.lineage,powers:a}}}if(s){const p=n.meta??{},g=p.category;if(n.kind==="esper-archetype"){if(g==="esper-base"&&o==="C"||g==="esper-mentalist"&&!(o==="A"||o==="C"))return r;a=a.filter(m=>m.lineage!=="esper")}else{const m=p.root;if(!m)return r;const v=Fg(o);if((p.depth??0)>v||!a.some(j=>{var h;return j.kind==="esper-archetype"&&((h=j.meta)==null?void 0:h.root)===m}))return r}}return a=[...a,n],{...r,lineage:{...r.lineage,powers:a}}}),G.track("lineage.power_toggled",{id:n.id,lineage:n.lineage})},clearLineagePowers:()=>{U(e,n=>({...n,lineage:{...n.lineage,powers:[]}})),G.track("lineage.powers_cleared",{})},addContactResource:(n={})=>{const r={id:Tt("contact"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,reach:Math.min(Math.max(n.reach??0,0),10),influence:Math.min(Math.max(n.influence??0,0),10)};U(e,s=>({...s,resources:{...s.resources,contacts:[...s.resources.contacts,r]}})),G.track("resources.contact_added",{})},updateContactResource:(n,r)=>{U(e,s=>({...s,resources:{...s.resources,contacts:s.resources.contacts.map(i=>i.id===n?{...i,...r,reach:r.reach!==void 0?Math.min(Math.max(r.reach,0),10):i.reach,influence:r.influence!==void 0?Math.min(Math.max(r.influence,0),10):i.influence}:i)}}))},removeContactResource:n=>{U(e,r=>({...r,resources:{...r.resources,contacts:r.resources.contacts.filter(s=>s.id!==n)}}))},addRetainerResource:(n={})=>{const r={id:Tt("retainer"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,loyalty:Math.min(Math.max(n.loyalty??0,0),10),competence:Math.min(Math.max(n.competence??0,0),10)};U(e,s=>({...s,resources:{...s.resources,retainers:[...s.resources.retainers,r]}})),G.track("resources.retainer_added",{})},updateRetainerResource:(n,r)=>{U(e,s=>({...s,resources:{...s.resources,retainers:s.resources.retainers.map(i=>i.id===n?{...i,...r,loyalty:r.loyalty!==void 0?Math.min(Math.max(r.loyalty,0),10):i.loyalty,competence:r.competence!==void 0?Math.min(Math.max(r.competence,0),10):i.competence}:i)}}))},removeRetainerResource:n=>{U(e,r=>({...r,resources:{...r.resources,retainers:r.resources.retainers.filter(s=>s.id!==n)}}))},addPropertyResource:(n={})=>{const r={id:Tt("property"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,tenure:n.tenure??"",zoning:n.zoning??"",ward:n.ward??"",specialization:n.specialization??null};U(e,s=>({...s,resources:{...s.resources,properties:[...s.resources.properties,r]}})),G.track("resources.property_added",{})},updatePropertyResource:(n,r)=>{U(e,s=>({...s,resources:{...s.resources,properties:s.resources.properties.map(i=>i.id===n?{...i,...r}:i)}}))},removePropertyResource:n=>{U(e,r=>({...r,resources:{...r.resources,properties:r.resources.properties.filter(s=>s.id!==n)}}))},addGoodsResource:(n={})=>{const r={id:Tt("goods"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,quality:Math.min(Math.max(n.quality??0,0),10)};U(e,s=>({...s,resources:{...s.resources,goods:[...s.resources.goods,r]}})),G.track("resources.goods_added",{})},updateGoodsResource:(n,r)=>{U(e,s=>({...s,resources:{...s.resources,goods:s.resources.goods.map(i=>i.id===n?{...i,...r,quality:r.quality!==void 0?Math.min(Math.max(r.quality,0),10):i.quality}:i)}}))},removeGoodsResource:n=>{U(e,r=>({...r,resources:{...r.resources,goods:r.resources.goods.filter(s=>s.id!==n)}}))},setResourceLiquid:n=>{U(e,r=>({...r,resources:{...r.resources,liquid:Math.max(0,n)}})),G.track("resources.liquid_set",{value:n})},updateResourceNotes:n=>{U(e,r=>({...r,resources:{...r.resources,notes:n}}))},updateBackground:n=>{U(e,r=>{const s={...r.background,...n},i=typeof n.title=="string"&&n.title!==r.background.title;return{...r,background:s,skills:i?{...r.skills,backgroundSpecialization:null}:r.skills}})},setSkillRating:(n,r)=>{U(e,s=>({...s,skills:{...s.skills,ratings:{...s.skills.ratings,[n]:Math.max(0,r)}}})),G.track("skills.rating_set",{skillId:n,value:r})},toggleSkillSpecialization:n=>{U(e,r=>{const i=r.skills.specializations.some(o=>o.id===n.id)?r.skills.specializations.filter(o=>o.id!==n.id):[...r.skills.specializations,n];return{...r,skills:{...r.skills,specializations:i}}}),G.track("skills.specialization_toggled",{id:n.id,type:n.type})},removeSkillSpecialization:n=>{U(e,r=>({...r,skills:{...r.skills,specializations:r.skills.specializations.filter(s=>s.id!==n)}}))},addCustomSkillSpecialization:n=>{const r=n.trim();if(!r)return;const s={id:`custom-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,label:r,type:"custom",gmApproved:!1};U(e,i=>({...i,skills:{...i.skills,specializations:[...i.skills.specializations,s]}})),G.track("skills.custom_added",{})},markSkillSpecializationApproved:(n,r)=>{U(e,s=>({...s,skills:{...s.skills,specializations:s.skills.specializations.map(i=>i.id===n?{...i,gmApproved:r}:i)}}))},setBackgroundSkillSpecialization:n=>{U(e,r=>({...r,skills:{...r.skills,backgroundSpecialization:n}})),G.track("skills.background_specialization",{option:n})},updateSkillNotes:n=>{U(e,r=>({...r,skills:{...r.skills,notes:n}}))},setAttributeScore:(n,r)=>{U(e,s=>({...s,attributes:{...s.attributes,scores:{...s.attributes.scores,[n]:Math.max(0,r)}}})),G.track("attributes.updated",{attribute:n,value:r})},updateAttributeNotes:n=>{U(e,r=>({...r,attributes:{...r.attributes,notes:n}}))},toggleAttributeSpecialization:(n,r)=>{U(e,s=>{const i=s.attributes.specializations??Kd(),o=i[n]??[],u=o.includes(r)?o.filter(d=>d!==r):[...o,r];return{...s,attributes:{...s.attributes,specializations:{...i,[n]:u}}}}),G.track("attributes.specialization_toggled",{attribute:n,specialization:r})},adjustExperience:n=>{U(e,r=>({...r,advancement:{...r.advancement,experience:Math.max(0,r.advancement.experience+n)}})),G.track("advancement.adjusted",{delta:n})},setExperience:n=>{U(e,r=>({...r,advancement:{...r.advancement,experience:Math.max(0,n)}})),G.track("advancement.set",{value:n})},updateAdvancement:n=>{U(e,r=>({...r,advancement:{...r.advancement,...n}}))},adjustCorruption:n=>{U(e,r=>({...r,corruption:{...r.corruption,current:Math.max(0,r.corruption.current+n)}})),G.track("corruption.adjusted",{delta:n})},setCorruption:n=>{U(e,r=>({...r,corruption:{...r.corruption,current:Math.max(0,n)}})),G.track("corruption.set",{value:n})},updateCorruptionNotes:n=>{U(e,r=>({...r,corruption:{...r.corruption,notes:n}}))},adjustHealth:(n,r)=>{U(e,s=>{const i=s.health[n],o=Math.max(0,Math.min(i.max,i.current+r));return{...s,health:{...s.health,[n]:{...i,current:o}}}}),G.track("health.adjusted",{location:n,delta:r})},setHealth:(n,r)=>{U(e,s=>{const i=s.health[n];return{...s,health:{...s.health,[n]:{...i,current:Math.max(0,Math.min(i.max,r))}}}}),G.track("health.set",{location:n,value:r})},updateHealthScar:(n,r)=>{U(e,s=>({...s,health:{...s.health,[n]:{...s.health[n],scar:r}}}))},addRelationship:n=>{n.trim()&&(U(e,r=>({...r,narrative:{...r.narrative,relationships:Array.from(new Set([...r.narrative.relationships,n.trim()]))}})),G.track("relationship.added",{}))},removeRelationship:n=>{U(e,r=>({...r,narrative:{...r.narrative,relationships:r.narrative.relationships.filter(s=>s!==n)}})),G.track("relationship.removed",{})},updateAnchors:n=>{U(e,r=>({...r,narrative:{...r.narrative,anchors:n}}))},updateNarrativeNotes:n=>{U(e,r=>({...r,narrative:{...r.narrative,notes:n}}))},updateGmNotes:n=>{U(e,r=>({...r,gmNotes:n}))}}),{name:"sidonia-character-builder",version:5,migrate:(e,t)=>{if(!e||typeof e!="object")return e;const n=d=>{const p=d??{};return{physique:typeof p.physique=="number"?p.physique:typeof p.grit=="number"?p.grit:0,intellect:typeof p.intellect=="number"?p.intellect:typeof p.guile=="number"?p.guile:0,presence:typeof p.presence=="number"?p.presence:typeof p.gravitas=="number"?p.gravitas:0}},r=d=>{const p=d??{};return{physique:Array.isArray(p.physique)?p.physique:[],intellect:Array.isArray(p.intellect)?p.intellect:[],presence:Array.isArray(p.presence)?p.presence:[]}},s=d=>{const p=d??{};return{name:typeof p.name=="string"?p.name:"",alias:typeof p.alias=="string"?p.alias:"",pronouns:typeof p.pronouns=="string"?p.pronouns:"",concept:typeof p.concept=="string"?p.concept:"",summary:typeof p.summary=="string"?p.summary:"",physicalDescription:typeof p.physicalDescription=="string"?p.physicalDescription:"",code:typeof p.code=="string"?p.code:"",lineNotCrossed:typeof p.lineNotCrossed=="string"?p.lineNotCrossed:"",temptation:typeof p.temptation=="string"?p.temptation:"",portraitUrl:typeof p.portraitUrl=="string"?p.portraitUrl:""}},i=d=>{const p=d??{};return p.ratings&&p.specializations&&p.backgroundSpecialization!==void 0?{ratings:p.ratings,specializations:Array.isArray(p.specializations)?p.specializations:[],backgroundSpecialization:p.backgroundSpecialization??null,notes:typeof p.notes=="string"?p.notes:""}:{ratings:(Array.isArray(p.focus)?p.focus:[]).reduce((v,x)=>(v[x]=1,v),{}),specializations:[],backgroundSpecialization:null,notes:typeof p.notes=="string"?p.notes:""}},o=d=>{const p=d??{},g=Array.isArray(p.powers)?p.powers.filter(m=>!!m&&typeof m.id=="string"&&typeof m.lineage=="string"):[];return{key:p.key??null,notes:typeof p.notes=="string"?p.notes:"",revealMechanics:!!p.revealMechanics,powers:g}},a=d=>{var w;const p=d??{},g=(k,E)=>({id:k.id??Tt(`contact-${E}`),name:k.name??"",description:k.description??k.notes??"",gmApproved:k.gmApproved??!1,specialization:k.specialization??null,reach:typeof k.reach=="number"?k.reach:0,influence:typeof k.influence=="number"?k.influence:0}),m=(k,E)=>({id:k.id??Tt(`retainer-${E}`),name:k.name??"",description:k.description??k.notes??"",gmApproved:k.gmApproved??!1,specialization:k.specialization??null,loyalty:typeof k.loyalty=="number"?k.loyalty:0,competence:typeof k.competence=="number"?k.competence:0}),v=(k,E)=>({id:k.id??Tt(`property-${E}`),name:k.name??"",description:k.description??k.notes??"",gmApproved:k.gmApproved??!1,tenure:k.tenure??"",zoning:k.zoning??"",ward:k.ward??"",specialization:k.specialization??null}),x=(k,E)=>({id:k.id??Tt(`goods-${E}`),name:k.name??"",description:k.description??k.notes??"",gmApproved:k.gmApproved??!1,specialization:k.specialization??null,quality:typeof k.quality=="number"?k.quality:0}),y=Array.isArray(p.contacts)?p.contacts.map((k,E)=>g(k,E)):[],j=Array.isArray(p.retainers)?p.retainers.map((k,E)=>m(k,E)):[],h=Array.isArray(p.properties)?p.properties.map((k,E)=>v(k,E)):[],c=Array.isArray(p.goods)?p.goods.map((k,E)=>x(k,E)):[],f=typeof p.liquid=="number"?p.liquid:typeof((w=p.allocations)==null?void 0:w.liquid)=="number"?p.allocations.liquid:0;return{contacts:y,retainers:j,properties:h,goods:c,liquid:f,notes:typeof p.notes=="string"?p.notes:""}},u=Object.fromEntries(Object.entries(e.builds??{}).map(([d,p])=>{var h,c,f;const g=p,m={scores:n((h=g.attributes)==null?void 0:h.scores),notes:typeof((c=g.attributes)==null?void 0:c.notes)=="string"?g.attributes.notes:"",specializations:r((f=g.attributes)==null?void 0:f.specializations)},v=i(g.skills),x=o(g.lineage),y=a(g.resources),j={...g,profile:s(g.profile),lineage:x,resources:y,skills:v,attributes:m};return[d,j]}));return{...e,builds:u}}})),Wg={priorities:{label:"Priorities",description:"Assign each letter to a pillar to set your fate."},lineage:{label:"Lineage",description:"Choose what you are and reveal the aesthetic."},resources:{label:"Resources",description:"Distribute wealth, favors, and territory."},background:{label:"Background",description:"Capture the story that forged you."},skills:{label:"Skills",description:"Highlight expertise and specializations."},attributes:{label:"Attributes",description:"Split your innate edge across three pillars."},narrative:{label:"Narrative",description:"Track corruption, wounds, and relationships."}};function Hg({current:e,onNavigate:t}){const n=St.indexOf(e),r=Math.round((n+1)/St.length*100);return l.jsxs("nav",{className:"stage-navigation","aria-label":"Character builder stages",children:[l.jsx("div",{className:"stage-navigation__progress",children:l.jsx("div",{className:"stage-navigation__progress-bar",style:{width:`${r}%`}})}),l.jsx("ul",{children:St.map(s=>{const i=Wg[s],o=St.indexOf(s),a=o===n?"current":o<n?"completed":"upcoming";return l.jsx("li",{className:`stage-navigation__item ${a}`,children:l.jsxs("button",{type:"button",onClick:()=>t(s),children:[l.jsx("span",{className:"stage-navigation__label",children:i.label}),l.jsx("span",{className:"stage-navigation__description",children:i.description})]})},s)})})]})}const uu=["A","B","C","D","E"],Vg={lineage:{title:"Lineage",intro:"What are you? Determines the supernatural path and aesthetic layer.",detail:"Higher priority unlocks stronger chassis, spheres, mutation points, or Esper templates. Lower priority keeps you closer to human but limits your edge."},resources:{title:"Resources",intro:"What do you own? Contacts, territories, retainers, liquid wealth.",detail:"Priority sets your Resource Points pool and maximum quality. Use it to buy properties, networks, and gear. Higher ranks unlock elite holdings."},background:{title:"Background",intro:"Who were you? Establishes influence, narrative permissions, and synergies.",detail:"Higher priority backgrounds stretch across the city, offering automatic specializations and better resource synergies."},skills:{title:"Skills",intro:"What do you know? Disciplines and specializations that show lived experience.",detail:"Priority sets how many disciplines you master. Focus areas gain bonus dice and teach players where they shine."},attributes:{title:"Attributes",intro:"What is innate? Only three pillars define your core capability.",detail:"Allocate attribute dice based on priority. The higher the rank, the sharper your raw edge."}};function Gg({priorities:e,onSelect:t,onClear:n}){const r=new Set(Object.values(e).filter(Boolean).map(s=>s));return l.jsxs("section",{className:"priority-matrix","aria-label":"Priority assignment grid",children:[l.jsxs("header",{className:"priority-matrix__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Priority Grid"}),l.jsx("p",{children:"Assign each letter exactly once. Sidonia rewards focus and makes you pay for it elsewhere. Tap a letter to slot it into a category; tap the category badge to clear it."})]}),l.jsx("ul",{className:"priority-matrix__legend",children:uu.map(s=>l.jsxs("li",{className:r.has(s)?"used":"",children:[l.jsx("span",{className:"priority-matrix__rank",children:s}),l.jsxs("span",{className:"priority-matrix__tag",children:[s==="A"&&"Signature move",s==="B"&&"Favored",s==="C"&&"Balanced",s==="D"&&"Compromised",s==="E"&&"Sacrifice"]})]},s))})]}),l.jsx("div",{className:"priority-matrix__grid",role:"table",children:Object.entries(Vg).map(([s,i])=>{const o=s,a=e[o];return l.jsxs("article",{className:"priority-matrix__row",role:"row",children:[l.jsxs("div",{className:"priority-matrix__info",role:"cell",children:[l.jsxs("button",{type:"button",className:`priority-matrix__category ${a?"has-selection":""}`,onClick:()=>n==null?void 0:n(o),children:[l.jsx("span",{className:"priority-matrix__category-title",children:i.title}),l.jsx("span",{className:"priority-matrix__selection",children:a??"—"})]}),l.jsx("p",{className:"priority-matrix__intro",children:i.intro}),l.jsxs("details",{children:[l.jsx("summary",{children:"Why it matters"}),l.jsx("p",{children:i.detail})]})]}),l.jsx("div",{className:"priority-matrix__choices",role:"cell",children:uu.map(u=>{const d=a===u,p=!d&&r.has(u);return l.jsx("button",{type:"button",className:`priority-matrix__choice ${d?"selected":""}`,disabled:p,onClick:()=>t(o,u),children:u},u)})})]},o)})})]})}function Qg({priorities:e,onSelect:t,onClear:n}){const s=Object.values(e).filter(Boolean).length===Object.keys(e).length;return l.jsxs("div",{className:"stage stage--priorities",children:[l.jsx(Gg,{priorities:e,onSelect:t,onClear:n}),l.jsx("footer",{className:"stage__footer",children:l.jsx("p",{children:s?"Every letter is spoken for. Advance to Lineage to let the city brand you.":"You still have letters to place. Each sacrifice reveals a different facet of Sidonia."})})]})}const qg={A:9,B:7,C:6,D:4,E:2},Kg={A:7,B:5,C:4,D:3,E:2},cu={A:{primary:1,secondary:2,moves:5},B:{primary:1,secondary:1,moves:4},C:{primary:1,secondary:2,moves:3,note:"Priority C may exchange the primary sphere for a second secondary sphere."},D:{primary:0,secondary:1,moves:2},E:{primary:0,secondary:1,moves:1}},Yg={A:3,B:2,C:2,D:1,E:0},Jg={A:"Priority A: Access to both Esper archetypes and full Mentalist framework.",B:"Priority B: Esper prodigy – evolve two steps beyond the baseline.",C:"Priority C: Begin as a Mentalist. Select framework paths to define focus.",D:"Priority D: Gifted Esper – evolve one step beyond baseline talents.",E:"Priority E: Base Esper talents unlocked."},be=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),Gi=(e,t,n)=>t?e[t]:n;function wr(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function Xg(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"grades"in n)}function Zg(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"tiers"in n)}function ev(e){const t=e;return typeof t.spheres=="object"&&t.spheres!==null}function tv(e){const t=e;return typeof t.esper_archetypes=="object"&&t.esper_archetypes!==null}function nv(e){const t=e;return typeof t.chassis=="object"&&t.chassis!==null}function Qi(e,t){return e?l.jsxs("div",{className:"power-description",children:[e.short&&l.jsx("p",{children:e.short}),t&&e.player&&l.jsx("p",{className:"power-description__detail",children:e.player}),t&&e.flaw&&l.jsxs("p",{className:"power-description__detail flaw",children:["Flaw: ",e.flaw]}),e.outcomes&&l.jsx("ul",{className:"power-description__outcomes",children:Object.entries(e.outcomes).map(([n,r])=>l.jsxs("li",{children:[l.jsx("strong",{children:n}),l.jsx("span",{children:r})]},n))})]}):null}function du(e,t){return!e||e.length===0?null:l.jsx("ul",{className:"power-list",children:e.map((n,r)=>l.jsxs("li",{children:[l.jsxs("div",{children:[l.jsx("strong",{children:n.name}),n.type&&l.jsx("span",{className:"badge badge--type",children:n.type}),typeof n.cost=="number"&&l.jsxs("span",{className:"badge badge--cost",children:["Cost ",n.cost]})]}),n.description&&l.jsx("p",{children:n.description})]},`${n.name}-${r}`))})}function rv(e){const t=typeof e.description=="string"?e.description:void 0,n=Array.isArray(e.foundational_choices)?e.foundational_choices.filter(s=>typeof s=="string"):void 0;let r;return wr(e.paths)&&(r=Object.entries(e.paths).reduce((s,[i,o])=>{if(!wr(o))return s;const a=typeof o.description=="string"?o.description:void 0,u=Array.isArray(o.moves)?o.moves.filter(d=>typeof d=="string"):void 0;return s[i]={description:a,moves:u},s},{}),Object.keys(r).length===0&&(r=void 0)),{description:t,foundationalChoices:n,paths:r}}function sv({lineage:e,powerData:t,gmEnabled:n,lineagePriority:r,selections:s,onToggleSelection:i,onClearSelections:o}){var p,g;if(!e)return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsx("h3",{children:"Lineage Powers"}),l.jsx("p",{children:"Select a lineage to preview its signature powers, moves, and upgrades."})]});if(!t)return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsx("h3",{children:"Lineage Powers"}),l.jsx("p",{children:"Power data for this lineage is not yet available."})]});const a=s.filter(m=>m.lineage===e),u=R.useMemo(()=>new Map(a.map(m=>[m.id,m])),[a]),d=new Set(a.map(m=>m.id));if(e==="neosapien"&&Xg(t)){const m=Gi(qg,r,0),v=a.reduce((j,h)=>{var c;return j+(((c=h.meta)==null?void 0:c.slots)??0)},0),x=a.reduce((j,h)=>{var c;return j+(((c=h.meta)==null?void 0:c.permanentCorruption)??0)},0),y=m>0&&v>m;return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Augment Catalog"}),l.jsx("p",{children:"Slot-based upgrades ranging from street scraps to imperial artistry."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Slots Used"}),l.jsxs("strong",{children:[v,m?` / ${m}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Permanent Corruption"}),l.jsx("strong",{children:x})]}),y&&l.jsx("p",{className:"lineage-power-summary__warning",children:"Slot budget exceeded. Adjust selections or raise lineage priority."}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),l.jsx("div",{className:"lineage-powers-grid",children:t.powers.map(j=>{const h=j.id??be(j.name??"augment");return l.jsxs("article",{className:"lineage-power-card",children:[l.jsxs("header",{children:[l.jsx("h4",{children:j.name}),j.category&&l.jsx("span",{className:"badge",children:j.category})]}),l.jsx("div",{className:"lineage-power-card__body",children:Object.entries(j.grades??{}).map(([c,f])=>{const w=f.name??c,k=f.id??`${h}-${be(c)}`,E={id:k,lineage:"neosapien",label:`${j.name} — ${w}`,kind:"neosapien-augment",meta:{root:h,parent:h,path:[h,c],depth:1,slots:typeof f.slots=="number"?f.slots:void 0,permanentCorruption:typeof f.permanentCorruption=="number"?f.permanentCorruption:void 0,category:j.category,tierLabel:w}},C=d.has(E.id),T=`lineage-power-grade${C?" lineage-power-grade--selected":""}`,M=`power-toggle${C?" power-toggle--active":""}`;return l.jsxs("section",{className:T,children:[l.jsxs("div",{className:"lineage-power-grade__header",children:[l.jsx("span",{className:"badge badge--grade",children:w}),l.jsxs("div",{className:"lineage-power-grade__meta",children:[typeof f.tier=="number"&&l.jsxs("span",{children:["Tier ",f.tier]}),typeof f.slots=="number"&&l.jsxs("span",{children:[f.slots," Slot",f.slots===1?"":"s"]}),typeof f.permanentCorruption=="number"&&l.jsxs("span",{children:[f.permanentCorruption," Permanent Corruption"]})]}),l.jsx("button",{type:"button",className:M,onClick:()=>i(E),children:C?"Selected":"Add"})]}),Qi(f.description,n)]},k)})})]},j.id??j.name)})})]})}if(e==="chimera"&&Zg(t)){const m=Gi(Kg,r,0),v=a.reduce((j,h)=>{var c;return j+(((c=h.meta)==null?void 0:c.mutationPoints)??0)},0),x=a.reduce((j,h)=>{var c;return j+(((c=h.meta)==null?void 0:c.permanentCorruption)??0)},0),y=m>0&&v>m;return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Mutation Catalogue"}),l.jsx("p",{children:"Spend mutation points to embrace the city's wild ecologies."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Mutation Points"}),l.jsxs("strong",{children:[v,m?` / ${m}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Permanent Corruption"}),l.jsx("strong",{children:x})]}),y&&l.jsx("p",{className:"lineage-power-summary__warning",children:"Mutation budget exceeded. Remove selections or adjust priority."}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),l.jsx("div",{className:"lineage-powers-grid",children:t.powers.map(j=>{const h=j.id??be(j.name??"mutation");return l.jsxs("article",{className:"lineage-power-card",children:[l.jsxs("header",{children:[l.jsx("h4",{children:j.name}),j.category&&l.jsx("span",{className:"badge",children:j.category})]}),l.jsx("div",{className:"lineage-power-card__body",children:Object.entries(j.tiers??{}).map(([c,f])=>{const w=f.name??c,k=f.id??`${h}-${be(c)}`,E={id:k,lineage:"chimera",label:`${j.name} — ${w}`,kind:"chimera-mutation",meta:{root:h,parent:h,path:[h,c],depth:1,mutationPoints:typeof f.mutationPoints=="number"?f.mutationPoints:void 0,permanentCorruption:typeof f.permanentCorruption=="number"?f.permanentCorruption:void 0,category:j.category,tierLabel:w}},C=d.has(E.id),T=`lineage-power-grade${C?" lineage-power-grade--selected":""}`,M=`power-toggle${C?" power-toggle--active":""}`;return l.jsxs("section",{className:T,children:[l.jsxs("div",{className:"lineage-power-grade__header",children:[l.jsx("span",{className:"badge badge--grade",children:w}),l.jsxs("div",{className:"lineage-power-grade__meta",children:[typeof f.tier=="number"&&l.jsxs("span",{children:["Tier ",f.tier]}),typeof f.mutationPoints=="number"&&l.jsxs("span",{children:[f.mutationPoints," Mutation Pts"]}),typeof f.permanentCorruption=="number"&&l.jsxs("span",{children:[f.permanentCorruption," Permanent Corruption"]})]}),l.jsx("button",{type:"button",className:M,onClick:()=>i(E),children:C?"Selected":"Add"})]}),Qi(f.description,n)]},k)})})]},j.id??j.name)})})]})}if(e==="sorcery"&&ev(t)){const{spheres:m}=t,v=Gi(cu,r,{primary:0,secondary:0,moves:0}),x=a.filter(c=>c.kind==="sorcery-sphere-primary").length,y=a.filter(c=>c.kind==="sorcery-sphere-secondary").length,j=a.filter(c=>c.kind==="sorcery-move").length,h=r?cu[r].note:void 0;return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Sphere Library"}),l.jsx("p",{children:"Primary and secondary spheres unlock ritual moves and narrative permissions."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Primary Spheres"}),l.jsxs("strong",{children:[x,v.primary?` / ${v.primary}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Secondary Spheres"}),l.jsxs("strong",{children:[y,v.secondary?` / ${v.secondary}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Moves"}),l.jsxs("strong",{children:[j,v.moves?` / ${v.moves}`:""]})]}),h&&l.jsx("p",{className:"lineage-power-summary__note",children:h}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),l.jsx("div",{className:"lineage-powers-columns",children:["primary","secondary"].map(c=>{const f=m==null?void 0:m[c];return f?l.jsxs("div",{className:"sphere-column",children:[l.jsx("h4",{className:"sphere-column__heading",children:c==="primary"?"Primary Spheres":"Secondary Spheres"}),Object.values(f).map((w,k)=>{var ne;const E=w.name??`Sphere ${k+1}`,C=w.id??`${c}-${be(E)}`,T=c==="primary"?"sorcery-sphere-primary":"sorcery-sphere-secondary",M={id:C,lineage:"sorcery",label:`${c==="primary"?"Primary":"Secondary"} Sphere — ${E}`,kind:T,meta:{sphere:E,root:C,path:[C],depth:0,tierLabel:c==="primary"?"Primary Sphere":"Secondary Sphere"}},P=d.has(M.id),V=`sphere-card${P?" sphere-card--selected":""}`,te=`power-toggle${P?" power-toggle--active":""}`;return l.jsxs("details",{className:V,open:P,children:[l.jsx("summary",{children:l.jsxs("div",{className:"sphere-card__summary",children:[l.jsx("h5",{children:E}),l.jsx("button",{type:"button",className:te,onClick:K=>{K.preventDefault(),i(M)},children:P?"Selected":"Add"})]})}),l.jsx("ul",{className:"power-list",children:(ne=w.moves)==null?void 0:ne.map((K,Se)=>{const oe=K.id??`${C}-move-${Se}`,xe={id:oe,lineage:"sorcery",label:`${K.name??"Move"} (${E})`,kind:"sorcery-move",meta:{moveType:K.type,sphere:E,root:C,parent:C,path:[C,oe],depth:1}},S=d.has(xe.id),z=`power-list__item${S?" power-list__item--selected":""}`,L=`power-toggle${S?" power-toggle--active":""}`;return l.jsxs("li",{className:z,children:[l.jsxs("div",{className:"power-list__header",children:[l.jsxs("div",{children:[l.jsx("strong",{children:K.name}),K.type&&l.jsx("span",{className:"badge badge--type",children:K.type})]}),l.jsx("button",{type:"button",className:L,onClick:()=>i(xe),children:S?"Selected":"Add"})]}),Qi(K.description,n)]},oe)})})]},C)})]},c):null})})]})}if(e==="esper"&&tv(t)){const m=t.esper_archetypes??{},v=t.mentalist_framework??{},x=wr(v)?rv(v):null,y=r!=="C",j=r==="A"||r==="C",h=r?Jg[r]:void 0,c=r?Yg[r]:0,f=a.find(S=>{var z;return S.kind==="esper-archetype"&&((z=S.meta)==null?void 0:z.category)==="esper-base"}),w=a.find(S=>{var z;return S.kind==="esper-archetype"&&((z=S.meta)==null?void 0:z.category)==="esper-mentalist"}),k=((p=f==null?void 0:f.meta)==null?void 0:p.root)??null,E=((g=w==null?void 0:w.meta)==null?void 0:g.root)??null,C=a.filter(S=>{var z;return S.kind==="esper-archetype"&&((z=S.meta)==null?void 0:z.category)==="esper-base"}).length,T=a.filter(S=>S.kind==="esper-focus").length,M=a.filter(S=>S.kind==="esper-framework-choice").length,P=a.filter(S=>S.kind==="esper-framework-path").length,V=S=>{var F;const z=d.has(S.id),L=(F=S.meta)==null?void 0:F.category;if(!(L==="esper-base"&&!y)&&!(L==="esper-mentalist"&&!j)){if(z){i(S);return}a.filter(B=>{var q;return B.kind==="esper-archetype"&&((q=B.meta)==null?void 0:q.category)===L}).forEach(B=>i(B)),i(S)}},te=S=>{var ge,b,X,Te;const z=(ge=S.meta)==null?void 0:ge.root;if(!z||z!==k&&z!==E)return;const L=((b=S.meta)==null?void 0:b.depth)??0;if(L>c)return;const F=(X=S.meta)==null?void 0:X.parent;if(L>0&&(!F||!u.has(F)))return;if(d.has(S.id)){i(S);return}const q=((Te=S.meta)==null?void 0:Te.path)??[S.id];a.filter(re=>{var Be,ve,N;if(re.id===S.id||((Be=re.meta)==null?void 0:Be.root)!==z)return!1;const ce=((ve=re.meta)==null?void 0:ve.path)??[re.id],Z=((N=re.meta)==null?void 0:N.depth)??0;return Z<L?!1:Z===L?ce.length<=L||q.length<=L?!1:ce[L]!==q[L]:!q.every(($,W)=>ce[W]===$)}).forEach(re=>i(re)),i(S)},ne=S=>S===k||S===E,K=(S,z)=>z<=c,Se=(S,z,L,F)=>{const B=typeof S.name=="string"?S.name:z[z.length-1],q=typeof S.id=="string"?S.id:z.join("-"),Y={id:q,lineage:"esper",label:`Focus — ${B}`,kind:"esper-focus",meta:{root:F,parent:z[z.length-2]??F,path:z,depth:L}},ge=d.has(Y.id),b=!ne(F)||!K(F,L),X=`power-toggle${ge?" power-toggle--active":""}`,Te=`focus-card${ge?" focus-card--selected":""}`,re=Array.isArray(S.moves)?S.moves:[],ce=Array.isArray(S.augments)?S.augments:[],Z=Array.isArray(S.mutations)?S.mutations:[],Fe=Array.isArray(S.trauma_mutations)?S.trauma_mutations:[],Be=wr(S.focuses)?S.focuses:void 0;return l.jsxs("details",{className:Te,open:ge,children:[l.jsx("summary",{children:l.jsxs("div",{className:"focus-card__summary",children:[l.jsx("h6",{children:B}),l.jsx("button",{type:"button",className:X,disabled:b,onClick:ve=>{ve.preventDefault(),b||te(Y)},children:ge?"Selected":"Add"})]})}),typeof S.philosophy=="string"&&l.jsx("p",{children:S.philosophy}),re.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Signature Moves"}),l.jsx("ul",{className:"power-list",children:re.map((ve,N)=>{const $=ve,W=typeof $.id=="string"&&$.id.length>0?$.id:`${q}-move-${N}`,ae=typeof $.name=="string"&&$.name.length>0?$.name:`Move ${N+1}`;return l.jsxs("li",{className:"power-list__item",children:[l.jsx("strong",{children:ae}),typeof $.description=="string"&&l.jsx("p",{children:$.description})]},W)})})]}),ce.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Augments"}),l.jsx("ul",{className:"power-list",children:ce.map((ve,N)=>{const $=ve,W=typeof $.id=="string"&&$.id.length>0?$.id:`${q}-augment-${N}`,ae=typeof $.name=="string"&&$.name.length>0?$.name:`Augment ${N+1}`;return l.jsxs("li",{className:"power-list__item",children:[l.jsx("strong",{children:ae}),typeof $.description=="string"&&l.jsx("p",{children:$.description})]},W)})})]}),Z.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Mutations"}),l.jsx("ul",{className:"power-list",children:Z.map((ve,N)=>{const $=ve,W=typeof $.id=="string"&&$.id.length>0?$.id:`${q}-mutation-${N}`,ae=typeof $.name=="string"&&$.name.length>0?$.name:`Mutation ${N+1}`;return l.jsxs("li",{className:"power-list__item",children:[l.jsx("strong",{children:ae}),typeof $.description=="string"&&l.jsx("p",{children:$.description})]},W)})})]}),Fe.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Trauma Mutations"}),l.jsx("ul",{className:"power-list",children:Fe.map((ve,N)=>{const $=ve,W=typeof $.id=="string"&&$.id.length>0?$.id:`${q}-trauma-${N}`,ae=typeof $.name=="string"&&$.name.length>0?$.name:`Mutation ${N+1}`;return l.jsxs("li",{className:"power-list__item",children:[l.jsx("strong",{children:ae}),typeof $.description=="string"&&l.jsx("p",{children:$.description})]},W)})})]}),Be&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Advanced Paths"}),l.jsx("div",{className:"focus-grid",children:Object.values(Be).map(ve=>{const N=ve,$=typeof N.name=="string"?N.name:`Focus ${L+1}`,W=typeof N.id=="string"&&N.id.length>0?N.id:be($);return Se(N,[...z,W],L+1,F)})})]})]},q)},oe=S=>{const z=typeof S.name=="string"?S.name:"Archetype",L=typeof S.id=="string"?S.id:be(z),F={id:L,lineage:"esper",label:`Archetype — ${z}`,kind:"esper-archetype",meta:{root:L,path:[L],depth:0,category:"esper-base"}},B=d.has(F.id),q=`power-toggle${B?" power-toggle--active":""}`,Y=!y,ge=`lineage-power-card${B?" lineage-power-card--selected":""}`;return l.jsxs("details",{className:ge,open:B,children:[l.jsx("summary",{children:l.jsxs("div",{className:"lineage-power-card__summary",children:[l.jsx("h4",{children:z}),l.jsx("button",{type:"button",className:q,disabled:Y&&!B,onClick:b=>{b.preventDefault(),(!Y||B)&&V(F)},children:B?"Selected":"Add"})]})}),typeof S.philosophy=="string"&&l.jsx("p",{className:"power-description__detail",children:S.philosophy}),Array.isArray(S.baseline_moves)&&S.baseline_moves.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Baseline Moves"}),l.jsx("ul",{className:"power-list",children:S.baseline_moves.map((b,X)=>{const Te=typeof(b==null?void 0:b.id)=="string"&&b.id.length>0?b.id:`${L}-baseline-${X}`,re=typeof(b==null?void 0:b.name)=="string"&&b.name.length>0?b.name:`Move ${X+1}`;return l.jsxs("li",{className:"power-list__item",children:[l.jsxs("div",{children:[l.jsx("strong",{children:re}),typeof(b==null?void 0:b.type)=="string"&&l.jsx("span",{className:"badge badge--type",children:b.type})]}),typeof(b==null?void 0:b.description)=="string"&&l.jsx("p",{children:b.description})]},Te)})})]}),S.focuses&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Focus Paths"}),l.jsx("div",{className:"focus-grid",children:Object.values(S.focuses).map(b=>{const X=b,Te=typeof X.name=="string"?X.name:"Focus",re=typeof X.id=="string"&&X.id.length>0?X.id:be(`${L}-${Te}`);return Se(X,[L,re],1,L)})})]})]},L)},xe=(S,z)=>{const L=typeof z.id=="string"?z.id:be(S),F={id:L,lineage:"esper",label:`Mentalist Path — ${S}`,kind:"esper-archetype",meta:{root:L,path:[L],depth:0,category:"esper-mentalist"}},B=d.has(F.id),q=`power-toggle${B?" power-toggle--active":""}`,Y=!j,ge=`lineage-power-card${B?" lineage-power-card--selected":""}`,b=Array.isArray(z.moves)?z.moves:[],X=Array.isArray(z.trauma_mutations)?z.trauma_mutations:[],Te=wr(z.focuses)?z.focuses:void 0;return l.jsxs("details",{className:ge,open:B,children:[l.jsx("summary",{children:l.jsxs("div",{className:"lineage-power-card__summary",children:[l.jsx("h4",{children:S}),l.jsx("button",{type:"button",className:q,disabled:Y&&!B,onClick:re=>{re.preventDefault(),(!Y||B)&&V(F)},children:B?"Selected":"Add"})]})}),typeof z.description=="string"&&l.jsx("p",{children:z.description}),b.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Signature Moves"}),l.jsx("ul",{className:"power-list",children:b.map((re,ce)=>{const Z=re,Fe=typeof Z.id=="string"&&Z.id.length>0?Z.id:`${L}-move-${ce}`,Be=typeof Z.name=="string"&&Z.name.length>0?Z.name:`Move ${ce+1}`;return l.jsx("li",{className:"power-list__item",children:Be},Fe)})})]}),X.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Trauma Mutations"}),l.jsx("ul",{className:"power-list",children:X.map((re,ce)=>{const Z=re,Fe=typeof Z.id=="string"&&Z.id.length>0?Z.id:`${L}-trauma-${ce}`,Be=typeof Z.name=="string"&&Z.name.length>0?Z.name:`Mutation ${ce+1}`;return l.jsxs("li",{className:"power-list__item",children:[l.jsx("strong",{children:Be}),typeof Z.description=="string"&&l.jsx("p",{children:Z.description})]},Fe)})})]}),Te&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Advanced Paths"}),l.jsx("div",{className:"focus-grid",children:Object.values(Te).map(re=>{const ce=re,Z=typeof ce.name=="string"?ce.name:"Focus",Fe=typeof ce.id=="string"&&ce.id.length>0?ce.id:be(`${L}-${Z}`);return Se(ce,[L,Fe],1,L)})})]})]},L)};return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Esper / Mentalist Evolutions"}),l.jsx("p",{children:"Baseline talents and branching focuses define your psionic expression."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Archetypes Selected"}),l.jsx("strong",{children:C})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Focus Paths"}),l.jsx("strong",{children:T})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Framework Choices"}),l.jsx("strong",{children:M+P})]}),h&&l.jsx("p",{className:"lineage-power-summary__note",children:h}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),y&&l.jsx("div",{className:"lineage-powers-grid lineage-powers-grid--tall",children:Object.values(m).map(S=>oe(S))}),!y&&l.jsx("p",{className:"lineage-note",children:"Priority C Espers begin as Mentalists. Select a path below."}),j&&x&&l.jsxs("article",{className:"lineage-power-card framework",children:[l.jsx("header",{children:l.jsx("h4",{children:"Mentalist Framework"})}),x.description&&l.jsx("p",{children:x.description}),x.foundationalChoices&&x.foundationalChoices.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Foundational Choices"}),l.jsx("ul",{className:"power-list",children:x.foundationalChoices.map((S,z)=>{const L=typeof S=="string"?S:String(S),F=E??"mentalist",B=`${F}-choice-${z}`,q={id:B,lineage:"esper",label:`Framework Choice — ${L}`,kind:"esper-framework-choice",meta:{root:F,parent:F,path:[F,`choice-${z}`],depth:1,category:"esper-mentalist"}},Y=d.has(q.id),ge=!ne(F)||!K(F,1),b=`power-toggle${Y?" power-toggle--active":""}`,X=`power-list__item${Y?" power-list__item--selected":""}`;return l.jsx("li",{className:X,children:l.jsxs("div",{className:"power-list__header",children:[l.jsx("span",{children:L}),l.jsx("button",{type:"button",className:b,disabled:ge&&!Y,onClick:()=>{(!ge||Y)&&te(q)},children:Y?"Selected":"Add"})]})},B)})})]}),x.paths&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h5",{children:"Paths"}),l.jsx("div",{className:"lineage-powers-grid lineage-powers-grid--tall",children:Object.entries(x.paths).map(([S,z])=>xe(S,z))})]})]}),!j&&x&&r!==null&&l.jsx("p",{className:"lineage-note",children:"Mentalist paths unlock at Priority A or C."})]})}if(e==="automata"&&nv(t)){const m=a.filter(x=>x.kind==="automata-capability").length,v=a.filter(x=>x.kind==="automata-model").length;return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Chassis & Branches"}),l.jsx("p",{children:"Choose a chassis, explore its branches, and escalate from basic to imperial protocols."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Capabilities"}),l.jsx("strong",{children:m})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Models"}),l.jsx("strong",{children:v})]}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),l.jsx("div",{className:"chassis-grid",children:Object.values(t.chassis).map(x=>l.jsxs("details",{className:"lineage-power-card",open:!0,children:[l.jsx("summary",{children:l.jsx("div",{className:"lineage-power-card__summary",children:l.jsx("h4",{children:x.name})})}),x.branches&&l.jsx("div",{className:"branch-grid",children:Object.values(x.branches).map(y=>{const j=y.name??"Branch",h=y.id??`${x.id??be(x.name??"chassis")}-${be(j)}`,c=y.general_capabilities??[];return l.jsxs("details",{className:"branch-card",open:!0,children:[l.jsx("summary",{children:l.jsxs("div",{className:"branch-card__summary",children:[l.jsx("h5",{children:j}),y.focus&&l.jsx("span",{children:y.focus})]})}),c.length>0&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h6",{children:"General Capabilities"}),l.jsx("ul",{className:"power-list",children:c.map((f,w)=>{const k=f.name??"Capability",E=`${h}-cap-${w}-${be(k)}`,C={id:E,lineage:"automata",label:`Capability — ${k}`,kind:"automata-capability",meta:{branch:j,chassis:x.name,category:f.type}},T=d.has(C.id),M=`power-list__item${T?" power-list__item--selected":""}`,P=`power-toggle${T?" power-toggle--active":""}`;return l.jsxs("li",{className:M,children:[l.jsxs("div",{className:"power-list__header",children:[l.jsxs("div",{children:[l.jsx("strong",{children:k}),f.type&&l.jsx("span",{className:"badge badge--type",children:f.type}),typeof f.cost=="number"&&l.jsxs("span",{className:"badge badge--cost",children:["Cost ",f.cost]})]}),l.jsx("button",{type:"button",className:P,onClick:()=>i(C),children:T?"Selected":"Add"})]}),f.description&&l.jsx("p",{children:f.description})]},E)})})]}),y.models&&l.jsxs("section",{className:"lineage-power-subsection",children:[l.jsx("h6",{children:"Models"}),l.jsx("div",{className:"model-grid",children:Object.values(y.models).map(f=>{const w=f.name??"Model",k=`${h}-model-${be(w)}`,E={id:k,lineage:"automata",label:`Model — ${w}`,kind:"automata-model",meta:{branch:j,chassis:x.name,category:f.tier}},C=d.has(E.id),T=`model-card${f.available===!1?" model-card--locked":""}${C?" model-card--selected":""}`,M=`power-toggle${C?" power-toggle--active":""}`;return l.jsxs("div",{className:T,children:[l.jsxs("div",{className:"model-card__header",children:[l.jsx("strong",{children:w}),f.tier&&l.jsx("span",{className:"badge badge--tier",children:f.tier}),f.available===!1&&l.jsx("span",{className:"badge badge--locked",children:"Locked"}),l.jsx("button",{type:"button",className:M,onClick:()=>i(E),children:C?"Selected":"Add"})]}),du(f.augments),du(f.moves)]},k)})})]})]},h)})})]},x.id??x.name))})]})}return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsx("h3",{children:"Lineage Powers"}),l.jsx("p",{children:"Power data structure for this lineage is not recognized. Check the source files for updates."})]})}function iv({priorities:e,selected:t,onSelect:n,canReveal:r,revealMechanics:s,onToggleReveal:i,notes:o,onUpdateNotes:a,powerSet:u,powers:d,onTogglePower:p,onClearPowers:g}){const m=e.lineage,v=R.useMemo(()=>qd(t),[t]),x=r&&s;return l.jsxs("div",{className:"stage stage--lineage",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Lineage"}),l.jsx("p",{children:"The letter you assign to Lineage defines how far from humanity you step. Explore each lineage's aesthetic, pick the one that sings to your table, then reveal mechanics when ready."})]}),l.jsx("div",{className:"stage__actions",children:l.jsx("button",{type:"button",onClick:i,className:`reveal-toggle ${s?"active":""}`,disabled:!r,children:r?s?"Hide mechanical truths":"Reveal mechanical truths":"GM access required"})})]}),l.jsx("section",{className:"lineage-grid",children:Qd.map(y=>{const j=y.key===t,h=m?y.priorityImpacts[m]:null;return l.jsxs("article",{className:`lineage-card ${j?"is-active":""}`,style:{borderColor:j?y.aesthetic.accent:"rgba(255,255,255,0.08)",boxShadow:j?`0 12px 32px ${y.aesthetic.accent}40`:void 0,backgroundImage:y.aesthetic.texture},children:[l.jsxs("header",{children:[l.jsx("h3",{children:y.name}),l.jsx("p",{className:"lineage-card__tagline",children:y.tagline})]}),l.jsx("p",{children:y.summary}),l.jsxs("div",{className:"lineage-card__priority",children:[l.jsxs("span",{children:["With Priority ",m??"—",":"]}),l.jsx("p",{children:h??"Assign a priority letter to see what changes."})]}),l.jsxs("details",{children:[l.jsx("summary",{children:"First impressions"}),l.jsx("p",{children:y.narrativeHook})]}),s&&r&&l.jsxs("details",{open:!0,children:[l.jsx("summary",{children:"GM Whisper"}),l.jsx("p",{children:y.gmWhisper})]}),l.jsx("footer",{children:l.jsx("button",{type:"button",className:"lineage-card__choose",onClick:()=>n(y.key),children:j?"Selected":"Choose Lineage"})})]},y.key)})}),l.jsx(sv,{lineage:t,lineagePriority:m,powerData:u,gmEnabled:x,selections:d,onToggleSelection:p,onClearSelections:g}),l.jsx("section",{className:"lineage-notes",children:l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Lineage Notes & Promises"}),l.jsx("textarea",{value:o,onChange:y=>a(y.target.value),placeholder:"Record patron obligations, corruption tells, and aesthetic cues for later sessions."})]})}),v&&l.jsxs("aside",{className:"lineage-highlight",style:{borderColor:v.aesthetic.accent},children:[l.jsxs("h4",{children:["Echos of ",v.name]}),l.jsxs("p",{children:["Layer the UI palette with ",v.aesthetic.accent,". Consider swapping ambient sound or card frames to mirror the lineage vibe when this character is active at the table."]})]})]})}function Yd(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Yd(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Qe(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Yd(e))&&(r&&(r+=" "),r+=t);return r}const pu=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return Number.POSITIVE_INFINITY},Qn=e=>Number.isFinite(e)?e:0,lv=e=>Qn(e.reach)+Qn(e.influence),ov=e=>Qn(e.loyalty)+Qn(e.competence),av=e=>Qn(e.quality),uv=(e,t)=>Number.isFinite(e)?e:t,cv=(e,t,n,r)=>{var a,u;if(!e)return{value:0,requiresApproval:!1};const s=(a=n.properties.tenure)==null?void 0:a[e],i=(u=t.properties.tenure)==null?void 0:u[e];if(s!=null&&s.cost)return{value:r,requiresApproval:!0,note:s.cost};const o=typeof(s==null?void 0:s.multiplier)=="number"?s.multiplier:typeof(i==null?void 0:i.costMultiplier)=="number"?i.costMultiplier:null;return typeof o=="number"&&Number.isFinite(o)&&o>0?{value:Math.max(1,Math.round(o)),requiresApproval:!!(i!=null&&i.special)}:{value:0,requiresApproval:!0}},dv=(e,t,n,r)=>{var u,d;if(!e)return{value:0,requiresApproval:!1};const s=(u=n.properties.zoning)==null?void 0:u[e],i=(d=t.properties.zoning)==null?void 0:d[e],o=typeof(s==null?void 0:s.baseCost)=="number"?s.baseCost:typeof(i==null?void 0:i.baseCost)=="number"?i.baseCost:null;if(typeof o=="number"&&Number.isFinite(o)&&o>0)return{value:o,requiresApproval:!1};const a=typeof(s==null?void 0:s.baseCost)=="string"?s.baseCost:typeof(i==null?void 0:i.baseCost)=="string"?i.baseCost:null;return{value:r,requiresApproval:!0,note:a}};function pv({priority:e,system:t,costs:n,contacts:r,retainers:s,properties:i,goods:o,liquid:a,onAddContact:u,onUpdateContact:d,onRemoveContact:p,onAddRetainer:g,onUpdateRetainer:m,onRemoveRetainer:v,onAddProperty:x,onUpdateProperty:y,onRemoveProperty:j,onAddGoods:h,onUpdateGoods:c,onRemoveGoods:f,onUpdateLiquid:w,notes:k,onUpdateNotes:E}){var Z,Fe,Be,ve;const C=e?t.resourcePoints[e]:null,T=(C==null?void 0:C.points)??0,M=pu(C==null?void 0:C.maxQuality),P=pu(C==null?void 0:C.maxCombined),V=(C==null?void 0:C.specializations)??0,te=uv(P,(C==null?void 0:C.points)??10),ne=Array.isArray(r)?r:[],K=Array.isArray(s)?s:[],Se=Array.isArray(i)?i:[],oe=Array.isArray(o)?o:[],xe=ne.map(N=>{const $=lv(N),W=[];return Number.isFinite(M)&&N.reach>M&&W.push(`Reach exceeds max quality ${M}`),Number.isFinite(M)&&N.influence>M&&W.push(`Influence exceeds max quality ${M}`),Number.isFinite(P)&&$>P&&W.push(`Total reach + influence exceeds combined maximum ${P}`),{entry:N,cost:$,issues:W}}),S=K.map(N=>{const $=ov(N),W=[];return Number.isFinite(M)&&N.competence>M&&W.push(`Competence exceeds max quality ${M}`),Number.isFinite(M)&&N.loyalty>M&&W.push(`Loyalty exceeds max quality ${M}`),Number.isFinite(P)&&$>P&&W.push(`Total loyalty + competence exceeds combined maximum ${P}`),{entry:N,cost:$,issues:W}}),z=Se.map(N=>{const $=cv(N.tenure,t,n,te),W=dv(N.zoning,t,n,te),ae=$.value+W.value,O=[];return($.requiresApproval||W.requiresApproval)&&O.push("Selection requires GM approval."),$.note&&O.push($.note),W.note&&O.push(W.note),Number.isFinite(M)&&$.value>M&&O.push(`Tenure rating exceeds max quality ${M}`),Number.isFinite(M)&&W.value>M&&O.push(`Zoning rating exceeds max quality ${M}`),Number.isFinite(P)&&ae>P&&O.push(`Total tenure + zoning exceeds combined maximum ${P}`),{entry:N,cost:ae,issues:O,tenureValue:$.value,zoningValue:W.value}}),L=oe.map(N=>{const $=av(N),W=[];return Number.isFinite(M)&&N.quality>M&&W.push(`Quality exceeds max quality ${M}`),Number.isFinite(P)&&N.quality>P&&W.push(`Quality exceeds combined maximum ${P}`),{entry:N,cost:$,issues:W}}),F=xe.reduce((N,$)=>N+$.cost,0)+S.reduce((N,$)=>N+$.cost,0)+z.reduce((N,$)=>N+$.cost,0)+L.reduce((N,$)=>N+$.cost,0)+Qn(a),B=T-F,q=C?B<0:F>0,Y=xe.filter(({entry:N})=>!!N.specialization).length+S.filter(({entry:N})=>!!N.specialization).length+z.filter(({entry:N})=>!!N.specialization).length+L.filter(({entry:N})=>!!N.specialization).length,b=V-Y<0,X=((Z=t.contacts)==null?void 0:Z.specializations)??[],Te=((Fe=t.retainers)==null?void 0:Fe.specializations)??[],re=((Be=t.properties)==null?void 0:Be.specializations)??[],ce=((ve=t.goods)==null?void 0:ve.specializations)??[];return l.jsxs("div",{className:"stage stage--resources",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Resources"}),l.jsx("p",{children:"Spend your Resource Points to define the allies, havens, and gear that keep you alive. Balance reach and quality carefully — every edge requires upkeep and trust."})]}),l.jsxs("aside",{className:"resource-summary",children:[l.jsxs("span",{className:"resource-summary__label",children:["Priority ",e??"—"]}),C?l.jsxs("dl",{children:[l.jsxs("div",{children:[l.jsx("dt",{children:"Available Points"}),l.jsx("dd",{children:T})]}),l.jsxs("div",{className:Qe({"resource-summary__warning":q}),children:[l.jsx("dt",{children:"Spent"}),l.jsx("dd",{children:F})]}),l.jsxs("div",{className:Qe({"resource-summary__warning":q}),children:[l.jsx("dt",{children:"Remaining"}),l.jsx("dd",{children:Math.max(0,B)})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Quality Cap"}),l.jsx("dd",{children:Number.isFinite(M)?M:"—"})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Combined Cap"}),l.jsx("dd",{children:Number.isFinite(P)?P:"—"})]}),l.jsxs("div",{className:Qe({"resource-summary__warning":b}),children:[l.jsx("dt",{children:"Specializations"}),l.jsxs("dd",{children:[Y," / ",V]})]})]}):l.jsx("p",{children:"Assign a resources priority to unlock your pool."})]})]}),l.jsxs("div",{className:Qe("resource-ledger",{"resource-ledger--warning":q}),children:[l.jsx("strong",{children:F})," resource points allocated",C?` of ${T}`:"",".",q&&l.jsx("span",{className:"resource-ledger__warning",children:"You are overspending. Adjust your assets or raise your priority."})]}),l.jsxs("div",{className:Qe("resource-ledger",{"resource-ledger--warning":b}),children:["Specializations used: ",l.jsx("strong",{children:Y})," of ",V,".",b&&l.jsx("span",{className:"resource-ledger__warning",children:"Only one specialization per asset until the limit is raised."})]}),l.jsxs("div",{className:"resource-grid",children:[l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Contacts"}),l.jsx("button",{type:"button",onClick:u,children:"Add Contact"})]}),xe.length===0?l.jsx("p",{className:"resource-section__empty",children:"No contacts recorded. Add a fixer, broker, or confidant."}):xe.map(({entry:N,cost:$,issues:W})=>{const ae=!N.gmApproved;return l.jsxs("article",{className:Qe("resource-card",{"resource-card--flagged":ae}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:N.name,onChange:O=>d(N.id,{name:O.target.value}),placeholder:"Contact name"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",$]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Profile"}),l.jsx("textarea",{value:N.description,onChange:O=>d(N.id,{description:O.target.value}),placeholder:"Why does this person answer your call?"})]}),l.jsxs("div",{className:"resource-card__grid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Reach"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(M)?M:void 0,value:N.reach,onChange:O=>d(N.id,{reach:Number(O.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Influence"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(M)?M:void 0,value:N.influence,onChange:O=>d(N.id,{influence:Number(O.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:N.specialization??"",onChange:O=>d(N.id,{specialization:O.target.value?O.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),X.map(O=>l.jsx("option",{value:O,children:O},O))]})]})]}),W.length>0&&l.jsx("ul",{className:"resource-card__issues",children:W.map((O,Ne)=>l.jsx("li",{children:O},Ne))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>p(N.id),className:"link",children:"Remove Contact"}),l.jsx("button",{type:"button",onClick:()=>d(N.id,{gmApproved:!N.gmApproved}),className:Qe("badge",{"badge--attention":ae}),children:N.gmApproved?"GM Approved":"GM Approval Required"})]})]},N.id)})]}),l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Retainers"}),l.jsx("button",{type:"button",onClick:g,children:"Add Retainer"})]}),S.length===0?l.jsx("p",{className:"resource-section__empty",children:"No retainers enlisted. Secure a loyal operator."}):S.map(({entry:N,cost:$,issues:W})=>{const ae=!N.gmApproved;return l.jsxs("article",{className:Qe("resource-card",{"resource-card--flagged":ae}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:N.name,onChange:O=>m(N.id,{name:O.target.value}),placeholder:"Retainer name"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",$]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Role"}),l.jsx("textarea",{value:N.description,onChange:O=>m(N.id,{description:O.target.value}),placeholder:"What do they handle for you?"})]}),l.jsxs("div",{className:"resource-card__grid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Competence"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(M)?M:void 0,value:N.competence,onChange:O=>m(N.id,{competence:Number(O.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Loyalty"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(M)?M:void 0,value:N.loyalty,onChange:O=>m(N.id,{loyalty:Number(O.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:N.specialization??"",onChange:O=>m(N.id,{specialization:O.target.value?O.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),Te.map(O=>l.jsx("option",{value:O,children:O},O))]})]})]}),W.length>0&&l.jsx("ul",{className:"resource-card__issues",children:W.map((O,Ne)=>l.jsx("li",{children:O},Ne))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>v(N.id),className:"link",children:"Remove Retainer"}),l.jsx("button",{type:"button",onClick:()=>m(N.id,{gmApproved:!N.gmApproved}),className:Qe("badge",{"badge--attention":ae}),children:N.gmApproved?"GM Approved":"GM Approval Required"})]})]},N.id)})]}),l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Properties"}),l.jsx("button",{type:"button",onClick:x,children:"Add Property"})]}),z.length===0?l.jsx("p",{className:"resource-section__empty",children:"No safehouses or fronts secured. Stake your claim."}):z.map(({entry:N,cost:$,issues:W,tenureValue:ae,zoningValue:O})=>{const Ne=!N.gmApproved;return l.jsxs("article",{className:Qe("resource-card",{"resource-card--flagged":Ne}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:N.name,onChange:ee=>y(N.id,{name:ee.target.value}),placeholder:"Property name"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",$]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Description"}),l.jsx("textarea",{value:N.description,onChange:ee=>y(N.id,{description:ee.target.value}),placeholder:"What makes this space yours?"})]}),l.jsxs("div",{className:"resource-card__grid resource-card__grid--wide",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Tenure"}),l.jsxs("select",{value:N.tenure,onChange:ee=>y(N.id,{tenure:ee.target.value}),children:[l.jsx("option",{value:"",children:"Select tenure"}),Object.keys(t.properties.tenure).map(ee=>l.jsx("option",{value:ee,children:ee},ee))]}),l.jsx("small",{children:ae?`Value ${ae}`:"Pick a claim type"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Zoning"}),l.jsxs("select",{value:N.zoning,onChange:ee=>y(N.id,{zoning:ee.target.value}),children:[l.jsx("option",{value:"",children:"Select function"}),Object.keys(t.properties.zoning).map(ee=>l.jsx("option",{value:ee,children:ee},ee))]}),l.jsx("small",{children:O?`Value ${O}`:"Pick a function"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Ward"}),l.jsx("input",{value:N.ward,onChange:ee=>y(N.id,{ward:ee.target.value}),placeholder:"Ward or district"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:N.specialization??"",onChange:ee=>y(N.id,{specialization:ee.target.value?ee.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),re.map(ee=>l.jsx("option",{value:ee,children:ee},ee))]})]})]}),W.length>0&&l.jsx("ul",{className:"resource-card__issues",children:W.map((ee,Kr)=>l.jsx("li",{children:ee},Kr))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>j(N.id),className:"link",children:"Remove Property"}),l.jsx("button",{type:"button",onClick:()=>y(N.id,{gmApproved:!N.gmApproved}),className:Qe("badge",{"badge--attention":Ne}),children:N.gmApproved?"GM Approved":"GM Approval Required"})]})]},N.id)})]}),l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Goods & Stockpiles"}),l.jsx("button",{type:"button",onClick:h,children:"Add Goods"})]}),L.length===0?l.jsx("p",{className:"resource-section__empty",children:"No caches documented. Set aside kit or contraband."}):L.map(({entry:N,cost:$,issues:W})=>{const ae=!N.gmApproved;return l.jsxs("article",{className:Qe("resource-card",{"resource-card--flagged":ae}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:N.name,onChange:O=>c(N.id,{name:O.target.value}),placeholder:"Goods cache"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",$]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Contents"}),l.jsx("textarea",{value:N.description,onChange:O=>c(N.id,{description:O.target.value}),placeholder:"Describe the stash, weaponry, or leverage."})]}),l.jsxs("div",{className:"resource-card__grid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Quality"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(M)?M:void 0,value:N.quality,onChange:O=>c(N.id,{quality:Number(O.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:N.specialization??"",onChange:O=>c(N.id,{specialization:O.target.value?O.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),ce.map(O=>l.jsx("option",{value:O,children:O},O))]})]})]}),W.length>0&&l.jsx("ul",{className:"resource-card__issues",children:W.map((O,Ne)=>l.jsx("li",{children:O},Ne))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>f(N.id),className:"link",children:"Remove Goods"}),l.jsx("button",{type:"button",onClick:()=>c(N.id,{gmApproved:!N.gmApproved}),className:Qe("badge",{"badge--attention":ae}),children:N.gmApproved?"GM Approved":"GM Approval Required"})]})]},N.id)})]})]}),l.jsxs("section",{className:"resource-liquid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Liquid Assets"}),l.jsx("input",{type:"number",min:0,value:a,onChange:N=>w(Number(N.target.value)||0)})]}),l.jsx("p",{children:"Reserve unassigned points for cash, favors, or future acquisitions."})]}),l.jsx("section",{children:l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Resource Stories"}),l.jsx("textarea",{value:k,onChange:N=>E(N.target.value),placeholder:"Record fronts, debts, leverage, and the strings attached to each asset."})]})}),l.jsxs("section",{className:"resource-reference",children:[l.jsxs("article",{children:[l.jsx("h4",{children:"Contact Scales"}),l.jsxs("div",{className:"resource-reference__grid",children:[l.jsxs("div",{children:[l.jsx("h5",{children:"Reach"}),l.jsx("ul",{children:Object.entries(t.contacts.reachScale).map(([N,$])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:N}),l.jsx("span",{children:$})]},N))})]}),l.jsxs("div",{children:[l.jsx("h5",{children:"Influence"}),l.jsx("ul",{children:Object.entries(t.contacts.influenceScale).map(([N,$])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:N}),l.jsx("span",{children:$})]},N))})]})]})]}),l.jsxs("article",{children:[l.jsx("h4",{children:"Retainer Scales"}),l.jsxs("div",{className:"resource-reference__grid",children:[l.jsxs("div",{children:[l.jsx("h5",{children:"Competence"}),l.jsx("ul",{children:Object.entries(t.retainers.competenceScale).map(([N,$])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:N}),l.jsx("span",{children:$})]},N))})]}),l.jsxs("div",{children:[l.jsx("h5",{children:"Loyalty"}),l.jsx("ul",{children:Object.entries(t.retainers.loyaltyScale).map(([N,$])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:N}),l.jsx("span",{children:$})]},N))})]})]})]}),l.jsxs("article",{children:[l.jsx("h4",{children:"Tenure Reference"}),l.jsx("ul",{className:"resource-reference__list",children:Object.entries(t.properties.tenure).map(([N,$])=>l.jsxs("li",{children:[l.jsx("strong",{children:N}),$.description&&l.jsxs("span",{children:[" — ",$.description]})]},N))})]})]})]})}function fv({priority:e,background:t,onUpdate:n,data:r}){const s=R.useMemo(()=>Object.entries(r),[r]),i=t.title&&r[t.title]?r[t.title]:void 0,o=R.useMemo(()=>i!=null&&i.professions?new Map(i.professions.map(v=>[v.priority,v])):new Map,[i==null?void 0:i.professions]),a=e?o.get(e):void 0,u=t.title||"Choose a background",d=(a==null?void 0:a.description)||(i==null?void 0:i.description)||"Select a background below to load its story, talents, and contacts.",p=(i==null?void 0:i.skillSpecializationOptions)??[],g=(i==null?void 0:i.resourceSynergyExamples)??[],m=v=>{var j;const x=r[v],y={title:v};x&&(!t.tierNotes&&x.description&&(y.tierNotes=x.description),!t.contacts&&((j=x.resourceSynergyExamples)!=null&&j.length)&&(y.contacts=x.resourceSynergyExamples.join(`
`))),n(y)};return l.jsxs("div",{className:"stage stage--background",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Background"}),l.jsx("p",{children:"Backgrounds tell the table who you were before the Long Night took hold. Use the narrative scope guidance to outline your reach and obligations."})]}),l.jsxs("aside",{className:"background-callout",children:[l.jsxs("div",{className:"background-callout__header",children:[l.jsxs("span",{className:"background-callout__label",children:["Priority ",e??"—"]}),l.jsx("h3",{children:u})]}),l.jsx("p",{className:"background-callout__body",children:d}),(p.length>0||g.length>0)&&l.jsxs("div",{className:"background-callout__tags",children:[p.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"background-callout__tag-label",children:"Signature Skills"}),l.jsx("ul",{children:p.map(v=>l.jsx("li",{children:v},v))})]}),g.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"background-callout__tag-label",children:"Resource Synergies"}),l.jsx("ul",{children:g.map(v=>l.jsx("li",{children:v},v))})]})]})]})]}),l.jsxs("section",{className:"background-form",children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Background Title"}),l.jsx("input",{value:t.title,placeholder:"Ex: Harrowed Detective of Ward 13",onChange:v=>n({title:v.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Background Details"}),l.jsx("textarea",{value:t.tierNotes,placeholder:"What power structure do you belong to? Who do you owe? How far does your influence reach?",onChange:v=>n({tierNotes:v.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Contacts Born From This Life"}),l.jsx("textarea",{value:t.contacts,placeholder:"List guaranteed contacts, safehouses, or automatic skill specializations.",onChange:v=>n({contacts:v.target.value})})]})]}),l.jsx("section",{className:"background-catalog",children:s.map(([v,x])=>{var j,h,c;const y=v===t.title;return l.jsxs("article",{className:`background-card ${y?"active":""}`,children:[l.jsxs("header",{className:"background-card__header",children:[l.jsxs("div",{children:[l.jsx("h3",{children:v}),l.jsx("p",{children:x.description})]}),l.jsx("button",{type:"button",onClick:()=>m(v),children:y?"Selected":"Adopt Background"})]}),(((j=x.skillSpecializationOptions)==null?void 0:j.length)??0)>0&&l.jsxs("section",{className:"background-card__section",children:[l.jsx("h4",{children:"Skill Specializations"}),l.jsx("ul",{children:x.skillSpecializationOptions.map(f=>l.jsx("li",{children:f},f))})]}),(((h=x.resourceSynergyExamples)==null?void 0:h.length)??0)>0&&l.jsxs("section",{className:"background-card__section",children:[l.jsx("h4",{children:"Resource Synergies"}),l.jsx("ul",{children:x.resourceSynergyExamples.map(f=>l.jsx("li",{children:f},f))})]}),(((c=x.professions)==null?void 0:c.length)??0)>0&&l.jsxs("section",{className:"background-card__section",children:[l.jsx("h4",{children:"Profession Ladder"}),l.jsx("div",{className:"background-card__professions",children:x.professions.map(f=>l.jsxs("div",{className:`background-card__profession ${f.priority===e?"highlight":""}`,children:[l.jsxs("div",{className:"background-card__profession-header",children:[l.jsx("span",{className:"badge",children:f.priority}),l.jsx("strong",{children:f.title})]}),l.jsx("p",{children:f.description})]},`${f.priority}-${f.title}`))})]})]},v)})})]})}const hv={A:{maxRank:5,points:10,specializations:2},B:{maxRank:4,points:14,specializations:2},C:{maxRank:3,points:10,specializations:1},D:{maxRank:3,points:8,specializations:1},E:{maxRank:2,points:4,specializations:0}},mv="Custom options are provisional until your GM approves them.";function gv({priority:e,data:t,ratings:n,onChangeRating:r,specializations:s,onToggleSpecialization:i,onRemoveSpecialization:o,onAddCustomSpecialization:a,backgroundSpecialization:u,backgroundOptions:d,onSetBackgroundSpecialization:p,notes:g,onUpdateNotes:m}){const[v,x]=R.useState(""),y=e?hv[e]:null,j=R.useMemo(()=>Object.values(n).reduce((P,V)=>P+V,0),[n]),h=y?Math.max(y.points-j,0):0,c=s.filter(P=>P.type!=="background"),f=y?Math.max(y.specializations-c.length,0):0,w=R.useMemo(()=>new Map(s.map(P=>[P.id,P])),[s]),k=(P,V)=>te=>{const ne=Number(te.target.value);if(!y)return;const K=Math.max(0,Math.min(ne,y.maxRank)),Se=j-V+K;let oe=K;if(Se>y.points){const xe=Se-y.points;oe=Math.max(0,K-xe)}oe!==V&&r(P,oe)},E=()=>{if(!y)return;const P=v.trim();P&&y.specializations!==0&&f!==0&&(a(P),x(""))},C=(P,V,te,ne)=>{if(!y)return;const K=`pre:${P}:${te??ne}`;if(!w.has(K)&&y.specializations>0&&f===0)return;const Se={id:K,label:`${V} · ${ne}`,type:"predefined",skillId:P,gmApproved:!0};i(Se)},T=y?y.specializations>0&&f>0:!1,M=d.filter(Boolean);return l.jsxs("div",{className:"stage stage--skills",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Skills & Disciplines"}),l.jsx("p",{children:"Allocate your skill points, respecting the maximum rank for your priority. Claim a handful of specializations to spotlight signature moves—custom picks stay flagged until your GM approves them."})]}),l.jsxs("aside",{className:"skills-limit",children:[l.jsxs("span",{children:["Priority ",e??"—"]}),y?l.jsxs(l.Fragment,{children:[l.jsx("p",{children:`${h} of ${y.points} skill points remaining`}),l.jsxs("p",{children:["Specializations: ",`${Math.max(f,0)} of ${y.specializations} remaining`]})]}):l.jsx("p",{children:"Assign a priority letter to unlock your allocation."})]})]}),l.jsx("section",{className:"skills-grid",children:Object.entries(t.skills).map(([P,V])=>l.jsxs("article",{className:"skills-discipline",children:[l.jsxs("header",{children:[l.jsx("h3",{children:vv(P)}),l.jsxs("p",{children:[V.length," core skills"]})]}),l.jsx("ul",{children:V.map(te=>{const ne=`${P}:${te.id}`,K=n[ne]??0,Se=(y==null?void 0:y.maxRank)??0;return l.jsxs("li",{children:[l.jsxs("div",{className:"skills-item__header",children:[l.jsxs("label",{className:"skills-rating",children:[l.jsx("span",{children:"Rating"}),l.jsx("input",{type:"range",min:0,max:Se,step:1,value:K,disabled:!y,onChange:k(ne,K)}),l.jsx("span",{className:"skills-rating__value",children:K})]}),l.jsxs("div",{children:[l.jsx("h4",{children:te.name}),l.jsx("p",{children:te.description})]})]}),te.specializations.length>0&&l.jsxs("details",{children:[l.jsx("summary",{children:"Specializations"}),l.jsx("ul",{className:"skills-specializations",children:te.specializations.map(oe=>{const xe=`pre:${ne}:${oe.id??oe.name}`,S=w.has(xe),z=!y||y.specializations===0&&!S||y.specializations>0&&f===0&&!S;return l.jsx("li",{children:l.jsxs("button",{type:"button",className:`skills-specialization__toggle ${S?"selected":""}`,onClick:()=>C(ne,te.name,oe.id,oe.name),disabled:z,children:[l.jsx("strong",{children:oe.name}),l.jsx("span",{children:oe.description})]})},xe)})})]})]},ne)})})]},P))}),M.length>0&&l.jsxs("section",{className:"skills-background",children:[l.jsx("h3",{children:"Background Specialization"}),l.jsx("p",{children:"Select one of the options granted by your background."}),l.jsxs("div",{className:"skills-background__options",children:[M.map(P=>l.jsxs("label",{className:"skills-background__option",children:[l.jsx("input",{type:"radio",name:"background-specialization",value:P,checked:u===P,onChange:()=>p(P)}),l.jsx("span",{children:P})]},P)),l.jsx("button",{type:"button",className:"skills-background__clear",onClick:()=>p(null),children:"Clear Background Choice"})]})]}),l.jsxs("section",{className:"skills-selected",children:[l.jsx("h3",{children:"Selected Specializations"}),s.length===0&&!u?l.jsx("p",{children:"No specializations chosen yet."}):l.jsxs("ul",{children:[s.map(P=>l.jsxs("li",{children:[l.jsxs("div",{children:[l.jsx("strong",{children:P.label}),P.type==="custom"&&!P.gmApproved&&l.jsx("span",{className:"gm-tag",children:"Pending GM Approval"})]}),l.jsx("button",{type:"button",onClick:()=>o(P.id),"aria-label":`Remove ${P.label}`,children:"Remove"})]},P.id)),u&&l.jsxs("li",{children:[l.jsxs("div",{children:[l.jsx("strong",{children:u}),l.jsx("span",{className:"gm-tag gm-tag--background",children:"Background"})]}),l.jsx("button",{type:"button",onClick:()=>p(null),"aria-label":"Clear background specialization",children:"Remove"})]})]})]}),l.jsxs("section",{className:"skills-footer",children:[l.jsxs("div",{children:[l.jsx("h3",{children:"Custom Specialization"}),l.jsxs("div",{className:"skills-custom",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Describe your custom edge"}),l.jsxs("div",{className:"skills-custom__controls",children:[l.jsx("input",{value:v,onChange:P=>x(P.target.value),placeholder:"Ex: Underworld Etiquette",disabled:y?!T:!0}),l.jsx("button",{type:"button",onClick:E,disabled:!T||!v.trim(),children:"Add"})]})]}),l.jsxs("p",{className:"skills-custom__hint",children:[mv,y?` Slots remaining: ${Math.max(f,0)}.`:""]})]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Skill Notes"}),l.jsx("textarea",{value:g,onChange:P=>m(P.target.value),placeholder:"Record signature moves, training montages, and promised stunts."})]})]})]})}function vv(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}const yv={Physique:"physique",Intellect:"intellect",Presence:"presence"};function xv({priority:e,scores:t,onUpdateScore:n,notes:r,onUpdateNotes:s,data:i,selectedSpecializations:o,onToggleSpecialization:a}){var j;if(!i||!Array.isArray(i.pointBuy)||!i.definitions)return l.jsx("div",{className:"stage stage--attributes",children:l.jsx("p",{children:"Attribute data failed to load. Please refresh."})});const u=R.useMemo(()=>e?i.pointBuy.find(h=>h.priority===e)??null:null,[i.pointBuy,e]),d=R.useMemo(()=>Object.entries(i.definitions).map(([h,c])=>{const f=yv[h];return f?{key:f,displayName:h,description:c.description,specializations:c.specializations??[]}:null}).filter(h=>h!==null),[i.definitions]),p=(u==null?void 0:u.attributePoints)??0,g=Object.values(t).reduce((h,c)=>h+c,0),m=p-g,v=(u==null?void 0:u.specializations)??0,x=R.useMemo(()=>Object.values(o).reduce((h,c)=>h+(Array.isArray(c)?c.length:0),0),[o]),y=Math.max(v-x,0);return l.jsxs("div",{className:"stage stage--attributes",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Attributes"}),l.jsx("p",{children:"Only three pillars define your raw capability. Split your dice pool to show which part of their soul still shines and which has already been sold to the city."})]}),l.jsxs("aside",{className:"attribute-pool",children:[l.jsxs("span",{children:["Priority ",e??"—"]}),e?l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:["Pool ",p," • Remaining ",m]}),l.jsxs("p",{className:"attribute-pool__detail",children:["Specializations: ",v>0?`${y} of ${v} remaining`:"None available"]})]}):l.jsx("p",{children:"Assign a priority letter to calculate your attribute pool."})]})]}),l.jsx("section",{className:"attributes-grid",children:d.map(h=>{var c;return l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h3",{children:h.displayName}),l.jsx("p",{children:h.description})]}),l.jsxs("div",{className:"attribute-control",children:[l.jsx("input",{type:"range",min:0,max:p,value:t[h.key]??0,onChange:f=>n(h.key,Number(f.target.value))}),l.jsx("span",{className:"attribute-value",children:t[h.key]??0})]}),((c=h.specializations)==null?void 0:c.length)>0&&l.jsxs("div",{className:"attribute-specializations",children:[l.jsx("h4",{children:"Specializations"}),l.jsx("ul",{children:h.specializations.map(f=>{const k=(o[h.key]??[]).includes(f.name),E=v===0&&!k||v>0&&y===0&&!k;return l.jsx("li",{children:l.jsxs("button",{type:"button",className:`attribute-specialization__toggle ${k?"selected":""}`,onClick:()=>a(h.key,f.name),disabled:E,children:[l.jsx("strong",{children:f.name}),l.jsx("span",{children:f.description})]})},f.name)})})]})]},h.key)})}),m<0&&l.jsx("p",{className:"attribute-warning",children:"You are overspending your pool. Reduce a score or raise your priority."}),((j=i.ratings)==null?void 0:j.length)>0&&l.jsxs("section",{className:"attribute-ratings",children:[l.jsx("h3",{children:"Rating Benchmarks"}),l.jsx("ul",{children:i.ratings.map(h=>l.jsxs("li",{children:[l.jsx("span",{className:"attribute-rating__score",children:h.score}),l.jsx("span",{children:h.label})]},h.score))})]}),l.jsx("section",{children:l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Attribute Notes"}),l.jsx("textarea",{value:r,onChange:h=>s(h.target.value),placeholder:"What scars or tells explain these strengths and weaknesses?"})]})})]})}function jv({corruption:e,onAdjustCorruption:t,onSetCorruption:n,onUpdateCorruptionNotes:r,advancement:s,onAdjustExperience:i,onSetExperience:o,onUpdateAdvancement:a,health:u,onAdjustHealth:d,onSetHealth:p,onUpdateScar:g,narrative:m,onAddRelationship:v,onRemoveRelationship:x,onUpdateAnchors:y,onUpdateNarrativeNotes:j}){const[h,c]=R.useState(""),f=()=>{h.trim()&&(v(h.trim()),c(""))};return l.jsxs("div",{className:"stage stage--narrative",children:[l.jsx("header",{className:"stage__header",children:l.jsxs("div",{children:[l.jsx("h2",{children:"Narrative, Corruption & Wounds"}),l.jsx("p",{children:"Record the scars the city has already carved. Corruption is front-and-center for players, while hidden notes can foreshadow GM complications."})]})}),l.jsxs("section",{className:"advancement-panel",children:[l.jsxs("div",{className:"experience-meter",children:[l.jsx("div",{className:"experience-value",children:s.experience}),l.jsx("span",{children:"Experience"}),l.jsxs("div",{className:"experience-controls",children:[l.jsx("button",{type:"button",onClick:()=>i(-1),children:"-1"}),l.jsx("button",{type:"button",onClick:()=>o(0),children:"Reset"}),l.jsx("button",{type:"button",onClick:()=>i(1),children:"+1"})]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Advancement Track"}),l.jsx("textarea",{value:s.track,onChange:w=>a({track:w.target.value}),placeholder:"What does advancement look like for this character? Training regimens, resources, oaths."})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Milestones"}),l.jsx("textarea",{value:s.milestones,onChange:w=>a({milestones:w.target.value}),placeholder:"Log beats completed, debts paid, or corruption bargains accepted."})]})]}),l.jsxs("section",{className:"corruption-panel",children:[l.jsxs("div",{className:"corruption-meter",children:[l.jsx("div",{className:"corruption-value",children:e.current}),l.jsxs("span",{children:["Threshold ",e.warning]}),l.jsxs("div",{className:"corruption-controls",children:[l.jsx("button",{type:"button",onClick:()=>t(-1),children:"-1"}),l.jsx("button",{type:"button",onClick:()=>n(0),children:"Reset"}),l.jsx("button",{type:"button",onClick:()=>t(1),children:"+1"})]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Corruption Notes"}),l.jsx("textarea",{value:e.notes,onChange:w=>r(w.target.value),placeholder:"Describe what corruption looks like for this character."})]})]}),l.jsxs("section",{className:"health-grid",children:[l.jsx("h3",{children:"Health by Body Location"}),l.jsx("div",{className:"health-cards",children:Object.keys(ou).map(w=>{const k=u[w],E=ou[w];return l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h4",{children:E}),l.jsxs("span",{children:[k.current," / ",k.max]})]}),l.jsxs("div",{className:"health-controls",children:[l.jsx("button",{type:"button",onClick:()=>d(w,-1),children:"-"}),l.jsx("input",{type:"number",min:0,max:k.max,value:k.current,onChange:C=>p(w,Number(C.target.value))}),l.jsx("button",{type:"button",onClick:()=>d(w,1),children:"+"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Scars & Notes"}),l.jsx("textarea",{value:k.scar,onChange:C=>g(w,C.target.value),placeholder:"Visible injuries, lingering trauma, prosthetics."})]})]},w)})})]}),l.jsxs("section",{className:"relationships-panel",children:[l.jsxs("div",{className:"relationships-list",children:[l.jsx("h3",{children:"Relationships"}),l.jsxs("div",{className:"relationship-input",children:[l.jsx("input",{value:h,onChange:w=>c(w.target.value),placeholder:"Name · why they matter · leverage"}),l.jsx("button",{type:"button",onClick:f,children:"Add"})]}),m.relationships.length===0?l.jsx("p",{children:"No relationships logged yet."}):l.jsx("ul",{children:m.relationships.map(w=>l.jsxs("li",{children:[l.jsx("span",{children:w}),l.jsx("button",{type:"button",onClick:()=>x(w),children:"Remove"})]},w))})]}),l.jsxs("div",{className:"anchors",children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Anchors"}),l.jsx("textarea",{value:m.anchors,onChange:w=>y(w.target.value),placeholder:"What keeps them tethered to humanity?"})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Other Notes"}),l.jsx("textarea",{value:m.notes,onChange:w=>j(w.target.value),placeholder:"Foreshadow upcoming arcs, unresolved debts, or metaphysical tells."})]})]})]})]})}function wv(){var Kr;const{data:e}=qr(),t=D(_=>_.ensureActiveBuild),n=D(_=>_.activeBuildId?_.builds[_.activeBuildId]:null),r=D(_=>_.setStage),s=D(_=>_.updateProfile),i=D(_=>_.assignPriority),o=D(_=>_.selectLineage),a=D(_=>_.toggleLineageReveal),u=D(_=>_.updateLineageNotes),d=D(_=>_.toggleLineagePower),p=D(_=>_.clearLineagePowers),g=D(_=>_.updateResourceNotes),m=D(_=>_.updateBackground),v=D(_=>_.addContactResource),x=D(_=>_.updateContactResource),y=D(_=>_.removeContactResource),j=D(_=>_.addRetainerResource),h=D(_=>_.updateRetainerResource),c=D(_=>_.removeRetainerResource),f=D(_=>_.addPropertyResource),w=D(_=>_.updatePropertyResource),k=D(_=>_.removePropertyResource),E=D(_=>_.addGoodsResource),C=D(_=>_.updateGoodsResource),T=D(_=>_.removeGoodsResource),M=D(_=>_.setResourceLiquid),P=D(_=>_.setSkillRating),V=D(_=>_.toggleSkillSpecialization),te=D(_=>_.removeSkillSpecialization),ne=D(_=>_.addCustomSkillSpecialization),K=D(_=>_.setBackgroundSkillSpecialization),Se=D(_=>_.updateSkillNotes),oe=D(_=>_.setAttributeScore),xe=D(_=>_.updateAttributeNotes),S=D(_=>_.toggleAttributeSpecialization),z=D(_=>_.resetActiveBuild),L=D(_=>_.adjustExperience),F=D(_=>_.setExperience),B=D(_=>_.updateAdvancement),q=D(_=>_.adjustCorruption),Y=D(_=>_.setCorruption),ge=D(_=>_.updateCorruptionNotes),b=D(_=>_.adjustHealth),X=D(_=>_.setHealth),Te=D(_=>_.updateHealthScar),re=D(_=>_.addRelationship),ce=D(_=>_.removeRelationship),Z=D(_=>_.updateAnchors),Fe=D(_=>_.updateNarrativeNotes),Be=gt(_=>_.gmUnlocked);R.useEffect(()=>{t()},[t]);const ve=R.useMemo(()=>qd((n==null?void 0:n.lineage.key)??null),[n==null?void 0:n.lineage.key]);if(!e||!n)return null;const N=n.lineage.key?(Kr=e.powerSets)==null?void 0:Kr[n.lineage.key]:void 0,$=n.background.title?e.backgrounds[n.background.title]:void 0,W=Array.isArray($==null?void 0:$.skillSpecializationOptions)?$.skillSpecializationOptions:[],ae=(_,xt)=>i(_,xt),O=_=>i(_,null);let Ne;switch(n.stage){case"priorities":Ne=l.jsx(Qg,{priorities:n.priorities,onSelect:ae,onClear:O});break;case"lineage":Ne=l.jsx(iv,{priorities:n.priorities,selected:n.lineage.key,onSelect:_=>o(_),canReveal:Be,revealMechanics:n.lineage.revealMechanics,onToggleReveal:a,notes:n.lineage.notes,onUpdateNotes:u,powerSet:N,powers:n.lineage.powers,onTogglePower:d,onClearPowers:p});break;case"resources":Ne=l.jsx(pv,{priority:n.priorities.resources,system:e.resources,costs:e.resourceCosts,contacts:n.resources.contacts,retainers:n.resources.retainers,properties:n.resources.properties,goods:n.resources.goods,liquid:n.resources.liquid,onAddContact:v,onUpdateContact:x,onRemoveContact:y,onAddRetainer:j,onUpdateRetainer:h,onRemoveRetainer:c,onAddProperty:f,onUpdateProperty:w,onRemoveProperty:k,onAddGoods:E,onUpdateGoods:C,onRemoveGoods:T,onUpdateLiquid:M,notes:n.resources.notes,onUpdateNotes:g});break;case"background":Ne=l.jsx(fv,{priority:n.priorities.background,background:n.background,onUpdate:m,data:e.backgrounds});break;case"skills":Ne=l.jsx(gv,{priority:n.priorities.skills,data:e.skills,ratings:n.skills.ratings,onChangeRating:P,specializations:n.skills.specializations,onToggleSpecialization:V,onRemoveSpecialization:te,onAddCustomSpecialization:ne,backgroundSpecialization:n.skills.backgroundSpecialization,backgroundOptions:W,onSetBackgroundSpecialization:K,notes:n.skills.notes,onUpdateNotes:Se});break;case"attributes":Ne=l.jsx(xv,{priority:n.priorities.attributes,scores:n.attributes.scores,onUpdateScore:(_,xt)=>oe(_,xt),notes:n.attributes.notes,onUpdateNotes:xe,data:e.attributes,selectedSpecializations:n.attributes.specializations,onToggleSpecialization:S});break;case"narrative":Ne=l.jsx(jv,{corruption:n.corruption,onAdjustCorruption:q,onSetCorruption:Y,onUpdateCorruptionNotes:ge,advancement:n.advancement,onAdjustExperience:L,onSetExperience:F,onUpdateAdvancement:B,health:n.health,onAdjustHealth:(_,xt)=>b(_,xt),onSetHealth:(_,xt)=>X(_,xt),onUpdateScar:(_,xt)=>Te(_,xt),narrative:n.narrative,onAddRelationship:re,onRemoveRelationship:ce,onUpdateAnchors:Z,onUpdateNarrativeNotes:Fe});break;default:Ne=null}const ee=ve?{"--lineage-accent":ve.aesthetic.accent,"--lineage-glow":ve.aesthetic.glow}:void 0;return l.jsxs("div",{className:"builder-screen",style:ee,children:[l.jsx(Tg,{build:n,onUpdate:s}),l.jsx("div",{className:"builder-actions",children:l.jsx("button",{type:"button",onClick:z,children:"Reset Character"})}),l.jsx(Hg,{current:n.stage,onNavigate:r}),Ne]})}function kv(e,t){const n=e.background.title?t.backgrounds[e.background.title]??null:null;return{version:"0.1.0",generatedAt:new Date().toISOString(),profile:e.profile,priorities:e.priorities,lineage:e.lineage,resources:e.resources,background:e.background,skills:e.skills,attributes:e.attributes,corruption:e.corruption,health:e.health,narrative:e.narrative,gmNotes:e.gmNotes,reference:{resources:t.resources,resourceCosts:t.resourceCosts,powerSchemas:t.powerSchemas,attributes:t.attributes,backgrounds:t.backgrounds,selectedBackgroundTemplate:n,characterSheet:t.characterSheet}}}function Sv(e,t){const n=kv(e,t),r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"});Jd(`${Xd(e.profile.name||e.label)}.json`,r)}function Nv(e){const t=Cv(e),n=new Blob([t],{type:"text/plain"});Jd(`${Xd(e.profile.name||e.label)}.txt`,n)}function Cv(e){const t=[];t.push(`SIDONIA DOSSIER :: ${e.profile.name||e.label}`),t.push(`Concept: ${e.profile.concept}`),t.push(`Pronouns: ${e.profile.pronouns}`),t.push(`Summary: ${e.profile.summary}`),e.profile.alias&&t.push(`Alias: ${e.profile.alias}`),e.profile.physicalDescription&&t.push(`Physical Description: ${e.profile.physicalDescription}`),e.profile.code&&t.push(`Code: ${e.profile.code}`),e.profile.lineNotCrossed&&t.push(`Line Not Crossed: ${e.profile.lineNotCrossed}`),e.profile.temptation&&t.push(`Temptation: ${e.profile.temptation}`),t.push(""),t.push("Priorities:"),Object.entries(e.priorities).forEach(([s,i])=>{t.push(`  ${s.toUpperCase()}: ${i??"-"}`)}),t.push(""),t.push(`Lineage: ${e.lineage.key??"Unchosen"}`),t.push(`Lineage Notes: ${e.lineage.notes}`),e.lineage.powers.length>0&&(t.push("Selected Lineage Powers:"),e.lineage.powers.forEach(s=>{var a,u,d,p,g,m;const i=[];(a=s.meta)!=null&&a.tierLabel&&i.push(s.meta.tierLabel),(u=s.meta)!=null&&u.sphere&&i.push(s.meta.sphere),(d=s.meta)!=null&&d.moveType&&i.push(s.meta.moveType),(p=s.meta)!=null&&p.branch&&i.push(s.meta.branch),(g=s.meta)!=null&&g.chassis&&i.push(s.meta.chassis),(m=s.meta)!=null&&m.category&&!["esper-base","esper-mentalist"].includes(s.meta.category)&&i.push(s.meta.category);const o=i.length>0?` (${i.join(", ")})`:"";t.push(`  - ${s.label}${o}`)})),t.push(""),t.push("Resources:"),e.resources.contacts.length>0&&(t.push("  Contacts:"),e.resources.contacts.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Contact";t.push(`    - ${a}${o}${i}`),t.push(`      Reach ${s.reach} / Influence ${s.influence}`),s.description&&t.push(`      ${s.description}`)})),e.resources.retainers.length>0&&(t.push("  Retainers:"),e.resources.retainers.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Retainer";t.push(`    - ${a}${o}${i}`),t.push(`      Competence ${s.competence} / Loyalty ${s.loyalty}`),s.description&&t.push(`      ${s.description}`)})),e.resources.properties.length>0&&(t.push("  Properties:"),e.resources.properties.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Property";t.push(`    - ${a}${o}${i}`),t.push(`      Tenure: ${s.tenure||"—"} · Zoning: ${s.zoning||"—"}`),s.ward&&t.push(`      Ward: ${s.ward}`),s.description&&t.push(`      ${s.description}`)})),e.resources.goods.length>0&&(t.push("  Goods & Stockpiles:"),e.resources.goods.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Cache";t.push(`    - ${a}${o}${i}`),t.push(`      Quality ${s.quality}`),s.description&&t.push(`      ${s.description}`)})),t.push(`  Liquid Assets: ${e.resources.liquid}`),t.push(`Resource Notes: ${e.resources.notes}`),t.push(""),t.push(`Background: ${e.background.title}`),t.push(`Details: ${e.background.tierNotes}`),t.push(`Contacts: ${e.background.contacts}`),t.push(""),t.push("Skills:"),Object.entries(e.skills.ratings).forEach(([s,i])=>{i>0&&t.push(`  ${_v(s)}: ${i}`)});const n=e.skills.specializations.filter(s=>s.type!=="background");n.length>0&&(t.push("Specializations:"),n.forEach(s=>{const i=s.type==="custom"&&!s.gmApproved?" (Pending GM Approval)":"";t.push(`  - ${s.label}${i}`)})),e.skills.backgroundSpecialization&&t.push(`Background Specialization: ${e.skills.backgroundSpecialization}`),t.push(`Skill Notes: ${e.skills.notes}`),t.push(""),t.push("Attributes:"),Object.entries(e.attributes.scores).forEach(([s,i])=>{t.push(`  ${s}: ${i}`)});const r=Object.entries(e.attributes.specializations).filter(([,s])=>s.length>0);return r.length>0&&(t.push("Attribute Specializations:"),r.forEach(([s,i])=>{t.push(`  ${s}: ${i.join(", ")}`)})),t.push(`Attribute Notes: ${e.attributes.notes}`),t.push(""),t.push(`Corruption: ${e.corruption.current} / ${e.corruption.warning}`),t.push(`Corruption Notes: ${e.corruption.notes}`),t.push(""),t.push("Health:"),Object.entries(e.health).forEach(([s,i])=>{t.push(`  ${s}: ${i.current}/${i.max} :: ${i.scar}`)}),t.push(""),t.push("Relationships:"),e.narrative.relationships.forEach(s=>t.push(`  - ${s}`)),t.push(`Anchors: ${e.narrative.anchors}`),t.push(`Notes: ${e.narrative.notes}`),e.gmNotes&&(t.push(""),t.push("GM Notes:"),t.push(e.gmNotes)),t.join(`
`)}function Jd(e,t){const n=document.createElement("a"),r=URL.createObjectURL(t);n.href=r,n.download=e,n.click(),URL.revokeObjectURL(r)}function Xd(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"sidonia-character"}function _v(e){const[t,n]=e.split(":");return`${fu(t)} · ${fu((n??"").replace(/-/g," "))}`}function fu(e){return e.split(/\s+/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ").trim()}function Ev(){const{data:e}=qr(),t=D(m=>m.builds),n=D(m=>m.activeBuildId),r=D(m=>m.createBuild),s=D(m=>m.setActiveBuild),i=D(m=>m.archiveBuild),o=D(m=>m.renameBuild),a=D(m=>m.duplicateBuild),[u,d]=R.useState(""),p=R.useMemo(()=>Object.values(t).sort((m,v)=>m.updatedAt<v.updatedAt?1:-1),[t]),g=()=>{const m=r(u.trim()||void 0);d(""),s(m)};return e?l.jsxs("section",{className:"management",children:[l.jsxs("header",{children:[l.jsx("h1",{children:"Character Management"}),l.jsx("p",{children:"Spin up new dossiers, duplicate existing ones, and export packages for your virtual tabletop or print."})]}),l.jsxs("div",{className:"management__actions",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Name your new dossier"}),l.jsx("input",{value:u,onChange:m=>d(m.target.value),placeholder:"Untitled Operative"})]}),l.jsx("button",{type:"button",onClick:g,children:"Create Character"})]}),p.length===0&&l.jsx("p",{children:"No builds yet. Start by creating a new dossier."}),l.jsx("div",{className:"management__grid",children:p.map(m=>{const v=m.id===n;return l.jsxs("article",{className:`management-card ${v?"active":""}`,children:[l.jsxs("header",{children:[l.jsx("input",{value:m.label,onChange:x=>o(m.id,x.target.value),"aria-label":"Character label"}),v?l.jsx("span",{className:"badge",children:"Active"}):l.jsx("button",{onClick:()=>s(m.id),children:"Set Active"})]}),l.jsxs("dl",{children:[l.jsxs("div",{children:[l.jsx("dt",{children:"Name"}),l.jsx("dd",{children:m.profile.name||"—"})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Concept"}),l.jsx("dd",{children:m.profile.concept||"—"})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Updated"}),l.jsx("dd",{children:new Date(m.updatedAt).toLocaleString()})]})]}),l.jsxs("footer",{children:[l.jsx("button",{type:"button",onClick:()=>a(m.id),children:"Duplicate"}),l.jsx("button",{type:"button",onClick:()=>Sv(m,e),children:"Export JSON"}),l.jsx("button",{type:"button",onClick:()=>Nv(m),children:"Printable Sheet"}),l.jsx("button",{type:"button",className:"danger",onClick:()=>Pv(m.id,m.label,i),children:"Delete"})]})]},m.id)})})]}):null}function Pv(e,t,n){window.confirm(`Delete ${t}? This action cannot be undone.`)&&n(e)}function Rv(){const{data:e}=qr(),t=gt(v=>v.gmUnlocked),n=gt(v=>v.authenticateGm),r=gt(v=>v.lockGm),s=gt(v=>v.gmUnlockedAt),[i,o]=R.useState(""),[a,u]=R.useState(null),d=(e==null?void 0:e.designDocs)??[],p=(e==null?void 0:e.powerSchemas)??{},g=v=>{v.preventDefault(),n(i)?(u(null),o("")):(u("Access denied. Double-check the veil phrase."),G.track("gm.invalid_passphrase",{}))},m=R.useMemo(()=>Object.entries(p),[p]);return l.jsxs("section",{className:"gm-portal",children:[l.jsxs("header",{children:[l.jsx("h1",{children:"GM Veil"}),l.jsx("p",{children:"Hidden truths live here. Only game masters with the veil phrase may cross. Player tables should never see the material below."})]}),!t&&l.jsxs("form",{className:"gm-form",onSubmit:g,children:[l.jsxs("label",{children:[l.jsx("span",{children:"Veil Phrase"}),l.jsx("input",{value:i,onChange:v=>o(v.target.value),placeholder:"Enter the GM veil phrase",autoComplete:"off"})]}),l.jsx("button",{type:"submit",children:"Slip Behind the Veil"}),a&&l.jsx("p",{className:"gm-error",children:a})]}),t&&l.jsxs("div",{className:"gm-content",children:[l.jsxs("section",{className:"gm-status",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Veil Raised"}),l.jsxs("p",{children:["Unlocked ",s?new Date(s).toLocaleString():"just now","."]})]}),l.jsx("button",{type:"button",onClick:r,children:"Re-engage Safety"})]}),l.jsxs("section",{children:[l.jsx("h2",{children:"Power Schemas"}),l.jsx("p",{children:"Raw schema data for powers, lineages, and their restrictions. Export directly for system reference."}),l.jsx("div",{className:"schema-grid",children:m.map(([v,x])=>l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h3",{children:zv(v)}),l.jsx("button",{type:"button",onClick:()=>Zd(`${v}-schema.json`,x),children:"Download JSON"})]}),l.jsxs("pre",{children:[JSON.stringify(x,null,2).slice(0,400),"…"]})]},v))})]}),l.jsxs("section",{children:[l.jsx("h2",{children:"Design Documents"}),l.jsx("p",{children:"Reference briefs written for GM eyes. Share selectively with players as the narrative reveals itself."}),l.jsx("div",{className:"doc-grid",children:d.map(v=>l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h3",{children:v.title}),l.jsx("button",{type:"button",onClick:()=>Av(`${v.id}.md`,v.content),children:"Download Markdown"})]}),l.jsxs("pre",{children:[v.content.slice(0,400),"…"]})]},v.id))})]}),l.jsxs("section",{children:[l.jsx("h2",{children:"Analytics Buffer"}),l.jsx("p",{children:"Inspect anonymized analytics currently stored locally. Export before sharing with designers."}),l.jsx(Lv,{})]})]})]})}function zv(e){return e.split(/[-_]/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function Zd(e,t){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"});ep(e,n)}function Av(e,t){const n=new Blob([t],{type:"text/plain"});ep(e,n)}function ep(e,t){const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,r.click(),URL.revokeObjectURL(n)}function Lv(){const e=gt(n=>n.analyticsConsent),t=G.getAll();return e!=="accepted"?l.jsx("p",{children:"Analytics collection is currently disabled or declined."}):t.length===0?l.jsx("p",{children:"No analytics entries recorded yet."}):l.jsxs("div",{className:"analytics-log",children:[l.jsx("button",{type:"button",onClick:()=>Zd("sidonia-analytics.json",t),children:"Export Analytics Buffer"}),l.jsx("ul",{children:t.map(n=>l.jsxs("li",{children:[l.jsx("strong",{children:n.event}),l.jsx("span",{children:new Date(n.timestamp).toLocaleTimeString()}),n.data&&l.jsx("code",{children:JSON.stringify(n.data)})]},`${n.event}-${n.timestamp}`))})]})}function $v(){return l.jsxs("div",{className:"loading-spinner",role:"status","aria-live":"polite",children:[l.jsx("div",{className:"loading-spinner__glow"}),l.jsx("span",{className:"loading-spinner__label",children:"Loading the Veil…"})]})}function Tv(){const{status:e,error:t,refresh:n}=qr();let r;return e==="idle"||e==="loading"?r=l.jsx($v,{}):e==="error"?r=l.jsxs("div",{children:[l.jsx("h2",{children:"We lost the signal."}),l.jsxs("p",{children:["Character data failed to load. ",t]}),l.jsx("button",{type:"button",onClick:n,children:"Retry"})]}):r=l.jsxs(wm,{children:[l.jsx(xn,{path:"/",element:l.jsx($g,{})}),l.jsx(xn,{path:"/builder",element:l.jsx(wv,{})}),l.jsx(xn,{path:"/management",element:l.jsx(Ev,{})}),l.jsx(xn,{path:"/gm",element:l.jsx(Rv,{})}),l.jsx(xn,{path:"*",element:l.jsx(xm,{to:"/",replace:!0})})]}),l.jsx(Lg,{children:r})}qi.createRoot(document.getElementById("root")).render(l.jsx(Kl.StrictMode,{children:l.jsx(Rm,{children:l.jsx(Rg,{children:l.jsx(Tv,{})})})}));
