var np=Object.defineProperty;var rp=(e,t,n)=>t in e?np(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var yi=(e,t,n)=>rp(e,typeof t!="symbol"?t+"":t,n);function sp(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function mc(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var gc={exports:{}},Js={},vc={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wr=Symbol.for("react.element"),ip=Symbol.for("react.portal"),lp=Symbol.for("react.fragment"),op=Symbol.for("react.strict_mode"),ap=Symbol.for("react.profiler"),cp=Symbol.for("react.provider"),up=Symbol.for("react.context"),dp=Symbol.for("react.forward_ref"),pp=Symbol.for("react.suspense"),fp=Symbol.for("react.memo"),hp=Symbol.for("react.lazy"),Vo=Symbol.iterator;function mp(e){return e===null||typeof e!="object"?null:(e=Vo&&e[Vo]||e["@@iterator"],typeof e=="function"?e:null)}var yc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xc=Object.assign,jc={};function Yn(e,t,n){this.props=e,this.context=t,this.refs=jc,this.updater=n||yc}Yn.prototype.isReactComponent={};Yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wc(){}wc.prototype=Yn.prototype;function Gl(e,t,n){this.props=e,this.context=t,this.refs=jc,this.updater=n||yc}var Ql=Gl.prototype=new wc;Ql.constructor=Gl;xc(Ql,Yn.prototype);Ql.isPureReactComponent=!0;var Go=Array.isArray,kc=Object.prototype.hasOwnProperty,ql={current:null},Sc={key:!0,ref:!0,__self:!0,__source:!0};function Nc(e,t,n){var r,s={},i=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)kc.call(t,r)&&!Sc.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Wr,type:e,key:i,ref:o,props:s,_owner:ql.current}}function gp(e,t){return{$$typeof:Wr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Yl(e){return typeof e=="object"&&e!==null&&e.$$typeof===Wr}function vp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qo=/\/+/g;function xi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?vp(""+e.key):t.toString(36)}function ps(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Wr:case ip:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+xi(o,0):r,Go(s)?(n="",e!=null&&(n=e.replace(Qo,"$&/")+"/"),ps(s,t,n,"",function(d){return d})):s!=null&&(Yl(s)&&(s=gp(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Qo,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Go(e))for(var a=0;a<e.length;a++){i=e[a];var c=r+xi(i,a);o+=ps(i,t,n,c,s)}else if(c=mp(e),typeof c=="function")for(e=c.call(e),a=0;!(i=e.next()).done;)i=i.value,c=r+xi(i,a++),o+=ps(i,t,n,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Yr(e,t,n){if(e==null)return e;var r=[],s=0;return ps(e,r,"","",function(i){return t.call(n,i,s++)}),r}function yp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Oe={current:null},fs={transition:null},xp={ReactCurrentDispatcher:Oe,ReactCurrentBatchConfig:fs,ReactCurrentOwner:ql};function Cc(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:Yr,forEach:function(e,t,n){Yr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yr(e,function(){t++}),t},toArray:function(e){return Yr(e,function(t){return t})||[]},only:function(e){if(!Yl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=Yn;ee.Fragment=lp;ee.Profiler=ap;ee.PureComponent=Gl;ee.StrictMode=op;ee.Suspense=pp;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xp;ee.act=Cc;ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=xc({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ql.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(c in t)kc.call(t,c)&&!Sc.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Wr,type:e.type,key:s,ref:i,props:r,_owner:o}};ee.createContext=function(e){return e={$$typeof:up,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:cp,_context:e},e.Consumer=e};ee.createElement=Nc;ee.createFactory=function(e){var t=Nc.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:dp,render:e}};ee.isValidElement=Yl;ee.lazy=function(e){return{$$typeof:hp,_payload:{_status:-1,_result:e},_init:yp}};ee.memo=function(e,t){return{$$typeof:fp,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=fs.transition;fs.transition={};try{e()}finally{fs.transition=t}};ee.unstable_act=Cc;ee.useCallback=function(e,t){return Oe.current.useCallback(e,t)};ee.useContext=function(e){return Oe.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return Oe.current.useDeferredValue(e)};ee.useEffect=function(e,t){return Oe.current.useEffect(e,t)};ee.useId=function(){return Oe.current.useId()};ee.useImperativeHandle=function(e,t,n){return Oe.current.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return Oe.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return Oe.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return Oe.current.useMemo(e,t)};ee.useReducer=function(e,t,n){return Oe.current.useReducer(e,t,n)};ee.useRef=function(e){return Oe.current.useRef(e)};ee.useState=function(e){return Oe.current.useState(e)};ee.useSyncExternalStore=function(e,t,n){return Oe.current.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return Oe.current.useTransition()};ee.version="18.3.1";vc.exports=ee;var A=vc.exports;const Kl=mc(A),jp=sp({__proto__:null,default:Kl},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp=A,kp=Symbol.for("react.element"),Sp=Symbol.for("react.fragment"),Np=Object.prototype.hasOwnProperty,Cp=wp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_p={key:!0,ref:!0,__self:!0,__source:!0};function _c(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)Np.call(t,r)&&!_p.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:kp,type:e,key:i,ref:o,props:s,_owner:Cp.current}}Js.Fragment=Sp;Js.jsx=_c;Js.jsxs=_c;gc.exports=Js;var l=gc.exports,Yi={},Ec={exports:{}},Ke={},Pc={exports:{}},Rc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,z){var M=T.length;T.push(z);e:for(;0<M;){var $=M-1>>>1,U=T[$];if(0<s(U,z))T[$]=z,T[M]=U,M=$;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var z=T[0],M=T.pop();if(M!==z){T[0]=M;e:for(var $=0,U=T.length,q=U>>>1;$<q;){var ne=2*($+1)-1,G=T[ne],H=ne+1,de=T[H];if(0>s(G,M))H<U&&0>s(de,G)?(T[$]=de,T[H]=M,$=H):(T[$]=G,T[ne]=M,$=ne);else if(H<U&&0>s(de,M))T[$]=de,T[H]=M,$=H;else break e}}return z}function s(T,z){var M=T.sortIndex-z.sortIndex;return M!==0?M:T.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var c=[],d=[],p=1,g=null,h=3,v=!1,w=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,u=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function f(T){for(var z=n(d);z!==null;){if(z.callback===null)r(d);else if(z.startTime<=T)r(d),z.sortIndex=z.expirationTime,t(c,z);else break;z=n(d)}}function x(T){if(y=!1,f(T),!w)if(n(c)!==null)w=!0,Q(j);else{var z=n(d);z!==null&&X(x,z.startTime-T)}}function j(T,z){w=!1,y&&(y=!1,m(_),_=-1),v=!0;var M=h;try{for(f(z),g=n(c);g!==null&&(!(g.expirationTime>z)||T&&!I());){var $=g.callback;if(typeof $=="function"){g.callback=null,h=g.priorityLevel;var U=$(g.expirationTime<=z);z=e.unstable_now(),typeof U=="function"?g.callback=U:g===n(c)&&r(c),f(z)}else r(c);g=n(c)}if(g!==null)var q=!0;else{var ne=n(d);ne!==null&&X(x,ne.startTime-z),q=!1}return q}finally{g=null,h=M,v=!1}}var R=!1,N=null,_=-1,S=5,C=-1;function I(){return!(e.unstable_now()-C<S)}function B(){if(N!==null){var T=e.unstable_now();C=T;var z=!0;try{z=N(!0,T)}finally{z?b():(R=!1,N=null)}}else R=!1}var b;if(typeof u=="function")b=function(){u(B)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,K=W.port2;W.port1.onmessage=B,b=function(){K.postMessage(null)}}else b=function(){k(B,0)};function Q(T){N=T,R||(R=!0,b())}function X(T,z){_=k(function(){T(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,Q(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var M=h;h=z;try{return T()}finally{h=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,z){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var M=h;h=T;try{return z()}finally{h=M}},e.unstable_scheduleCallback=function(T,z,M){var $=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?$+M:$):M=$,T){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=M+U,T={id:p++,callback:z,priorityLevel:T,startTime:M,expirationTime:U,sortIndex:-1},M>$?(T.sortIndex=M,t(d,T),n(c)===null&&T===n(d)&&(y?(m(_),_=-1):y=!0,X(x,M-$))):(T.sortIndex=U,t(c,T),w||v||(w=!0,Q(j))),T},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(T){var z=h;return function(){var M=h;h=z;try{return T.apply(this,arguments)}finally{h=M}}}})(Rc);Pc.exports=Rc;var Ep=Pc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pp=A,Ye=Ep;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ac=new Set,kr={};function vn(e,t){Un(e,t),Un(e+"Capture",t)}function Un(e,t){for(kr[e]=t,e=0;e<t.length;e++)Ac.add(t[e])}var Et=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ki=Object.prototype.hasOwnProperty,Rp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qo={},Yo={};function Ap(e){return Ki.call(Yo,e)?!0:Ki.call(qo,e)?!1:Rp.test(e)?Yo[e]=!0:(qo[e]=!0,!1)}function zp(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Lp(e,t,n,r){if(t===null||typeof t>"u"||zp(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function De(e,t,n,r,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Re={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Re[e]=new De(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Re[t]=new De(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Re[e]=new De(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Re[e]=new De(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Re[e]=new De(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Re[e]=new De(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Re[e]=new De(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Re[e]=new De(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Re[e]=new De(e,5,!1,e.toLowerCase(),null,!1,!1)});var Jl=/[\-:]([a-z])/g;function Xl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Jl,Xl);Re[t]=new De(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Jl,Xl);Re[t]=new De(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Jl,Xl);Re[t]=new De(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Re[e]=new De(e,1,!1,e.toLowerCase(),null,!1,!1)});Re.xlinkHref=new De("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Re[e]=new De(e,1,!1,e.toLowerCase(),null,!0,!0)});function Zl(e,t,n,r){var s=Re.hasOwnProperty(t)?Re[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Lp(t,n,s,r)&&(n=null),r||s===null?Ap(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var zt=Pp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Kr=Symbol.for("react.element"),wn=Symbol.for("react.portal"),kn=Symbol.for("react.fragment"),eo=Symbol.for("react.strict_mode"),Ji=Symbol.for("react.profiler"),zc=Symbol.for("react.provider"),Lc=Symbol.for("react.context"),to=Symbol.for("react.forward_ref"),Xi=Symbol.for("react.suspense"),Zi=Symbol.for("react.suspense_list"),no=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),Tc=Symbol.for("react.offscreen"),Ko=Symbol.iterator;function tr(e){return e===null||typeof e!="object"?null:(e=Ko&&e[Ko]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,ji;function cr(e){if(ji===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ji=t&&t[1]||""}return`
`+ji+e}var wi=!1;function ki(e,t){if(!e||wi)return"";wi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=a);break}}}finally{wi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?cr(e):""}function Tp(e){switch(e.tag){case 5:return cr(e.type);case 16:return cr("Lazy");case 13:return cr("Suspense");case 19:return cr("SuspenseList");case 0:case 2:case 15:return e=ki(e.type,!1),e;case 11:return e=ki(e.type.render,!1),e;case 1:return e=ki(e.type,!0),e;default:return""}}function el(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case kn:return"Fragment";case wn:return"Portal";case Ji:return"Profiler";case eo:return"StrictMode";case Xi:return"Suspense";case Zi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Lc:return(e.displayName||"Context")+".Consumer";case zc:return(e._context.displayName||"Context")+".Provider";case to:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case no:return t=e.displayName||null,t!==null?t:el(e.type)||"Memo";case $t:t=e._payload,e=e._init;try{return el(e(t))}catch{}}return null}function Mp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return el(t);case 8:return t===eo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Xt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ip(e){var t=Mc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jr(e){e._valueTracker||(e._valueTracker=Ip(e))}function Ic(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Mc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Cs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function tl(e,t){var n=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Jo(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Xt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function $c(e,t){t=t.checked,t!=null&&Zl(e,"checked",t,!1)}function nl(e,t){$c(e,t);var n=Xt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?rl(e,t.type,n):t.hasOwnProperty("defaultValue")&&rl(e,t.type,Xt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xo(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function rl(e,t,n){(t!=="number"||Cs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ur=Array.isArray;function Tn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Xt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function sl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zo(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(ur(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Xt(n)}}function Oc(e,t){var n=Xt(t.value),r=Xt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ea(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function il(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xr,Uc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xr=Xr||document.createElement("div"),Xr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$p=["Webkit","ms","Moz","O"];Object.keys(fr).forEach(function(e){$p.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fr[t]=fr[e]})});function Bc(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fr.hasOwnProperty(e)&&fr[e]?(""+t).trim():t+"px"}function Fc(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Bc(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Op=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ll(e,t){if(t){if(Op[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function ol(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var al=null;function ro(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cl=null,Mn=null,In=null;function ta(e){if(e=Gr(e)){if(typeof cl!="function")throw Error(L(280));var t=e.stateNode;t&&(t=ni(t),cl(e.stateNode,e.type,t))}}function bc(e){Mn?In?In.push(e):In=[e]:Mn=e}function Wc(){if(Mn){var e=Mn,t=In;if(In=Mn=null,ta(e),t)for(e=0;e<t.length;e++)ta(t[e])}}function Hc(e,t){return e(t)}function Vc(){}var Si=!1;function Gc(e,t,n){if(Si)return e(t,n);Si=!0;try{return Hc(e,t,n)}finally{Si=!1,(Mn!==null||In!==null)&&(Vc(),Wc())}}function Nr(e,t){var n=e.stateNode;if(n===null)return null;var r=ni(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var ul=!1;if(Et)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){ul=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{ul=!1}function Dp(e,t,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(p){this.onError(p)}}var hr=!1,_s=null,Es=!1,dl=null,Up={onError:function(e){hr=!0,_s=e}};function Bp(e,t,n,r,s,i,o,a,c){hr=!1,_s=null,Dp.apply(Up,arguments)}function Fp(e,t,n,r,s,i,o,a,c){if(Bp.apply(this,arguments),hr){if(hr){var d=_s;hr=!1,_s=null}else throw Error(L(198));Es||(Es=!0,dl=d)}}function yn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Qc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function na(e){if(yn(e)!==e)throw Error(L(188))}function bp(e){var t=e.alternate;if(!t){if(t=yn(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return na(s),e;if(i===r)return na(s),t;i=i.sibling}throw Error(L(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function qc(e){return e=bp(e),e!==null?Yc(e):null}function Yc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Yc(e);if(t!==null)return t;e=e.sibling}return null}var Kc=Ye.unstable_scheduleCallback,ra=Ye.unstable_cancelCallback,Wp=Ye.unstable_shouldYield,Hp=Ye.unstable_requestPaint,xe=Ye.unstable_now,Vp=Ye.unstable_getCurrentPriorityLevel,so=Ye.unstable_ImmediatePriority,Jc=Ye.unstable_UserBlockingPriority,Ps=Ye.unstable_NormalPriority,Gp=Ye.unstable_LowPriority,Xc=Ye.unstable_IdlePriority,Xs=null,yt=null;function Qp(e){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Xs,e,void 0,(e.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:Kp,qp=Math.log,Yp=Math.LN2;function Kp(e){return e>>>=0,e===0?32:31-(qp(e)/Yp|0)|0}var Zr=64,es=4194304;function dr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Rs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=dr(a):(i&=o,i!==0&&(r=dr(i)))}else o=n&~s,o!==0?r=dr(o):i!==0&&(r=dr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-at(t),s=1<<n,r|=e[n],t&=~s;return r}function Jp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xp(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-at(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=Jp(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}function pl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zc(){var e=Zr;return Zr<<=1,!(Zr&4194240)&&(Zr=64),e}function Ni(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Hr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-at(t),e[t]=n}function Zp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function io(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var le=0;function eu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var tu,lo,nu,ru,su,fl=!1,ts=[],Wt=null,Ht=null,Vt=null,Cr=new Map,_r=new Map,Dt=[],ef="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sa(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Ht=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Cr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_r.delete(t.pointerId)}}function rr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Gr(t),t!==null&&lo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function tf(e,t,n,r,s){switch(t){case"focusin":return Wt=rr(Wt,e,t,n,r,s),!0;case"dragenter":return Ht=rr(Ht,e,t,n,r,s),!0;case"mouseover":return Vt=rr(Vt,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Cr.set(i,rr(Cr.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,_r.set(i,rr(_r.get(i)||null,e,t,n,r,s)),!0}return!1}function iu(e){var t=on(e.target);if(t!==null){var n=yn(t);if(n!==null){if(t=n.tag,t===13){if(t=Qc(n),t!==null){e.blockedOn=t,su(e.priority,function(){nu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=hl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);al=r,n.target.dispatchEvent(r),al=null}else return t=Gr(n),t!==null&&lo(t),e.blockedOn=n,!1;t.shift()}return!0}function ia(e,t,n){hs(e)&&n.delete(t)}function nf(){fl=!1,Wt!==null&&hs(Wt)&&(Wt=null),Ht!==null&&hs(Ht)&&(Ht=null),Vt!==null&&hs(Vt)&&(Vt=null),Cr.forEach(ia),_r.forEach(ia)}function sr(e,t){e.blockedOn===t&&(e.blockedOn=null,fl||(fl=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,nf)))}function Er(e){function t(s){return sr(s,e)}if(0<ts.length){sr(ts[0],e);for(var n=1;n<ts.length;n++){var r=ts[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wt!==null&&sr(Wt,e),Ht!==null&&sr(Ht,e),Vt!==null&&sr(Vt,e),Cr.forEach(t),_r.forEach(t),n=0;n<Dt.length;n++)r=Dt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&(n=Dt[0],n.blockedOn===null);)iu(n),n.blockedOn===null&&Dt.shift()}var $n=zt.ReactCurrentBatchConfig,As=!0;function rf(e,t,n,r){var s=le,i=$n.transition;$n.transition=null;try{le=1,oo(e,t,n,r)}finally{le=s,$n.transition=i}}function sf(e,t,n,r){var s=le,i=$n.transition;$n.transition=null;try{le=4,oo(e,t,n,r)}finally{le=s,$n.transition=i}}function oo(e,t,n,r){if(As){var s=hl(e,t,n,r);if(s===null)Mi(e,t,r,zs,n),sa(e,r);else if(tf(s,e,t,n,r))r.stopPropagation();else if(sa(e,r),t&4&&-1<ef.indexOf(e)){for(;s!==null;){var i=Gr(s);if(i!==null&&tu(i),i=hl(e,t,n,r),i===null&&Mi(e,t,r,zs,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Mi(e,t,r,null,n)}}var zs=null;function hl(e,t,n,r){if(zs=null,e=ro(r),e=on(e),e!==null)if(t=yn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Qc(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zs=e,null}function lu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vp()){case so:return 1;case Jc:return 4;case Ps:case Gp:return 16;case Xc:return 536870912;default:return 16}default:return 16}}var Bt=null,ao=null,ms=null;function ou(){if(ms)return ms;var e,t=ao,n=t.length,r,s="value"in Bt?Bt.value:Bt.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[i-r];r++);return ms=s.slice(e,1<r?1-r:void 0)}function gs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ns(){return!0}function la(){return!1}function Je(e){function t(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ns:la,this.isPropagationStopped=la,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ns)},persist:function(){},isPersistent:ns}),t}var Kn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=Je(Kn),Vr=ve({},Kn,{view:0,detail:0}),lf=Je(Vr),Ci,_i,ir,Zs=ve({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:uo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ir&&(ir&&e.type==="mousemove"?(Ci=e.screenX-ir.screenX,_i=e.screenY-ir.screenY):_i=Ci=0,ir=e),Ci)},movementY:function(e){return"movementY"in e?e.movementY:_i}}),oa=Je(Zs),of=ve({},Zs,{dataTransfer:0}),af=Je(of),cf=ve({},Vr,{relatedTarget:0}),Ei=Je(cf),uf=ve({},Kn,{animationName:0,elapsedTime:0,pseudoElement:0}),df=Je(uf),pf=ve({},Kn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ff=Je(pf),hf=ve({},Kn,{data:0}),aa=Je(hf),mf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vf[e])?!!t[e]:!1}function uo(){return yf}var xf=ve({},Vr,{key:function(e){if(e.key){var t=mf[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=gs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:uo,charCode:function(e){return e.type==="keypress"?gs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),jf=Je(xf),wf=ve({},Zs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ca=Je(wf),kf=ve({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:uo}),Sf=Je(kf),Nf=ve({},Kn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cf=Je(Nf),_f=ve({},Zs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ef=Je(_f),Pf=[9,13,27,32],po=Et&&"CompositionEvent"in window,mr=null;Et&&"documentMode"in document&&(mr=document.documentMode);var Rf=Et&&"TextEvent"in window&&!mr,au=Et&&(!po||mr&&8<mr&&11>=mr),ua=" ",da=!1;function cu(e,t){switch(e){case"keyup":return Pf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Sn=!1;function Af(e,t){switch(e){case"compositionend":return uu(t);case"keypress":return t.which!==32?null:(da=!0,ua);case"textInput":return e=t.data,e===ua&&da?null:e;default:return null}}function zf(e,t){if(Sn)return e==="compositionend"||!po&&cu(e,t)?(e=ou(),ms=ao=Bt=null,Sn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return au&&t.locale!=="ko"?null:t.data;default:return null}}var Lf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lf[e.type]:t==="textarea"}function du(e,t,n,r){bc(r),t=Ls(t,"onChange"),0<t.length&&(n=new co("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var gr=null,Pr=null;function Tf(e){ku(e,0)}function ei(e){var t=_n(e);if(Ic(t))return e}function Mf(e,t){if(e==="change")return t}var pu=!1;if(Et){var Pi;if(Et){var Ri="oninput"in document;if(!Ri){var fa=document.createElement("div");fa.setAttribute("oninput","return;"),Ri=typeof fa.oninput=="function"}Pi=Ri}else Pi=!1;pu=Pi&&(!document.documentMode||9<document.documentMode)}function ha(){gr&&(gr.detachEvent("onpropertychange",fu),Pr=gr=null)}function fu(e){if(e.propertyName==="value"&&ei(Pr)){var t=[];du(t,Pr,e,ro(e)),Gc(Tf,t)}}function If(e,t,n){e==="focusin"?(ha(),gr=t,Pr=n,gr.attachEvent("onpropertychange",fu)):e==="focusout"&&ha()}function $f(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ei(Pr)}function Of(e,t){if(e==="click")return ei(t)}function Df(e,t){if(e==="input"||e==="change")return ei(t)}function Uf(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ut=typeof Object.is=="function"?Object.is:Uf;function Rr(e,t){if(ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Ki.call(t,s)||!ut(e[s],t[s]))return!1}return!0}function ma(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ga(e,t){var n=ma(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ma(n)}}function hu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function mu(){for(var e=window,t=Cs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Cs(e.document)}return t}function fo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Bf(e){var t=mu(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hu(n.ownerDocument.documentElement,n)){if(r!==null&&fo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=ga(n,i);var o=ga(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Ff=Et&&"documentMode"in document&&11>=document.documentMode,Nn=null,ml=null,vr=null,gl=!1;function va(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gl||Nn==null||Nn!==Cs(r)||(r=Nn,"selectionStart"in r&&fo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),vr&&Rr(vr,r)||(vr=r,r=Ls(ml,"onSelect"),0<r.length&&(t=new co("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Nn)))}function rs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cn={animationend:rs("Animation","AnimationEnd"),animationiteration:rs("Animation","AnimationIteration"),animationstart:rs("Animation","AnimationStart"),transitionend:rs("Transition","TransitionEnd")},Ai={},gu={};Et&&(gu=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function ti(e){if(Ai[e])return Ai[e];if(!Cn[e])return e;var t=Cn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in gu)return Ai[e]=t[n];return e}var vu=ti("animationend"),yu=ti("animationiteration"),xu=ti("animationstart"),ju=ti("transitionend"),wu=new Map,ya="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function en(e,t){wu.set(e,t),vn(t,[e])}for(var zi=0;zi<ya.length;zi++){var Li=ya[zi],bf=Li.toLowerCase(),Wf=Li[0].toUpperCase()+Li.slice(1);en(bf,"on"+Wf)}en(vu,"onAnimationEnd");en(yu,"onAnimationIteration");en(xu,"onAnimationStart");en("dblclick","onDoubleClick");en("focusin","onFocus");en("focusout","onBlur");en(ju,"onTransitionEnd");Un("onMouseEnter",["mouseout","mouseover"]);Un("onMouseLeave",["mouseout","mouseover"]);Un("onPointerEnter",["pointerout","pointerover"]);Un("onPointerLeave",["pointerout","pointerover"]);vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hf=new Set("cancel close invalid load scroll toggle".split(" ").concat(pr));function xa(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Fp(r,t,void 0,e),e.currentTarget=null}function ku(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;xa(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;xa(s,a,d),i=c}}}if(Es)throw e=dl,Es=!1,dl=null,e}function ce(e,t){var n=t[wl];n===void 0&&(n=t[wl]=new Set);var r=e+"__bubble";n.has(r)||(Su(t,e,2,!1),n.add(r))}function Ti(e,t,n){var r=0;t&&(r|=4),Su(n,e,r,t)}var ss="_reactListening"+Math.random().toString(36).slice(2);function Ar(e){if(!e[ss]){e[ss]=!0,Ac.forEach(function(n){n!=="selectionchange"&&(Hf.has(n)||Ti(n,!1,e),Ti(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ss]||(t[ss]=!0,Ti("selectionchange",!1,t))}}function Su(e,t,n,r){switch(lu(t)){case 1:var s=rf;break;case 4:s=sf;break;default:s=oo}n=s.bind(null,t,n,e),s=void 0,!ul||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Mi(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=on(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Gc(function(){var d=i,p=ro(n),g=[];e:{var h=wu.get(e);if(h!==void 0){var v=co,w=e;switch(e){case"keypress":if(gs(n)===0)break e;case"keydown":case"keyup":v=jf;break;case"focusin":w="focus",v=Ei;break;case"focusout":w="blur",v=Ei;break;case"beforeblur":case"afterblur":v=Ei;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=oa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Sf;break;case vu:case yu:case xu:v=df;break;case ju:v=Cf;break;case"scroll":v=lf;break;case"wheel":v=Ef;break;case"copy":case"cut":case"paste":v=ff;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=ca}var y=(t&4)!==0,k=!y&&e==="scroll",m=y?h!==null?h+"Capture":null:h;y=[];for(var u=d,f;u!==null;){f=u;var x=f.stateNode;if(f.tag===5&&x!==null&&(f=x,m!==null&&(x=Nr(u,m),x!=null&&y.push(zr(u,x,f)))),k)break;u=u.return}0<y.length&&(h=new v(h,w,null,n,p),g.push({event:h,listeners:y}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",h&&n!==al&&(w=n.relatedTarget||n.fromElement)&&(on(w)||w[Pt]))break e;if((v||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,v?(w=n.relatedTarget||n.toElement,v=d,w=w?on(w):null,w!==null&&(k=yn(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=d),v!==w)){if(y=oa,x="onMouseLeave",m="onMouseEnter",u="mouse",(e==="pointerout"||e==="pointerover")&&(y=ca,x="onPointerLeave",m="onPointerEnter",u="pointer"),k=v==null?h:_n(v),f=w==null?h:_n(w),h=new y(x,u+"leave",v,n,p),h.target=k,h.relatedTarget=f,x=null,on(p)===d&&(y=new y(m,u+"enter",w,n,p),y.target=f,y.relatedTarget=k,x=y),k=x,v&&w)t:{for(y=v,m=w,u=0,f=y;f;f=xn(f))u++;for(f=0,x=m;x;x=xn(x))f++;for(;0<u-f;)y=xn(y),u--;for(;0<f-u;)m=xn(m),f--;for(;u--;){if(y===m||m!==null&&y===m.alternate)break t;y=xn(y),m=xn(m)}y=null}else y=null;v!==null&&ja(g,h,v,y,!1),w!==null&&k!==null&&ja(g,k,w,y,!0)}}e:{if(h=d?_n(d):window,v=h.nodeName&&h.nodeName.toLowerCase(),v==="select"||v==="input"&&h.type==="file")var j=Mf;else if(pa(h))if(pu)j=Df;else{j=$f;var R=If}else(v=h.nodeName)&&v.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=Of);if(j&&(j=j(e,d))){du(g,j,n,p);break e}R&&R(e,h,d),e==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&rl(h,"number",h.value)}switch(R=d?_n(d):window,e){case"focusin":(pa(R)||R.contentEditable==="true")&&(Nn=R,ml=d,vr=null);break;case"focusout":vr=ml=Nn=null;break;case"mousedown":gl=!0;break;case"contextmenu":case"mouseup":case"dragend":gl=!1,va(g,n,p);break;case"selectionchange":if(Ff)break;case"keydown":case"keyup":va(g,n,p)}var N;if(po)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Sn?cu(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(au&&n.locale!=="ko"&&(Sn||_!=="onCompositionStart"?_==="onCompositionEnd"&&Sn&&(N=ou()):(Bt=p,ao="value"in Bt?Bt.value:Bt.textContent,Sn=!0)),R=Ls(d,_),0<R.length&&(_=new aa(_,e,null,n,p),g.push({event:_,listeners:R}),N?_.data=N:(N=uu(n),N!==null&&(_.data=N)))),(N=Rf?Af(e,n):zf(e,n))&&(d=Ls(d,"onBeforeInput"),0<d.length&&(p=new aa("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:d}),p.data=N))}ku(g,t)})}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ls(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Nr(e,n),i!=null&&r.unshift(zr(e,i,s)),i=Nr(e,t),i!=null&&r.push(zr(e,i,s))),e=e.return}return r}function xn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ja(e,t,n,r,s){for(var i=t._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=Nr(n,i),c!=null&&o.unshift(zr(n,c,a))):s||(c=Nr(n,i),c!=null&&o.push(zr(n,c,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Vf=/\r\n?/g,Gf=/\u0000|\uFFFD/g;function wa(e){return(typeof e=="string"?e:""+e).replace(Vf,`
`).replace(Gf,"")}function is(e,t,n){if(t=wa(t),wa(e)!==t&&n)throw Error(L(425))}function Ts(){}var vl=null,yl=null;function xl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var jl=typeof setTimeout=="function"?setTimeout:void 0,Qf=typeof clearTimeout=="function"?clearTimeout:void 0,ka=typeof Promise=="function"?Promise:void 0,qf=typeof queueMicrotask=="function"?queueMicrotask:typeof ka<"u"?function(e){return ka.resolve(null).then(e).catch(Yf)}:jl;function Yf(e){setTimeout(function(){throw e})}function Ii(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Er(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Er(t)}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Sa(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Jn=Math.random().toString(36).slice(2),gt="__reactFiber$"+Jn,Lr="__reactProps$"+Jn,Pt="__reactContainer$"+Jn,wl="__reactEvents$"+Jn,Kf="__reactListeners$"+Jn,Jf="__reactHandles$"+Jn;function on(e){var t=e[gt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pt]||n[gt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Sa(e);e!==null;){if(n=e[gt])return n;e=Sa(e)}return t}e=n,n=e.parentNode}return null}function Gr(e){return e=e[gt]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _n(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function ni(e){return e[Lr]||null}var kl=[],En=-1;function tn(e){return{current:e}}function ue(e){0>En||(e.current=kl[En],kl[En]=null,En--)}function oe(e,t){En++,kl[En]=e.current,e.current=t}var Zt={},Me=tn(Zt),be=tn(!1),pn=Zt;function Bn(e,t){var n=e.type.contextTypes;if(!n)return Zt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function We(e){return e=e.childContextTypes,e!=null}function Ms(){ue(be),ue(Me)}function Na(e,t,n){if(Me.current!==Zt)throw Error(L(168));oe(Me,t),oe(be,n)}function Nu(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(L(108,Mp(e)||"Unknown",s));return ve({},n,r)}function Is(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zt,pn=Me.current,oe(Me,e),oe(be,be.current),!0}function Ca(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=Nu(e,t,pn),r.__reactInternalMemoizedMergedChildContext=e,ue(be),ue(Me),oe(Me,e)):ue(be),oe(be,n)}var kt=null,ri=!1,$i=!1;function Cu(e){kt===null?kt=[e]:kt.push(e)}function Xf(e){ri=!0,Cu(e)}function nn(){if(!$i&&kt!==null){$i=!0;var e=0,t=le;try{var n=kt;for(le=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}kt=null,ri=!1}catch(s){throw kt!==null&&(kt=kt.slice(e+1)),Kc(so,nn),s}finally{le=t,$i=!1}}return null}var Pn=[],Rn=0,$s=null,Os=0,Xe=[],Ze=0,fn=null,Nt=1,Ct="";function sn(e,t){Pn[Rn++]=Os,Pn[Rn++]=$s,$s=e,Os=t}function _u(e,t,n){Xe[Ze++]=Nt,Xe[Ze++]=Ct,Xe[Ze++]=fn,fn=e;var r=Nt;e=Ct;var s=32-at(r)-1;r&=~(1<<s),n+=1;var i=32-at(t)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Nt=1<<32-at(t)+s|n<<s|r,Ct=i+e}else Nt=1<<i|n<<s|r,Ct=e}function ho(e){e.return!==null&&(sn(e,1),_u(e,1,0))}function mo(e){for(;e===$s;)$s=Pn[--Rn],Pn[Rn]=null,Os=Pn[--Rn],Pn[Rn]=null;for(;e===fn;)fn=Xe[--Ze],Xe[Ze]=null,Ct=Xe[--Ze],Xe[Ze]=null,Nt=Xe[--Ze],Xe[Ze]=null}var qe=null,Qe=null,pe=!1,ot=null;function Eu(e,t){var n=et(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function _a(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qe=e,Qe=Gt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qe=e,Qe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fn!==null?{id:Nt,overflow:Ct}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=et(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qe=e,Qe=null,!0):!1;default:return!1}}function Sl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Nl(e){if(pe){var t=Qe;if(t){var n=t;if(!_a(e,t)){if(Sl(e))throw Error(L(418));t=Gt(n.nextSibling);var r=qe;t&&_a(e,t)?Eu(r,n):(e.flags=e.flags&-4097|2,pe=!1,qe=e)}}else{if(Sl(e))throw Error(L(418));e.flags=e.flags&-4097|2,pe=!1,qe=e}}}function Ea(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qe=e}function ls(e){if(e!==qe)return!1;if(!pe)return Ea(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xl(e.type,e.memoizedProps)),t&&(t=Qe)){if(Sl(e))throw Pu(),Error(L(418));for(;t;)Eu(e,t),t=Gt(t.nextSibling)}if(Ea(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qe=Gt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qe=null}}else Qe=qe?Gt(e.stateNode.nextSibling):null;return!0}function Pu(){for(var e=Qe;e;)e=Gt(e.nextSibling)}function Fn(){Qe=qe=null,pe=!1}function go(e){ot===null?ot=[e]:ot.push(e)}var Zf=zt.ReactCurrentBatchConfig;function lr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function os(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pa(e){var t=e._init;return t(e._payload)}function Ru(e){function t(m,u){if(e){var f=m.deletions;f===null?(m.deletions=[u],m.flags|=16):f.push(u)}}function n(m,u){if(!e)return null;for(;u!==null;)t(m,u),u=u.sibling;return null}function r(m,u){for(m=new Map;u!==null;)u.key!==null?m.set(u.key,u):m.set(u.index,u),u=u.sibling;return m}function s(m,u){return m=Kt(m,u),m.index=0,m.sibling=null,m}function i(m,u,f){return m.index=f,e?(f=m.alternate,f!==null?(f=f.index,f<u?(m.flags|=2,u):f):(m.flags|=2,u)):(m.flags|=1048576,u)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,u,f,x){return u===null||u.tag!==6?(u=Wi(f,m.mode,x),u.return=m,u):(u=s(u,f),u.return=m,u)}function c(m,u,f,x){var j=f.type;return j===kn?p(m,u,f.props.children,x,f.key):u!==null&&(u.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$t&&Pa(j)===u.type)?(x=s(u,f.props),x.ref=lr(m,u,f),x.return=m,x):(x=Ss(f.type,f.key,f.props,null,m.mode,x),x.ref=lr(m,u,f),x.return=m,x)}function d(m,u,f,x){return u===null||u.tag!==4||u.stateNode.containerInfo!==f.containerInfo||u.stateNode.implementation!==f.implementation?(u=Hi(f,m.mode,x),u.return=m,u):(u=s(u,f.children||[]),u.return=m,u)}function p(m,u,f,x,j){return u===null||u.tag!==7?(u=dn(f,m.mode,x,j),u.return=m,u):(u=s(u,f),u.return=m,u)}function g(m,u,f){if(typeof u=="string"&&u!==""||typeof u=="number")return u=Wi(""+u,m.mode,f),u.return=m,u;if(typeof u=="object"&&u!==null){switch(u.$$typeof){case Kr:return f=Ss(u.type,u.key,u.props,null,m.mode,f),f.ref=lr(m,null,u),f.return=m,f;case wn:return u=Hi(u,m.mode,f),u.return=m,u;case $t:var x=u._init;return g(m,x(u._payload),f)}if(ur(u)||tr(u))return u=dn(u,m.mode,f,null),u.return=m,u;os(m,u)}return null}function h(m,u,f,x){var j=u!==null?u.key:null;if(typeof f=="string"&&f!==""||typeof f=="number")return j!==null?null:a(m,u,""+f,x);if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Kr:return f.key===j?c(m,u,f,x):null;case wn:return f.key===j?d(m,u,f,x):null;case $t:return j=f._init,h(m,u,j(f._payload),x)}if(ur(f)||tr(f))return j!==null?null:p(m,u,f,x,null);os(m,f)}return null}function v(m,u,f,x,j){if(typeof x=="string"&&x!==""||typeof x=="number")return m=m.get(f)||null,a(u,m,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Kr:return m=m.get(x.key===null?f:x.key)||null,c(u,m,x,j);case wn:return m=m.get(x.key===null?f:x.key)||null,d(u,m,x,j);case $t:var R=x._init;return v(m,u,f,R(x._payload),j)}if(ur(x)||tr(x))return m=m.get(f)||null,p(u,m,x,j,null);os(u,x)}return null}function w(m,u,f,x){for(var j=null,R=null,N=u,_=u=0,S=null;N!==null&&_<f.length;_++){N.index>_?(S=N,N=null):S=N.sibling;var C=h(m,N,f[_],x);if(C===null){N===null&&(N=S);break}e&&N&&C.alternate===null&&t(m,N),u=i(C,u,_),R===null?j=C:R.sibling=C,R=C,N=S}if(_===f.length)return n(m,N),pe&&sn(m,_),j;if(N===null){for(;_<f.length;_++)N=g(m,f[_],x),N!==null&&(u=i(N,u,_),R===null?j=N:R.sibling=N,R=N);return pe&&sn(m,_),j}for(N=r(m,N);_<f.length;_++)S=v(N,m,_,f[_],x),S!==null&&(e&&S.alternate!==null&&N.delete(S.key===null?_:S.key),u=i(S,u,_),R===null?j=S:R.sibling=S,R=S);return e&&N.forEach(function(I){return t(m,I)}),pe&&sn(m,_),j}function y(m,u,f,x){var j=tr(f);if(typeof j!="function")throw Error(L(150));if(f=j.call(f),f==null)throw Error(L(151));for(var R=j=null,N=u,_=u=0,S=null,C=f.next();N!==null&&!C.done;_++,C=f.next()){N.index>_?(S=N,N=null):S=N.sibling;var I=h(m,N,C.value,x);if(I===null){N===null&&(N=S);break}e&&N&&I.alternate===null&&t(m,N),u=i(I,u,_),R===null?j=I:R.sibling=I,R=I,N=S}if(C.done)return n(m,N),pe&&sn(m,_),j;if(N===null){for(;!C.done;_++,C=f.next())C=g(m,C.value,x),C!==null&&(u=i(C,u,_),R===null?j=C:R.sibling=C,R=C);return pe&&sn(m,_),j}for(N=r(m,N);!C.done;_++,C=f.next())C=v(N,m,_,C.value,x),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?_:C.key),u=i(C,u,_),R===null?j=C:R.sibling=C,R=C);return e&&N.forEach(function(B){return t(m,B)}),pe&&sn(m,_),j}function k(m,u,f,x){if(typeof f=="object"&&f!==null&&f.type===kn&&f.key===null&&(f=f.props.children),typeof f=="object"&&f!==null){switch(f.$$typeof){case Kr:e:{for(var j=f.key,R=u;R!==null;){if(R.key===j){if(j=f.type,j===kn){if(R.tag===7){n(m,R.sibling),u=s(R,f.props.children),u.return=m,m=u;break e}}else if(R.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$t&&Pa(j)===R.type){n(m,R.sibling),u=s(R,f.props),u.ref=lr(m,R,f),u.return=m,m=u;break e}n(m,R);break}else t(m,R);R=R.sibling}f.type===kn?(u=dn(f.props.children,m.mode,x,f.key),u.return=m,m=u):(x=Ss(f.type,f.key,f.props,null,m.mode,x),x.ref=lr(m,u,f),x.return=m,m=x)}return o(m);case wn:e:{for(R=f.key;u!==null;){if(u.key===R)if(u.tag===4&&u.stateNode.containerInfo===f.containerInfo&&u.stateNode.implementation===f.implementation){n(m,u.sibling),u=s(u,f.children||[]),u.return=m,m=u;break e}else{n(m,u);break}else t(m,u);u=u.sibling}u=Hi(f,m.mode,x),u.return=m,m=u}return o(m);case $t:return R=f._init,k(m,u,R(f._payload),x)}if(ur(f))return w(m,u,f,x);if(tr(f))return y(m,u,f,x);os(m,f)}return typeof f=="string"&&f!==""||typeof f=="number"?(f=""+f,u!==null&&u.tag===6?(n(m,u.sibling),u=s(u,f),u.return=m,m=u):(n(m,u),u=Wi(f,m.mode,x),u.return=m,m=u),o(m)):n(m,u)}return k}var bn=Ru(!0),Au=Ru(!1),Ds=tn(null),Us=null,An=null,vo=null;function yo(){vo=An=Us=null}function xo(e){var t=Ds.current;ue(Ds),e._currentValue=t}function Cl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function On(e,t){Us=e,vo=An=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Fe=!0),e.firstContext=null)}function nt(e){var t=e._currentValue;if(vo!==e)if(e={context:e,memoizedValue:t,next:null},An===null){if(Us===null)throw Error(L(308));An=e,Us.dependencies={lanes:0,firstContext:e}}else An=An.next=e;return t}var an=null;function jo(e){an===null?an=[e]:an.push(e)}function zu(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,jo(t)):(n.next=s.next,s.next=n),t.interleaved=n,Rt(e,r)}function Rt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ot=!1;function wo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function _t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Rt(e,n)}return s=r.interleaved,s===null?(t.next=t,jo(r)):(t.next=s.next,s.next=t),r.interleaved=t,Rt(e,n)}function vs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,io(e,n)}}function Ra(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var s=e.updateQueue;Ot=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var p=e.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=c))}if(i!==null){var g=s.baseState;o=0,p=d=c=null,a=i;do{var h=a.lane,v=a.eventTime;if((r&h)===h){p!==null&&(p=p.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,y=a;switch(h=t,v=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){g=w.call(v,g,h);break e}g=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,h=typeof w=="function"?w.call(v,g,h):w,h==null)break e;g=ve({},g,h);break e;case 2:Ot=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[a]:h.push(a))}else v={eventTime:v,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=v,c=g):p=p.next=v,o|=h;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;h=a,a=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(p===null&&(c=g),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=p,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);mn|=o,e.lanes=o,e.memoizedState=g}}function Aa(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(L(191,s));s.call(r)}}}var Qr={},xt=tn(Qr),Tr=tn(Qr),Mr=tn(Qr);function cn(e){if(e===Qr)throw Error(L(174));return e}function ko(e,t){switch(oe(Mr,t),oe(Tr,e),oe(xt,Qr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:il(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=il(t,e)}ue(xt),oe(xt,t)}function Wn(){ue(xt),ue(Tr),ue(Mr)}function Tu(e){cn(Mr.current);var t=cn(xt.current),n=il(t,e.type);t!==n&&(oe(Tr,e),oe(xt,n))}function So(e){Tr.current===e&&(ue(xt),ue(Tr))}var he=tn(0);function Fs(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Oi=[];function No(){for(var e=0;e<Oi.length;e++)Oi[e]._workInProgressVersionPrimary=null;Oi.length=0}var ys=zt.ReactCurrentDispatcher,Di=zt.ReactCurrentBatchConfig,hn=0,me=null,we=null,Se=null,bs=!1,yr=!1,Ir=0,eh=0;function ze(){throw Error(L(321))}function Co(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ut(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,s,i){if(hn=i,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ys.current=e===null||e.memoizedState===null?sh:ih,e=n(r,s),yr){i=0;do{if(yr=!1,Ir=0,25<=i)throw Error(L(301));i+=1,Se=we=null,t.updateQueue=null,ys.current=lh,e=n(r,s)}while(yr)}if(ys.current=Ws,t=we!==null&&we.next!==null,hn=0,Se=we=me=null,bs=!1,t)throw Error(L(300));return e}function Eo(){var e=Ir!==0;return Ir=0,e}function ht(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?me.memoizedState=Se=e:Se=Se.next=e,Se}function rt(){if(we===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=Se===null?me.memoizedState:Se.next;if(t!==null)Se=t,we=e;else{if(e===null)throw Error(L(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Se===null?me.memoizedState=Se=e:Se=Se.next=e}return Se}function $r(e,t){return typeof t=="function"?t(e):t}function Ui(e){var t=rt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=we,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var p=d.lane;if((hn&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var g={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=g,o=r):c=c.next=g,me.lanes|=p,mn|=p}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,ut(r,t.memoizedState)||(Fe=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,me.lanes|=i,mn|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Bi(e){var t=rt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);ut(i,t.memoizedState)||(Fe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Mu(){}function Iu(e,t){var n=me,r=rt(),s=t(),i=!ut(r.memoizedState,s);if(i&&(r.memoizedState=s,Fe=!0),r=r.queue,Po(Du.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,Or(9,Ou.bind(null,n,r,s,t),void 0,null),Ne===null)throw Error(L(349));hn&30||$u(n,t,s)}return s}function $u(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ou(e,t,n,r){t.value=n,t.getSnapshot=r,Uu(t)&&Bu(e)}function Du(e,t,n){return n(function(){Uu(t)&&Bu(e)})}function Uu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ut(e,n)}catch{return!0}}function Bu(e){var t=Rt(e,1);t!==null&&ct(t,e,1,-1)}function za(e){var t=ht();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$r,lastRenderedState:e},t.queue=e,e=e.dispatch=rh.bind(null,me,e),[t.memoizedState,e]}function Or(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=me.updateQueue,t===null?(t={lastEffect:null,stores:null},me.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Fu(){return rt().memoizedState}function xs(e,t,n,r){var s=ht();me.flags|=e,s.memoizedState=Or(1|t,n,void 0,r===void 0?null:r)}function si(e,t,n,r){var s=rt();r=r===void 0?null:r;var i=void 0;if(we!==null){var o=we.memoizedState;if(i=o.destroy,r!==null&&Co(r,o.deps)){s.memoizedState=Or(t,n,i,r);return}}me.flags|=e,s.memoizedState=Or(1|t,n,i,r)}function La(e,t){return xs(8390656,8,e,t)}function Po(e,t){return si(2048,8,e,t)}function bu(e,t){return si(4,2,e,t)}function Wu(e,t){return si(4,4,e,t)}function Hu(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vu(e,t,n){return n=n!=null?n.concat([e]):null,si(4,4,Hu.bind(null,t,e),n)}function Ro(){}function Gu(e,t){var n=rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qu(e,t){var n=rt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qu(e,t,n){return hn&21?(ut(n,t)||(n=Zc(),me.lanes|=n,mn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Fe=!0),e.memoizedState=n)}function th(e,t){var n=le;le=n!==0&&4>n?n:4,e(!0);var r=Di.transition;Di.transition={};try{e(!1),t()}finally{le=n,Di.transition=r}}function Yu(){return rt().memoizedState}function nh(e,t,n){var r=Yt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ku(e))Ju(t,n);else if(n=zu(e,t,n,r),n!==null){var s=$e();ct(n,e,r,s),Xu(n,t,r)}}function rh(e,t,n){var r=Yt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Ju(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ut(a,o)){var c=t.interleaved;c===null?(s.next=s,jo(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=zu(e,t,s,r),n!==null&&(s=$e(),ct(n,e,r,s),Xu(n,t,r))}}function Ku(e){var t=e.alternate;return e===me||t!==null&&t===me}function Ju(e,t){yr=bs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xu(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,io(e,n)}}var Ws={readContext:nt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},sh={readContext:nt,useCallback:function(e,t){return ht().memoizedState=[e,t===void 0?null:t],e},useContext:nt,useEffect:La,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xs(4194308,4,Hu.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return xs(4,2,e,t)},useMemo:function(e,t){var n=ht();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ht();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=nh.bind(null,me,e),[r.memoizedState,e]},useRef:function(e){var t=ht();return e={current:e},t.memoizedState=e},useState:za,useDebugValue:Ro,useDeferredValue:function(e){return ht().memoizedState=e},useTransition:function(){var e=za(!1),t=e[0];return e=th.bind(null,e[1]),ht().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=me,s=ht();if(pe){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Ne===null)throw Error(L(349));hn&30||$u(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,La(Du.bind(null,r,i,e),[e]),r.flags|=2048,Or(9,Ou.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=ht(),t=Ne.identifierPrefix;if(pe){var n=Ct,r=Nt;n=(r&~(1<<32-at(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ir++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=eh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ih={readContext:nt,useCallback:Gu,useContext:nt,useEffect:Po,useImperativeHandle:Vu,useInsertionEffect:bu,useLayoutEffect:Wu,useMemo:Qu,useReducer:Ui,useRef:Fu,useState:function(){return Ui($r)},useDebugValue:Ro,useDeferredValue:function(e){var t=rt();return qu(t,we.memoizedState,e)},useTransition:function(){var e=Ui($r)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Mu,useSyncExternalStore:Iu,useId:Yu,unstable_isNewReconciler:!1},lh={readContext:nt,useCallback:Gu,useContext:nt,useEffect:Po,useImperativeHandle:Vu,useInsertionEffect:bu,useLayoutEffect:Wu,useMemo:Qu,useReducer:Bi,useRef:Fu,useState:function(){return Bi($r)},useDebugValue:Ro,useDeferredValue:function(e){var t=rt();return we===null?t.memoizedState=e:qu(t,we.memoizedState,e)},useTransition:function(){var e=Bi($r)[0],t=rt().memoizedState;return[e,t]},useMutableSource:Mu,useSyncExternalStore:Iu,useId:Yu,unstable_isNewReconciler:!1};function it(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function _l(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ve({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ii={isMounted:function(e){return(e=e._reactInternals)?yn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=$e(),s=Yt(e),i=_t(r,s);i.payload=t,n!=null&&(i.callback=n),t=Qt(e,i,s),t!==null&&(ct(t,e,s,r),vs(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=$e(),s=Yt(e),i=_t(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Qt(e,i,s),t!==null&&(ct(t,e,s,r),vs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),r=Yt(e),s=_t(n,r);s.tag=2,t!=null&&(s.callback=t),t=Qt(e,s,r),t!==null&&(ct(t,e,r,n),vs(t,e,r))}};function Ta(e,t,n,r,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,o):t.prototype&&t.prototype.isPureReactComponent?!Rr(n,r)||!Rr(s,i):!0}function Zu(e,t,n){var r=!1,s=Zt,i=t.contextType;return typeof i=="object"&&i!==null?i=nt(i):(s=We(t)?pn:Me.current,r=t.contextTypes,i=(r=r!=null)?Bn(e,s):Zt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ii,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ma(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ii.enqueueReplaceState(t,t.state,null)}function El(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},wo(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=nt(i):(i=We(t)?pn:Me.current,s.context=Bn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(_l(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ii.enqueueReplaceState(s,s.state,null),Bs(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Hn(e,t){try{var n="",r=t;do n+=Tp(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Fi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Pl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var oh=typeof WeakMap=="function"?WeakMap:Map;function ed(e,t,n){n=_t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vs||(Vs=!0,Dl=r),Pl(e,t)},n}function td(e,t,n){n=_t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Pl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Pl(e,t),typeof r!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function Ia(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new oh;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=wh.bind(null,e,t,n),t.then(e,e))}function $a(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Oa(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=_t(-1,1),t.tag=2,Qt(n,t,1))),n.lanes|=1),e)}var ah=zt.ReactCurrentOwner,Fe=!1;function Ie(e,t,n,r){t.child=e===null?Au(t,null,n,r):bn(t,e.child,n,r)}function Da(e,t,n,r,s){n=n.render;var i=t.ref;return On(t,s),r=_o(e,t,n,r,i,s),n=Eo(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(pe&&n&&ho(t),t.flags|=1,Ie(e,t,r,s),t.child)}function Ua(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!Oo(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,nd(e,t,i,r,s)):(e=Ss(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Rr,n(o,r)&&e.ref===t.ref)return At(e,t,s)}return t.flags|=1,e=Kt(i,r),e.ref=t.ref,e.return=t,t.child=e}function nd(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Rr(i,r)&&e.ref===t.ref)if(Fe=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Fe=!0);else return t.lanes=e.lanes,At(e,t,s)}return Rl(e,t,n,r,s)}function rd(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(Ln,Ge),Ge|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(Ln,Ge),Ge|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,oe(Ln,Ge),Ge|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,oe(Ln,Ge),Ge|=r;return Ie(e,t,s,n),t.child}function sd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Rl(e,t,n,r,s){var i=We(n)?pn:Me.current;return i=Bn(t,i),On(t,s),n=_o(e,t,n,r,i,s),r=Eo(),e!==null&&!Fe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(pe&&r&&ho(t),t.flags|=1,Ie(e,t,n,s),t.child)}function Ba(e,t,n,r,s){if(We(n)){var i=!0;Is(t)}else i=!1;if(On(t,s),t.stateNode===null)js(e,t),Zu(t,n,r),El(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=nt(d):(d=We(n)?pn:Me.current,d=Bn(t,d));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";g||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&Ma(t,o,r,d),Ot=!1;var h=t.memoizedState;o.state=h,Bs(t,r,o,s),c=t.memoizedState,a!==r||h!==c||be.current||Ot?(typeof p=="function"&&(_l(t,n,p,r),c=t.memoizedState),(a=Ot||Ta(t,n,a,r,h,c,d))?(g||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Lu(e,t),a=t.memoizedProps,d=t.type===t.elementType?a:it(t.type,a),o.props=d,g=t.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=nt(c):(c=We(n)?pn:Me.current,c=Bn(t,c));var v=n.getDerivedStateFromProps;(p=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==g||h!==c)&&Ma(t,o,r,c),Ot=!1,h=t.memoizedState,o.state=h,Bs(t,r,o,s);var w=t.memoizedState;a!==g||h!==w||be.current||Ot?(typeof v=="function"&&(_l(t,n,v,r),w=t.memoizedState),(d=Ot||Ta(t,n,d,r,h,w,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),o.props=r,o.state=w,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Al(e,t,n,r,i,s)}function Al(e,t,n,r,s,i){sd(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ca(t,n,!1),At(e,t,i);r=t.stateNode,ah.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=bn(t,e.child,null,i),t.child=bn(t,null,a,i)):Ie(e,t,a,i),t.memoizedState=r.state,s&&Ca(t,n,!0),t.child}function id(e){var t=e.stateNode;t.pendingContext?Na(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Na(e,t.context,!1),ko(e,t.containerInfo)}function Fa(e,t,n,r,s){return Fn(),go(s),t.flags|=256,Ie(e,t,n,r),t.child}var zl={dehydrated:null,treeContext:null,retryLane:0};function Ll(e){return{baseLanes:e,cachePool:null,transitions:null}}function ld(e,t,n){var r=t.pendingProps,s=he.current,i=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),oe(he,s&1),e===null)return Nl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,i?(r=t.mode,i=t.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ai(o,r,0,null),e=dn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ll(n),t.memoizedState=zl,e):Ao(t,o));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return ch(e,t,o,r,a,s,n);if(i){i=r.fallback,o=t.mode,s=e.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Kt(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Kt(a,i):(i=dn(i,o,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,o=e.child.memoizedState,o=o===null?Ll(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~n,t.memoizedState=zl,r}return i=e.child,e=i.sibling,r=Kt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ao(e,t){return t=ai({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function as(e,t,n,r){return r!==null&&go(r),bn(t,e.child,null,n),e=Ao(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ch(e,t,n,r,s,i,o){if(n)return t.flags&256?(t.flags&=-257,r=Fi(Error(L(422))),as(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=ai({mode:"visible",children:r.children},s,0,null),i=dn(i,s,o,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&bn(t,e.child,null,o),t.child.memoizedState=Ll(o),t.memoizedState=zl,i);if(!(t.mode&1))return as(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(L(419)),r=Fi(i,r,void 0),as(e,t,o,r)}if(a=(o&e.childLanes)!==0,Fe||a){if(r=Ne,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Rt(e,s),ct(r,e,s,-1))}return $o(),r=Fi(Error(L(421))),as(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=kh.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Qe=Gt(s.nextSibling),qe=t,pe=!0,ot=null,e!==null&&(Xe[Ze++]=Nt,Xe[Ze++]=Ct,Xe[Ze++]=fn,Nt=e.id,Ct=e.overflow,fn=t),t=Ao(t,r.children),t.flags|=4096,t)}function ba(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Cl(e.return,t,n)}function bi(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function od(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ie(e,t,r.children,n),r=he.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ba(e,n,t);else if(e.tag===19)ba(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(oe(he,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Fs(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),bi(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Fs(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}bi(t,!0,n,null,i);break;case"together":bi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function js(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Kt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function uh(e,t,n){switch(t.tag){case 3:id(t),Fn();break;case 5:Tu(t);break;case 1:We(t.type)&&Is(t);break;case 4:ko(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;oe(Ds,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(oe(he,he.current&1),t.flags|=128,null):n&t.child.childLanes?ld(e,t,n):(oe(he,he.current&1),e=At(e,t,n),e!==null?e.sibling:null);oe(he,he.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return od(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),oe(he,he.current),r)break;return null;case 22:case 23:return t.lanes=0,rd(e,t,n)}return At(e,t,n)}var ad,Tl,cd,ud;ad=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Tl=function(){};cd=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,cn(xt.current);var i=null;switch(n){case"input":s=tl(e,s),r=tl(e,r),i=[];break;case"select":s=ve({},s,{value:void 0}),r=ve({},r,{value:void 0}),i=[];break;case"textarea":s=sl(e,s),r=sl(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ts)}ll(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(kr.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(kr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ce("scroll",e),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}};ud=function(e,t,n,r){n!==r&&(t.flags|=4)};function or(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Le(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function dh(e,t,n){var r=t.pendingProps;switch(mo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Le(t),null;case 1:return We(t.type)&&Ms(),Le(t),null;case 3:return r=t.stateNode,Wn(),ue(be),ue(Me),No(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ls(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(Fl(ot),ot=null))),Tl(e,t),Le(t),null;case 5:So(t);var s=cn(Mr.current);if(n=t.type,e!==null&&t.stateNode!=null)cd(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return Le(t),null}if(e=cn(xt.current),ls(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[gt]=t,r[Lr]=i,e=(t.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(s=0;s<pr.length;s++)ce(pr[s],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":Jo(r,i),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ce("invalid",r);break;case"textarea":Zo(r,i),ce("invalid",r)}ll(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&is(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&is(r.textContent,a,e),s=["children",""+a]):kr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ce("scroll",r)}switch(n){case"input":Jr(r),Xo(r,i,!0);break;case"textarea":Jr(r),ea(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ts)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[gt]=t,e[Lr]=r,ad(e,t,!1,!1),t.stateNode=e;e:{switch(o=ol(n,r),n){case"dialog":ce("cancel",e),ce("close",e),s=r;break;case"iframe":case"object":case"embed":ce("load",e),s=r;break;case"video":case"audio":for(s=0;s<pr.length;s++)ce(pr[s],e);s=r;break;case"source":ce("error",e),s=r;break;case"img":case"image":case"link":ce("error",e),ce("load",e),s=r;break;case"details":ce("toggle",e),s=r;break;case"input":Jo(e,r),s=tl(e,r),ce("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ve({},r,{value:void 0}),ce("invalid",e);break;case"textarea":Zo(e,r),s=sl(e,r),ce("invalid",e);break;default:s=r}ll(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Fc(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Uc(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Sr(e,c):typeof c=="number"&&Sr(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(kr.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ce("scroll",e):c!=null&&Zl(e,i,c,o))}switch(n){case"input":Jr(e),Xo(e,r,!1);break;case"textarea":Jr(e),ea(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Xt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Tn(e,!!r.multiple,i,!1):r.defaultValue!=null&&Tn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Ts)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Le(t),null;case 6:if(e&&t.stateNode!=null)ud(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=cn(Mr.current),cn(xt.current),ls(t)){if(r=t.stateNode,n=t.memoizedProps,r[gt]=t,(i=r.nodeValue!==n)&&(e=qe,e!==null))switch(e.tag){case 3:is(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&is(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gt]=t,t.stateNode=r}return Le(t),null;case 13:if(ue(he),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&Qe!==null&&t.mode&1&&!(t.flags&128))Pu(),Fn(),t.flags|=98560,i=!1;else if(i=ls(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(L(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(L(317));i[gt]=t}else Fn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Le(t),i=!1}else ot!==null&&(Fl(ot),ot=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||he.current&1?ke===0&&(ke=3):$o())),t.updateQueue!==null&&(t.flags|=4),Le(t),null);case 4:return Wn(),Tl(e,t),e===null&&Ar(t.stateNode.containerInfo),Le(t),null;case 10:return xo(t.type._context),Le(t),null;case 17:return We(t.type)&&Ms(),Le(t),null;case 19:if(ue(he),i=t.memoizedState,i===null)return Le(t),null;if(r=(t.flags&128)!==0,o=i.rendering,o===null)if(r)or(i,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Fs(e),o!==null){for(t.flags|=128,or(i,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return oe(he,he.current&1|2),t.child}e=e.sibling}i.tail!==null&&xe()>Vn&&(t.flags|=128,r=!0,or(i,!1),t.lanes=4194304)}else{if(!r)if(e=Fs(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),or(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!pe)return Le(t),null}else 2*xe()-i.renderingStartTime>Vn&&n!==1073741824&&(t.flags|=128,r=!0,or(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(n=i.last,n!==null?n.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=xe(),t.sibling=null,n=he.current,oe(he,r?n&1|2:n&1),t):(Le(t),null);case 22:case 23:return Io(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ge&1073741824&&(Le(t),t.subtreeFlags&6&&(t.flags|=8192)):Le(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function ph(e,t){switch(mo(t),t.tag){case 1:return We(t.type)&&Ms(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Wn(),ue(be),ue(Me),No(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return So(t),null;case 13:if(ue(he),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Fn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ue(he),null;case 4:return Wn(),null;case 10:return xo(t.type._context),null;case 22:case 23:return Io(),null;case 24:return null;default:return null}}var cs=!1,Te=!1,fh=typeof WeakSet=="function"?WeakSet:Set,O=null;function zn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(e,t,r)}else n.current=null}function Ml(e,t,n){try{n()}catch(r){ye(e,t,r)}}var Wa=!1;function hh(e,t){if(vl=As,e=mu(),fo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,p=0,g=e,h=null;t:for(;;){for(var v;g!==n||s!==0&&g.nodeType!==3||(a=o+s),g!==i||r!==0&&g.nodeType!==3||(c=o+r),g.nodeType===3&&(o+=g.nodeValue.length),(v=g.firstChild)!==null;)h=g,g=v;for(;;){if(g===e)break t;if(h===n&&++d===s&&(a=o),h===i&&++p===r&&(c=o),(v=g.nextSibling)!==null)break;g=h,h=g.parentNode}g=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yl={focusedElem:e,selectionRange:n},As=!1,O=t;O!==null;)if(t=O,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,O=e;else for(;O!==null;){t=O;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,k=w.memoizedState,m=t.stateNode,u=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:it(t.type,y),k);m.__reactInternalSnapshotBeforeUpdate=u}break;case 3:var f=t.stateNode.containerInfo;f.nodeType===1?f.textContent="":f.nodeType===9&&f.documentElement&&f.removeChild(f.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(x){ye(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,O=e;break}O=t.return}return w=Wa,Wa=!1,w}function xr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ml(t,n,i)}s=s.next}while(s!==r)}}function li(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Il(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function dd(e){var t=e.alternate;t!==null&&(e.alternate=null,dd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[gt],delete t[Lr],delete t[wl],delete t[Kf],delete t[Jf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function pd(e){return e.tag===5||e.tag===3||e.tag===4}function Ha(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||pd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $l(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ts));else if(r!==4&&(e=e.child,e!==null))for($l(e,t,n),e=e.sibling;e!==null;)$l(e,t,n),e=e.sibling}function Ol(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ol(e,t,n),e=e.sibling;e!==null;)Ol(e,t,n),e=e.sibling}var Ee=null,lt=!1;function Tt(e,t,n){for(n=n.child;n!==null;)fd(e,t,n),n=n.sibling}function fd(e,t,n){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Xs,n)}catch{}switch(n.tag){case 5:Te||zn(n,t);case 6:var r=Ee,s=lt;Ee=null,Tt(e,t,n),Ee=r,lt=s,Ee!==null&&(lt?(e=Ee,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ee.removeChild(n.stateNode));break;case 18:Ee!==null&&(lt?(e=Ee,n=n.stateNode,e.nodeType===8?Ii(e.parentNode,n):e.nodeType===1&&Ii(e,n),Er(e)):Ii(Ee,n.stateNode));break;case 4:r=Ee,s=lt,Ee=n.stateNode.containerInfo,lt=!0,Tt(e,t,n),Ee=r,lt=s;break;case 0:case 11:case 14:case 15:if(!Te&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ml(n,t,o),s=s.next}while(s!==r)}Tt(e,t,n);break;case 1:if(!Te&&(zn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ye(n,t,a)}Tt(e,t,n);break;case 21:Tt(e,t,n);break;case 22:n.mode&1?(Te=(r=Te)||n.memoizedState!==null,Tt(e,t,n),Te=r):Tt(e,t,n);break;default:Tt(e,t,n)}}function Va(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new fh),t.forEach(function(r){var s=Sh.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function st(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ee=a.stateNode,lt=!1;break e;case 3:Ee=a.stateNode.containerInfo,lt=!0;break e;case 4:Ee=a.stateNode.containerInfo,lt=!0;break e}a=a.return}if(Ee===null)throw Error(L(160));fd(i,o,s),Ee=null,lt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ye(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hd(t,e),t=t.sibling}function hd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(st(t,e),pt(e),r&4){try{xr(3,e,e.return),li(3,e)}catch(y){ye(e,e.return,y)}try{xr(5,e,e.return)}catch(y){ye(e,e.return,y)}}break;case 1:st(t,e),pt(e),r&512&&n!==null&&zn(n,n.return);break;case 5:if(st(t,e),pt(e),r&512&&n!==null&&zn(n,n.return),e.flags&32){var s=e.stateNode;try{Sr(s,"")}catch(y){ye(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=n!==null?n.memoizedProps:i,a=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&$c(s,i),ol(a,o);var d=ol(a,i);for(o=0;o<c.length;o+=2){var p=c[o],g=c[o+1];p==="style"?Fc(s,g):p==="dangerouslySetInnerHTML"?Uc(s,g):p==="children"?Sr(s,g):Zl(s,p,g,d)}switch(a){case"input":nl(s,i);break;case"textarea":Oc(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Tn(s,!!i.multiple,v,!1):h!==!!i.multiple&&(i.defaultValue!=null?Tn(s,!!i.multiple,i.defaultValue,!0):Tn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Lr]=i}catch(y){ye(e,e.return,y)}}break;case 6:if(st(t,e),pt(e),r&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(y){ye(e,e.return,y)}}break;case 3:if(st(t,e),pt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Er(t.containerInfo)}catch(y){ye(e,e.return,y)}break;case 4:st(t,e),pt(e);break;case 13:st(t,e),pt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(To=xe())),r&4&&Va(e);break;case 22:if(p=n!==null&&n.memoizedState!==null,e.mode&1?(Te=(d=Te)||p,st(t,e),Te=d):st(t,e),pt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!p&&e.mode&1)for(O=e,p=e.child;p!==null;){for(g=O=p;O!==null;){switch(h=O,v=h.child,h.tag){case 0:case 11:case 14:case 15:xr(4,h,h.return);break;case 1:zn(h,h.return);var w=h.stateNode;if(typeof w.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(y){ye(r,n,y)}}break;case 5:zn(h,h.return);break;case 22:if(h.memoizedState!==null){Qa(g);continue}}v!==null?(v.return=h,O=v):Qa(g)}p=p.sibling}e:for(p=null,g=e;;){if(g.tag===5){if(p===null){p=g;try{s=g.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=g.stateNode,c=g.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Bc("display",o))}catch(y){ye(e,e.return,y)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(y){ye(e,e.return,y)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:st(t,e),pt(e),r&4&&Va(e);break;case 21:break;default:st(t,e),pt(e)}}function pt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(pd(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Sr(s,""),r.flags&=-33);var i=Ha(e);Ol(e,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Ha(e);$l(e,a,o);break;default:throw Error(L(161))}}catch(c){ye(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function mh(e,t,n){O=e,md(e)}function md(e,t,n){for(var r=(e.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||cs;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Te;a=cs;var d=Te;if(cs=o,(Te=c)&&!d)for(O=s;O!==null;)o=O,c=o.child,o.tag===22&&o.memoizedState!==null?qa(s):c!==null?(c.return=o,O=c):qa(s);for(;i!==null;)O=i,md(i),i=i.sibling;O=s,cs=a,Te=d}Ga(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):Ga(e)}}function Ga(e){for(;O!==null;){var t=O;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Te||li(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Te)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:it(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Aa(t,i,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Aa(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&Er(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Te||t.flags&512&&Il(t)}catch(h){ye(t,t.return,h)}}if(t===e){O=null;break}if(n=t.sibling,n!==null){n.return=t.return,O=n;break}O=t.return}}function Qa(e){for(;O!==null;){var t=O;if(t===e){O=null;break}var n=t.sibling;if(n!==null){n.return=t.return,O=n;break}O=t.return}}function qa(e){for(;O!==null;){var t=O;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{li(4,t)}catch(c){ye(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){ye(t,s,c)}}var i=t.return;try{Il(t)}catch(c){ye(t,i,c)}break;case 5:var o=t.return;try{Il(t)}catch(c){ye(t,o,c)}}}catch(c){ye(t,t.return,c)}if(t===e){O=null;break}var a=t.sibling;if(a!==null){a.return=t.return,O=a;break}O=t.return}}var gh=Math.ceil,Hs=zt.ReactCurrentDispatcher,zo=zt.ReactCurrentOwner,tt=zt.ReactCurrentBatchConfig,se=0,Ne=null,je=null,Pe=0,Ge=0,Ln=tn(0),ke=0,Dr=null,mn=0,oi=0,Lo=0,jr=null,Be=null,To=0,Vn=1/0,wt=null,Vs=!1,Dl=null,qt=null,us=!1,Ft=null,Gs=0,wr=0,Ul=null,ws=-1,ks=0;function $e(){return se&6?xe():ws!==-1?ws:ws=xe()}function Yt(e){return e.mode&1?se&2&&Pe!==0?Pe&-Pe:Zf.transition!==null?(ks===0&&(ks=Zc()),ks):(e=le,e!==0||(e=window.event,e=e===void 0?16:lu(e.type)),e):1}function ct(e,t,n,r){if(50<wr)throw wr=0,Ul=null,Error(L(185));Hr(e,n,r),(!(se&2)||e!==Ne)&&(e===Ne&&(!(se&2)&&(oi|=n),ke===4&&Ut(e,Pe)),He(e,r),n===1&&se===0&&!(t.mode&1)&&(Vn=xe()+500,ri&&nn()))}function He(e,t){var n=e.callbackNode;Xp(e,t);var r=Rs(e,e===Ne?Pe:0);if(r===0)n!==null&&ra(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ra(n),t===1)e.tag===0?Xf(Ya.bind(null,e)):Cu(Ya.bind(null,e)),qf(function(){!(se&6)&&nn()}),n=null;else{switch(eu(r)){case 1:n=so;break;case 4:n=Jc;break;case 16:n=Ps;break;case 536870912:n=Xc;break;default:n=Ps}n=Sd(n,gd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gd(e,t){if(ws=-1,ks=0,se&6)throw Error(L(327));var n=e.callbackNode;if(Dn()&&e.callbackNode!==n)return null;var r=Rs(e,e===Ne?Pe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Qs(e,r);else{t=r;var s=se;se|=2;var i=yd();(Ne!==e||Pe!==t)&&(wt=null,Vn=xe()+500,un(e,t));do try{xh();break}catch(a){vd(e,a)}while(!0);yo(),Hs.current=i,se=s,je!==null?t=0:(Ne=null,Pe=0,t=ke)}if(t!==0){if(t===2&&(s=pl(e),s!==0&&(r=s,t=Bl(e,s))),t===1)throw n=Dr,un(e,0),Ut(e,r),He(e,xe()),n;if(t===6)Ut(e,r);else{if(s=e.current.alternate,!(r&30)&&!vh(s)&&(t=Qs(e,r),t===2&&(i=pl(e),i!==0&&(r=i,t=Bl(e,i))),t===1))throw n=Dr,un(e,0),Ut(e,r),He(e,xe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:ln(e,Be,wt);break;case 3:if(Ut(e,r),(r&130023424)===r&&(t=To+500-xe(),10<t)){if(Rs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){$e(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=jl(ln.bind(null,e,Be,wt),t);break}ln(e,Be,wt);break;case 4:if(Ut(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-at(r);i=1<<o,o=t[o],o>s&&(s=o),r&=~i}if(r=s,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gh(r/1960))-r,10<r){e.timeoutHandle=jl(ln.bind(null,e,Be,wt),r);break}ln(e,Be,wt);break;case 5:ln(e,Be,wt);break;default:throw Error(L(329))}}}return He(e,xe()),e.callbackNode===n?gd.bind(null,e):null}function Bl(e,t){var n=jr;return e.current.memoizedState.isDehydrated&&(un(e,t).flags|=256),e=Qs(e,t),e!==2&&(t=Be,Be=n,t!==null&&Fl(t)),e}function Fl(e){Be===null?Be=e:Be.push.apply(Be,e)}function vh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ut(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ut(e,t){for(t&=~Lo,t&=~oi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function Ya(e){if(se&6)throw Error(L(327));Dn();var t=Rs(e,0);if(!(t&1))return He(e,xe()),null;var n=Qs(e,t);if(e.tag!==0&&n===2){var r=pl(e);r!==0&&(t=r,n=Bl(e,r))}if(n===1)throw n=Dr,un(e,0),Ut(e,t),He(e,xe()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ln(e,Be,wt),He(e,xe()),null}function Mo(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Vn=xe()+500,ri&&nn())}}function gn(e){Ft!==null&&Ft.tag===0&&!(se&6)&&Dn();var t=se;se|=1;var n=tt.transition,r=le;try{if(tt.transition=null,le=1,e)return e()}finally{le=r,tt.transition=n,se=t,!(se&6)&&nn()}}function Io(){Ge=Ln.current,ue(Ln)}function un(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Qf(n)),je!==null)for(n=je.return;n!==null;){var r=n;switch(mo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ms();break;case 3:Wn(),ue(be),ue(Me),No();break;case 5:So(r);break;case 4:Wn();break;case 13:ue(he);break;case 19:ue(he);break;case 10:xo(r.type._context);break;case 22:case 23:Io()}n=n.return}if(Ne=e,je=e=Kt(e.current,null),Pe=Ge=t,ke=0,Dr=null,Lo=oi=mn=0,Be=jr=null,an!==null){for(t=0;t<an.length;t++)if(n=an[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}an=null}return e}function vd(e,t){do{var n=je;try{if(yo(),ys.current=Ws,bs){for(var r=me.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bs=!1}if(hn=0,Se=we=me=null,yr=!1,Ir=0,zo.current=null,n===null||n.return===null){ke=1,Dr=t,je=null;break}e:{var i=e,o=n.return,a=n,c=t;if(t=Pe,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=a,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=$a(o);if(v!==null){v.flags&=-257,Oa(v,o,a,i,t),v.mode&1&&Ia(i,d,t),t=v,c=d;var w=t.updateQueue;if(w===null){var y=new Set;y.add(c),t.updateQueue=y}else w.add(c);break e}else{if(!(t&1)){Ia(i,d,t),$o();break e}c=Error(L(426))}}else if(pe&&a.mode&1){var k=$a(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Oa(k,o,a,i,t),go(Hn(c,a));break e}}i=c=Hn(c,a),ke!==4&&(ke=2),jr===null?jr=[i]:jr.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=ed(i,c,t);Ra(i,m);break e;case 1:a=c;var u=i.type,f=i.stateNode;if(!(i.flags&128)&&(typeof u.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(qt===null||!qt.has(f)))){i.flags|=65536,t&=-t,i.lanes|=t;var x=td(i,a,t);Ra(i,x);break e}}i=i.return}while(i!==null)}jd(n)}catch(j){t=j,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function yd(){var e=Hs.current;return Hs.current=Ws,e===null?Ws:e}function $o(){(ke===0||ke===3||ke===2)&&(ke=4),Ne===null||!(mn&268435455)&&!(oi&268435455)||Ut(Ne,Pe)}function Qs(e,t){var n=se;se|=2;var r=yd();(Ne!==e||Pe!==t)&&(wt=null,un(e,t));do try{yh();break}catch(s){vd(e,s)}while(!0);if(yo(),se=n,Hs.current=r,je!==null)throw Error(L(261));return Ne=null,Pe=0,ke}function yh(){for(;je!==null;)xd(je)}function xh(){for(;je!==null&&!Wp();)xd(je)}function xd(e){var t=kd(e.alternate,e,Ge);e.memoizedProps=e.pendingProps,t===null?jd(e):je=t,zo.current=null}function jd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=ph(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,je=null;return}}else if(n=dh(n,t,Ge),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);ke===0&&(ke=5)}function ln(e,t,n){var r=le,s=tt.transition;try{tt.transition=null,le=1,jh(e,t,n,r)}finally{tt.transition=s,le=r}return null}function jh(e,t,n,r){do Dn();while(Ft!==null);if(se&6)throw Error(L(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(Zp(e,i),e===Ne&&(je=Ne=null,Pe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||us||(us=!0,Sd(Ps,function(){return Dn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=tt.transition,tt.transition=null;var o=le;le=1;var a=se;se|=4,zo.current=null,hh(e,n),hd(n,e),Bf(yl),As=!!vl,yl=vl=null,e.current=n,mh(n),Hp(),se=a,le=o,tt.transition=i}else e.current=n;if(us&&(us=!1,Ft=e,Gs=s),i=e.pendingLanes,i===0&&(qt=null),Qp(n.stateNode),He(e,xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Vs)throw Vs=!1,e=Dl,Dl=null,e;return Gs&1&&e.tag!==0&&Dn(),i=e.pendingLanes,i&1?e===Ul?wr++:(wr=0,Ul=e):wr=0,nn(),null}function Dn(){if(Ft!==null){var e=eu(Gs),t=tt.transition,n=le;try{if(tt.transition=null,le=16>e?16:e,Ft===null)var r=!1;else{if(e=Ft,Ft=null,Gs=0,se&6)throw Error(L(331));var s=se;for(se|=4,O=e.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(O=d;O!==null;){var p=O;switch(p.tag){case 0:case 11:case 15:xr(8,p,i)}var g=p.child;if(g!==null)g.return=p,O=g;else for(;O!==null;){p=O;var h=p.sibling,v=p.return;if(dd(p),p===d){O=null;break}if(h!==null){h.return=v,O=h;break}O=v}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var k=y.sibling;y.sibling=null,y=k}while(y!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:xr(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,O=m;break e}O=i.return}}var u=e.current;for(O=u;O!==null;){o=O;var f=o.child;if(o.subtreeFlags&2064&&f!==null)f.return=o,O=f;else e:for(o=u;O!==null;){if(a=O,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:li(9,a)}}catch(j){ye(a,a.return,j)}if(a===o){O=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,O=x;break e}O=a.return}}if(se=s,nn(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Xs,e)}catch{}r=!0}return r}finally{le=n,tt.transition=t}}return!1}function Ka(e,t,n){t=Hn(n,t),t=ed(e,t,1),e=Qt(e,t,1),t=$e(),e!==null&&(Hr(e,1,t),He(e,t))}function ye(e,t,n){if(e.tag===3)Ka(e,e,n);else for(;t!==null;){if(t.tag===3){Ka(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qt===null||!qt.has(r))){e=Hn(n,e),e=td(t,e,1),t=Qt(t,e,1),e=$e(),t!==null&&(Hr(t,1,e),He(t,e));break}}t=t.return}}function wh(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,Ne===e&&(Pe&n)===n&&(ke===4||ke===3&&(Pe&130023424)===Pe&&500>xe()-To?un(e,0):Lo|=n),He(e,t)}function wd(e,t){t===0&&(e.mode&1?(t=es,es<<=1,!(es&130023424)&&(es=4194304)):t=1);var n=$e();e=Rt(e,t),e!==null&&(Hr(e,t,n),He(e,n))}function kh(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wd(e,n)}function Sh(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),wd(e,n)}var kd;kd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||be.current)Fe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Fe=!1,uh(e,t,n);Fe=!!(e.flags&131072)}else Fe=!1,pe&&t.flags&1048576&&_u(t,Os,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;js(e,t),e=t.pendingProps;var s=Bn(t,Me.current);On(t,n),s=_o(null,t,r,e,s,n);var i=Eo();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,We(r)?(i=!0,Is(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,wo(t),s.updater=ii,t.stateNode=s,s._reactInternals=t,El(t,r,e,n),t=Al(null,t,r,!0,i,n)):(t.tag=0,pe&&i&&ho(t),Ie(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(js(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Ch(r),e=it(r,e),s){case 0:t=Rl(null,t,r,e,n);break e;case 1:t=Ba(null,t,r,e,n);break e;case 11:t=Da(null,t,r,e,n);break e;case 14:t=Ua(null,t,r,it(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:it(r,s),Rl(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:it(r,s),Ba(e,t,r,s,n);case 3:e:{if(id(t),e===null)throw Error(L(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Lu(e,t),Bs(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Hn(Error(L(423)),t),t=Fa(e,t,r,n,s);break e}else if(r!==s){s=Hn(Error(L(424)),t),t=Fa(e,t,r,n,s);break e}else for(Qe=Gt(t.stateNode.containerInfo.firstChild),qe=t,pe=!0,ot=null,n=Au(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fn(),r===s){t=At(e,t,n);break e}Ie(e,t,r,n)}t=t.child}return t;case 5:return Tu(t),e===null&&Nl(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,xl(r,s)?o=null:i!==null&&xl(r,i)&&(t.flags|=32),sd(e,t),Ie(e,t,o,n),t.child;case 6:return e===null&&Nl(t),null;case 13:return ld(e,t,n);case 4:return ko(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=bn(t,null,r,n):Ie(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:it(r,s),Da(e,t,r,s,n);case 7:return Ie(e,t,t.pendingProps,n),t.child;case 8:return Ie(e,t,t.pendingProps.children,n),t.child;case 12:return Ie(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,oe(Ds,r._currentValue),r._currentValue=o,i!==null)if(ut(i.value,o)){if(i.children===s.children&&!be.current){t=At(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=_t(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Cl(i.return,n,t),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(L(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cl(o,n,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ie(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,On(t,n),s=nt(s),r=r(s),t.flags|=1,Ie(e,t,r,n),t.child;case 14:return r=t.type,s=it(r,t.pendingProps),s=it(r.type,s),Ua(e,t,r,s,n);case 15:return nd(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:it(r,s),js(e,t),t.tag=1,We(r)?(e=!0,Is(t)):e=!1,On(t,n),Zu(t,r,s),El(t,r,s,n),Al(null,t,r,!0,e,n);case 19:return od(e,t,n);case 22:return rd(e,t,n)}throw Error(L(156,t.tag))};function Sd(e,t){return Kc(e,t)}function Nh(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function et(e,t,n,r){return new Nh(e,t,n,r)}function Oo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ch(e){if(typeof e=="function")return Oo(e)?1:0;if(e!=null){if(e=e.$$typeof,e===to)return 11;if(e===no)return 14}return 2}function Kt(e,t){var n=e.alternate;return n===null?(n=et(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ss(e,t,n,r,s,i){var o=2;if(r=e,typeof e=="function")Oo(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case kn:return dn(n.children,s,i,t);case eo:o=8,s|=8;break;case Ji:return e=et(12,n,t,s|2),e.elementType=Ji,e.lanes=i,e;case Xi:return e=et(13,n,t,s),e.elementType=Xi,e.lanes=i,e;case Zi:return e=et(19,n,t,s),e.elementType=Zi,e.lanes=i,e;case Tc:return ai(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zc:o=10;break e;case Lc:o=9;break e;case to:o=11;break e;case no:o=14;break e;case $t:o=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=et(o,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function dn(e,t,n,r){return e=et(7,e,r,t),e.lanes=n,e}function ai(e,t,n,r){return e=et(22,e,r,t),e.elementType=Tc,e.lanes=n,e.stateNode={isHidden:!1},e}function Wi(e,t,n){return e=et(6,e,null,t),e.lanes=n,e}function Hi(e,t,n){return t=et(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function _h(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ni(0),this.expirationTimes=Ni(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Do(e,t,n,r,s,i,o,a,c){return e=new _h(e,t,n,a,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=et(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wo(i),e}function Eh(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Nd(e){if(!e)return Zt;e=e._reactInternals;e:{if(yn(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(We(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(We(n))return Nu(e,n,t)}return t}function Cd(e,t,n,r,s,i,o,a,c){return e=Do(n,r,!0,e,s,i,o,a,c),e.context=Nd(null),n=e.current,r=$e(),s=Yt(n),i=_t(r,s),i.callback=t??null,Qt(n,i,s),e.current.lanes=s,Hr(e,s,r),He(e,r),e}function ci(e,t,n,r){var s=t.current,i=$e(),o=Yt(s);return n=Nd(n),t.context===null?t.context=n:t.pendingContext=n,t=_t(i,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Qt(s,t,o),e!==null&&(ct(e,s,o,i),vs(e,s,o)),o}function qs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Ja(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Uo(e,t){Ja(e,t),(e=e.alternate)&&Ja(e,t)}function Ph(){return null}var _d=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bo(e){this._internalRoot=e}ui.prototype.render=Bo.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));ci(e,t,null,null)};ui.prototype.unmount=Bo.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gn(function(){ci(null,e,null,null)}),t[Pt]=null}};function ui(e){this._internalRoot=e}ui.prototype.unstable_scheduleHydration=function(e){if(e){var t=ru();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&t!==0&&t<Dt[n].priority;n++);Dt.splice(n,0,e),n===0&&iu(e)}};function Fo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function di(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xa(){}function Rh(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=qs(o);i.call(d)}}var o=Cd(t,r,e,0,null,!1,!1,"",Xa);return e._reactRootContainer=o,e[Pt]=o.current,Ar(e.nodeType===8?e.parentNode:e),gn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=qs(c);a.call(d)}}var c=Do(e,0,!1,null,null,!1,!1,"",Xa);return e._reactRootContainer=c,e[Pt]=c.current,Ar(e.nodeType===8?e.parentNode:e),gn(function(){ci(t,c,n,r)}),c}function pi(e,t,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=qs(o);a.call(c)}}ci(t,o,e,s)}else o=Rh(n,t,e,s,r);return qs(o)}tu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dr(t.pendingLanes);n!==0&&(io(t,n|1),He(t,xe()),!(se&6)&&(Vn=xe()+500,nn()))}break;case 13:gn(function(){var r=Rt(e,1);if(r!==null){var s=$e();ct(r,e,1,s)}}),Uo(e,1)}};lo=function(e){if(e.tag===13){var t=Rt(e,134217728);if(t!==null){var n=$e();ct(t,e,134217728,n)}Uo(e,134217728)}};nu=function(e){if(e.tag===13){var t=Yt(e),n=Rt(e,t);if(n!==null){var r=$e();ct(n,e,t,r)}Uo(e,t)}};ru=function(){return le};su=function(e,t){var n=le;try{return le=e,t()}finally{le=n}};cl=function(e,t,n){switch(t){case"input":if(nl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ni(r);if(!s)throw Error(L(90));Ic(r),nl(r,s)}}}break;case"textarea":Oc(e,n);break;case"select":t=n.value,t!=null&&Tn(e,!!n.multiple,t,!1)}};Hc=Mo;Vc=gn;var Ah={usingClientEntryPoint:!1,Events:[Gr,_n,ni,bc,Wc,Mo]},ar={findFiberByHostInstance:on,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zh={bundleType:ar.bundleType,version:ar.version,rendererPackageName:ar.rendererPackageName,rendererConfig:ar.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qc(e),e===null?null:e.stateNode},findFiberByHostInstance:ar.findFiberByHostInstance||Ph,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ds.isDisabled&&ds.supportsFiber)try{Xs=ds.inject(zh),yt=ds}catch{}}Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ah;Ke.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fo(t))throw Error(L(200));return Eh(e,t,null,n)};Ke.createRoot=function(e,t){if(!Fo(e))throw Error(L(299));var n=!1,r="",s=_d;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Do(e,1,!1,null,null,n,!1,r,s),e[Pt]=t.current,Ar(e.nodeType===8?e.parentNode:e),new Bo(t)};Ke.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=qc(t),e=e===null?null:e.stateNode,e};Ke.flushSync=function(e){return gn(e)};Ke.hydrate=function(e,t,n){if(!di(t))throw Error(L(200));return pi(null,e,t,!0,n)};Ke.hydrateRoot=function(e,t,n){if(!Fo(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=_d;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Cd(t,null,e,1,n??null,s,!1,i,o),e[Pt]=t.current,Ar(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new ui(t)};Ke.render=function(e,t,n){if(!di(t))throw Error(L(200));return pi(null,e,t,!1,n)};Ke.unmountComponentAtNode=function(e){if(!di(e))throw Error(L(40));return e._reactRootContainer?(gn(function(){pi(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};Ke.unstable_batchedUpdates=Mo;Ke.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!di(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return pi(e,t,n,!1,r)};Ke.version="18.3.1-next-f1338f8080-20240426";function Ed(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ed)}catch(e){console.error(e)}}Ed(),Ec.exports=Ke;var Lh=Ec.exports,Za=Lh;Yi.createRoot=Za.createRoot,Yi.hydrateRoot=Za.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ur(){return Ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ur.apply(this,arguments)}var bt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(bt||(bt={}));const ec="popstate";function Th(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return bl("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ys(s)}return Ih(t,n,null,e)}function ge(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Pd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Mh(){return Math.random().toString(36).substr(2,8)}function tc(e,t){return{usr:e.state,key:e.key,idx:t}}function bl(e,t,n,r){return n===void 0&&(n=null),Ur({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Xn(t):t,{state:n,key:t&&t.key||r||Mh()})}function Ys(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Xn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Ih(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=bt.Pop,c=null,d=p();d==null&&(d=0,o.replaceState(Ur({},o.state,{idx:d}),""));function p(){return(o.state||{idx:null}).idx}function g(){a=bt.Pop;let k=p(),m=k==null?null:k-d;d=k,c&&c({action:a,location:y.location,delta:m})}function h(k,m){a=bt.Push;let u=bl(y.location,k,m);d=p()+1;let f=tc(u,d),x=y.createHref(u);try{o.pushState(f,"",x)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(x)}i&&c&&c({action:a,location:y.location,delta:1})}function v(k,m){a=bt.Replace;let u=bl(y.location,k,m);d=p();let f=tc(u,d),x=y.createHref(u);o.replaceState(f,"",x),i&&c&&c({action:a,location:y.location,delta:0})}function w(k){let m=s.location.origin!=="null"?s.location.origin:s.location.href,u=typeof k=="string"?k:Ys(k);return u=u.replace(/ $/,"%20"),ge(m,"No window.location.(origin|href) available to create URL for href: "+u),new URL(u,m)}let y={get action(){return a},get location(){return e(s,o)},listen(k){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ec,g),c=k,()=>{s.removeEventListener(ec,g),c=null}},createHref(k){return t(s,k)},createURL:w,encodeLocation(k){let m=w(k);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:v,go(k){return o.go(k)}};return y}var nc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(nc||(nc={}));function $h(e,t,n){return n===void 0&&(n="/"),Oh(e,t,n)}function Oh(e,t,n,r){let s=typeof t=="string"?Xn(t):t,i=Gn(s.pathname||"/",n);if(i==null)return null;let o=Rd(e);Dh(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=Yh(i);a=Qh(o[c],d)}return a}function Rd(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ge(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=Jt([r,c.relativePath]),p=n.concat(c);i.children&&i.children.length>0&&(ge(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Rd(i.children,t,p,d)),!(i.path==null&&!i.index)&&t.push({path:d,score:Vh(d,i.index),routesMeta:p})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of Ad(i.path))s(i,o,c)}),t}function Ad(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Ad(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function Dh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Gh(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Uh=/^:[\w-]+$/,Bh=3,Fh=2,bh=1,Wh=10,Hh=-2,rc=e=>e==="*";function Vh(e,t){let n=e.split("/"),r=n.length;return n.some(rc)&&(r+=Hh),t&&(r+=Fh),n.filter(s=>!rc(s)).reduce((s,i)=>s+(Uh.test(i)?Bh:i===""?bh:Wh),r)}function Gh(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Qh(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,p=i==="/"?t:t.slice(i.length)||"/",g=Wl({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),h=c.route;if(!g)return null;Object.assign(s,g.params),o.push({params:s,pathname:Jt([i,g.pathname]),pathnameBase:Zh(Jt([i,g.pathnameBase])),route:h}),g.pathnameBase!=="/"&&(i=Jt([i,g.pathnameBase]))}return o}function Wl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=qh(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,p,g)=>{let{paramName:h,isOptional:v}=p;if(h==="*"){let y=a[g]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[g];return v&&!w?d[h]=void 0:d[h]=(w||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:e}}function qh(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Pd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Yh(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Pd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Gn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Kh(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Xn(e):e;return{pathname:n?n.startsWith("/")?n:Jh(n,t):t,search:em(r),hash:tm(s)}}function Jh(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Vi(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xh(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function bo(e,t){let n=Xh(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wo(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Xn(e):(s=Ur({},e),ge(!s.pathname||!s.pathname.includes("?"),Vi("?","pathname","search",s)),ge(!s.pathname||!s.pathname.includes("#"),Vi("#","pathname","hash",s)),ge(!s.search||!s.search.includes("#"),Vi("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let g=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),g-=1;s.pathname=h.join("/")}a=g>=0?t[g]:"/"}let c=Kh(s,a),d=o&&o!=="/"&&o.endsWith("/"),p=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const Jt=e=>e.join("/").replace(/\/\/+/g,"/"),Zh=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),em=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,tm=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function nm(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const zd=["post","put","patch","delete"];new Set(zd);const rm=["get",...zd];new Set(rm);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Br(){return Br=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Br.apply(this,arguments)}const fi=A.createContext(null),Ld=A.createContext(null),Lt=A.createContext(null),hi=A.createContext(null),rn=A.createContext({outlet:null,matches:[],isDataRoute:!1}),Td=A.createContext(null);function sm(e,t){let{relative:n}=t===void 0?{}:t;Zn()||ge(!1);let{basename:r,navigator:s}=A.useContext(Lt),{hash:i,pathname:o,search:a}=mi(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Jt([r,o])),s.createHref({pathname:c,search:a,hash:i})}function Zn(){return A.useContext(hi)!=null}function er(){return Zn()||ge(!1),A.useContext(hi).location}function Md(e){A.useContext(Lt).static||A.useLayoutEffect(e)}function Id(){let{isDataRoute:e}=A.useContext(rn);return e?vm():im()}function im(){Zn()||ge(!1);let e=A.useContext(fi),{basename:t,future:n,navigator:r}=A.useContext(Lt),{matches:s}=A.useContext(rn),{pathname:i}=er(),o=JSON.stringify(bo(s,n.v7_relativeSplatPath)),a=A.useRef(!1);return Md(()=>{a.current=!0}),A.useCallback(function(d,p){if(p===void 0&&(p={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let g=Wo(d,JSON.parse(o),i,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Jt([t,g.pathname])),(p.replace?r.replace:r.push)(g,p.state,p)},[t,r,o,i,e])}function mi(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=A.useContext(Lt),{matches:s}=A.useContext(rn),{pathname:i}=er(),o=JSON.stringify(bo(s,r.v7_relativeSplatPath));return A.useMemo(()=>Wo(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function lm(e,t){return om(e,t)}function om(e,t,n,r){Zn()||ge(!1);let{navigator:s}=A.useContext(Lt),{matches:i}=A.useContext(rn),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=er(),p;if(t){var g;let k=typeof t=="string"?Xn(t):t;c==="/"||(g=k.pathname)!=null&&g.startsWith(c)||ge(!1),p=k}else p=d;let h=p.pathname||"/",v=h;if(c!=="/"){let k=c.replace(/^\//,"").split("/");v="/"+h.replace(/^\//,"").split("/").slice(k.length).join("/")}let w=$h(e,{pathname:v}),y=pm(w&&w.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:Jt([c,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?c:Jt([c,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n,r);return t&&y?A.createElement(hi.Provider,{value:{location:Br({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:bt.Pop}},y):y}function am(){let e=gm(),t=nm(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),n?A.createElement("pre",{style:s},n):null,null)}const cm=A.createElement(am,null);class um extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?A.createElement(rn.Provider,{value:this.props.routeContext},A.createElement(Td.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dm(e){let{routeContext:t,match:n,children:r}=e,s=A.useContext(fi);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(rn.Provider,{value:t},r)}function pm(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let p=o.findIndex(g=>g.route.id&&(a==null?void 0:a[g.route.id])!==void 0);p>=0||ge(!1),o=o.slice(0,Math.min(o.length,p+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:h,errors:v}=n,w=g.route.loader&&h[g.route.id]===void 0&&(!v||v[g.route.id]===void 0);if(g.route.lazy||w){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,h)=>{let v,w=!1,y=null,k=null;n&&(v=a&&g.route.id?a[g.route.id]:void 0,y=g.route.errorElement||cm,c&&(d<0&&h===0?(ym("route-fallback"),w=!0,k=null):d===h&&(w=!0,k=g.route.hydrateFallbackElement||null)));let m=t.concat(o.slice(0,h+1)),u=()=>{let f;return v?f=y:w?f=k:g.route.Component?f=A.createElement(g.route.Component,null):g.route.element?f=g.route.element:f=p,A.createElement(dm,{match:g,routeContext:{outlet:p,matches:m,isDataRoute:n!=null},children:f})};return n&&(g.route.ErrorBoundary||g.route.errorElement||h===0)?A.createElement(um,{location:n.location,revalidation:n.revalidation,component:y,error:v,children:u(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):u()},null)}var $d=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($d||{}),Od=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Od||{});function fm(e){let t=A.useContext(fi);return t||ge(!1),t}function hm(e){let t=A.useContext(Ld);return t||ge(!1),t}function mm(e){let t=A.useContext(rn);return t||ge(!1),t}function Dd(e){let t=mm(),n=t.matches[t.matches.length-1];return n.route.id||ge(!1),n.route.id}function gm(){var e;let t=A.useContext(Td),n=hm(),r=Dd();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function vm(){let{router:e}=fm($d.UseNavigateStable),t=Dd(Od.UseNavigateStable),n=A.useRef(!1);return Md(()=>{n.current=!0}),A.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Br({fromRouteId:t},i)))},[e,t])}const sc={};function ym(e,t,n){sc[e]||(sc[e]=!0)}function xm(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function jm(e){let{to:t,replace:n,state:r,relative:s}=e;Zn()||ge(!1);let{future:i,static:o}=A.useContext(Lt),{matches:a}=A.useContext(rn),{pathname:c}=er(),d=Id(),p=Wo(t,bo(a,i.v7_relativeSplatPath),c,s==="path"),g=JSON.stringify(p);return A.useEffect(()=>d(JSON.parse(g),{replace:n,state:r,relative:s}),[d,g,s,n,r]),null}function jn(e){ge(!1)}function wm(e){let{basename:t="/",children:n=null,location:r,navigationType:s=bt.Pop,navigator:i,static:o=!1,future:a}=e;Zn()&&ge(!1);let c=t.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:c,navigator:i,static:o,future:Br({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Xn(r));let{pathname:p="/",search:g="",hash:h="",state:v=null,key:w="default"}=r,y=A.useMemo(()=>{let k=Gn(p,c);return k==null?null:{location:{pathname:k,search:g,hash:h,state:v,key:w},navigationType:s}},[c,p,g,h,v,w,s]);return y==null?null:A.createElement(Lt.Provider,{value:d},A.createElement(hi.Provider,{children:n,value:y}))}function km(e){let{children:t,location:n}=e;return lm(Hl(t),n)}new Promise(()=>{});function Hl(e,t){t===void 0&&(t=[]);let n=[];return A.Children.forEach(e,(r,s)=>{if(!A.isValidElement(r))return;let i=[...t,s];if(r.type===A.Fragment){n.push.apply(n,Hl(r.props.children,i));return}r.type!==jn&&ge(!1),!r.props.index||!r.props.children||ge(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Hl(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ks(){return Ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ks.apply(this,arguments)}function Ud(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Sm(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Nm(e,t){return e.button===0&&(!t||t==="_self")&&!Sm(e)}const Cm=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],_m=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Em="6";try{window.__reactRouterVersion=Em}catch{}const Pm=A.createContext({isTransitioning:!1}),Rm="startTransition",ic=jp[Rm];function Am(e){let{basename:t,children:n,future:r,window:s}=e,i=A.useRef();i.current==null&&(i.current=Th({window:s,v5Compat:!0}));let o=i.current,[a,c]=A.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},p=A.useCallback(g=>{d&&ic?ic(()=>c(g)):c(g)},[c,d]);return A.useLayoutEffect(()=>o.listen(p),[o,p]),A.useEffect(()=>xm(r),[r]),A.createElement(wm,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const zm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tm=A.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:p,viewTransition:g}=t,h=Ud(t,Cm),{basename:v}=A.useContext(Lt),w,y=!1;if(typeof d=="string"&&Lm.test(d)&&(w=d,zm))try{let f=new URL(window.location.href),x=d.startsWith("//")?new URL(f.protocol+d):new URL(d),j=Gn(x.pathname,v);x.origin===f.origin&&j!=null?d=j+x.search+x.hash:y=!0}catch{}let k=sm(d,{relative:s}),m=$m(d,{replace:o,state:a,target:c,preventScrollReset:p,relative:s,viewTransition:g});function u(f){r&&r(f),f.defaultPrevented||m(f)}return A.createElement("a",Ks({},h,{href:w||k,onClick:y||i?r:u,ref:n,target:c}))}),Mm=A.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:d,children:p}=t,g=Ud(t,_m),h=mi(c,{relative:g.relative}),v=er(),w=A.useContext(Ld),{navigator:y,basename:k}=A.useContext(Lt),m=w!=null&&Om(h)&&d===!0,u=y.encodeLocation?y.encodeLocation(h).pathname:h.pathname,f=v.pathname,x=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;s||(f=f.toLowerCase(),x=x?x.toLowerCase():null,u=u.toLowerCase()),x&&k&&(x=Gn(x,k)||x);const j=u!=="/"&&u.endsWith("/")?u.length-1:u.length;let R=f===u||!o&&f.startsWith(u)&&f.charAt(j)==="/",N=x!=null&&(x===u||!o&&x.startsWith(u)&&x.charAt(u.length)==="/"),_={isActive:R,isPending:N,isTransitioning:m},S=R?r:void 0,C;typeof i=="function"?C=i(_):C=[i,R?"active":null,N?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(_):a;return A.createElement(Tm,Ks({},g,{"aria-current":S,className:C,ref:n,style:I,to:c,viewTransition:d}),typeof p=="function"?p(_):p)});var Vl;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Vl||(Vl={}));var lc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(lc||(lc={}));function Im(e){let t=A.useContext(fi);return t||ge(!1),t}function $m(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=Id(),d=er(),p=mi(e,{relative:o});return A.useCallback(g=>{if(Nm(g,n)){g.preventDefault();let h=r!==void 0?r:Ys(d)===Ys(p);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,c,p,r,s,n,e,i,o,a])}function Om(e,t){t===void 0&&(t={});let n=A.useContext(Pm);n==null&&ge(!1);let{basename:r}=Im(Vl.useViewTransitionState),s=mi(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=Gn(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Gn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wl(s.pathname,o)!=null||Wl(s.pathname,i)!=null}const Dm={},oc=e=>{let t;const n=new Set,r=(p,g)=>{const h=typeof p=="function"?p(t):p;if(!Object.is(h,t)){const v=t;t=g??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(w=>w(t,v))}},s=()=>t,c={setState:r,getState:s,getInitialState:()=>d,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(Dm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(r,s,c);return c},Um=e=>e?oc(e):oc;var Bd={exports:{}},Fd={},bd={exports:{}},Wd={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qn=A;function Bm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Fm=typeof Object.is=="function"?Object.is:Bm,bm=Qn.useState,Wm=Qn.useEffect,Hm=Qn.useLayoutEffect,Vm=Qn.useDebugValue;function Gm(e,t){var n=t(),r=bm({inst:{value:n,getSnapshot:t}}),s=r[0].inst,i=r[1];return Hm(function(){s.value=n,s.getSnapshot=t,Gi(s)&&i({inst:s})},[e,n,t]),Wm(function(){return Gi(s)&&i({inst:s}),e(function(){Gi(s)&&i({inst:s})})},[e]),Vm(n),n}function Gi(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Fm(e,n)}catch{return!0}}function Qm(e,t){return t()}var qm=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Qm:Gm;Wd.useSyncExternalStore=Qn.useSyncExternalStore!==void 0?Qn.useSyncExternalStore:qm;bd.exports=Wd;var Ym=bd.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gi=A,Km=Ym;function Jm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xm=typeof Object.is=="function"?Object.is:Jm,Zm=Km.useSyncExternalStore,eg=gi.useRef,tg=gi.useEffect,ng=gi.useMemo,rg=gi.useDebugValue;Fd.useSyncExternalStoreWithSelector=function(e,t,n,r,s){var i=eg(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=ng(function(){function c(v){if(!d){if(d=!0,p=v,v=r(v),s!==void 0&&o.hasValue){var w=o.value;if(s(w,v))return g=w}return g=v}if(w=g,Xm(p,v))return w;var y=r(v);return s!==void 0&&s(w,y)?(p=v,w):(p=v,g=y)}var d=!1,p,g,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,s]);var a=Zm(e,i[0],i[1]);return tg(function(){o.hasValue=!0,o.value=a},[a]),rg(a),a};Bd.exports=Fd;var sg=Bd.exports;const ig=mc(sg),Hd={},{useDebugValue:lg}=Kl,{useSyncExternalStoreWithSelector:og}=ig;let ac=!1;const ag=e=>e;function cg(e,t=ag,n){(Hd?"production":void 0)!=="production"&&n&&!ac&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ac=!0);const r=og(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return lg(r),r}const ug=e=>{(Hd?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Um(e):e,n=(r,s)=>cg(t,r,s);return Object.assign(n,t),n},Vd=e=>ug,dg={};function pg(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var i;const o=c=>c===null?null:JSON.parse(c,void 0),a=(i=n.getItem(s))!=null?i:null;return a instanceof Promise?a.then(o):o(a)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const Fr=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Fr(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Fr(r)(n)}}}},fg=(e,t)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:k=>k,version:0,merge:(k,m)=>({...m,...k}),...t},o=!1;const a=new Set,c=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return e((...k)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...k)},r,s);const p=Fr(i.serialize),g=()=>{const k=i.partialize({...r()});let m;const u=p({state:k,version:i.version}).then(f=>d.setItem(i.name,f)).catch(f=>{m=f});if(m)throw m;return u},h=s.setState;s.setState=(k,m)=>{h(k,m),g()};const v=e((...k)=>{n(...k),g()},r,s);let w;const y=()=>{var k;if(!d)return;o=!1,a.forEach(u=>u(r()));const m=((k=i.onRehydrateStorage)==null?void 0:k.call(i,r()))||void 0;return Fr(d.getItem.bind(d))(i.name).then(u=>{if(u)return i.deserialize(u)}).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==i.version){if(i.migrate)return i.migrate(u.state,u.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return u.state}).then(u=>{var f;return w=i.merge(u,(f=r())!=null?f:v),n(w,!0),g()}).then(()=>{m==null||m(w,void 0),o=!0,c.forEach(u=>u(w))}).catch(u=>{m==null||m(void 0,u)})};return s.persist={setOptions:k=>{i={...i,...k},k.getStorage&&(d=k.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>o,onHydrate:k=>(a.add(k),()=>{a.delete(k)}),onFinishHydration:k=>(c.add(k),()=>{c.delete(k)})},y(),w||v},hg=(e,t)=>(n,r,s)=>{let i={storage:pg(()=>localStorage),partialize:y=>y,version:0,merge:(y,k)=>({...k,...y}),...t},o=!1;const a=new Set,c=new Set;let d=i.storage;if(!d)return e((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...y)},r,s);const p=()=>{const y=i.partialize({...r()});return d.setItem(i.name,{state:y,version:i.version})},g=s.setState;s.setState=(y,k)=>{g(y,k),p()};const h=e((...y)=>{n(...y),p()},r,s);s.getInitialState=()=>h;let v;const w=()=>{var y,k;if(!d)return;o=!1,a.forEach(u=>{var f;return u((f=r())!=null?f:h)});const m=((k=i.onRehydrateStorage)==null?void 0:k.call(i,(y=r())!=null?y:h))||void 0;return Fr(d.getItem.bind(d))(i.name).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==i.version){if(i.migrate)return[!0,i.migrate(u.state,u.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,u.state];return[!1,void 0]}).then(u=>{var f;const[x,j]=u;if(v=i.merge(j,(f=r())!=null?f:h),n(v,!0),x)return p()}).then(()=>{m==null||m(v,void 0),v=r(),o=!0,c.forEach(u=>u(v))}).catch(u=>{m==null||m(void 0,u)})};return s.persist={setOptions:y=>{i={...i,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>w(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},i.skipHydration||w(),v||h},mg=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((dg?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),fg(e,t)):hg(e,t),Gd=mg;class gg{constructor(){yi(this,"enabled",!1);yi(this,"storageKey","sidonia-analytics-buffer")}setEnabled(t){this.enabled=t,!(typeof window>"u")&&(t||this.clear())}track(t,n){if(typeof window>"u"||!this.enabled)return;const r={event:t,timestamp:new Date().toISOString(),data:n};try{const s=this.load();s.push(r),localStorage.setItem(this.storageKey,JSON.stringify(s)),console.info("[analytics]",r)}catch(s){console.warn("Analytics storage failed",s)}}getAll(){return typeof window>"u"?[]:this.load()}clear(){typeof window>"u"||localStorage.removeItem(this.storageKey)}load(){try{const t=localStorage.getItem(this.storageKey);return t?JSON.parse(t):[]}catch(t){return console.warn("Failed to read analytics buffer",t),[]}}}const re=new gg,vg="CodexRules!!!!!",vt=Vd()(Gd((e,t)=>({gmUnlocked:!1,gmUnlockedAt:null,analyticsConsent:"unknown",analyticsNotified:!1,authenticateGm:n=>n.trim().toUpperCase()===vg?(e({gmUnlocked:!0,gmUnlockedAt:new Date().toISOString()}),re.track("gm.unlocked",{}),!0):(re.track("gm.failed_auth",{attempt:n.trim().length}),!1),lockGm:()=>e({gmUnlocked:!1,gmUnlockedAt:null}),setAnalyticsConsent:n=>{e({analyticsConsent:n?"accepted":"declined"}),re.setEnabled(n),re.track("analytics.consent",{granted:n})},markAnalyticsNotified:()=>e({analyticsNotified:!0})}),{name:"sidonia-session-state",version:1,migrate:e=>({gmUnlocked:!1,gmUnlockedAt:null,analyticsConsent:(e==null?void 0:e.analyticsConsent)??"unknown",analyticsNotified:!1})}));function yg(){const e=vt(s=>s.analyticsConsent),t=vt(s=>s.analyticsNotified),n=vt(s=>s.setAnalyticsConsent),r=vt(s=>s.markAnalyticsNotified);return e!=="unknown"||t?null:l.jsxs("aside",{className:"analytics-banner",role:"dialog","aria-live":"polite",children:[l.jsxs("div",{children:[l.jsx("h3",{children:"Help Improve Sidonia"}),l.jsx("p",{children:"We collect anonymous usage patterns (no personal data) to refine the priority flow and uncover confusing choices. You can opt out and still use the builderno pressure."})]}),l.jsxs("div",{className:"analytics-banner__actions",children:[l.jsx("button",{type:"button",onClick:()=>n(!0),children:"Share Anonymous Data"}),l.jsx("button",{type:"button",className:"secondary",onClick:()=>n(!1),children:"No Thanks"}),l.jsx("button",{type:"button",className:"dismiss",onClick:r,children:"Remind Me Later"})]})]})}async function mt(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.status} ${t.statusText}`);const n=await t.text();try{return JSON.parse(n)}catch(r){throw new Error(`Failed to parse JSON from ${e}: ${r.message}`)}}async function xg(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${e}: ${t.status} ${t.statusText}`);return await t.text()}const jg={automata:"/data/Sidonia-Powers-Schema-Automata.Json",chimera:"/data/Sidonia-Powers-Schema-Chimera.Json",espers:"/data/Sidonia-Powers-Schema-Espers.json",neosapiens:"/data/Sidonia-Powers-Schema-NeoSapiens.Json",sorcery:"/data/Sidonia-Powers-Schema-Sorcery.Json"},wg={automata:"/data/powers-automata.json",chimera:"/data/powers-chimera.json",esper:"/data/powers-esper.json",neosapien:"/data/powers-neosapien.json",sorcery:"/data/powers-sorcery.json"},kg="/data/powers-mentalist.json",Sg=[{id:"lineage-architecture",title:"Lineage Architecture",path:"/content/lineage-architecture.md"},{id:"design-philosophy",title:"Sidonia Design Philosophy",path:"/content/sidonia-design-philosophy.md"},{id:"resources-system",title:"Resources System Overview",path:"/content/sidonia-resources-system.md"}];async function Ng(){const[e,t,n,r,s,i,o,a,c,d]=await Promise.all([mt("/data/backgrounds.json"),mt("/data/Sidonia-Skills.Json"),mt("/data/resources-system.json"),mt("/data/resource-costs.json"),mt("/data/legal.json"),Cg(),_g(),mt("/data/attributes.json"),mt("/data/character-sheet-structure.json"),zg()]),p=Rg(a),g=Ag(c);return{backgrounds:e,skills:t,resources:n,resourceCosts:r,legal:s,powerSchemas:i,powerSets:o,attributes:p,characterSheet:g,designDocs:d}}async function Cg(){const e=await Promise.all(Object.entries(jg).map(async([t,n])=>{const r=await mt(n);return[t,r]}));return Object.fromEntries(e)}async function _g(){const e=Object.entries(wg).map(async([r,s])=>{const i=r;let o=await mt(s);return i==="esper"&&(o=await Eg(o)),[i,Pg(i,o)]}),t=await Promise.allSettled(e),n=[];return t.forEach(r=>{r.status==="fulfilled"?n.push(r.value):console.warn("[sidonia] Failed to load lineage power data:",r.reason)}),Object.fromEntries(n)}async function Eg(e){try{const t=await mt(kg);return{...e,mentalist_data:t}}catch(t){return console.warn("[sidonia] Failed to load mentalist power data:",t),e}}function Pg(e,t){const n={...t};return"lineage"in n||(n.lineage=e),n.lineageId=e,n}function Rg(e){return e&&typeof e=="object"&&"attributes"in e?e.attributes:e}function Ag(e){return e&&typeof e=="object"&&"characterSheet"in e?e.characterSheet:e}async function zg(){return await Promise.all(Sg.map(async t=>{const n=await xg(t.path);return{...t,content:n}}))}const Qd=A.createContext(void 0);function Lg({children:e}){const[t,n]=A.useState(null),[r,s]=A.useState("idle"),[i,o]=A.useState(null),a=A.useCallback(async()=>{s("loading"),o(null);try{const d=await Ng();n(d),s("ready")}catch(d){s("error"),o(d instanceof Error?d.message:"Unknown data loading error")}},[]);A.useEffect(()=>{a()},[a]);const c=A.useMemo(()=>({data:t,status:r,error:i,refresh:a}),[t,r,i,a]);return l.jsx(Qd.Provider,{value:c,children:e})}function qr(){const e=A.useContext(Qd);if(!e)throw new Error("useCharacterData must be used within a DataProvider");return e}function Tg(){var n,r;const{data:e}=qr(),t=(n=e==null?void 0:e.legal)==null?void 0:n.copyright;return!t||((r=t.display)==null?void 0:r.footer)===!1?null:l.jsxs("footer",{className:"legal-footer","aria-label":"Legal notice",role:"contentinfo",children:[l.jsx("span",{className:"legal-footer__text",children:t.text}),t.licenseUrl?l.jsx("a",{href:t.licenseUrl,target:"_blank",rel:"noreferrer",className:"legal-footer__link",children:t.license}):l.jsx("span",{className:"legal-footer__link",children:t.license})]})}const Mg=[{to:"/",label:"Experience"},{to:"/builder",label:"Character Builder"},{to:"/management",label:"Character Management"},{to:"/gm",label:"GM Veil"}];function Ig({children:e}){return l.jsxs("div",{className:"app-shell",children:[l.jsx("header",{className:"app-shell__header",children:l.jsxs("nav",{className:"app-shell__nav",children:[l.jsx("span",{className:"brand",children:"Sidonia: The Long Night"}),l.jsx("div",{className:"nav-links",children:Mg.map(t=>l.jsx(Mm,{to:t.to,className:({isActive:n})=>n?"nav-link active":"nav-link",end:!0,children:t.label},t.to))}),l.jsx("span",{className:"nav-meta",children:"Every choice demands a sacrifice"})]})}),l.jsx("main",{className:"app-shell__main",children:e}),l.jsx(Tg,{}),l.jsx(yg,{})]})}function $g(){return l.jsxs("section",{children:[l.jsxs("header",{children:[l.jsx("h1",{children:"Character Creation as Descent"}),l.jsx("p",{children:"Step through Sidonia's dark wards with a guide that teaches while it tempts. Assign priorities, face the consequences, and build a persona that balances humanity, power, and the whispers of corruption."})]}),l.jsxs("div",{children:[l.jsx("p",{children:"Begin with the priority grid, explore lineage aesthetics, and unlock deeper mechanical truths only when you are ready to commit. Every page layers narrative first and detail second, ensuring newcomers learn through meaningful choice."}),l.jsx("p",{children:"Continue to the Character Builder to start a new dossier or revisit existing souls you are shepherding through the night."})]})]})}const qd=[{key:"neosapien",name:"NeoSapien",tagline:"Engineered evolution for those who can pay the tithe.",summary:"The Forge Syndicates will rebuild you into the perfect instrument. Slots determine just how much metal, muscle, and lore they lace into your bones.",priorityImpacts:{A:"Nine augmentation slots; enough to rebuild your body and soul with top-tier Forge miracles.",B:"Seven slots; you are an elite prototype with room to grow.",C:"Six slots; respectable upgrades with compromises lingering beneath the chrome.",D:"Four slots; hand-me-down mods and a favor owed to the Syndicate.",E:"Two slots; scrap work that barely keeps you alive."},narrativeHook:"NeoSapiens look immaculate, but every graft is a debt. Each upgrade ties you tighter to the Forge Families who own the patent on your blood.",gmWhisper:"Every augmentation has a corruption drip. Track how many slots are filled to calibrate the player-facing warning meter.",aesthetic:{accent:"#87f5ff",glow:"linear-gradient(135deg, rgba(120, 220, 255, 0.35), rgba(80, 140, 255, 0.2))",texture:"radial-gradient(circle at 50% 10%, rgba(120, 220, 255, 0.2), transparent 60%)"}},{key:"sorcery",name:"Sorcerer",tagline:"Scholar of the Veil, wielding codified miracles in whispers.",summary:"You read forbidden grimoires in the glow of dying streetlamps. Priorities determine how many spheres you command and how many moves you can safely inscribe.",priorityImpacts:{A:"Primary + 2 Secondary spheres, five total moves etched into your soul.",B:"Primary + Secondary pairing with four rote moves; the classic cabal initiate.",C:"Choose one Primary or two Secondary spheres, three moves scrawled in desperate ink.",D:"One secondary sphere and two moves; a dabbler who still owes their mentor.",E:"One secondary sphere, one move, hope you can bluff the rest."},narrativeHook:"Sorcerers hide sigils within noir newsprint and breathe equations of power. The more spheres you command, the more the city notices.",gmWhisper:"Each move should have a listed cost; use the assigned priority to determine how harsh to set complications.",aesthetic:{accent:"#ffb347",glow:"linear-gradient(160deg, rgba(255, 190, 92, 0.35), rgba(255, 80, 60, 0.25))",texture:"radial-gradient(circle at 70% 30%, rgba(255, 180, 90, 0.18), transparent 60%)"}},{key:"esper",name:"Esper",tagline:"Innate psionics that turn thought into weaponry.",summary:"Gifted at birth or cursed in the womb, Espers bend the city with their minds. Priority sets how refined the template becomes.",priorityImpacts:{A:"Esper Mentalist hybrid  access to both archetype trees from session one.",B:"Esper Prodigy template. Two evolutionary steps unlocked before play.",C:"Mentalist-only channel with powerful focus but brittle sanity.",D:"Gifted Esper who can evolve once with training.",E:"Base Esper template; raw talent that still sputters."},narrativeHook:"Their dreams leak into waking life. Neon bleeds, strangers hear your thoughts, and the city clerk who stamped your ID can suddenly smell the aether.",gmWhisper:"Corruption spikes when Espers overclock. Use template level to gauge safe usage before fractures appear.",aesthetic:{accent:"#f78bff",glow:"linear-gradient(120deg, rgba(255, 120, 220, 0.35), rgba(110, 90, 255, 0.25))",texture:"radial-gradient(circle at 20% 80%, rgba(255, 120, 220, 0.2), transparent 55%)"}},{key:"chimera",name:"Chimera",tagline:"Mutations granted by the citys warring ecosystems.",summary:"You trade humanity for adaptation. Mutation points dictate how many horrors you can graft into your flesh.",priorityImpacts:{A:"Seven mutation points. Become the chimera the wards whisper about.",B:"Five points. The change is obvious, but you can still pass after midnight.",C:"Four points. Enough to gain an edge while keeping a human silhouette.",D:"Three points. Side-effects and stigma follow closely.",E:"Two points. Tattoos of corruption hidden beneath borrowed coats."},narrativeHook:"Chimeras owe fealty to ward totems and feral ecologies. The more points you spend, the more the wild claims you.",gmWhisper:"Mutation tiers should map to resource availability; track total points for corruption bleed-through.",aesthetic:{accent:"#7cff91",glow:"linear-gradient(200deg, rgba(120, 255, 160, 0.35), rgba(40, 180, 120, 0.25))",texture:"radial-gradient(circle at 15% 20%, rgba(120, 255, 160, 0.18), transparent 60%)"}},{key:"automata",name:"Automata",tagline:"Synthetic souls housed in perfected shells.",summary:"You are a machine built for purpose. Priority sets the chassis quality and the branches unlocked.",priorityImpacts:{A:"Imperial chassis with Overseer/Soldier branches unlocked and sovereign protocols.",B:"Advanced military shell; twin branches with limited imperial overrides.",C:"Baseline chassis with soldier safeguards still intact.",D:"Advanced worker frame engineered for hazardous labor.",E:"Basic worker frame, easily replaced and easily overlooked."},narrativeHook:"Automata can swap plating like trench coats. Memory scrubbing is compulsory after each refit.",gmWhisper:"Track how many branches the player exposes. GM mode should reveal firmware locks hidden from the player view.",aesthetic:{accent:"#5ad1ff",glow:"linear-gradient(150deg, rgba(90, 210, 255, 0.35), rgba(40, 80, 200, 0.25))",texture:"radial-gradient(circle at 80% 20%, rgba(90, 210, 255, 0.2), transparent 60%)"}}];function Yd(e){return e?qd.find(t=>t.key===e)??null:null}function Og({build:e,onUpdate:t}){if(!e)return null;const{profile:n,updatedAt:r}=e;return l.jsxs("section",{className:"profile-card",children:[l.jsxs("header",{children:[l.jsx("h2",{children:"Character Dossier"}),l.jsxs("span",{className:"profile-card__timestamp",children:["Auto-saved ",new Date(r).toLocaleString()]})]}),l.jsxs("div",{className:"profile-card__layout",children:[l.jsxs("div",{className:"profile-card__details",children:[l.jsxs("div",{className:"profile-card__grid",children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Name"}),l.jsx("input",{value:n.name,onChange:s=>t({name:s.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Alias"}),l.jsx("input",{value:n.alias,onChange:s=>t({alias:s.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Pronouns"}),l.jsx("input",{value:n.pronouns,onChange:s=>t({pronouns:s.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Concept"}),l.jsx("input",{value:n.concept,placeholder:"Ex: Disgraced sorcerer moonlighting as a fixer",onChange:s=>t({concept:s.target.value})})]})]}),l.jsxs("label",{className:"field profile-card__summary",children:[l.jsx("span",{children:"Summary"}),l.jsx("textarea",{value:n.summary,placeholder:"High-level summary you can hand to a new player or GM.",onChange:s=>t({summary:s.target.value})})]}),l.jsxs("label",{className:"field profile-card__textarea",children:[l.jsx("span",{children:"Physical Description"}),l.jsx("textarea",{value:n.physicalDescription,placeholder:"How do they carry themselves? Distinguishing features?",onChange:s=>t({physicalDescription:s.target.value})})]}),l.jsxs("label",{className:"field profile-card__textarea",children:[l.jsx("span",{children:"Code"}),l.jsx("textarea",{value:n.code,placeholder:"What guiding principle can they not compromise?",onChange:s=>t({code:s.target.value})})]}),l.jsxs("div",{className:"profile-card__duo",children:[l.jsxs("label",{className:"field profile-card__textarea",children:[l.jsx("span",{children:"Line They Will Not Cross"}),l.jsx("textarea",{value:n.lineNotCrossed,placeholder:"The red line that defines them.",onChange:s=>t({lineNotCrossed:s.target.value})})]}),l.jsxs("label",{className:"field profile-card__textarea",children:[l.jsx("span",{children:"Temptation"}),l.jsx("textarea",{value:n.temptation,placeholder:"The lure that could make them fall.",onChange:s=>t({temptation:s.target.value})})]})]})]}),l.jsxs("aside",{className:"profile-card__portrait",children:[l.jsx("div",{className:"profile-card__portrait-frame",children:n.portraitUrl?l.jsx("img",{src:n.portraitUrl,alt:`${n.name||"Character"} portrait`}):l.jsx("span",{children:"Portrait Pending"})}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Portrait URL (optional)"}),l.jsx("input",{value:n.portraitUrl,onChange:s=>t({portraitUrl:s.target.value}),placeholder:"Link to artwork or leave blank"})]})]})]})]})}const St=["priorities","lineage","resources","background","skills","attributes","narrative"],Ns=5,Qi=e=>Array.isArray(e)?e.filter(t=>{if(!t||typeof t!="object")return!1;const n=t;return typeof n.id=="string"&&typeof n.lineage=="string"}):[],cc={head:"Head",torso:"Torso",leftArm:"Left Arm",rightArm:"Right Arm",leftLeg:"Left Leg",rightLeg:"Right Leg"},Dg=()=>({lineage:null,resources:null,background:null,skills:null,attributes:null}),Ug=()=>({physique:0,intellect:0,presence:0}),Kd=()=>({physique:[],intellect:[],presence:[]}),Bg=()=>({head:{current:3,max:3,scar:""},torso:{current:5,max:5,scar:""},leftArm:{current:4,max:4,scar:""},rightArm:{current:4,max:4,scar:""},leftLeg:{current:4,max:4,scar:""},rightLeg:{current:4,max:4,scar:""}}),Fg={A:3,B:2,C:2,D:1,E:0},bg=e=>e?Fg[e]:0,Wg=()=>({name:"",alias:"",pronouns:"",concept:"",summary:"",physicalDescription:"",code:"",lineNotCrossed:"",temptation:"",portraitUrl:""}),br=()=>new Date().toISOString(),Mt=e=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`${e}-${Math.random().toString(36).slice(2,9)}`,uc=e=>{const t=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`sidonia-${Math.random().toString(36).slice(2,9)}`,n=br();return{id:t,label:e||"Unbound Persona",createdAt:n,updatedAt:n,stage:"priorities",profile:Wg(),priorities:Dg(),lineage:{key:null,notes:"",revealMechanics:!1,powers:[]},resources:{contacts:[],retainers:[],properties:[],goods:[],liquid:0,notes:""},background:{title:"",tierNotes:"",contacts:""},skills:{ratings:{},specializations:[],backgroundSpecialization:null,notes:""},attributes:{scores:Ug(),notes:"",specializations:Kd()},corruption:{current:0,warning:6,notes:""},advancement:{experience:0,track:"",milestones:""},health:Bg(),narrative:{relationships:[],anchors:"",notes:""},gmNotes:""}},Hg=e=>{const t=Vg(e),n=typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`sidonia-${Math.random().toString(36).slice(2,9)}`,r=br();return{...t,id:n,label:`${e.label} (Copy)`,createdAt:r,updatedAt:r}},Vg=e=>typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e)),V=(e,t)=>{e(n=>{const r=n.activeBuildId;if(!r)return n;const s=n.builds[r];if(!s)return n;const i=t(s);return i.updatedAt=br(),{...n,builds:{...n.builds,[r]:i}}})},F=Vd()(Gd((e,t)=>({builds:{},activeBuildId:null,createBuild:n=>{const r=uc(n);return e(s=>({builds:{...s.builds,[r.id]:r},activeBuildId:r.id})),r.id},ensureActiveBuild:()=>{const{activeBuildId:n}=t();return n&&t().builds[n]?n:t().createBuild()},setActiveBuild:n=>{t().builds[n]&&e({activeBuildId:n})},archiveBuild:n=>{e(r=>{const{[n]:s,...i}=r.builds;return{builds:i,activeBuildId:r.activeBuildId===n?null:r.activeBuildId}})},renameBuild:(n,r)=>{e(s=>{const i=s.builds[n];return i?{...s,builds:{...s.builds,[n]:{...i,label:r,updatedAt:br()}}}:s})},duplicateBuild:n=>{const{builds:r}=t(),s=r[n];if(!s)return null;const i=Hg(s);return e(o=>({builds:{...o.builds,[i.id]:i},activeBuildId:i.id})),re.track("build.duplicated",{}),i.id},resetActiveBuild:()=>{e(n=>{const r=n.activeBuildId;if(!r)return n;const s=n.builds[r];if(!s)return n;const o={...uc(s.label),id:r,createdAt:s.createdAt,updatedAt:br()};return re.track("build.reset",{}),{...n,builds:{...n.builds,[r]:o}}})},updateProfile:n=>{V(e,r=>({...r,profile:{...r.profile,...n}}))},assignPriority:(n,r)=>{V(e,s=>{const i={...s.priorities};return r&&Object.keys(i).forEach(o=>{o!==n&&i[o]===r&&(i[o]=null)}),i[n]=r,{...s,priorities:i}}),re.track(r?"priority.assigned":"priority.cleared",{category:n,rank:r})},setStage:n=>{V(e,r=>({...r,stage:n})),re.track("stage.changed",{stage:n})},nextStage:()=>{const{activeBuildId:n,builds:r}=t();if(!n)return;const s=r[n];if(!s)return;const i=St.indexOf(s.stage),o=St[Math.min(i+1,St.length-1)];t().setStage(o)},previousStage:()=>{const{activeBuildId:n,builds:r}=t();if(!n)return;const s=r[n];if(!s)return;const i=St.indexOf(s.stage),o=St[Math.max(i-1,0)];t().setStage(o)},selectLineage:n=>{V(e,r=>{const s=r.lineage.key===n&&n!==null,i=Qi(r.lineage.powers);return{...r,lineage:{...r.lineage,key:n,revealMechanics:n?r.lineage.revealMechanics:!1,powers:s?i:[]}}}),re.track("lineage.selected",{lineage:n})},toggleLineageReveal:()=>{V(e,n=>({...n,lineage:{...n.lineage,revealMechanics:!n.lineage.revealMechanics}})),re.track("lineage.reveal_toggled",{})},updateLineageNotes:n=>{V(e,r=>({...r,lineage:{...r.lineage,notes:n}}))},toggleLineagePower:n=>{V(e,r=>{var d,p;if(!r.lineage.key||r.lineage.key!==n.lineage)return r;const s=Qi(r.lineage.powers),i=n.lineage==="esper",o=s.some(g=>g.id===n.id),a=r.priorities.lineage??null;let c=s;if(o){if(c=c.filter(g=>g.id!==n.id),i&&((d=n.meta)!=null&&d.root)){if(n.kind==="esper-archetype")c=c.filter(g=>{var h,v;return((h=g.meta)==null?void 0:h.root)!==((v=n.meta)==null?void 0:v.root)});else if((p=n.meta)!=null&&p.path){const g=n.meta.path.join("/");c=c.filter(h=>{var w,y,k,m;const v=((y=(w=h.meta)==null?void 0:w.path)==null?void 0:y.join("/"))??"";return((k=h.meta)==null?void 0:k.root)!==((m=n.meta)==null?void 0:m.root)||!v.startsWith(`${g}/`)})}}return{...r,lineage:{...r.lineage,powers:c}}}if(i){const g=n.meta??{},h=g.category;if(n.kind!=="esper-framework-choice")if(n.kind==="esper-archetype"){if(h==="esper-base"&&a==="C"||h==="esper-mentalist"&&!(a==="A"||a==="C"))return r;const v=["sentinel","median","weaver","summoner","linker"],w=["empath","mesmer","siren","dreamer","meta-mind"],y=g.archetype,k=v.includes(y||""),m=w.includes(y||"");a==="A"?k?c=c.filter(u=>{var f;return!v.includes(((f=u.meta)==null?void 0:f.archetype)||"")&&u.kind!=="esper-focus"&&u.kind!=="esper-framework-path"}):m&&(c=c.filter(u=>{var f;return!w.includes(((f=u.meta)==null?void 0:f.archetype)||"")&&u.kind!=="esper-framework-choice"})):c=c.filter(u=>u.lineage!=="esper")}else{const v=g.root;if(!v)return r;const w=bg(a);if((g.depth??0)>w||!c.some(m=>{var u;return m.kind==="esper-archetype"&&((u=m.meta)==null?void 0:u.root)===v}))return r}}return c=[...c,n],{...r,lineage:{...r.lineage,powers:c}}}),re.track("lineage.power_toggled",{id:n.id,lineage:n.lineage})},clearLineagePowers:()=>{V(e,n=>({...n,lineage:{...n.lineage,powers:[]}})),re.track("lineage.powers_cleared",{})},addContactResource:(n={})=>{const r={id:Mt("contact"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,reach:Math.min(Math.max(n.reach??0,0),10),influence:Math.min(Math.max(n.influence??0,0),10)};V(e,s=>({...s,resources:{...s.resources,contacts:[...s.resources.contacts,r]}})),re.track("resources.contact_added",{})},updateContactResource:(n,r)=>{V(e,s=>({...s,resources:{...s.resources,contacts:s.resources.contacts.map(i=>i.id===n?{...i,...r,reach:r.reach!==void 0?Math.min(Math.max(r.reach,0),10):i.reach,influence:r.influence!==void 0?Math.min(Math.max(r.influence,0),10):i.influence}:i)}}))},removeContactResource:n=>{V(e,r=>({...r,resources:{...r.resources,contacts:r.resources.contacts.filter(s=>s.id!==n)}}))},addRetainerResource:(n={})=>{const r={id:Mt("retainer"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,loyalty:Math.min(Math.max(n.loyalty??0,0),10),competence:Math.min(Math.max(n.competence??0,0),10)};V(e,s=>({...s,resources:{...s.resources,retainers:[...s.resources.retainers,r]}})),re.track("resources.retainer_added",{})},updateRetainerResource:(n,r)=>{V(e,s=>({...s,resources:{...s.resources,retainers:s.resources.retainers.map(i=>i.id===n?{...i,...r,loyalty:r.loyalty!==void 0?Math.min(Math.max(r.loyalty,0),10):i.loyalty,competence:r.competence!==void 0?Math.min(Math.max(r.competence,0),10):i.competence}:i)}}))},removeRetainerResource:n=>{V(e,r=>({...r,resources:{...r.resources,retainers:r.resources.retainers.filter(s=>s.id!==n)}}))},addPropertyResource:(n={})=>{const r={id:Mt("property"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,tenure:n.tenure??"",zoning:n.zoning??"",ward:n.ward??"",specialization:n.specialization??null};V(e,s=>({...s,resources:{...s.resources,properties:[...s.resources.properties,r]}})),re.track("resources.property_added",{})},updatePropertyResource:(n,r)=>{V(e,s=>({...s,resources:{...s.resources,properties:s.resources.properties.map(i=>i.id===n?{...i,...r}:i)}}))},removePropertyResource:n=>{V(e,r=>({...r,resources:{...r.resources,properties:r.resources.properties.filter(s=>s.id!==n)}}))},addGoodsResource:(n={})=>{const r={id:Mt("goods"),name:n.name??"",description:n.description??"",gmApproved:n.gmApproved??!1,specialization:n.specialization??null,quality:Math.min(Math.max(n.quality??0,0),10)};V(e,s=>({...s,resources:{...s.resources,goods:[...s.resources.goods,r]}})),re.track("resources.goods_added",{})},updateGoodsResource:(n,r)=>{V(e,s=>({...s,resources:{...s.resources,goods:s.resources.goods.map(i=>i.id===n?{...i,...r,quality:r.quality!==void 0?Math.min(Math.max(r.quality,0),10):i.quality}:i)}}))},removeGoodsResource:n=>{V(e,r=>({...r,resources:{...r.resources,goods:r.resources.goods.filter(s=>s.id!==n)}}))},setResourceLiquid:n=>{V(e,r=>({...r,resources:{...r.resources,liquid:Math.max(0,n)}})),re.track("resources.liquid_set",{value:n})},updateResourceNotes:n=>{V(e,r=>({...r,resources:{...r.resources,notes:n}}))},updateBackground:n=>{V(e,r=>{const s={...r.background,...n},i=typeof n.title=="string"&&n.title!==r.background.title;return{...r,background:s,skills:i?{...r.skills,backgroundSpecialization:null}:r.skills}})},setSkillRating:(n,r)=>{V(e,s=>({...s,skills:{...s.skills,ratings:{...s.skills.ratings,[n]:Math.max(0,r)}}})),re.track("skills.rating_set",{skillId:n,value:r})},toggleSkillSpecialization:n=>{V(e,r=>{const i=r.skills.specializations.some(o=>o.id===n.id)?r.skills.specializations.filter(o=>o.id!==n.id):[...r.skills.specializations,n];return{...r,skills:{...r.skills,specializations:i}}}),re.track("skills.specialization_toggled",{id:n.id,type:n.type})},removeSkillSpecialization:n=>{V(e,r=>({...r,skills:{...r.skills,specializations:r.skills.specializations.filter(s=>s.id!==n)}}))},addCustomSkillSpecialization:n=>{const r=n.trim();if(!r)return;const s={id:`custom-${Date.now()}-${Math.random().toString(36).slice(2,7)}`,label:r,type:"custom",gmApproved:!1};V(e,i=>({...i,skills:{...i.skills,specializations:[...i.skills.specializations,s]}})),re.track("skills.custom_added",{})},markSkillSpecializationApproved:(n,r)=>{V(e,s=>({...s,skills:{...s.skills,specializations:s.skills.specializations.map(i=>i.id===n?{...i,gmApproved:r}:i)}}))},setBackgroundSkillSpecialization:n=>{V(e,r=>({...r,skills:{...r.skills,backgroundSpecialization:n}})),re.track("skills.background_specialization",{option:n})},updateSkillNotes:n=>{V(e,r=>({...r,skills:{...r.skills,notes:n}}))},setAttributeScore:(n,r)=>{V(e,s=>({...s,attributes:{...s.attributes,scores:{...s.attributes.scores,[n]:Math.min(Ns,Math.max(0,r))}}})),re.track("attributes.updated",{attribute:n,value:r})},updateAttributeNotes:n=>{V(e,r=>({...r,attributes:{...r.attributes,notes:n}}))},toggleAttributeSpecialization:(n,r)=>{V(e,s=>{const i=s.attributes.specializations??Kd(),o=i[n]??[],c=o.includes(r)?o.filter(d=>d!==r):[...o,r];return{...s,attributes:{...s.attributes,specializations:{...i,[n]:c}}}}),re.track("attributes.specialization_toggled",{attribute:n,specialization:r})},adjustExperience:n=>{V(e,r=>({...r,advancement:{...r.advancement,experience:Math.max(0,r.advancement.experience+n)}})),re.track("advancement.adjusted",{delta:n})},setExperience:n=>{V(e,r=>({...r,advancement:{...r.advancement,experience:Math.max(0,n)}})),re.track("advancement.set",{value:n})},updateAdvancement:n=>{V(e,r=>({...r,advancement:{...r.advancement,...n}}))},adjustCorruption:n=>{V(e,r=>({...r,corruption:{...r.corruption,current:Math.max(0,r.corruption.current+n)}})),re.track("corruption.adjusted",{delta:n})},setCorruption:n=>{V(e,r=>({...r,corruption:{...r.corruption,current:Math.max(0,n)}})),re.track("corruption.set",{value:n})},updateCorruptionNotes:n=>{V(e,r=>({...r,corruption:{...r.corruption,notes:n}}))},adjustHealth:(n,r)=>{V(e,s=>{const i=s.health[n],o=Math.max(0,Math.min(i.max,i.current+r));return{...s,health:{...s.health,[n]:{...i,current:o}}}}),re.track("health.adjusted",{location:n,delta:r})},setHealth:(n,r)=>{V(e,s=>{const i=s.health[n];return{...s,health:{...s.health,[n]:{...i,current:Math.max(0,Math.min(i.max,r))}}}}),re.track("health.set",{location:n,value:r})},updateHealthScar:(n,r)=>{V(e,s=>({...s,health:{...s.health,[n]:{...s.health[n],scar:r}}}))},addRelationship:n=>{n.trim()&&(V(e,r=>({...r,narrative:{...r.narrative,relationships:Array.from(new Set([...r.narrative.relationships,n.trim()]))}})),re.track("relationship.added",{}))},removeRelationship:n=>{V(e,r=>({...r,narrative:{...r.narrative,relationships:r.narrative.relationships.filter(s=>s!==n)}})),re.track("relationship.removed",{})},updateAnchors:n=>{V(e,r=>({...r,narrative:{...r.narrative,anchors:n}}))},updateNarrativeNotes:n=>{V(e,r=>({...r,narrative:{...r.narrative,notes:n}}))},updateGmNotes:n=>{V(e,r=>({...r,gmNotes:n}))}}),{name:"sidonia-character-builder",version:7,migrate:(e,t)=>{if(!e||typeof e!="object")return e;const n=d=>{const p=d??{};return{physique:typeof p.physique=="number"?p.physique:typeof p.grit=="number"?p.grit:0,intellect:typeof p.intellect=="number"?p.intellect:typeof p.guile=="number"?p.guile:0,presence:typeof p.presence=="number"?p.presence:typeof p.gravitas=="number"?p.gravitas:0}},r=d=>{const p=d??{};return{physique:Array.isArray(p.physique)?p.physique:[],intellect:Array.isArray(p.intellect)?p.intellect:[],presence:Array.isArray(p.presence)?p.presence:[]}},s=d=>{const p=d??{};return{name:typeof p.name=="string"?p.name:"",alias:typeof p.alias=="string"?p.alias:"",pronouns:typeof p.pronouns=="string"?p.pronouns:"",concept:typeof p.concept=="string"?p.concept:"",summary:typeof p.summary=="string"?p.summary:"",physicalDescription:typeof p.physicalDescription=="string"?p.physicalDescription:"",code:typeof p.code=="string"?p.code:"",lineNotCrossed:typeof p.lineNotCrossed=="string"?p.lineNotCrossed:"",temptation:typeof p.temptation=="string"?p.temptation:"",portraitUrl:typeof p.portraitUrl=="string"?p.portraitUrl:""}},i=d=>{const p=d??{};return p.ratings&&p.specializations&&p.backgroundSpecialization!==void 0?{ratings:p.ratings,specializations:Array.isArray(p.specializations)?p.specializations:[],backgroundSpecialization:p.backgroundSpecialization??null,notes:typeof p.notes=="string"?p.notes:""}:{ratings:(Array.isArray(p.focus)?p.focus:[]).reduce((v,w)=>(v[w]=1,v),{}),specializations:[],backgroundSpecialization:null,notes:typeof p.notes=="string"?p.notes:""}},o=d=>{const p=d??{},g=Qi(p.powers);return{key:p.key??null,notes:typeof p.notes=="string"?p.notes:"",revealMechanics:!!p.revealMechanics,powers:g}},a=d=>{var x;const p=d??{},g=(j,R)=>({id:j.id??Mt(`contact-${R}`),name:j.name??"",description:j.description??j.notes??"",gmApproved:j.gmApproved??!1,specialization:j.specialization??null,reach:typeof j.reach=="number"?j.reach:0,influence:typeof j.influence=="number"?j.influence:0}),h=(j,R)=>({id:j.id??Mt(`retainer-${R}`),name:j.name??"",description:j.description??j.notes??"",gmApproved:j.gmApproved??!1,specialization:j.specialization??null,loyalty:typeof j.loyalty=="number"?j.loyalty:0,competence:typeof j.competence=="number"?j.competence:0}),v=(j,R)=>({id:j.id??Mt(`property-${R}`),name:j.name??"",description:j.description??j.notes??"",gmApproved:j.gmApproved??!1,tenure:j.tenure??"",zoning:j.zoning??"",ward:j.ward??"",specialization:j.specialization??null}),w=(j,R)=>({id:j.id??Mt(`goods-${R}`),name:j.name??"",description:j.description??j.notes??"",gmApproved:j.gmApproved??!1,specialization:j.specialization??null,quality:typeof j.quality=="number"?j.quality:0}),y=Array.isArray(p.contacts)?p.contacts.map((j,R)=>g(j,R)):[],k=Array.isArray(p.retainers)?p.retainers.map((j,R)=>h(j,R)):[],m=Array.isArray(p.properties)?p.properties.map((j,R)=>v(j,R)):[],u=Array.isArray(p.goods)?p.goods.map((j,R)=>w(j,R)):[],f=typeof p.liquid=="number"?p.liquid:typeof((x=p.allocations)==null?void 0:x.liquid)=="number"?p.allocations.liquid:0;return{contacts:y,retainers:k,properties:m,goods:u,liquid:f,notes:typeof p.notes=="string"?p.notes:""}},c=Object.fromEntries(Object.entries(e.builds??{}).map(([d,p])=>{var m,u,f;const g=p,h={scores:n((m=g.attributes)==null?void 0:m.scores),notes:typeof((u=g.attributes)==null?void 0:u.notes)=="string"?g.attributes.notes:"",specializations:r((f=g.attributes)==null?void 0:f.specializations)},v=i(g.skills),w=o(g.lineage),y=a(g.resources),k={...g,profile:s(g.profile),lineage:w,resources:y,skills:v,attributes:h};return[d,k]}));return{...e,builds:c}}})),Gg={priorities:{label:"Priorities",description:"Assign each letter to a pillar to set your fate."},lineage:{label:"Lineage",description:"Choose what you are and reveal the aesthetic."},resources:{label:"Resources",description:"Distribute wealth, favors, and territory."},background:{label:"Background",description:"Capture the story that forged you."},skills:{label:"Skills",description:"Highlight expertise and specializations."},attributes:{label:"Attributes",description:"Split your innate edge across three pillars."},narrative:{label:"Narrative",description:"Track corruption, wounds, and relationships."}};function Qg({current:e,onNavigate:t}){const n=St.indexOf(e),r=Math.round((n+1)/St.length*100);return l.jsxs("nav",{className:"stage-navigation","aria-label":"Character builder stages",children:[l.jsx("div",{className:"stage-navigation__progress",children:l.jsx("div",{className:"stage-navigation__progress-bar",style:{width:`${r}%`}})}),l.jsx("ul",{children:St.map(s=>{const i=Gg[s],o=St.indexOf(s),a=o===n?"current":o<n?"completed":"upcoming";return l.jsx("li",{className:`stage-navigation__item ${a}`,children:l.jsxs("button",{type:"button",onClick:()=>t(s),children:[l.jsx("span",{className:"stage-navigation__label",children:i.label}),l.jsx("span",{className:"stage-navigation__description",children:i.description})]})},s)})})]})}const dc=["A","B","C","D","E"],qg={lineage:{title:"Lineage",intro:"What are you? Determines the supernatural path and aesthetic layer.",detail:"Higher priority unlocks stronger chassis, spheres, mutation points, or Esper templates. Lower priority keeps you closer to human but limits your edge."},resources:{title:"Resources",intro:"What do you own? Contacts, territories, retainers, liquid wealth.",detail:"Priority sets your Resource Points pool and maximum quality. Use it to buy properties, networks, and gear. Higher ranks unlock elite holdings."},background:{title:"Background",intro:"Who were you? Establishes influence, narrative permissions, and synergies.",detail:"Higher priority backgrounds stretch across the city, offering automatic specializations and better resource synergies."},skills:{title:"Skills",intro:"What do you know? Disciplines and specializations that show lived experience.",detail:"Priority sets how many disciplines you master. Focus areas gain bonus dice and teach players where they shine."},attributes:{title:"Attributes",intro:"What is innate? Only three pillars define your core capability.",detail:"Allocate attribute dice based on priority. The higher the rank, the sharper your raw edge."}};function Yg({priorities:e,onSelect:t,onClear:n}){const r=new Set(Object.values(e).filter(Boolean).map(s=>s));return l.jsxs("section",{className:"priority-matrix","aria-label":"Priority assignment grid",children:[l.jsxs("header",{className:"priority-matrix__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Priority Grid"}),l.jsx("p",{children:"Assign each letter exactly once. Sidonia rewards focus and makes you pay for it elsewhere. Tap a letter to slot it into a category; tap the category badge to clear it."})]}),l.jsx("ul",{className:"priority-matrix__legend",children:dc.map(s=>l.jsxs("li",{className:r.has(s)?"used":"",children:[l.jsx("span",{className:"priority-matrix__rank",children:s}),l.jsxs("span",{className:"priority-matrix__tag",children:[s==="A"&&"Signature move",s==="B"&&"Favored",s==="C"&&"Balanced",s==="D"&&"Compromised",s==="E"&&"Sacrifice"]})]},s))})]}),l.jsx("div",{className:"priority-matrix__grid",role:"table",children:Object.entries(qg).map(([s,i])=>{const o=s,a=e[o];return l.jsxs("article",{className:"priority-matrix__row",role:"row",children:[l.jsxs("div",{className:"priority-matrix__info",role:"cell",children:[l.jsxs("button",{type:"button",className:`priority-matrix__category ${a?"has-selection":""}`,onClick:()=>n==null?void 0:n(o),children:[l.jsx("span",{className:"priority-matrix__category-title",children:i.title}),l.jsx("span",{className:"priority-matrix__selection",children:a??""})]}),l.jsx("p",{className:"priority-matrix__intro",children:i.intro}),l.jsxs("details",{children:[l.jsx("summary",{children:"Why it matters"}),l.jsx("p",{children:i.detail})]})]}),l.jsx("div",{className:"priority-matrix__choices",role:"cell",children:dc.map(c=>{const d=a===c,p=!d&&r.has(c);return l.jsx("button",{type:"button",className:`priority-matrix__choice ${d?"selected":""}`,disabled:p,onClick:()=>t(o,c),children:c},c)})})]},o)})})]})}function Kg({priorities:e,onSelect:t,onClear:n}){const s=Object.values(e).filter(Boolean).length===Object.keys(e).length;return l.jsxs("div",{className:"stage stage--priorities",children:[l.jsx(Yg,{priorities:e,onSelect:t,onClear:n}),l.jsx("footer",{className:"stage__footer",children:l.jsx("p",{children:s?"Every letter is spoken for. Advance to Lineage to let the city brand you.":"You still have letters to place. Each sacrifice reveals a different facet of Sidonia."})})]})}const Jg={A:9,B:7,C:6,D:4,E:2},Xg={A:7,B:5,C:4,D:3,E:2},pc={A:{primary:1,secondary:2,moves:5},B:{primary:1,secondary:1,moves:4},C:{primary:1,secondary:2,moves:3,note:"Priority C may exchange the primary sphere for a second secondary sphere."},D:{primary:0,secondary:1,moves:2},E:{primary:0,secondary:1,moves:1}},Zg={A:3,B:2,C:2,D:1,E:0},ev={A:"Priority A: Access to both Esper archetypes and full Mentalist framework.",B:"Priority B: Esper prodigy  evolve two steps beyond the baseline.",C:"Priority C: Begin as a Mentalist. Select framework paths to define focus.",D:"Priority D: Gifted Esper  evolve one step beyond baseline talents.",E:"Priority E: Base Esper talents unlocked."},ft=e=>e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),qi=(e,t,n)=>t?e[t]:n;function tv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"tiers"in n)}function nv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"tiers"in n)}function rv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"sphere"in n)}function sv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"archetype"in n)}function iv(e){const t=e;return Array.isArray(t.powers)&&t.powers.some(n=>n&&typeof n=="object"&&"chassis"in n)}function It(e,t){return e?l.jsxs("div",{className:"power-description",children:[e.short&&l.jsx("p",{children:e.short}),t&&e.player&&l.jsx("p",{className:"power-description__detail",children:e.player}),e.flaw&&l.jsxs("p",{className:"power-description__detail power-description__flaw",children:["Flaw: ",e.flaw]}),e.outcomes&&l.jsx("ul",{className:"power-description__outcomes",children:Object.entries(e.outcomes).map(([n,r])=>l.jsxs("li",{children:[l.jsx("strong",{children:n}),l.jsx("span",{children:r})]},n))})]}):null}function lv({lineage:e,powerData:t,gmEnabled:n,lineagePriority:r,selections:s,onToggleSelection:i,onClearSelections:o}){var d,p,g,h,v,w,y;if(!e)return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsx("h3",{children:"Lineage Powers"}),l.jsx("p",{children:"Select a lineage to preview its signature powers, moves, and upgrades."})]});if(!t)return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsx("h3",{children:"Lineage Powers"}),l.jsx("p",{children:"Power data for this lineage is not yet available."})]});const a=s.filter(k=>k.lineage===e);A.useMemo(()=>new Map(a.map(k=>[k.id,k])),[a]);const c=new Set(a.map(k=>k.id));if(e==="neosapien"&&tv(t)){const k=qi(Jg,r,0),m=a.reduce((j,R)=>{var N;return j+(((N=R.meta)==null?void 0:N.slots)??0)},0),u=a.reduce((j,R)=>{var N;return j+(((N=R.meta)==null?void 0:N.permanentCorruption)??0)},0),f=k>0&&m>k,x=j=>{var _;const R=c.has(j.id),N=(_=j.meta)==null?void 0:_.root;!R&&N&&a.filter(C=>{var I;return((I=C.meta)==null?void 0:I.root)===N&&C.id!==j.id}).forEach(C=>{i(C)}),i(j)};return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Augment Catalog"}),l.jsx("p",{children:"Slot-based upgrades ranging from street scraps to imperial artistry."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Slots Used"}),l.jsxs("strong",{children:[m,k?` / ${k}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Permanent Corruption"}),l.jsx("strong",{children:u})]}),f&&l.jsx("p",{className:"lineage-power-summary__warning",children:"Slot budget exceeded. Adjust selections or raise lineage priority."}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),l.jsx("div",{className:"lineage-powers-grid",children:t.powers.map(j=>{var S,C,I,B,b;const R=j.id??ft(j.name??"augment"),N=((I=(C=(S=j.tiers)==null?void 0:S.tier1)==null?void 0:C.description)==null?void 0:I.short)??((b=(B=Object.values(j.tiers??{})[0])==null?void 0:B.description)==null?void 0:b.short)??"No description available",_=a.some(W=>{var K;return((K=W.meta)==null?void 0:K.root)===R});return l.jsxs("details",{className:`lineage-power-card${_?" lineage-power-card--has-selection":""}`,open:_,children:[l.jsx("summary",{children:l.jsxs("div",{className:"lineage-power-card__summary",children:[l.jsx("h4",{children:j.name}),l.jsx("p",{className:"lineage-power-card__short-desc",children:N})]})}),l.jsx("div",{className:"lineage-power-card__body",children:Object.entries(j.tiers??{}).map(([W,K])=>{const Q=K.id??`${R}-${ft(W)}`,X=K.tier??1,T={id:Q,lineage:"neosapien",label:`${j.name}  Tier ${X}`,kind:"neosapien-augment",meta:{root:R,parent:R,path:[R,W],depth:1,slots:X,permanentCorruption:X,category:j.category,tierLabel:`Tier ${X}`}},z=c.has(T.id),M=`lineage-power-tier${z?" lineage-power-tier--selected":""}`,$=`power-toggle power-toggle--radio${z?" power-toggle--active":""}`;return l.jsxs("div",{className:M,children:[l.jsxs("div",{className:"lineage-power-tier__header",children:[l.jsxs("div",{className:"lineage-power-tier__info",children:[l.jsxs("span",{className:"badge badge--tier",children:["Tier ",X]}),l.jsxs("span",{className:"lineage-power-tier__cost",children:[X," Slot",X===1?"":"s","  ",X," Corruption"]})]}),l.jsx("button",{type:"button",className:$,onClick:()=>x(T),"aria-label":z?`Deselect Tier ${X}`:`Select Tier ${X}`,children:z?"":""})]}),It(K.description,n)]},Q)})})]},j.id??j.name)})})]})}if(e==="chimera"&&nv(t)){const k=qi(Xg,r,0),m=a.reduce((N,_)=>{var S;return N+(((S=_.meta)==null?void 0:S.mutationPoints)??0)},0),u=a.reduce((N,_)=>{var S;return N+(((S=_.meta)==null?void 0:S.permanentCorruption)??0)},0),f=k>0&&m>k,x=t.powers.filter(N=>{var _;return(_=N.tags)==null?void 0:_.includes("core")}),j=t.powers.filter(N=>{var _;return!((_=N.tags)!=null&&_.includes("core"))}),R=N=>{var C;const _=c.has(N.id),S=(C=N.meta)==null?void 0:C.root;!_&&S&&a.filter(B=>{var b;return((b=B.meta)==null?void 0:b.root)===S&&B.id!==N.id}).forEach(B=>{i(B)}),i(N)};return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Mutation Catalogue"}),l.jsx("p",{children:"Spend mutation points to embrace the city's wild ecologies."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Mutation Points"}),l.jsxs("strong",{children:[m,k?` / ${k}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Permanent Corruption"}),l.jsx("strong",{children:u})]}),f&&l.jsx("p",{className:"lineage-power-summary__warning",children:"Mutation budget exceeded. Remove selections or adjust priority."}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),x.length>0&&l.jsxs("section",{className:"lineage-core-mutations",children:[l.jsx("h4",{children:"Core Mutations  All Chimera Possess These"}),l.jsx("div",{className:"lineage-core-mutations-list",children:x.map(N=>{var S,C,I,B,b;const _=((I=(C=(S=N.tiers)==null?void 0:S.tier1)==null?void 0:C.description)==null?void 0:I.short)??((b=(B=Object.values(N.tiers??{})[0])==null?void 0:B.description)==null?void 0:b.short)??"Core mutation";return l.jsxs("div",{className:"core-mutation-card",children:[l.jsx("h5",{children:N.name}),l.jsx("p",{children:_})]},N.id??N.name)})})]}),l.jsx("div",{className:"lineage-powers-grid",children:j.map(N=>{var I,B,b,W,K;const _=N.id??ft(N.name??"mutation"),S=((b=(B=(I=N.tiers)==null?void 0:I.tier1)==null?void 0:B.description)==null?void 0:b.short)??((K=(W=Object.values(N.tiers??{})[0])==null?void 0:W.description)==null?void 0:K.short)??"No description available",C=a.some(Q=>{var X;return((X=Q.meta)==null?void 0:X.root)===_});return l.jsxs("details",{className:`lineage-power-card${C?" lineage-power-card--has-selection":""}`,open:C,children:[l.jsx("summary",{children:l.jsxs("div",{className:"lineage-power-card__summary",children:[l.jsx("h4",{children:N.name}),l.jsx("p",{className:"lineage-power-card__short-desc",children:S})]})}),l.jsx("div",{className:"lineage-power-card__body",children:Object.entries(N.tiers??{}).map(([Q,X])=>{const T=X.id??`${_}-${ft(Q)}`,z=X.tier??1,M={id:T,lineage:"chimera",label:`${N.name}  Tier ${z}`,kind:"chimera-mutation",meta:{root:_,parent:_,path:[_,Q],depth:1,mutationPoints:z,permanentCorruption:z,category:N.category,tierLabel:`Tier ${z}`}},$=c.has(M.id),U=`lineage-power-tier${$?" lineage-power-tier--selected":""}`,q=`power-toggle power-toggle--radio${$?" power-toggle--active":""}`;return l.jsxs("div",{className:U,children:[l.jsxs("div",{className:"lineage-power-tier__header",children:[l.jsxs("div",{className:"lineage-power-tier__info",children:[l.jsxs("span",{className:"badge badge--tier",children:["Tier ",z]}),l.jsxs("span",{className:"lineage-power-tier__cost",children:[z," MP  ",z," Corruption"]})]}),l.jsx("button",{type:"button",className:q,onClick:()=>R(M),"aria-label":$?`Deselect Tier ${z}`:`Select Tier ${z}`,children:$?"":""})]}),It(X.description,n)]},T)})})]},N.id??N.name)})})]})}if(e==="sorcery"&&rv(t)){const k=qi(pc,r,{primary:0,secondary:0,moves:0}),m=a.filter(S=>S.kind==="sorcery-sphere-primary").length,u=a.filter(S=>S.kind==="sorcery-sphere-secondary").length,f=a.filter(S=>S.kind==="sorcery-move").length,x=r?pc[r].note:void 0,j=new Set(a.filter(S=>S.kind==="sorcery-sphere-primary"||S.kind==="sorcery-sphere-secondary").map(S=>{var C;return(C=S.meta)==null?void 0:C.sphere}).filter(S=>!!S)),R=S=>{var B;const C=c.has(S.id),I=(B=S.meta)==null?void 0:B.sphere;C&&I&&a.filter(W=>{var K;return W.kind==="sorcery-move"&&((K=W.meta)==null?void 0:K.sphere)===I}).forEach(W=>{i(W)}),i(S)},N={Creation:"Manifest matter and energy from the Aether, bringing the unreal into reality.",Destruction:"Unmake and dissolve, returning solid form to primordial chaos.",Transformation:"Reshape existing matter, altering form and substance through will.",Mind:"Touch thoughts, memories, and the psyche of sentient beings.",Time:"Glimpse past and future, or stretch and compress the flow of moments.",Space:"Bend distance, fold reality, and traverse the impossible.",Life:"Mend flesh, accelerate growth, or drain vitality from the living.",Death:"Command spirits, commune with the departed, and channel entropic energies.",Fate:"Perceive probabilities, nudge destiny, and read the threads of chance.",Protection:"Weave wards and barriers against physical and supernatural threats."},_=t.powers.reduce((S,C)=>{const I=C.sphereTier??"unknown",B=C.sphere??"Unknown Sphere";return S[I]||(S[I]={}),S[I][B]||(S[I][B]=[]),S[I][B].push(C),S},{});return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Sphere Library"}),l.jsx("p",{children:"Primary and secondary spheres unlock ritual moves and narrative permissions."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Primary Spheres"}),l.jsxs("strong",{children:[m,k.primary?` / ${k.primary}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Secondary Spheres"}),l.jsxs("strong",{children:[u,k.secondary?` / ${k.secondary}`:""]})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Moves"}),l.jsxs("strong",{children:[f,k.moves?` / ${k.moves}`:""]})]}),x&&l.jsx("p",{className:"lineage-power-summary__note",children:x}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),l.jsx("div",{className:"lineage-powers-columns",children:["primary","secondary"].map(S=>{const C=_[S]??{};return Object.keys(C).length===0?null:l.jsxs("div",{className:"sphere-column",children:[l.jsx("h4",{className:"sphere-column__heading",children:S==="primary"?"Primary Spheres":"Secondary Spheres"}),Object.entries(C).map(([I,B])=>{const b=`${S}-${ft(I)}`,W=S==="primary"?"sorcery-sphere-primary":"sorcery-sphere-secondary",K={id:b,lineage:"sorcery",label:`${S==="primary"?"Primary":"Secondary"} Sphere  ${I}`,kind:W,meta:{sphere:I,root:b,path:[b],depth:0,tierLabel:S==="primary"?"Primary Sphere":"Secondary Sphere"}},Q=c.has(K.id),X=`sphere-card${Q?" sphere-card--selected":""}`,T=`power-toggle${Q?" power-toggle--active":""}`,z=N[I]||"A sphere of sorcerous power.",M=j.has(I);return l.jsxs("details",{className:X,open:Q,children:[l.jsx("summary",{children:l.jsxs("div",{className:"sphere-card__summary",children:[l.jsxs("div",{children:[l.jsx("h5",{children:I}),l.jsx("p",{className:"sphere-card__description",children:z})]}),l.jsx("button",{type:"button",className:T,onClick:$=>{$.preventDefault(),R(K)},children:Q?"Selected":"Select Sphere"})]})}),!M&&l.jsx("p",{className:"sphere-prerequisite-message",children:"Select this sphere to unlock its moves."}),l.jsx("ul",{className:"power-list",children:B.map($=>{const U=$.id??ft($.name??"move"),q={id:U,lineage:"sorcery",label:`${$.name??"Move"} (${I})`,kind:"sorcery-move",meta:{moveType:$.moveType,sphere:I,root:b,parent:b,path:[b,U],depth:1}},ne=c.has(q.id),G=!M,H=`power-list__item${ne?" power-list__item--selected":""}${G?" power-list__item--disabled":""}`,de=`power-toggle${ne?" power-toggle--active":""}`;return l.jsxs("li",{className:H,children:[l.jsxs("div",{className:"power-list__header",children:[l.jsxs("div",{children:[l.jsx("strong",{children:$.name}),$.moveType&&l.jsx("span",{className:"badge badge--type",children:$.moveType})]}),l.jsx("button",{type:"button",className:de,onClick:()=>{G||i(q)},disabled:G,title:G?"Select the sphere first":void 0,children:ne?"Selected":"Add"})]}),It($.description,n),$.outcomes&&Object.keys($.outcomes).length>0&&l.jsx("div",{className:"power-outcomes",children:Object.entries($.outcomes).map(([J,Ce])=>l.jsxs("div",{children:[l.jsxs("strong",{children:[J,":"]})," ",Ce]},J))})]},U)})})]},b)})]},S)})})]})}if(e==="esper"&&sv(t)){const k=r?ev[r]:void 0,m=r?Zg[r]:0,u=["sentinel","median","weaver","summoner","linker"],f=["empath","mesmer","siren","dreamer","meta-mind"],x=t.powers.filter(z=>u.includes(z.archetype??"")),j=t.powers.filter(z=>f.includes(z.archetype??"")||z.archetype==="foundational"),R=r==="A",N=z=>{const $=z.split(".")[0];return x.filter(U=>{const q=U.path??"";return q===$||z.startsWith(q+".")||q===z}).sort((U,q)=>(U.evolutionStage??0)-(q.evolutionStage??0))},_=a.find(z=>{var M;return(z.kind==="esper-archetype"||z.kind==="esper-focus"||z.kind==="esper-framework-path")&&u.includes(((M=z.meta)==null?void 0:M.archetype)??"")}),S=(p=(d=_==null?void 0:_.meta)==null?void 0:d.path)==null?void 0:p.join("."),C=S==null?void 0:S.split(".")[0],I=(z,M)=>{var G;const $=z.split("."),U=$[0],q={id:`esper-path-${z}`,lineage:"esper",label:`${(G=z.split(".").pop())==null?void 0:G.replace(/-/g," ")} (Evolution Stage ${M})`,kind:M===0?"esper-archetype":M===1?"esper-focus":"esper-framework-path",meta:{archetype:U,path:$,depth:M,root:U}};a.some(H=>H.id===q.id)||(!S||C!==U?a.filter(H=>H.kind==="esper-archetype"||H.kind==="esper-focus"||H.kind==="esper-framework-path").forEach(H=>i(H)):M>0&&a.filter(H=>{var de;return(H.kind==="esper-focus"||H.kind==="esper-framework-path")&&((de=H.meta)==null?void 0:de.root)===U}).forEach(H=>i(H)),setTimeout(()=>{i(q)},0))},B=()=>{if(S){const M=N(S),$=S.split(".").length-1;return l.jsxs("div",{className:"esper-evolution-section",children:[l.jsx("h4",{children:"Esper Evolution Path"}),l.jsxs("p",{className:"section-description",children:["Selected: ",S.split(".").map(U=>U.replace(/-/g," ").replace(/\b\w/g,q=>q.toUpperCase())).join("  ")]}),l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Change Path"}),l.jsxs("div",{className:"lineage-power-card",children:[l.jsxs("h5",{children:["All Powers for This Path (",M.length," total)"]}),l.jsx("ul",{className:"power-list",children:M.map(U=>{const q=U.id??ft(U.name??"power");return l.jsxs("li",{className:"power-list__item power-list__item--granted",children:[l.jsx("div",{className:"power-list__header",children:l.jsxs("div",{children:[l.jsx("strong",{children:U.name}),l.jsxs("span",{className:"badge",children:["Stage ",U.evolutionStage]}),l.jsx("span",{className:"badge",children:U.moveType})]})}),It(U.description,n)]},q)})}),$<m&&l.jsxs("div",{className:"evolution-options",children:[l.jsx("h6",{children:"Available Evolutions"}),(()=>{const U=new Set(x.filter(q=>{const ne=q.path??"";return(q.evolutionStage??0)===$+1&&ne.startsWith(S+".")}).map(q=>q.path??""));return Array.from(U).map(q=>{const ne=q.split(".").pop()??"",G=N(q).length;return l.jsxs("button",{type:"button",className:"power-toggle",onClick:()=>I(q,$+1),children:["Evolve to ",ne.replace(/-/g," ").replace(/\b\w/g,H=>H.toUpperCase())," (+",G-M.length," powers)"]},q)})})()]})]})]})}const z=x.reduce((M,$)=>{const U=$.archetype??"Unknown";return M[U]||(M[U]=[]),M[U].push($),M},{});return l.jsxs("div",{className:"esper-evolution-section",children:[l.jsx("h4",{children:"Choose Esper Archetype"}),l.jsx("p",{className:"section-description",children:"Select a starting archetype. You can evolve further based on your priority."}),l.jsx("div",{className:"lineage-powers-grid",children:Object.entries(z).map(([M,$])=>{const U=$.filter(ne=>ne.evolutionStage===0),q=U.length;return l.jsxs("div",{className:"lineage-power-card",children:[l.jsx("h5",{children:M.charAt(0).toUpperCase()+M.slice(1)}),l.jsxs("p",{className:"archetype-description",children:[q," base ",q===1?"power":"powers"]}),l.jsxs("details",{className:"power-preview",children:[l.jsx("summary",{children:"View Base Powers"}),l.jsx("ul",{className:"power-list",children:U.map(ne=>{var G;return l.jsxs("li",{className:"power-list__item",children:[l.jsx("strong",{children:ne.name})," (",ne.moveType,")",((G=ne.description)==null?void 0:G.short)&&l.jsx("p",{className:"power-description__short",children:ne.description.short})]},ne.id)})})]}),l.jsxs("button",{type:"button",className:"power-toggle power-toggle--primary",onClick:()=>I(M,0),children:["Select ",M.charAt(0).toUpperCase()+M.slice(1)]})]},M)})})]})},b=(h=(g=a.find(z=>{var M;return z.kind==="esper-archetype"&&f.includes(((M=z.meta)==null?void 0:M.archetype)??"")}))==null?void 0:g.meta)==null?void 0:h.archetype,W=a.find(z=>z.kind==="esper-framework-choice"&&(z.id==="receiver-configuration"||z.id==="influencer-configuration")),K=a.find(z=>z.kind==="esper-framework-choice"&&(z.id==="targeted-scope"||z.id==="aural-scope")),Q=R||r==="C"||r==="D"||b!==void 0,X=!r||r!=="C",T=()=>{var q,ne;const z=j.filter(G=>G.archetype==="foundational"),M=z.filter(G=>{var H;return(H=G.path)==null?void 0:H.includes("polarity")}),$=z.filter(G=>{var H;return(H=G.path)==null?void 0:H.includes("scope")});if(b){const G=j.filter(J=>J.archetype===b),H=b==="meta-mind",de=[];if(W){const J=W.id==="receiver-configuration"?"receiver":W.id==="influencer-configuration"?"influencer":"",Ce=G.find(ae=>{var ie,fe;return((ie=ae.path)==null?void 0:ie.includes("_all"))&&((fe=ae.path)==null?void 0:fe.includes(J))});Ce&&de.push(Ce)}if(W&&K){const J=W.id==="receiver-configuration"?"receiver":W.id==="influencer-configuration"?"influencer":"",Ce=K.id==="targeted-scope"?"targeted":K.id==="aural-scope"?"aural":"",ae=G.filter(ie=>{var fe,_e,Ue;return!((fe=ie.path)!=null&&fe.includes("_all"))&&((_e=ie.path)==null?void 0:_e.includes(Ce))&&((Ue=ie.path)==null?void 0:Ue.includes(J))});ae.length===1&&de.push(ae[0])}return l.jsxs("div",{className:"mentalist-selection-section",children:[l.jsxs("h4",{children:["Mentalist: ",b.charAt(0).toUpperCase()+b.slice(1)]}),l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Change Archetype"}),(W||K)&&l.jsxs("div",{className:"lineage-power-card",children:[l.jsx("h5",{children:"Foundational Configuration"}),l.jsxs("ul",{className:"power-list",children:[W&&l.jsx("li",{className:"power-list__item power-list__item--granted",children:l.jsx("strong",{children:(q=M.find(J=>J.id===W.id))==null?void 0:q.name})}),K&&l.jsx("li",{className:"power-list__item power-list__item--granted",children:l.jsx("strong",{children:(ne=$.find(J=>J.id===K.id))==null?void 0:ne.name})})]})]}),de.length>0&&l.jsxs("div",{className:"lineage-power-card",children:[l.jsx("h5",{children:"Granted Powers"}),l.jsx("ul",{className:"power-list",children:de.map(J=>l.jsxs("li",{className:"power-list__item power-list__item--granted",children:[l.jsx("div",{className:"power-list__header",children:l.jsxs("div",{children:[l.jsx("strong",{children:J.name}),l.jsx("span",{className:"badge",children:J.moveType})]})}),It(J.description,n),J.permanentCorruption!==void 0&&l.jsxs("p",{className:"power-cost",children:["Corruption: ",J.permanentCorruption]})]},J.id))})]}),!W&&l.jsxs("div",{className:"lineage-power-card",children:[l.jsxs("h5",{children:["Step 1: Choose ",H?"Temporal Configuration":"Polarity"]}),l.jsx("p",{className:"foundation-description",children:H?"Instanced (temporary) or Persistent (lasting)":"Receiver (pull/perceive) or Influencer (push/project)"}),l.jsx("div",{className:"mentalist-foundation",children:M.map(J=>{if(!(J.id==="receiver-configuration"||J.id==="influencer-configuration"))return null;const ae=J.id??ft(J.name??"power"),ie={id:ae,lineage:"esper",label:J.name??"Unknown Power",kind:"esper-framework-choice",meta:{archetype:"foundational"}};return l.jsx("button",{type:"button",className:"power-toggle power-toggle--primary",onClick:()=>i(ie),children:J.name},ae)})})]}),W&&!K&&l.jsxs("div",{className:"lineage-power-card",children:[l.jsxs("h5",{children:["Step 2: Choose ",H?"Change Scope":"Scope"]}),l.jsx("p",{className:"foundation-description",children:H?"Discrete (specific) or Systemic (broad)":"Targeted (individual) or Aural (area/group)"}),l.jsx("div",{className:"mentalist-foundation",children:$.map(J=>{if(!(J.id==="targeted-scope"||J.id==="aural-scope"))return null;const ae=J.id??ft(J.name??"power"),ie={id:ae,lineage:"esper",label:J.name??"Unknown Power",kind:"esper-framework-choice",meta:{archetype:"foundational"}};return l.jsx("button",{type:"button",className:"power-toggle power-toggle--primary",onClick:()=>i(ie),children:J.name},ae)})})]}),W&&K&&(()=>{const J=W.id==="receiver-configuration"?"receiver":W.id==="influencer-configuration"?"influencer":"",Ce=K.id==="targeted-scope"?"targeted":K.id==="aural-scope"?"aural":"",ae=G.filter(ie=>{var fe,_e,Ue;return!((fe=ie.path)!=null&&fe.includes("_all"))&&((_e=ie.path)==null?void 0:_e.includes(Ce))&&((Ue=ie.path)==null?void 0:Ue.includes(J))});if(ae.length>1){const ie=a.find(fe=>fe.kind==="esper-focus"&&ae.some(_e=>_e.id===fe.id));return l.jsxs("div",{className:"lineage-power-card",children:[l.jsx("h5",{children:"Step 3: Choose Power"}),l.jsx("p",{className:"foundation-description",children:"Multiple powers available - select one"}),l.jsx("div",{className:"lineage-powers-grid",children:ae.map(fe=>{const _e=fe.id??ft(fe.name??"power"),Ue={id:_e,lineage:"esper",label:fe.name??"Unknown Power",kind:"esper-focus",meta:{archetype:b}},E=(ie==null?void 0:ie.id)===_e;return l.jsxs("div",{className:"lineage-power-card",children:[l.jsx("h6",{children:fe.name}),l.jsx("span",{className:"badge",children:fe.moveType}),It(fe.description,n),l.jsx("button",{type:"button",className:`power-toggle${E?" power-toggle--active":""}`,onClick:()=>{ie&&ie.id!==_e&&i(ie),i(Ue)},children:E?"Selected":"Select"})]},_e)})})]})}return null})()]})}const U=j.filter(G=>G.archetype!=="foundational").reduce((G,H)=>{const de=H.archetype??"Unknown";return G[de]||(G[de]=[]),G[de].push(H),G},{});return l.jsxs("div",{className:"mentalist-selection-section",children:[l.jsx("h4",{children:"Choose Mentalist Archetype"}),l.jsx("p",{className:"section-description",children:"Select an archetype to begin configuring your Mentalist powers."}),l.jsx("div",{className:"lineage-powers-grid",children:Object.entries(U).map(([G,H])=>{const de=H.filter(ae=>{var ie;return(ie=ae.path)==null?void 0:ie.includes("_all")}),J=H.filter(ae=>{var ie;return!((ie=ae.path)!=null&&ie.includes("_all"))}),Ce=de.length+J.length;return l.jsxs("div",{className:"lineage-power-card",children:[l.jsx("h5",{children:G.charAt(0).toUpperCase()+G.slice(1)}),l.jsxs("p",{className:"archetype-description",children:[Ce," ",Ce===1?"power":"powers"," available"]}),l.jsxs("button",{type:"button",className:"power-toggle power-toggle--primary",onClick:()=>{const ae={id:`mentalist-${G}`,lineage:"esper",label:G,kind:"esper-archetype",meta:{archetype:G}};i(ae)},children:["Select ",G.charAt(0).toUpperCase()+G.slice(1)]})]},G)})})]})};return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Esper & Mentalist Powers"}),l.jsx("p",{children:"Innate psionic abilities - evolution-based or selection-based systems."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[l.jsxs("div",{children:[l.jsx("span",{children:"Evolution Depth"}),l.jsx("strong",{children:m})]}),l.jsxs("div",{children:[l.jsx("span",{children:"Powers Selected"}),l.jsx("strong",{children:a.length})]}),k&&l.jsx("p",{className:"lineage-power-summary__note",children:k}),a.length>0&&l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selections"})]}),X&&B(),Q&&T()]})}if(e==="automata"&&iv(t)){const m=r?{A:{worker:[],soldier:["imperial"],overseer:["imperial"]},B:{worker:[],soldier:["advanced"],overseer:["advanced"]},C:{worker:[],soldier:["basic"],overseer:["basic"]},D:{worker:["advanced"],soldier:[],overseer:[]},E:{worker:["basic"],soldier:[],overseer:[]}}[r]:{worker:[],soldier:[],overseer:[]},u=t.powers.reduce((_,S)=>{const C=S.chassis??"unknown",I=S.branch??"unknown";return _[C]||(_[C]=new Set),_[C].add(I),_},{}),f=a.find(_=>_.kind==="automata-package"),x=(v=f==null?void 0:f.meta)==null?void 0:v.chassis,j=(w=f==null?void 0:f.meta)==null?void 0:w.branch,R=(y=f==null?void 0:f.meta)==null?void 0:y.category,N=(_,S,C)=>t.powers.filter(I=>{if(I.chassis!==_)return!1;if(I.augmentLevel==="general")return!0;if(I.branch!==S)return!1;const B=["basic","advanced","imperial"],b=B.indexOf(C),W=B.indexOf(I.augmentLevel??"");return W>=0&&W<=b});return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsxs("header",{children:[l.jsx("h3",{children:"Automata Configuration"}),l.jsx("p",{children:"Choose your chassis, branch, and quality level. You automatically receive ALL powers for that configuration."})]}),l.jsxs("aside",{className:"lineage-power-summary",children:[f&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{children:[l.jsx("span",{children:"Selected Configuration"}),l.jsxs("strong",{children:[R==null?void 0:R.toUpperCase()," ",j==null?void 0:j.toUpperCase()," (",x==null?void 0:x.toUpperCase(),")"]})]}),l.jsx("button",{type:"button",className:"power-toggle power-toggle--clear",onClick:o,children:"Clear selection"})]}),!f&&l.jsxs("p",{children:["Select a chassis/branch configuration below. Priority ",r??""," determines available quality levels."]})]}),!f&&l.jsx("div",{className:"automata-selection-grid",children:Object.entries(u).map(([_,S])=>{const C=m[_]||[];return C.length===0?null:l.jsxs("div",{className:"automata-chassis-section",children:[l.jsxs("h4",{children:[_.charAt(0).toUpperCase()+_.slice(1)," Chassis"]}),Array.from(S).map(I=>C.map(B=>{const b=`${_}-${I}-${B}`,W=N(_,I,B),K={id:b,lineage:"automata",label:`${B.toUpperCase()} ${I} (${_})`,kind:"automata-package",meta:{chassis:_,branch:I,category:B}};return l.jsxs("details",{className:"automata-package-card",children:[l.jsx("summary",{children:l.jsxs("div",{className:"automata-package-summary",children:[l.jsxs("div",{children:[l.jsxs("h5",{children:[B.toUpperCase()," ",I.charAt(0).toUpperCase()+I.slice(1)]}),l.jsxs("p",{className:"automata-package-count",children:[W.length," powers included"]})]}),l.jsx("button",{type:"button",className:"power-toggle",onClick:Q=>{Q.preventDefault(),i(K)},children:"Select This Configuration"})]})}),l.jsxs("div",{className:"automata-package-details",children:[l.jsx("p",{className:"automata-package-note",children:"Selecting this configuration grants you ALL of these powers automatically:"}),l.jsx("ul",{className:"power-list",children:W.map(Q=>l.jsxs("li",{className:"power-list__item",children:[l.jsxs("div",{children:[l.jsx("strong",{children:Q.name}),l.jsx("span",{className:"badge badge--type",children:Q.augmentLevel}),Q.moveType&&l.jsx("span",{className:"badge",children:Q.moveType})]}),It(Q.description,n),Q.outcomes&&Object.keys(Q.outcomes).length>0&&l.jsx("div",{className:"power-outcomes",children:Object.entries(Q.outcomes).map(([X,T])=>l.jsxs("div",{children:[l.jsxs("strong",{children:[X,":"]})," ",T]},X))})]},Q.id))})]})]},b)}))]},_)})}),f&&x&&j&&R&&l.jsxs("div",{className:"automata-selected-powers",children:[l.jsx("h4",{children:"Your Powers"}),l.jsxs("p",{children:["As a ",R.toUpperCase()," ",j," (",x,"), you have these capabilities:"]}),l.jsx("ul",{className:"power-list",children:N(x,j,R).map(_=>l.jsxs("li",{className:"power-list__item",children:[l.jsxs("div",{children:[l.jsx("strong",{children:_.name}),l.jsx("span",{className:"badge badge--type",children:_.augmentLevel}),_.moveType&&l.jsx("span",{className:"badge",children:_.moveType})]}),It(_.description,n),_.outcomes&&Object.keys(_.outcomes).length>0&&l.jsx("div",{className:"power-outcomes",children:Object.entries(_.outcomes).map(([S,C])=>l.jsxs("div",{children:[l.jsxs("strong",{children:[S,":"]})," ",C]},S))})]},_.id))})]})]})}return l.jsxs("section",{className:"lineage-powers-panel",children:[l.jsx("h3",{children:"Lineage Powers"}),l.jsx("p",{children:"Power data structure for this lineage is not recognized. Check the source files for updates."})]})}function ov({priorities:e,selected:t,onSelect:n,canReveal:r,revealMechanics:s,onToggleReveal:i,notes:o,onUpdateNotes:a,powerSet:c,powers:d,onTogglePower:p,onClearPowers:g}){const h=e.lineage,v=A.useMemo(()=>Yd(t),[t]),w=r&&s;return l.jsxs("div",{className:"stage stage--lineage",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Lineage"}),l.jsx("p",{children:"The letter you assign to Lineage defines how far from humanity you step. Explore each lineage's aesthetic, pick the one that sings to your table, then reveal mechanics when ready."})]}),l.jsx("div",{className:"stage__actions",children:l.jsx("button",{type:"button",onClick:i,className:`reveal-toggle ${s?"active":""}`,disabled:!r,children:r?s?"Hide mechanical truths":"Reveal mechanical truths":"GM access required"})})]}),l.jsx("section",{className:"lineage-grid",children:qd.map(y=>{const k=y.key===t,m=h?y.priorityImpacts[h]:null;return l.jsxs("article",{className:`lineage-card ${k?"is-active":""}`,style:{borderColor:k?y.aesthetic.accent:"rgba(255,255,255,0.08)",boxShadow:k?`0 12px 32px ${y.aesthetic.accent}40`:void 0,backgroundImage:y.aesthetic.texture},children:[l.jsxs("header",{children:[l.jsx("h3",{children:y.name}),l.jsx("p",{className:"lineage-card__tagline",children:y.tagline})]}),l.jsx("p",{children:y.summary}),l.jsxs("div",{className:"lineage-card__priority",children:[l.jsxs("span",{children:["With Priority ",h??"",":"]}),l.jsx("p",{children:m??"Assign a priority letter to see what changes."})]}),l.jsxs("details",{children:[l.jsx("summary",{children:"First impressions"}),l.jsx("p",{children:y.narrativeHook})]}),s&&r&&l.jsxs("details",{open:!0,children:[l.jsx("summary",{children:"GM Whisper"}),l.jsx("p",{children:y.gmWhisper})]}),l.jsx("footer",{children:l.jsx("button",{type:"button",className:"lineage-card__choose",onClick:()=>n(y.key),children:k?"Selected":"Choose Lineage"})})]},y.key)})}),l.jsx(lv,{lineage:t,lineagePriority:h,powerData:c,gmEnabled:w,selections:d,onToggleSelection:p,onClearSelections:g}),l.jsx("section",{className:"lineage-notes",children:l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Lineage Notes & Promises"}),l.jsx("textarea",{value:o,onChange:y=>a(y.target.value),placeholder:"Record patron obligations, corruption tells, and aesthetic cues for later sessions."})]})}),v&&l.jsxs("aside",{className:"lineage-highlight",style:{borderColor:v.aesthetic.accent},children:[l.jsxs("h4",{children:["Echos of ",v.name]}),l.jsxs("p",{children:["Layer the UI palette with ",v.aesthetic.accent,". Consider swapping ambient sound or card frames to mirror the lineage vibe when this character is active at the table."]})]})]})}function Jd(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Jd(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ve(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Jd(e))&&(r&&(r+=" "),r+=t);return r}const fc=e=>{if(typeof e=="number"&&Number.isFinite(e))return e;if(typeof e=="string"){const t=Number(e);if(Number.isFinite(t))return t}return Number.POSITIVE_INFINITY},qn=e=>Number.isFinite(e)?e:0,av=e=>qn(e.reach)+qn(e.influence),cv=e=>qn(e.loyalty)+qn(e.competence),uv=e=>qn(e.quality),dv=(e,t)=>Number.isFinite(e)?e:t,pv=(e,t,n,r)=>{var a,c;if(!e)return{value:0,requiresApproval:!1};const s=(a=n.properties.tenure)==null?void 0:a[e],i=(c=t.properties.tenure)==null?void 0:c[e];if(s!=null&&s.cost)return{value:r,requiresApproval:!0,note:s.cost};const o=typeof(s==null?void 0:s.multiplier)=="number"?s.multiplier:typeof(i==null?void 0:i.costMultiplier)=="number"?i.costMultiplier:null;return typeof o=="number"&&Number.isFinite(o)&&o>0?{value:Math.max(1,Math.round(o)),requiresApproval:!!(i!=null&&i.special)}:{value:0,requiresApproval:!0}},fv=(e,t,n,r)=>{var c,d;if(!e)return{value:0,requiresApproval:!1};const s=(c=n.properties.zoning)==null?void 0:c[e],i=(d=t.properties.zoning)==null?void 0:d[e],o=typeof(s==null?void 0:s.baseCost)=="number"?s.baseCost:typeof(i==null?void 0:i.baseCost)=="number"?i.baseCost:null;if(typeof o=="number"&&Number.isFinite(o)&&o>0)return{value:o,requiresApproval:!1};const a=typeof(s==null?void 0:s.baseCost)=="string"?s.baseCost:typeof(i==null?void 0:i.baseCost)=="string"?i.baseCost:null;return{value:r,requiresApproval:!0,note:a}};function hv({priority:e,system:t,costs:n,contacts:r,retainers:s,properties:i,goods:o,liquid:a,onAddContact:c,onUpdateContact:d,onRemoveContact:p,onAddRetainer:g,onUpdateRetainer:h,onRemoveRetainer:v,onAddProperty:w,onUpdateProperty:y,onRemoveProperty:k,onAddGoods:m,onUpdateGoods:u,onRemoveGoods:f,onUpdateLiquid:x,notes:j,onUpdateNotes:R}){var ie,fe,_e,Ue;const N=e?t.resourcePoints[e]:null,_=(N==null?void 0:N.points)??0,S=fc(N==null?void 0:N.maxQuality),C=fc(N==null?void 0:N.maxCombined),I=(N==null?void 0:N.specializations)??0,B=dv(C,(N==null?void 0:N.points)??10),b=Array.isArray(r)?r:[],W=Array.isArray(s)?s:[],K=Array.isArray(i)?i:[],Q=Array.isArray(o)?o:[],X=b.map(E=>{const Y=av(E),Z=[];return Number.isFinite(S)&&E.reach>S&&Z.push(`Reach exceeds max quality ${S}`),Number.isFinite(S)&&E.influence>S&&Z.push(`Influence exceeds max quality ${S}`),Number.isFinite(C)&&Y>C&&Z.push(`Total reach + influence exceeds combined maximum ${C}`),{entry:E,cost:Y,issues:Z}}),T=W.map(E=>{const Y=cv(E),Z=[];return Number.isFinite(S)&&E.competence>S&&Z.push(`Competence exceeds max quality ${S}`),Number.isFinite(S)&&E.loyalty>S&&Z.push(`Loyalty exceeds max quality ${S}`),Number.isFinite(C)&&Y>C&&Z.push(`Total loyalty + competence exceeds combined maximum ${C}`),{entry:E,cost:Y,issues:Z}}),z=K.map(E=>{const Y=pv(E.tenure,t,n,B),Z=fv(E.zoning,t,n,B),Ae=Y.value+Z.value,D=[];return(Y.requiresApproval||Z.requiresApproval)&&D.push("Selection requires GM approval."),Y.note&&D.push(Y.note),Z.note&&D.push(Z.note),Number.isFinite(S)&&Y.value>S&&D.push(`Tenure rating exceeds max quality ${S}`),Number.isFinite(S)&&Z.value>S&&D.push(`Zoning rating exceeds max quality ${S}`),Number.isFinite(C)&&Ae>C&&D.push(`Total tenure + zoning exceeds combined maximum ${C}`),{entry:E,cost:Ae,issues:D,tenureValue:Y.value,zoningValue:Z.value}}),M=Q.map(E=>{const Y=uv(E),Z=[];return Number.isFinite(S)&&E.quality>S&&Z.push(`Quality exceeds max quality ${S}`),Number.isFinite(C)&&E.quality>C&&Z.push(`Quality exceeds combined maximum ${C}`),{entry:E,cost:Y,issues:Z}}),$=X.reduce((E,Y)=>E+Y.cost,0)+T.reduce((E,Y)=>E+Y.cost,0)+z.reduce((E,Y)=>E+Y.cost,0)+M.reduce((E,Y)=>E+Y.cost,0)+qn(a),U=_-$,q=N?U<0:$>0,ne=X.filter(({entry:E})=>!!E.specialization).length+T.filter(({entry:E})=>!!E.specialization).length+z.filter(({entry:E})=>!!E.specialization).length+M.filter(({entry:E})=>!!E.specialization).length,H=I-ne<0,de=((ie=t.contacts)==null?void 0:ie.specializations)??[],J=((fe=t.retainers)==null?void 0:fe.specializations)??[],Ce=((_e=t.properties)==null?void 0:_e.specializations)??[],ae=((Ue=t.goods)==null?void 0:Ue.specializations)??[];return l.jsxs("div",{className:"stage stage--resources",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Resources"}),l.jsx("p",{children:"Spend your Resource Points to define the allies, havens, and gear that keep you alive. Balance reach and quality carefully  every edge requires upkeep and trust."})]}),l.jsxs("aside",{className:"resource-summary",children:[l.jsxs("span",{className:"resource-summary__label",children:["Priority ",e??""]}),N?l.jsxs("dl",{children:[l.jsxs("div",{children:[l.jsx("dt",{children:"Available Points"}),l.jsx("dd",{children:_})]}),l.jsxs("div",{className:Ve({"resource-summary__warning":q}),children:[l.jsx("dt",{children:"Spent"}),l.jsx("dd",{children:$})]}),l.jsxs("div",{className:Ve({"resource-summary__warning":q}),children:[l.jsx("dt",{children:"Remaining"}),l.jsx("dd",{children:Math.max(0,U)})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Quality Cap"}),l.jsx("dd",{children:Number.isFinite(S)?S:""})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Combined Cap"}),l.jsx("dd",{children:Number.isFinite(C)?C:""})]}),l.jsxs("div",{className:Ve({"resource-summary__warning":H}),children:[l.jsx("dt",{children:"Specializations"}),l.jsxs("dd",{children:[ne," / ",I]})]})]}):l.jsx("p",{children:"Assign a resources priority to unlock your pool."})]})]}),l.jsxs("div",{className:Ve("resource-ledger",{"resource-ledger--warning":q}),children:[l.jsx("strong",{children:$})," resource points allocated",N?` of ${_}`:"",".",q&&l.jsx("span",{className:"resource-ledger__warning",children:"You are overspending. Adjust your assets or raise your priority."})]}),l.jsxs("div",{className:Ve("resource-ledger",{"resource-ledger--warning":H}),children:["Specializations used: ",l.jsx("strong",{children:ne})," of ",I,".",H&&l.jsx("span",{className:"resource-ledger__warning",children:"Only one specialization per asset until the limit is raised."})]}),l.jsxs("div",{className:"resource-grid",children:[l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Contacts"}),l.jsx("button",{type:"button",onClick:c,children:"Add Contact"})]}),X.length===0?l.jsx("p",{className:"resource-section__empty",children:"No contacts recorded. Add a fixer, broker, or confidant."}):X.map(({entry:E,cost:Y,issues:Z})=>{const Ae=!E.gmApproved;return l.jsxs("article",{className:Ve("resource-card",{"resource-card--flagged":Ae}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:E.name,onChange:D=>d(E.id,{name:D.target.value}),placeholder:"Contact name"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",Y]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Profile"}),l.jsx("textarea",{value:E.description,onChange:D=>d(E.id,{description:D.target.value}),placeholder:"Why does this person answer your call?"})]}),l.jsxs("div",{className:"resource-card__grid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Reach"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(S)?S:void 0,value:E.reach,onChange:D=>d(E.id,{reach:Number(D.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Influence"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(S)?S:void 0,value:E.influence,onChange:D=>d(E.id,{influence:Number(D.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:E.specialization??"",onChange:D=>d(E.id,{specialization:D.target.value?D.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),de.map(D=>l.jsx("option",{value:D,children:D},D))]})]})]}),Z.length>0&&l.jsx("ul",{className:"resource-card__issues",children:Z.map((D,dt)=>l.jsx("li",{children:D},dt))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>p(E.id),className:"link",children:"Remove Contact"}),l.jsx("button",{type:"button",onClick:()=>d(E.id,{gmApproved:!E.gmApproved}),className:Ve("badge",{"badge--attention":Ae}),children:E.gmApproved?"GM Approved":"GM Approval Required"})]})]},E.id)})]}),l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Retainers"}),l.jsx("button",{type:"button",onClick:g,children:"Add Retainer"})]}),T.length===0?l.jsx("p",{className:"resource-section__empty",children:"No retainers enlisted. Secure a loyal operator."}):T.map(({entry:E,cost:Y,issues:Z})=>{const Ae=!E.gmApproved;return l.jsxs("article",{className:Ve("resource-card",{"resource-card--flagged":Ae}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:E.name,onChange:D=>h(E.id,{name:D.target.value}),placeholder:"Retainer name"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",Y]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Role"}),l.jsx("textarea",{value:E.description,onChange:D=>h(E.id,{description:D.target.value}),placeholder:"What do they handle for you?"})]}),l.jsxs("div",{className:"resource-card__grid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Competence"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(S)?S:void 0,value:E.competence,onChange:D=>h(E.id,{competence:Number(D.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Loyalty"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(S)?S:void 0,value:E.loyalty,onChange:D=>h(E.id,{loyalty:Number(D.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:E.specialization??"",onChange:D=>h(E.id,{specialization:D.target.value?D.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),J.map(D=>l.jsx("option",{value:D,children:D},D))]})]})]}),Z.length>0&&l.jsx("ul",{className:"resource-card__issues",children:Z.map((D,dt)=>l.jsx("li",{children:D},dt))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>v(E.id),className:"link",children:"Remove Retainer"}),l.jsx("button",{type:"button",onClick:()=>h(E.id,{gmApproved:!E.gmApproved}),className:Ve("badge",{"badge--attention":Ae}),children:E.gmApproved?"GM Approved":"GM Approval Required"})]})]},E.id)})]}),l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Properties"}),l.jsx("button",{type:"button",onClick:w,children:"Add Property"})]}),z.length===0?l.jsx("p",{className:"resource-section__empty",children:"No safehouses or fronts secured. Stake your claim."}):z.map(({entry:E,cost:Y,issues:Z,tenureValue:Ae,zoningValue:D})=>{const dt=!E.gmApproved;return l.jsxs("article",{className:Ve("resource-card",{"resource-card--flagged":dt}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:E.name,onChange:te=>y(E.id,{name:te.target.value}),placeholder:"Property name"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",Y]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Description"}),l.jsx("textarea",{value:E.description,onChange:te=>y(E.id,{description:te.target.value}),placeholder:"What makes this space yours?"})]}),l.jsxs("div",{className:"resource-card__grid resource-card__grid--wide",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Tenure"}),l.jsxs("select",{value:E.tenure,onChange:te=>y(E.id,{tenure:te.target.value}),children:[l.jsx("option",{value:"",children:"Select tenure"}),Object.keys(t.properties.tenure).map(te=>l.jsx("option",{value:te,children:te},te))]}),l.jsx("small",{children:Ae?`Value ${Ae}`:"Pick a claim type"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Zoning"}),l.jsxs("select",{value:E.zoning,onChange:te=>y(E.id,{zoning:te.target.value}),children:[l.jsx("option",{value:"",children:"Select function"}),Object.keys(t.properties.zoning).map(te=>l.jsx("option",{value:te,children:te},te))]}),l.jsx("small",{children:D?`Value ${D}`:"Pick a function"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Ward"}),l.jsx("input",{value:E.ward,onChange:te=>y(E.id,{ward:te.target.value}),placeholder:"Ward or district"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:E.specialization??"",onChange:te=>y(E.id,{specialization:te.target.value?te.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),Ce.map(te=>l.jsx("option",{value:te,children:te},te))]})]})]}),Z.length>0&&l.jsx("ul",{className:"resource-card__issues",children:Z.map((te,vi)=>l.jsx("li",{children:te},vi))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>k(E.id),className:"link",children:"Remove Property"}),l.jsx("button",{type:"button",onClick:()=>y(E.id,{gmApproved:!E.gmApproved}),className:Ve("badge",{"badge--attention":dt}),children:E.gmApproved?"GM Approved":"GM Approval Required"})]})]},E.id)})]}),l.jsxs("section",{className:"resource-section",children:[l.jsxs("header",{className:"resource-section__header",children:[l.jsx("h3",{children:"Goods & Stockpiles"}),l.jsx("button",{type:"button",onClick:m,children:"Add Goods"})]}),M.length===0?l.jsx("p",{className:"resource-section__empty",children:"No caches documented. Set aside kit or contraband."}):M.map(({entry:E,cost:Y,issues:Z})=>{const Ae=!E.gmApproved;return l.jsxs("article",{className:Ve("resource-card",{"resource-card--flagged":Ae}),children:[l.jsxs("header",{className:"resource-card__header",children:[l.jsx("input",{className:"resource-card__title",value:E.name,onChange:D=>u(E.id,{name:D.target.value}),placeholder:"Goods cache"}),l.jsxs("span",{className:"resource-card__cost",children:["Cost ",Y]})]}),l.jsxs("label",{className:"resource-card__field",children:[l.jsx("span",{children:"Contents"}),l.jsx("textarea",{value:E.description,onChange:D=>u(E.id,{description:D.target.value}),placeholder:"Describe the stash, weaponry, or leverage."})]}),l.jsxs("div",{className:"resource-card__grid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Quality"}),l.jsx("input",{type:"number",min:0,max:Number.isFinite(S)?S:void 0,value:E.quality,onChange:D=>u(E.id,{quality:Number(D.target.value)||0})})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Specialization"}),l.jsxs("select",{value:E.specialization??"",onChange:D=>u(E.id,{specialization:D.target.value?D.target.value:null}),children:[l.jsx("option",{value:"",children:"None"}),ae.map(D=>l.jsx("option",{value:D,children:D},D))]})]})]}),Z.length>0&&l.jsx("ul",{className:"resource-card__issues",children:Z.map((D,dt)=>l.jsx("li",{children:D},dt))}),l.jsxs("footer",{className:"resource-card__footer",children:[l.jsx("button",{type:"button",onClick:()=>f(E.id),className:"link",children:"Remove Goods"}),l.jsx("button",{type:"button",onClick:()=>u(E.id,{gmApproved:!E.gmApproved}),className:Ve("badge",{"badge--attention":Ae}),children:E.gmApproved?"GM Approved":"GM Approval Required"})]})]},E.id)})]})]}),l.jsxs("section",{className:"resource-liquid",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Liquid Assets"}),l.jsx("input",{type:"number",min:0,value:a,onChange:E=>x(Number(E.target.value)||0)})]}),l.jsx("p",{children:"Reserve unassigned points for cash, favors, or future acquisitions."})]}),l.jsx("section",{children:l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Resource Stories"}),l.jsx("textarea",{value:j,onChange:E=>R(E.target.value),placeholder:"Record fronts, debts, leverage, and the strings attached to each asset."})]})}),l.jsxs("section",{className:"resource-reference",children:[l.jsxs("article",{children:[l.jsx("h4",{children:"Contact Scales"}),l.jsxs("div",{className:"resource-reference__grid",children:[l.jsxs("div",{children:[l.jsx("h5",{children:"Reach"}),l.jsx("ul",{children:Object.entries(t.contacts.reachScale).map(([E,Y])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:E}),l.jsx("span",{children:Y})]},E))})]}),l.jsxs("div",{children:[l.jsx("h5",{children:"Influence"}),l.jsx("ul",{children:Object.entries(t.contacts.influenceScale).map(([E,Y])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:E}),l.jsx("span",{children:Y})]},E))})]})]})]}),l.jsxs("article",{children:[l.jsx("h4",{children:"Retainer Scales"}),l.jsxs("div",{className:"resource-reference__grid",children:[l.jsxs("div",{children:[l.jsx("h5",{children:"Competence"}),l.jsx("ul",{children:Object.entries(t.retainers.competenceScale).map(([E,Y])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:E}),l.jsx("span",{children:Y})]},E))})]}),l.jsxs("div",{children:[l.jsx("h5",{children:"Loyalty"}),l.jsx("ul",{children:Object.entries(t.retainers.loyaltyScale).map(([E,Y])=>l.jsxs("li",{children:[l.jsx("span",{className:"scale__value",children:E}),l.jsx("span",{children:Y})]},E))})]})]})]}),l.jsxs("article",{children:[l.jsx("h4",{children:"Tenure Reference"}),l.jsx("ul",{className:"resource-reference__list",children:Object.entries(t.properties.tenure).map(([E,Y])=>l.jsxs("li",{children:[l.jsx("strong",{children:E}),Y.description&&l.jsxs("span",{children:["  ",Y.description]})]},E))})]})]})]})}function mv({priority:e,background:t,onUpdate:n,data:r}){const s=A.useMemo(()=>Object.entries(r),[r]),i=t.title&&r[t.title]?r[t.title]:void 0,o=A.useMemo(()=>i!=null&&i.professions?new Map(i.professions.map(v=>[v.priority,v])):new Map,[i==null?void 0:i.professions]),a=e?o.get(e):void 0,c=t.title||"Choose a background",d=(a==null?void 0:a.description)||(i==null?void 0:i.description)||"Select a background below to load its story, talents, and contacts.",p=(i==null?void 0:i.skillSpecializationOptions)??[],g=(i==null?void 0:i.resourceSynergyExamples)??[],h=v=>{var k;const w=r[v],y={title:v};w&&(!t.tierNotes&&w.description&&(y.tierNotes=w.description),!t.contacts&&((k=w.resourceSynergyExamples)!=null&&k.length)&&(y.contacts=w.resourceSynergyExamples.join(`
`))),n(y)};return l.jsxs("div",{className:"stage stage--background",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Background"}),l.jsx("p",{children:"Backgrounds tell the table who you were before the Long Night took hold. Use the narrative scope guidance to outline your reach and obligations."})]}),l.jsxs("aside",{className:"background-callout",children:[l.jsxs("div",{className:"background-callout__header",children:[l.jsxs("span",{className:"background-callout__label",children:["Priority ",e??""]}),l.jsx("h3",{children:c})]}),l.jsx("p",{className:"background-callout__body",children:d}),(p.length>0||g.length>0)&&l.jsxs("div",{className:"background-callout__tags",children:[p.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"background-callout__tag-label",children:"Signature Skills"}),l.jsx("ul",{children:p.map(v=>l.jsx("li",{children:v},v))})]}),g.length>0&&l.jsxs("div",{children:[l.jsx("span",{className:"background-callout__tag-label",children:"Resource Synergies"}),l.jsx("ul",{children:g.map(v=>l.jsx("li",{children:v},v))})]})]})]})]}),l.jsxs("section",{className:"background-form",children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Background Title"}),l.jsx("input",{value:t.title,placeholder:"Ex: Harrowed Detective of Ward 13",onChange:v=>n({title:v.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Background Details"}),l.jsx("textarea",{value:t.tierNotes,placeholder:"What power structure do you belong to? Who do you owe? How far does your influence reach?",onChange:v=>n({tierNotes:v.target.value})})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Contacts Born From This Life"}),l.jsx("textarea",{value:t.contacts,placeholder:"List guaranteed contacts, safehouses, or automatic skill specializations.",onChange:v=>n({contacts:v.target.value})})]})]}),l.jsx("section",{className:"background-catalog",children:s.map(([v,w])=>{var k,m,u;const y=v===t.title;return l.jsxs("article",{className:`background-card ${y?"active":""}`,children:[l.jsxs("header",{className:"background-card__header",children:[l.jsxs("div",{children:[l.jsx("h3",{children:v}),l.jsx("p",{children:w.description})]}),l.jsx("button",{type:"button",onClick:()=>h(v),children:y?"Selected":"Adopt Background"})]}),(((k=w.skillSpecializationOptions)==null?void 0:k.length)??0)>0&&l.jsxs("section",{className:"background-card__section",children:[l.jsx("h4",{children:"Skill Specializations"}),l.jsx("ul",{children:w.skillSpecializationOptions.map(f=>l.jsx("li",{children:f},f))})]}),(((m=w.resourceSynergyExamples)==null?void 0:m.length)??0)>0&&l.jsxs("section",{className:"background-card__section",children:[l.jsx("h4",{children:"Resource Synergies"}),l.jsx("ul",{children:w.resourceSynergyExamples.map(f=>l.jsx("li",{children:f},f))})]}),(((u=w.professions)==null?void 0:u.length)??0)>0&&l.jsxs("section",{className:"background-card__section",children:[l.jsx("h4",{children:"Profession Ladder"}),l.jsx("div",{className:"background-card__professions",children:w.professions.map(f=>l.jsxs("div",{className:`background-card__profession ${f.priority===e?"highlight":""}`,children:[l.jsxs("div",{className:"background-card__profession-header",children:[l.jsx("span",{className:"badge",children:f.priority}),l.jsx("strong",{children:f.title})]}),l.jsx("p",{children:f.description})]},`${f.priority}-${f.title}`))})]})]},v)})})]})}const gv={A:{maxRank:5,points:10,specializations:2},B:{maxRank:4,points:14,specializations:2},C:{maxRank:3,points:10,specializations:1},D:{maxRank:3,points:8,specializations:1},E:{maxRank:2,points:4,specializations:0}},vv="Custom options are provisional until your GM approves them.";function yv({priority:e,data:t,ratings:n,onChangeRating:r,specializations:s,onToggleSpecialization:i,onRemoveSpecialization:o,onAddCustomSpecialization:a,backgroundSpecialization:c,backgroundOptions:d,onSetBackgroundSpecialization:p,notes:g,onUpdateNotes:h}){const[v,w]=A.useState(""),y=e?gv[e]:null,k=A.useMemo(()=>Object.values(n).reduce((C,I)=>C+I,0),[n]),m=y?Math.max(y.points-k,0):0,u=s.filter(C=>C.type!=="background"),f=y?Math.max(y.specializations-u.length,0):0,x=A.useMemo(()=>new Map(s.map(C=>[C.id,C])),[s]),j=(C,I)=>B=>{const b=Number(B.target.value);if(!y)return;const W=Math.max(0,Math.min(b,y.maxRank)),K=k-I+W;let Q=W;if(K>y.points){const X=K-y.points;Q=Math.max(0,W-X)}Q!==I&&r(C,Q)},R=()=>{if(!y)return;const C=v.trim();C&&y.specializations!==0&&f!==0&&(a(C),w(""))},N=(C,I,B,b)=>{if(!y)return;const W=`pre:${C}:${B??b}`;if(!x.has(W)&&y.specializations>0&&f===0)return;const K={id:W,label:`${I}  ${b}`,type:"predefined",skillId:C,gmApproved:!0};i(K)},_=y?y.specializations>0&&f>0:!1,S=d.filter(Boolean);return l.jsxs("div",{className:"stage stage--skills",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Skills & Disciplines"}),l.jsx("p",{children:"Allocate your skill points, respecting the maximum rank for your priority. Claim a handful of specializations to spotlight signature movescustom picks stay flagged until your GM approves them."})]}),l.jsxs("aside",{className:"skills-limit",children:[l.jsxs("span",{children:["Priority ",e??""]}),y?l.jsxs(l.Fragment,{children:[l.jsx("p",{children:`${m} of ${y.points} skill points remaining`}),l.jsxs("p",{children:["Specializations: ",`${Math.max(f,0)} of ${y.specializations} remaining`]})]}):l.jsx("p",{children:"Assign a priority letter to unlock your allocation."})]})]}),l.jsx("section",{className:"skills-grid",children:Object.entries(t.skills).map(([C,I])=>l.jsxs("article",{className:"skills-discipline",children:[l.jsxs("header",{children:[l.jsx("h3",{children:xv(C)}),l.jsxs("p",{children:[I.length," core skills"]})]}),l.jsx("ul",{children:I.map(B=>{const b=`${C}:${B.id}`,W=n[b]??0,K=(y==null?void 0:y.maxRank)??0;return l.jsxs("li",{children:[l.jsxs("div",{className:"skills-item__header",children:[l.jsxs("label",{className:"skills-rating",children:[l.jsx("span",{children:"Rating"}),l.jsx("input",{type:"range",min:0,max:K,step:1,value:W,disabled:!y,onChange:j(b,W)}),l.jsx("span",{className:"skills-rating__value",children:W})]}),l.jsxs("div",{children:[l.jsx("h4",{children:B.name}),l.jsx("p",{children:B.description})]})]}),B.specializations.length>0&&l.jsxs("details",{children:[l.jsx("summary",{children:"Specializations"}),l.jsx("ul",{className:"skills-specializations",children:B.specializations.map(Q=>{const X=`pre:${b}:${Q.id??Q.name}`,T=x.has(X),z=!y||y.specializations===0&&!T||y.specializations>0&&f===0&&!T;return l.jsx("li",{children:l.jsxs("button",{type:"button",className:`skills-specialization__toggle ${T?"selected":""}`,onClick:()=>N(b,B.name,Q.id,Q.name),disabled:z,children:[l.jsx("strong",{children:Q.name}),l.jsx("span",{children:Q.description})]})},X)})})]})]},b)})})]},C))}),S.length>0&&l.jsxs("section",{className:"skills-background",children:[l.jsx("h3",{children:"Background Specialization"}),l.jsx("p",{children:"Select one of the options granted by your background."}),l.jsxs("div",{className:"skills-background__options",children:[S.map(C=>l.jsxs("label",{className:"skills-background__option",children:[l.jsx("input",{type:"radio",name:"background-specialization",value:C,checked:c===C,onChange:()=>p(C)}),l.jsx("span",{children:C})]},C)),l.jsx("button",{type:"button",className:"skills-background__clear",onClick:()=>p(null),children:"Clear Background Choice"})]})]}),l.jsxs("section",{className:"skills-selected",children:[l.jsx("h3",{children:"Selected Specializations"}),s.length===0&&!c?l.jsx("p",{children:"No specializations chosen yet."}):l.jsxs("ul",{children:[s.map(C=>l.jsxs("li",{children:[l.jsxs("div",{children:[l.jsx("strong",{children:C.label}),C.type==="custom"&&!C.gmApproved&&l.jsx("span",{className:"gm-tag",children:"Pending GM Approval"})]}),l.jsx("button",{type:"button",onClick:()=>o(C.id),"aria-label":`Remove ${C.label}`,children:"Remove"})]},C.id)),c&&l.jsxs("li",{children:[l.jsxs("div",{children:[l.jsx("strong",{children:c}),l.jsx("span",{className:"gm-tag gm-tag--background",children:"Background"})]}),l.jsx("button",{type:"button",onClick:()=>p(null),"aria-label":"Clear background specialization",children:"Remove"})]})]})]}),l.jsxs("section",{className:"skills-footer",children:[l.jsxs("div",{children:[l.jsx("h3",{children:"Custom Specialization"}),l.jsxs("div",{className:"skills-custom",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Describe your custom edge"}),l.jsxs("div",{className:"skills-custom__controls",children:[l.jsx("input",{value:v,onChange:C=>w(C.target.value),placeholder:"Ex: Underworld Etiquette",disabled:y?!_:!0}),l.jsx("button",{type:"button",onClick:R,disabled:!_||!v.trim(),children:"Add"})]})]}),l.jsxs("p",{className:"skills-custom__hint",children:[vv,y?` Slots remaining: ${Math.max(f,0)}.`:""]})]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Skill Notes"}),l.jsx("textarea",{value:g,onChange:C=>h(C.target.value),placeholder:"Record signature moves, training montages, and promised stunts."})]})]})]})}function xv(e){return e.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}const jv={Physique:"physique",Intellect:"intellect",Presence:"presence"};function wv({priority:e,scores:t,onUpdateScore:n,notes:r,onUpdateNotes:s,data:i,selectedSpecializations:o,onToggleSpecialization:a}){var m;if(!i||!Array.isArray(i.pointBuy)||!i.definitions)return l.jsx("div",{className:"stage stage--attributes",children:l.jsx("p",{children:"Attribute data failed to load. Please refresh."})});const c=A.useMemo(()=>e?i.pointBuy.find(u=>u.priority===e)??null:null,[i.pointBuy,e]),d=A.useMemo(()=>Object.entries(i.definitions).map(([u,f])=>{const x=jv[u];return x?{key:x,displayName:u,description:f.description,specializations:f.specializations??[]}:null}).filter(u=>u!==null),[i.definitions]),p=(c==null?void 0:c.attributePoints)??0,g=A.useMemo(()=>Object.entries(t).reduce((u,[f,x])=>(u[f]=Math.min(Ns,Math.max(0,x)),u),{physique:0,intellect:0,presence:0}),[t]),h=Object.values(g).reduce((u,f)=>u+f,0),v=Math.max(p-h,0),w=(c==null?void 0:c.specializations)??0,y=A.useMemo(()=>Object.values(o).reduce((u,f)=>u+(Array.isArray(f)?f.length:0),0),[o]),k=Math.max(w-y,0);return l.jsxs("div",{className:"stage stage--attributes",children:[l.jsxs("header",{className:"stage__header",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Attributes"}),l.jsx("p",{children:"Only three pillars define your raw capability. Split your dice pool to show which part of their soul still shines and which has already been sold to the city."})]}),l.jsxs("aside",{className:"attribute-pool",children:[l.jsxs("span",{children:["Priority ",e??""]}),e?l.jsxs(l.Fragment,{children:[l.jsxs("p",{children:["Pool ",p,"  Remaining ",v]}),l.jsxs("p",{className:"attribute-pool__detail",children:["Specializations: ",w>0?`${k} of ${w} remaining`:"None available"]})]}):l.jsx("p",{children:"Assign a priority letter to calculate your attribute pool."})]})]}),l.jsx("section",{className:"attributes-grid",children:d.map(u=>{var _;const f=t[u.key]??0,x=Math.min(f,Ns),j=h-g[u.key],R=Math.max(p-j,0),N=Math.min(Ns,R);return l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h3",{children:u.displayName}),l.jsx("p",{children:u.description})]}),l.jsxs("div",{className:"attribute-control",children:[l.jsx("input",{type:"range",min:0,max:N,value:x,onChange:S=>{const C=Number(S.target.value),I=Math.min(N,Math.max(0,C));n(u.key,I)}}),l.jsx("span",{className:"attribute-value",children:x})]}),((_=u.specializations)==null?void 0:_.length)>0&&l.jsxs("div",{className:"attribute-specializations",children:[l.jsx("h4",{children:"Specializations"}),l.jsx("ul",{children:u.specializations.map(S=>{const I=(o[u.key]??[]).includes(S.name),B=w===0&&!I||w>0&&k===0&&!I;return l.jsx("li",{children:l.jsxs("button",{type:"button",className:`attribute-specialization__toggle ${I?"selected":""}`,onClick:()=>a(u.key,S.name),disabled:B,children:[l.jsx("strong",{children:S.name}),l.jsx("span",{children:S.description})]})},S.name)})})]})]},u.key)})}),((m=i.ratings)==null?void 0:m.length)>0&&l.jsxs("section",{className:"attribute-ratings",children:[l.jsx("h3",{children:"Rating Benchmarks"}),l.jsx("ul",{children:i.ratings.map(u=>l.jsxs("li",{children:[l.jsx("span",{className:"attribute-rating__score",children:u.score}),l.jsx("span",{children:u.label})]},u.score))})]}),l.jsx("section",{children:l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Attribute Notes"}),l.jsx("textarea",{value:r,onChange:u=>s(u.target.value),placeholder:"What scars or tells explain these strengths and weaknesses?"})]})})]})}function kv({corruption:e,onAdjustCorruption:t,onSetCorruption:n,onUpdateCorruptionNotes:r,advancement:s,onAdjustExperience:i,onSetExperience:o,onUpdateAdvancement:a,health:c,onAdjustHealth:d,onSetHealth:p,onUpdateScar:g,narrative:h,onAddRelationship:v,onRemoveRelationship:w,onUpdateAnchors:y,onUpdateNarrativeNotes:k}){const[m,u]=A.useState(""),f=()=>{m.trim()&&(v(m.trim()),u(""))};return l.jsxs("div",{className:"stage stage--narrative",children:[l.jsx("header",{className:"stage__header",children:l.jsxs("div",{children:[l.jsx("h2",{children:"Narrative, Corruption & Wounds"}),l.jsx("p",{children:"Record the scars the city has already carved. Corruption is front-and-center for players, while hidden notes can foreshadow GM complications."})]})}),l.jsxs("section",{className:"advancement-panel",children:[l.jsxs("div",{className:"experience-meter",children:[l.jsx("div",{className:"experience-value",children:s.experience}),l.jsx("span",{children:"Experience"}),l.jsxs("div",{className:"experience-controls",children:[l.jsx("button",{type:"button",onClick:()=>i(-1),children:"-1"}),l.jsx("button",{type:"button",onClick:()=>o(0),children:"Reset"}),l.jsx("button",{type:"button",onClick:()=>i(1),children:"+1"})]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Advancement Track"}),l.jsx("textarea",{value:s.track,onChange:x=>a({track:x.target.value}),placeholder:"What does advancement look like for this character? Training regimens, resources, oaths."})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Milestones"}),l.jsx("textarea",{value:s.milestones,onChange:x=>a({milestones:x.target.value}),placeholder:"Log beats completed, debts paid, or corruption bargains accepted."})]})]}),l.jsxs("section",{className:"corruption-panel",children:[l.jsxs("div",{className:"corruption-meter",children:[l.jsx("div",{className:"corruption-value",children:e.current}),l.jsxs("span",{children:["Threshold ",e.warning]}),l.jsxs("div",{className:"corruption-controls",children:[l.jsx("button",{type:"button",onClick:()=>t(-1),children:"-1"}),l.jsx("button",{type:"button",onClick:()=>n(0),children:"Reset"}),l.jsx("button",{type:"button",onClick:()=>t(1),children:"+1"})]})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Corruption Notes"}),l.jsx("textarea",{value:e.notes,onChange:x=>r(x.target.value),placeholder:"Describe what corruption looks like for this character."})]})]}),l.jsxs("section",{className:"health-grid",children:[l.jsx("h3",{children:"Health by Body Location"}),l.jsx("div",{className:"health-cards",children:Object.keys(cc).map(x=>{const j=c[x],R=cc[x];return l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h4",{children:R}),l.jsxs("span",{children:[j.current," / ",j.max]})]}),l.jsxs("div",{className:"health-controls",children:[l.jsx("button",{type:"button",onClick:()=>d(x,-1),children:"-"}),l.jsx("input",{type:"number",min:0,max:j.max,value:j.current,onChange:N=>p(x,Number(N.target.value))}),l.jsx("button",{type:"button",onClick:()=>d(x,1),children:"+"})]}),l.jsxs("label",{children:[l.jsx("span",{children:"Scars & Notes"}),l.jsx("textarea",{value:j.scar,onChange:N=>g(x,N.target.value),placeholder:"Visible injuries, lingering trauma, prosthetics."})]})]},x)})})]}),l.jsxs("section",{className:"relationships-panel",children:[l.jsxs("div",{className:"relationships-list",children:[l.jsx("h3",{children:"Relationships"}),l.jsxs("div",{className:"relationship-input",children:[l.jsx("input",{value:m,onChange:x=>u(x.target.value),placeholder:"Name  why they matter  leverage"}),l.jsx("button",{type:"button",onClick:f,children:"Add"})]}),h.relationships.length===0?l.jsx("p",{children:"No relationships logged yet."}):l.jsx("ul",{children:h.relationships.map(x=>l.jsxs("li",{children:[l.jsx("span",{children:x}),l.jsx("button",{type:"button",onClick:()=>w(x),children:"Remove"})]},x))})]}),l.jsxs("div",{className:"anchors",children:[l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Anchors"}),l.jsx("textarea",{value:h.anchors,onChange:x=>y(x.target.value),placeholder:"What keeps them tethered to humanity?"})]}),l.jsxs("label",{className:"field",children:[l.jsx("span",{children:"Other Notes"}),l.jsx("textarea",{value:h.notes,onChange:x=>k(x.target.value),placeholder:"Foreshadow upcoming arcs, unresolved debts, or metaphysical tells."})]})]})]})]})}function Sv(){var Ho;const{data:e}=qr(),t=F(P=>P.ensureActiveBuild),n=F(P=>P.activeBuildId?P.builds[P.activeBuildId]:null),r=F(P=>P.setStage),s=F(P=>P.updateProfile),i=F(P=>P.assignPriority),o=F(P=>P.selectLineage),a=F(P=>P.toggleLineageReveal),c=F(P=>P.updateLineageNotes),d=F(P=>P.toggleLineagePower),p=F(P=>P.clearLineagePowers),g=F(P=>P.updateResourceNotes),h=F(P=>P.updateBackground),v=F(P=>P.addContactResource),w=F(P=>P.updateContactResource),y=F(P=>P.removeContactResource),k=F(P=>P.addRetainerResource),m=F(P=>P.updateRetainerResource),u=F(P=>P.removeRetainerResource),f=F(P=>P.addPropertyResource),x=F(P=>P.updatePropertyResource),j=F(P=>P.removePropertyResource),R=F(P=>P.addGoodsResource),N=F(P=>P.updateGoodsResource),_=F(P=>P.removeGoodsResource),S=F(P=>P.setResourceLiquid),C=F(P=>P.setSkillRating),I=F(P=>P.toggleSkillSpecialization),B=F(P=>P.removeSkillSpecialization),b=F(P=>P.addCustomSkillSpecialization),W=F(P=>P.setBackgroundSkillSpecialization),K=F(P=>P.updateSkillNotes),Q=F(P=>P.setAttributeScore),X=F(P=>P.updateAttributeNotes),T=F(P=>P.toggleAttributeSpecialization),z=F(P=>P.resetActiveBuild),M=F(P=>P.adjustExperience),$=F(P=>P.setExperience),U=F(P=>P.updateAdvancement),q=F(P=>P.adjustCorruption),ne=F(P=>P.setCorruption),G=F(P=>P.updateCorruptionNotes),H=F(P=>P.adjustHealth),de=F(P=>P.setHealth),J=F(P=>P.updateHealthScar),Ce=F(P=>P.addRelationship),ae=F(P=>P.removeRelationship),ie=F(P=>P.updateAnchors),fe=F(P=>P.updateNarrativeNotes),_e=vt(P=>P.gmUnlocked);A.useEffect(()=>{t()},[t]);const Ue=A.useMemo(()=>Yd((n==null?void 0:n.lineage.key)??null),[n==null?void 0:n.lineage.key]);if(!e||!n)return null;const E=Array.isArray(n.lineage.powers)?n.lineage.powers:[],Y=n.lineage.key?(Ho=e.powerSets)==null?void 0:Ho[n.lineage.key]:void 0,Z=n.background.title?e.backgrounds[n.background.title]:void 0,Ae=Array.isArray(Z==null?void 0:Z.skillSpecializationOptions)?Z.skillSpecializationOptions:[],D=(P,jt)=>i(P,jt),dt=P=>i(P,null);let te;switch(n.stage){case"priorities":te=l.jsx(Kg,{priorities:n.priorities,onSelect:D,onClear:dt});break;case"lineage":te=l.jsx(ov,{priorities:n.priorities,selected:n.lineage.key,onSelect:P=>o(P),canReveal:_e,revealMechanics:n.lineage.revealMechanics,onToggleReveal:a,notes:n.lineage.notes,onUpdateNotes:c,powerSet:Y,powers:E,onTogglePower:d,onClearPowers:p});break;case"resources":te=l.jsx(hv,{priority:n.priorities.resources,system:e.resources,costs:e.resourceCosts,contacts:n.resources.contacts,retainers:n.resources.retainers,properties:n.resources.properties,goods:n.resources.goods,liquid:n.resources.liquid,onAddContact:v,onUpdateContact:w,onRemoveContact:y,onAddRetainer:k,onUpdateRetainer:m,onRemoveRetainer:u,onAddProperty:f,onUpdateProperty:x,onRemoveProperty:j,onAddGoods:R,onUpdateGoods:N,onRemoveGoods:_,onUpdateLiquid:S,notes:n.resources.notes,onUpdateNotes:g});break;case"background":te=l.jsx(mv,{priority:n.priorities.background,background:n.background,onUpdate:h,data:e.backgrounds});break;case"skills":te=l.jsx(yv,{priority:n.priorities.skills,data:e.skills,ratings:n.skills.ratings,onChangeRating:C,specializations:n.skills.specializations,onToggleSpecialization:I,onRemoveSpecialization:B,onAddCustomSpecialization:b,backgroundSpecialization:n.skills.backgroundSpecialization,backgroundOptions:Ae,onSetBackgroundSpecialization:W,notes:n.skills.notes,onUpdateNotes:K});break;case"attributes":te=l.jsx(wv,{priority:n.priorities.attributes,scores:n.attributes.scores,onUpdateScore:(P,jt)=>Q(P,jt),notes:n.attributes.notes,onUpdateNotes:X,data:e.attributes,selectedSpecializations:n.attributes.specializations,onToggleSpecialization:T});break;case"narrative":te=l.jsx(kv,{corruption:n.corruption,onAdjustCorruption:q,onSetCorruption:ne,onUpdateCorruptionNotes:G,advancement:n.advancement,onAdjustExperience:M,onSetExperience:$,onUpdateAdvancement:U,health:n.health,onAdjustHealth:(P,jt)=>H(P,jt),onSetHealth:(P,jt)=>de(P,jt),onUpdateScar:(P,jt)=>J(P,jt),narrative:n.narrative,onAddRelationship:Ce,onRemoveRelationship:ae,onUpdateAnchors:ie,onUpdateNarrativeNotes:fe});break;default:te=null}const vi=Ue?{"--lineage-accent":Ue.aesthetic.accent,"--lineage-glow":Ue.aesthetic.glow}:void 0;return l.jsxs("div",{className:"builder-screen",style:vi,children:[l.jsx(Og,{build:n,onUpdate:s}),l.jsx("div",{className:"builder-actions",children:l.jsx("button",{type:"button",onClick:z,children:"Reset Character"})}),l.jsx(Qg,{current:n.stage,onNavigate:r}),te]})}function Nv(e,t){const n=e.background.title?t.backgrounds[e.background.title]??null:null;return{version:"0.1.0",generatedAt:new Date().toISOString(),profile:e.profile,priorities:e.priorities,lineage:e.lineage,resources:e.resources,background:e.background,skills:e.skills,attributes:e.attributes,corruption:e.corruption,health:e.health,narrative:e.narrative,gmNotes:e.gmNotes,reference:{resources:t.resources,resourceCosts:t.resourceCosts,powerSchemas:t.powerSchemas,attributes:t.attributes,backgrounds:t.backgrounds,selectedBackgroundTemplate:n,characterSheet:t.characterSheet}}}function Cv(e,t){const n=Nv(e,t),r=new Blob([JSON.stringify(n,null,2)],{type:"application/json"});Xd(`${Zd(e.profile.name||e.label)}.json`,r)}function _v(e){const t=Ev(e),n=new Blob([t],{type:"text/plain"});Xd(`${Zd(e.profile.name||e.label)}.txt`,n)}function Ev(e){const t=[];t.push(`SIDONIA DOSSIER :: ${e.profile.name||e.label}`),t.push(`Concept: ${e.profile.concept}`),t.push(`Pronouns: ${e.profile.pronouns}`),t.push(`Summary: ${e.profile.summary}`),e.profile.alias&&t.push(`Alias: ${e.profile.alias}`),e.profile.physicalDescription&&t.push(`Physical Description: ${e.profile.physicalDescription}`),e.profile.code&&t.push(`Code: ${e.profile.code}`),e.profile.lineNotCrossed&&t.push(`Line Not Crossed: ${e.profile.lineNotCrossed}`),e.profile.temptation&&t.push(`Temptation: ${e.profile.temptation}`),t.push(""),t.push("Priorities:"),Object.entries(e.priorities).forEach(([s,i])=>{t.push(`  ${s.toUpperCase()}: ${i??"-"}`)}),t.push(""),t.push(`Lineage: ${e.lineage.key??"Unchosen"}`),t.push(`Lineage Notes: ${e.lineage.notes}`),e.lineage.powers.length>0&&(t.push("Selected Lineage Powers:"),e.lineage.powers.forEach(s=>{var a,c,d,p,g,h;const i=[];(a=s.meta)!=null&&a.tierLabel&&i.push(s.meta.tierLabel),(c=s.meta)!=null&&c.sphere&&i.push(s.meta.sphere),(d=s.meta)!=null&&d.moveType&&i.push(s.meta.moveType),(p=s.meta)!=null&&p.branch&&i.push(s.meta.branch),(g=s.meta)!=null&&g.chassis&&i.push(s.meta.chassis),(h=s.meta)!=null&&h.category&&!["esper-base","esper-mentalist"].includes(s.meta.category)&&i.push(s.meta.category);const o=i.length>0?` (${i.join(", ")})`:"";t.push(`  - ${s.label}${o}`)})),t.push(""),t.push("Resources:"),e.resources.contacts.length>0&&(t.push("  Contacts:"),e.resources.contacts.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Contact";t.push(`    - ${a}${o}${i}`),t.push(`      Reach ${s.reach} / Influence ${s.influence}`),s.description&&t.push(`      ${s.description}`)})),e.resources.retainers.length>0&&(t.push("  Retainers:"),e.resources.retainers.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Retainer";t.push(`    - ${a}${o}${i}`),t.push(`      Competence ${s.competence} / Loyalty ${s.loyalty}`),s.description&&t.push(`      ${s.description}`)})),e.resources.properties.length>0&&(t.push("  Properties:"),e.resources.properties.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Property";t.push(`    - ${a}${o}${i}`),t.push(`      Tenure: ${s.tenure||""}  Zoning: ${s.zoning||""}`),s.ward&&t.push(`      Ward: ${s.ward}`),s.description&&t.push(`      ${s.description}`)})),e.resources.goods.length>0&&(t.push("  Goods & Stockpiles:"),e.resources.goods.forEach(s=>{const i=s.gmApproved?"":" [GM Approval Required]",o=s.specialization?` (${s.specialization})`:"",a=s.name||"Unnamed Cache";t.push(`    - ${a}${o}${i}`),t.push(`      Quality ${s.quality}`),s.description&&t.push(`      ${s.description}`)})),t.push(`  Liquid Assets: ${e.resources.liquid}`),t.push(`Resource Notes: ${e.resources.notes}`),t.push(""),t.push(`Background: ${e.background.title}`),t.push(`Details: ${e.background.tierNotes}`),t.push(`Contacts: ${e.background.contacts}`),t.push(""),t.push("Skills:"),Object.entries(e.skills.ratings).forEach(([s,i])=>{i>0&&t.push(`  ${Pv(s)}: ${i}`)});const n=e.skills.specializations.filter(s=>s.type!=="background");n.length>0&&(t.push("Specializations:"),n.forEach(s=>{const i=s.type==="custom"&&!s.gmApproved?" (Pending GM Approval)":"";t.push(`  - ${s.label}${i}`)})),e.skills.backgroundSpecialization&&t.push(`Background Specialization: ${e.skills.backgroundSpecialization}`),t.push(`Skill Notes: ${e.skills.notes}`),t.push(""),t.push("Attributes:"),Object.entries(e.attributes.scores).forEach(([s,i])=>{t.push(`  ${s}: ${i}`)});const r=Object.entries(e.attributes.specializations).filter(([,s])=>s.length>0);return r.length>0&&(t.push("Attribute Specializations:"),r.forEach(([s,i])=>{t.push(`  ${s}: ${i.join(", ")}`)})),t.push(`Attribute Notes: ${e.attributes.notes}`),t.push(""),t.push(`Corruption: ${e.corruption.current} / ${e.corruption.warning}`),t.push(`Corruption Notes: ${e.corruption.notes}`),t.push(""),t.push("Health:"),Object.entries(e.health).forEach(([s,i])=>{t.push(`  ${s}: ${i.current}/${i.max} :: ${i.scar}`)}),t.push(""),t.push("Relationships:"),e.narrative.relationships.forEach(s=>t.push(`  - ${s}`)),t.push(`Anchors: ${e.narrative.anchors}`),t.push(`Notes: ${e.narrative.notes}`),e.gmNotes&&(t.push(""),t.push("GM Notes:"),t.push(e.gmNotes)),t.join(`
`)}function Xd(e,t){const n=document.createElement("a"),r=URL.createObjectURL(t);n.href=r,n.download=e,n.click(),URL.revokeObjectURL(r)}function Zd(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||"sidonia-character"}function Pv(e){const[t,n]=e.split(":");return`${hc(t)}  ${hc((n??"").replace(/-/g," "))}`}function hc(e){return e.split(/\s+/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ").trim()}function Rv(){const{data:e}=qr(),t=F(h=>h.builds),n=F(h=>h.activeBuildId),r=F(h=>h.createBuild),s=F(h=>h.setActiveBuild),i=F(h=>h.archiveBuild),o=F(h=>h.renameBuild),a=F(h=>h.duplicateBuild),[c,d]=A.useState(""),p=A.useMemo(()=>Object.values(t).sort((h,v)=>h.updatedAt<v.updatedAt?1:-1),[t]),g=()=>{const h=r(c.trim()||void 0);d(""),s(h)};return e?l.jsxs("section",{className:"management",children:[l.jsxs("header",{children:[l.jsx("h1",{children:"Character Management"}),l.jsx("p",{children:"Spin up new dossiers, duplicate existing ones, and export packages for your virtual tabletop or print."})]}),l.jsxs("div",{className:"management__actions",children:[l.jsxs("label",{children:[l.jsx("span",{children:"Name your new dossier"}),l.jsx("input",{value:c,onChange:h=>d(h.target.value),placeholder:"Untitled Operative"})]}),l.jsx("button",{type:"button",onClick:g,children:"Create Character"})]}),p.length===0&&l.jsx("p",{children:"No builds yet. Start by creating a new dossier."}),l.jsx("div",{className:"management__grid",children:p.map(h=>{const v=h.id===n;return l.jsxs("article",{className:`management-card ${v?"active":""}`,children:[l.jsxs("header",{children:[l.jsx("input",{value:h.label,onChange:w=>o(h.id,w.target.value),"aria-label":"Character label"}),v?l.jsx("span",{className:"badge",children:"Active"}):l.jsx("button",{onClick:()=>s(h.id),children:"Set Active"})]}),l.jsxs("dl",{children:[l.jsxs("div",{children:[l.jsx("dt",{children:"Name"}),l.jsx("dd",{children:h.profile.name||""})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Concept"}),l.jsx("dd",{children:h.profile.concept||""})]}),l.jsxs("div",{children:[l.jsx("dt",{children:"Updated"}),l.jsx("dd",{children:new Date(h.updatedAt).toLocaleString()})]})]}),l.jsxs("footer",{children:[l.jsx("button",{type:"button",onClick:()=>a(h.id),children:"Duplicate"}),l.jsx("button",{type:"button",onClick:()=>Cv(h,e),children:"Export JSON"}),l.jsx("button",{type:"button",onClick:()=>_v(h),children:"Printable Sheet"}),l.jsx("button",{type:"button",className:"danger",onClick:()=>Av(h.id,h.label,i),children:"Delete"})]})]},h.id)})})]}):null}function Av(e,t,n){window.confirm(`Delete ${t}? This action cannot be undone.`)&&n(e)}function zv(){const{data:e}=qr(),t=vt(v=>v.gmUnlocked),n=vt(v=>v.authenticateGm),r=vt(v=>v.lockGm),s=vt(v=>v.gmUnlockedAt),[i,o]=A.useState(""),[a,c]=A.useState(null),d=(e==null?void 0:e.designDocs)??[],p=(e==null?void 0:e.powerSchemas)??{},g=v=>{v.preventDefault(),n(i)?(c(null),o("")):(c("Access denied. Double-check the veil phrase."),re.track("gm.invalid_passphrase",{}))},h=A.useMemo(()=>Object.entries(p),[p]);return l.jsxs("section",{className:"gm-portal",children:[l.jsxs("header",{children:[l.jsx("h1",{children:"GM Veil"}),l.jsx("p",{children:"Hidden truths live here. Only game masters with the veil phrase may cross. Player tables should never see the material below."})]}),!t&&l.jsxs("form",{className:"gm-form",onSubmit:g,children:[l.jsxs("label",{children:[l.jsx("span",{children:"Veil Phrase"}),l.jsx("input",{value:i,onChange:v=>o(v.target.value),placeholder:"Enter the GM veil phrase",autoComplete:"off"})]}),l.jsx("button",{type:"submit",children:"Slip Behind the Veil"}),a&&l.jsx("p",{className:"gm-error",children:a})]}),t&&l.jsxs("div",{className:"gm-content",children:[l.jsxs("section",{className:"gm-status",children:[l.jsxs("div",{children:[l.jsx("h2",{children:"Veil Raised"}),l.jsxs("p",{children:["Unlocked ",s?new Date(s).toLocaleString():"just now","."]})]}),l.jsx("button",{type:"button",onClick:r,children:"Re-engage Safety"})]}),l.jsxs("section",{children:[l.jsx("h2",{children:"Power Schemas"}),l.jsx("p",{children:"Raw schema data for powers, lineages, and their restrictions. Export directly for system reference."}),l.jsx("div",{className:"schema-grid",children:h.map(([v,w])=>l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h3",{children:Lv(v)}),l.jsx("button",{type:"button",onClick:()=>ep(`${v}-schema.json`,w),children:"Download JSON"})]}),l.jsxs("pre",{children:[JSON.stringify(w,null,2).slice(0,400),""]})]},v))})]}),l.jsxs("section",{children:[l.jsx("h2",{children:"Design Documents"}),l.jsx("p",{children:"Reference briefs written for GM eyes. Share selectively with players as the narrative reveals itself."}),l.jsx("div",{className:"doc-grid",children:d.map(v=>l.jsxs("article",{children:[l.jsxs("header",{children:[l.jsx("h3",{children:v.title}),l.jsx("button",{type:"button",onClick:()=>Tv(`${v.id}.md`,v.content),children:"Download Markdown"})]}),l.jsxs("pre",{children:[v.content.slice(0,400),""]})]},v.id))})]}),l.jsxs("section",{children:[l.jsx("h2",{children:"Analytics Buffer"}),l.jsx("p",{children:"Inspect anonymized analytics currently stored locally. Export before sharing with designers."}),l.jsx(Mv,{})]})]})]})}function Lv(e){return e.split(/[-_]/).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function ep(e,t){const n=new Blob([JSON.stringify(t,null,2)],{type:"application/json"});tp(e,n)}function Tv(e,t){const n=new Blob([t],{type:"text/plain"});tp(e,n)}function tp(e,t){const n=URL.createObjectURL(t),r=document.createElement("a");r.href=n,r.download=e,r.click(),URL.revokeObjectURL(n)}function Mv(){const e=vt(n=>n.analyticsConsent),t=re.getAll();return e!=="accepted"?l.jsx("p",{children:"Analytics collection is currently disabled or declined."}):t.length===0?l.jsx("p",{children:"No analytics entries recorded yet."}):l.jsxs("div",{className:"analytics-log",children:[l.jsx("button",{type:"button",onClick:()=>ep("sidonia-analytics.json",t),children:"Export Analytics Buffer"}),l.jsx("ul",{children:t.map(n=>l.jsxs("li",{children:[l.jsx("strong",{children:n.event}),l.jsx("span",{children:new Date(n.timestamp).toLocaleTimeString()}),n.data&&l.jsx("code",{children:JSON.stringify(n.data)})]},`${n.event}-${n.timestamp}`))})]})}function Iv(){return l.jsxs("div",{className:"loading-spinner",role:"status","aria-live":"polite",children:[l.jsx("div",{className:"loading-spinner__glow"}),l.jsx("span",{className:"loading-spinner__label",children:"Loading the Veil"})]})}function $v(){const{status:e,error:t,refresh:n}=qr();let r;return e==="idle"||e==="loading"?r=l.jsx(Iv,{}):e==="error"?r=l.jsxs("div",{children:[l.jsx("h2",{children:"We lost the signal."}),l.jsxs("p",{children:["Character data failed to load. ",t]}),l.jsx("button",{type:"button",onClick:n,children:"Retry"})]}):r=l.jsxs(km,{children:[l.jsx(jn,{path:"/",element:l.jsx($g,{})}),l.jsx(jn,{path:"/builder",element:l.jsx(Sv,{})}),l.jsx(jn,{path:"/management",element:l.jsx(Rv,{})}),l.jsx(jn,{path:"/gm",element:l.jsx(zv,{})}),l.jsx(jn,{path:"*",element:l.jsx(jm,{to:"/",replace:!0})})]}),l.jsx(Ig,{children:r})}Yi.createRoot(document.getElementById("root")).render(l.jsx(Kl.StrictMode,{children:l.jsx(Am,{children:l.jsx(Lg,{children:l.jsx($v,{})})})}));
